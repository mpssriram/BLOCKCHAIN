const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BuJL6VX2.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-BNa_S9Sb.js","assets/index-Bu65bykP.js","assets/hmac-mXn2RORf.js","assets/sha256-Dgwg3zVk.js","assets/solanaRpcMiddlewares-M3FwL9FW.js","assets/index-Byi7oW2l.js","assets/index-89lyly64.js"])))=>i.map(i=>d[i]);
var oue=Object.defineProperty;var FD=t=>{throw TypeError(t)};var aue=(t,e,r)=>e in t?oue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Te=(t,e,r)=>aue(t,typeof e!="symbol"?e+"":e,r),cC=(t,e,r)=>e.has(t)||FD("Cannot "+r);var ee=(t,e,r)=>(cC(t,e,"read from private field"),r?r.call(t):e.get(t)),$e=(t,e,r)=>e.has(t)?FD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ge=(t,e,r,n)=>(cC(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),rt=(t,e,r)=>(cC(t,e,"access private method"),r);var ny=(t,e,r,n)=>({set _(i){ge(t,e,i,r)},get _(){return ee(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sue(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var uC={exports:{}},iy={},fC={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function lue(){if(UD)return ar;UD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function v(M,H,q){this.props=M,this.context=H,this.refs=m,this.updater=q||p}v.prototype.isReactComponent={},v.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},v.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=v.prototype;function A(M,H,q){this.props=M,this.context=H,this.refs=m,this.updater=q||p}var _=A.prototype=new w;_.constructor=A,y(_,v.prototype),_.isPureReactComponent=!0;var D=Array.isArray,P=Object.prototype.hasOwnProperty,U={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function N(M,H,q){var W,V={},Q=null,te=null;if(H!=null)for(W in H.ref!==void 0&&(te=H.ref),H.key!==void 0&&(Q=""+H.key),H)P.call(H,W)&&!F.hasOwnProperty(W)&&(V[W]=H[W]);var X=arguments.length-2;if(X===1)V.children=q;else if(1<X){for(var Z=Array(X),ae=0;ae<X;ae++)Z[ae]=arguments[ae+2];V.children=Z}if(M&&M.defaultProps)for(W in X=M.defaultProps,X)V[W]===void 0&&(V[W]=X[W]);return{$$typeof:t,type:M,key:Q,ref:te,props:V,_owner:U.current}}function L(M,H){return{$$typeof:t,type:M.type,key:H,ref:M.ref,props:M.props,_owner:M._owner}}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function R(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return H[q]})}var b=/\/+/g;function x(M,H){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):H.toString(36)}function I(M,H,q,W,V){var Q=typeof M;(Q==="undefined"||Q==="boolean")&&(M=null);var te=!1;if(M===null)te=!0;else switch(Q){case"string":case"number":te=!0;break;case"object":switch(M.$$typeof){case t:case e:te=!0}}if(te)return te=M,V=V(te),M=W===""?"."+x(te,0):W,D(V)?(q="",M!=null&&(q=M.replace(b,"$&/")+"/"),I(V,H,q,"",function(ae){return ae})):V!=null&&(B(V)&&(V=L(V,q+(!V.key||te&&te.key===V.key?"":(""+V.key).replace(b,"$&/")+"/")+M)),H.push(V)),1;if(te=0,W=W===""?".":W+":",D(M))for(var X=0;X<M.length;X++){Q=M[X];var Z=W+x(Q,X);te+=I(Q,H,q,Z,V)}else if(Z=h(M),typeof Z=="function")for(M=Z.call(M),X=0;!(Q=M.next()).done;)Q=Q.value,Z=W+x(Q,X++),te+=I(Q,H,q,Z,V);else if(Q==="object")throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return te}function C(M,H,q){if(M==null)return M;var W=[],V=0;return I(M,W,"","",function(Q){return H.call(q,Q,V++)}),W}function T(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var j={current:null},O={transition:null},k={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:O,ReactCurrentOwner:U};function E(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:C,forEach:function(M,H,q){C(M,function(){H.apply(this,arguments)},q)},count:function(M){var H=0;return C(M,function(){H++}),H},toArray:function(M){return C(M,function(H){return H})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ar.Component=v,ar.Fragment=r,ar.Profiler=i,ar.PureComponent=A,ar.StrictMode=n,ar.Suspense=l,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,ar.act=E,ar.cloneElement=function(M,H,q){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var W=y({},M.props),V=M.key,Q=M.ref,te=M._owner;if(H!=null){if(H.ref!==void 0&&(Q=H.ref,te=U.current),H.key!==void 0&&(V=""+H.key),M.type&&M.type.defaultProps)var X=M.type.defaultProps;for(Z in H)P.call(H,Z)&&!F.hasOwnProperty(Z)&&(W[Z]=H[Z]===void 0&&X!==void 0?X[Z]:H[Z])}var Z=arguments.length-2;if(Z===1)W.children=q;else if(1<Z){X=Array(Z);for(var ae=0;ae<Z;ae++)X[ae]=arguments[ae+2];W.children=X}return{$$typeof:t,type:M.type,key:V,ref:Q,props:W,_owner:te}},ar.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},ar.createElement=N,ar.createFactory=function(M){var H=N.bind(null,M);return H.type=M,H},ar.createRef=function(){return{current:null}},ar.forwardRef=function(M){return{$$typeof:s,render:M}},ar.isValidElement=B,ar.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:T}},ar.memo=function(M,H){return{$$typeof:c,type:M,compare:H===void 0?null:H}},ar.startTransition=function(M){var H=O.transition;O.transition={};try{M()}finally{O.transition=H}},ar.unstable_act=E,ar.useCallback=function(M,H){return j.current.useCallback(M,H)},ar.useContext=function(M){return j.current.useContext(M)},ar.useDebugValue=function(){},ar.useDeferredValue=function(M){return j.current.useDeferredValue(M)},ar.useEffect=function(M,H){return j.current.useEffect(M,H)},ar.useId=function(){return j.current.useId()},ar.useImperativeHandle=function(M,H,q){return j.current.useImperativeHandle(M,H,q)},ar.useInsertionEffect=function(M,H){return j.current.useInsertionEffect(M,H)},ar.useLayoutEffect=function(M,H){return j.current.useLayoutEffect(M,H)},ar.useMemo=function(M,H){return j.current.useMemo(M,H)},ar.useReducer=function(M,H,q){return j.current.useReducer(M,H,q)},ar.useRef=function(M){return j.current.useRef(M)},ar.useState=function(M){return j.current.useState(M)},ar.useSyncExternalStore=function(M,H,q){return j.current.useSyncExternalStore(M,H,q)},ar.useTransition=function(){return j.current.useTransition()},ar.version="18.3.1",ar}var HD;function tS(){return HD||(HD=1,fC.exports=lue()),fC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function cue(){if(qD)return iy;qD=1;var t=tS(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:s,key:h,ref:p,props:f,_owner:i.current}}return iy.Fragment=r,iy.jsx=a,iy.jsxs=a,iy}var zD;function uue(){return zD||(zD=1,uC.exports=cue()),uC.exports}var Y=uue(),dC={},oy={},WD;function fue(){if(WD)return oy;WD=1,oy.byteLength=s,oy.toByteArray=c,oy.fromByteArray=h;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var y=p.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=p.indexOf("=");m===-1&&(m=y);var v=m===y?0:4-m%4;return[m,v]}function s(p){var y=a(p),m=y[0],v=y[1];return(m+v)*3/4-v}function l(p,y,m){return(y+m)*3/4-m}function c(p){var y,m=a(p),v=m[0],w=m[1],A=new r(l(p,v,w)),_=0,D=w>0?v-4:v,P;for(P=0;P<D;P+=4)y=e[p.charCodeAt(P)]<<18|e[p.charCodeAt(P+1)]<<12|e[p.charCodeAt(P+2)]<<6|e[p.charCodeAt(P+3)],A[_++]=y>>16&255,A[_++]=y>>8&255,A[_++]=y&255;return w===2&&(y=e[p.charCodeAt(P)]<<2|e[p.charCodeAt(P+1)]>>4,A[_++]=y&255),w===1&&(y=e[p.charCodeAt(P)]<<10|e[p.charCodeAt(P+1)]<<4|e[p.charCodeAt(P+2)]>>2,A[_++]=y>>8&255,A[_++]=y&255),A}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,y,m){for(var v,w=[],A=y;A<m;A+=3)v=(p[A]<<16&16711680)+(p[A+1]<<8&65280)+(p[A+2]&255),w.push(u(v));return w.join("")}function h(p){for(var y,m=p.length,v=m%3,w=[],A=16383,_=0,D=m-v;_<D;_+=A)w.push(f(p,_,_+A>D?D:_+A));return v===1?(y=p[m-1],w.push(t[y>>2]+t[y<<4&63]+"==")):v===2&&(y=(p[m-2]<<8)+p[m-1],w.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),w.join("")}return oy}var M1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var KD;function due(){return KD||(KD=1,M1.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,c=l>>1,u=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=o*256+t[e+f],f+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+t[e+f],f+=h,u-=8);if(o===0)o=1-c;else{if(o===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-c}return(p?-1:1)*a*Math.pow(2,o-n)},M1.write=function(t,e,r,n,i,o){var a,s,l,c=o*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,i),a=a+f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=s&255,p+=y,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=a&255,p+=y,a/=256,c-=8);t[r+p-y]|=m*128}),M1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var VD;function Rc(){return VD||(VD=1,(function(t){const e=fue(),r=due(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const re=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(re,K),re.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(re){if(re>i)throw new RangeError('The value "'+re+'" is invalid for option "size"');const K=new Uint8Array(re);return Object.setPrototypeOf(K,s.prototype),K}function s(re,K,J){if(typeof re=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(re)}return l(re,K,J)}s.poolSize=8192;function l(re,K,J){if(typeof re=="string")return h(re,K);if(ArrayBuffer.isView(re))return y(re);if(re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(ve(re,ArrayBuffer)||re&&ve(re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(re,SharedArrayBuffer)||re&&ve(re.buffer,SharedArrayBuffer)))return m(re,K,J);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ue=re.valueOf&&re.valueOf();if(ue!=null&&ue!==re)return s.from(ue,K,J);const we=v(re);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return s.from(re[Symbol.toPrimitive]("string"),K,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}s.from=function(re,K,J){return l(re,K,J)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function u(re,K,J){return c(re),re<=0?a(re):K!==void 0?typeof J=="string"?a(re).fill(K,J):a(re).fill(K):a(re)}s.alloc=function(re,K,J){return u(re,K,J)};function f(re){return c(re),a(re<0?0:w(re)|0)}s.allocUnsafe=function(re){return f(re)},s.allocUnsafeSlow=function(re){return f(re)};function h(re,K){if((typeof K!="string"||K==="")&&(K="utf8"),!s.isEncoding(K))throw new TypeError("Unknown encoding: "+K);const J=_(re,K)|0;let ue=a(J);const we=ue.write(re,K);return we!==J&&(ue=ue.slice(0,we)),ue}function p(re){const K=re.length<0?0:w(re.length)|0,J=a(K);for(let ue=0;ue<K;ue+=1)J[ue]=re[ue]&255;return J}function y(re){if(ve(re,Uint8Array)){const K=new Uint8Array(re);return m(K.buffer,K.byteOffset,K.byteLength)}return p(re)}function m(re,K,J){if(K<0||re.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<K+(J||0))throw new RangeError('"length" is outside of buffer bounds');let ue;return K===void 0&&J===void 0?ue=new Uint8Array(re):J===void 0?ue=new Uint8Array(re,K):ue=new Uint8Array(re,K,J),Object.setPrototypeOf(ue,s.prototype),ue}function v(re){if(s.isBuffer(re)){const K=w(re.length)|0,J=a(K);return J.length===0||re.copy(J,0,0,K),J}if(re.length!==void 0)return typeof re.length!="number"||We(re.length)?a(0):p(re);if(re.type==="Buffer"&&Array.isArray(re.data))return p(re.data)}function w(re){if(re>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return re|0}function A(re){return+re!=re&&(re=0),s.alloc(+re)}s.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==s.prototype},s.compare=function(K,J){if(ve(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),ve(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),!s.isBuffer(K)||!s.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===J)return 0;let ue=K.length,we=J.length;for(let Le=0,Ce=Math.min(ue,we);Le<Ce;++Le)if(K[Le]!==J[Le]){ue=K[Le],we=J[Le];break}return ue<we?-1:we<ue?1:0},s.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(K,J){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return s.alloc(0);let ue;if(J===void 0)for(J=0,ue=0;ue<K.length;++ue)J+=K[ue].length;const we=s.allocUnsafe(J);let Le=0;for(ue=0;ue<K.length;++ue){let Ce=K[ue];if(ve(Ce,Uint8Array))Le+Ce.length>we.length?(s.isBuffer(Ce)||(Ce=s.from(Ce)),Ce.copy(we,Le)):Uint8Array.prototype.set.call(we,Ce,Le);else if(s.isBuffer(Ce))Ce.copy(we,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Ce.length}return we};function _(re,K){if(s.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||ve(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);const J=re.length,ue=arguments.length>2&&arguments[2]===!0;if(!ue&&J===0)return 0;let we=!1;for(;;)switch(K){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return xe(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Oe(re).length;default:if(we)return ue?-1:xe(re).length;K=(""+K).toLowerCase(),we=!0}}s.byteLength=_;function D(re,K,J){let ue=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,K>>>=0,J<=K))return"";for(re||(re="utf8");;)switch(re){case"hex":return k(this,K,J);case"utf8":case"utf-8":return I(this,K,J);case"ascii":return j(this,K,J);case"latin1":case"binary":return O(this,K,J);case"base64":return x(this,K,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,K,J);default:if(ue)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),ue=!0}}s.prototype._isBuffer=!0;function P(re,K,J){const ue=re[K];re[K]=re[J],re[J]=ue}s.prototype.swap16=function(){const K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<K;J+=2)P(this,J,J+1);return this},s.prototype.swap32=function(){const K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<K;J+=4)P(this,J,J+3),P(this,J+1,J+2);return this},s.prototype.swap64=function(){const K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<K;J+=8)P(this,J,J+7),P(this,J+1,J+6),P(this,J+2,J+5),P(this,J+3,J+4);return this},s.prototype.toString=function(){const K=this.length;return K===0?"":arguments.length===0?I(this,0,K):D.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(K){if(!s.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:s.compare(this,K)===0},s.prototype.inspect=function(){let K="";const J=t.INSPECT_MAX_BYTES;return K=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(K+=" ... "),"<Buffer "+K+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(K,J,ue,we,Le){if(ve(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(J===void 0&&(J=0),ue===void 0&&(ue=K?K.length:0),we===void 0&&(we=0),Le===void 0&&(Le=this.length),J<0||ue>K.length||we<0||Le>this.length)throw new RangeError("out of range index");if(we>=Le&&J>=ue)return 0;if(we>=Le)return-1;if(J>=ue)return 1;if(J>>>=0,ue>>>=0,we>>>=0,Le>>>=0,this===K)return 0;let Ce=Le-we,tt=ue-J;const Ot=Math.min(Ce,tt),ft=this.slice(we,Le),ct=K.slice(J,ue);for(let It=0;It<Ot;++It)if(ft[It]!==ct[It]){Ce=ft[It],tt=ct[It];break}return Ce<tt?-1:tt<Ce?1:0};function U(re,K,J,ue,we){if(re.length===0)return-1;if(typeof J=="string"?(ue=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,We(J)&&(J=we?0:re.length-1),J<0&&(J=re.length+J),J>=re.length){if(we)return-1;J=re.length-1}else if(J<0)if(we)J=0;else return-1;if(typeof K=="string"&&(K=s.from(K,ue)),s.isBuffer(K))return K.length===0?-1:F(re,K,J,ue,we);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(re,K,J):Uint8Array.prototype.lastIndexOf.call(re,K,J):F(re,[K],J,ue,we);throw new TypeError("val must be string, number or Buffer")}function F(re,K,J,ue,we){let Le=1,Ce=re.length,tt=K.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(re.length<2||K.length<2)return-1;Le=2,Ce/=2,tt/=2,J/=2}function Ot(ct,It){return Le===1?ct[It]:ct.readUInt16BE(It*Le)}let ft;if(we){let ct=-1;for(ft=J;ft<Ce;ft++)if(Ot(re,ft)===Ot(K,ct===-1?0:ft-ct)){if(ct===-1&&(ct=ft),ft-ct+1===tt)return ct*Le}else ct!==-1&&(ft-=ft-ct),ct=-1}else for(J+tt>Ce&&(J=Ce-tt),ft=J;ft>=0;ft--){let ct=!0;for(let It=0;It<tt;It++)if(Ot(re,ft+It)!==Ot(K,It)){ct=!1;break}if(ct)return ft}return-1}s.prototype.includes=function(K,J,ue){return this.indexOf(K,J,ue)!==-1},s.prototype.indexOf=function(K,J,ue){return U(this,K,J,ue,!0)},s.prototype.lastIndexOf=function(K,J,ue){return U(this,K,J,ue,!1)};function N(re,K,J,ue){J=Number(J)||0;const we=re.length-J;ue?(ue=Number(ue),ue>we&&(ue=we)):ue=we;const Le=K.length;ue>Le/2&&(ue=Le/2);let Ce;for(Ce=0;Ce<ue;++Ce){const tt=parseInt(K.substr(Ce*2,2),16);if(We(tt))return Ce;re[J+Ce]=tt}return Ce}function L(re,K,J,ue){return ke(xe(K,re.length-J),re,J,ue)}function B(re,K,J,ue){return ke(Se(K),re,J,ue)}function R(re,K,J,ue){return ke(Oe(K),re,J,ue)}function b(re,K,J,ue){return ke(ce(K,re.length-J),re,J,ue)}s.prototype.write=function(K,J,ue,we){if(J===void 0)we="utf8",ue=this.length,J=0;else if(ue===void 0&&typeof J=="string")we=J,ue=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(ue)?(ue=ue>>>0,we===void 0&&(we="utf8")):(we=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Le=this.length-J;if((ue===void 0||ue>Le)&&(ue=Le),K.length>0&&(ue<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let Ce=!1;for(;;)switch(we){case"hex":return N(this,K,J,ue);case"utf8":case"utf-8":return L(this,K,J,ue);case"ascii":case"latin1":case"binary":return B(this,K,J,ue);case"base64":return R(this,K,J,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,K,J,ue);default:if(Ce)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ce=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(re,K,J){return K===0&&J===re.length?e.fromByteArray(re):e.fromByteArray(re.slice(K,J))}function I(re,K,J){J=Math.min(re.length,J);const ue=[];let we=K;for(;we<J;){const Le=re[we];let Ce=null,tt=Le>239?4:Le>223?3:Le>191?2:1;if(we+tt<=J){let Ot,ft,ct,It;switch(tt){case 1:Le<128&&(Ce=Le);break;case 2:Ot=re[we+1],(Ot&192)===128&&(It=(Le&31)<<6|Ot&63,It>127&&(Ce=It));break;case 3:Ot=re[we+1],ft=re[we+2],(Ot&192)===128&&(ft&192)===128&&(It=(Le&15)<<12|(Ot&63)<<6|ft&63,It>2047&&(It<55296||It>57343)&&(Ce=It));break;case 4:Ot=re[we+1],ft=re[we+2],ct=re[we+3],(Ot&192)===128&&(ft&192)===128&&(ct&192)===128&&(It=(Le&15)<<18|(Ot&63)<<12|(ft&63)<<6|ct&63,It>65535&&It<1114112&&(Ce=It))}}Ce===null?(Ce=65533,tt=1):Ce>65535&&(Ce-=65536,ue.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ue.push(Ce),we+=tt}return T(ue)}const C=4096;function T(re){const K=re.length;if(K<=C)return String.fromCharCode.apply(String,re);let J="",ue=0;for(;ue<K;)J+=String.fromCharCode.apply(String,re.slice(ue,ue+=C));return J}function j(re,K,J){let ue="";J=Math.min(re.length,J);for(let we=K;we<J;++we)ue+=String.fromCharCode(re[we]&127);return ue}function O(re,K,J){let ue="";J=Math.min(re.length,J);for(let we=K;we<J;++we)ue+=String.fromCharCode(re[we]);return ue}function k(re,K,J){const ue=re.length;(!K||K<0)&&(K=0),(!J||J<0||J>ue)&&(J=ue);let we="";for(let Le=K;Le<J;++Le)we+=Ze[re[Le]];return we}function E(re,K,J){const ue=re.slice(K,J);let we="";for(let Le=0;Le<ue.length-1;Le+=2)we+=String.fromCharCode(ue[Le]+ue[Le+1]*256);return we}s.prototype.slice=function(K,J){const ue=this.length;K=~~K,J=J===void 0?ue:~~J,K<0?(K+=ue,K<0&&(K=0)):K>ue&&(K=ue),J<0?(J+=ue,J<0&&(J=0)):J>ue&&(J=ue),J<K&&(J=K);const we=this.subarray(K,J);return Object.setPrototypeOf(we,s.prototype),we};function M(re,K,J){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+K>J)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(K,J,ue){K=K>>>0,J=J>>>0,ue||M(K,J,this.length);let we=this[K],Le=1,Ce=0;for(;++Ce<J&&(Le*=256);)we+=this[K+Ce]*Le;return we},s.prototype.readUintBE=s.prototype.readUIntBE=function(K,J,ue){K=K>>>0,J=J>>>0,ue||M(K,J,this.length);let we=this[K+--J],Le=1;for(;J>0&&(Le*=256);)we+=this[K+--J]*Le;return we},s.prototype.readUint8=s.prototype.readUInt8=function(K,J){return K=K>>>0,J||M(K,1,this.length),this[K]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(K,J){return K=K>>>0,J||M(K,2,this.length),this[K]|this[K+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(K,J){return K=K>>>0,J||M(K,2,this.length),this[K]<<8|this[K+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(K,J){return K=K>>>0,J||M(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(K,J){return K=K>>>0,J||M(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},s.prototype.readBigUInt64LE=Ye(function(K){K=K>>>0,ne(K,"offset");const J=this[K],ue=this[K+7];(J===void 0||ue===void 0)&&oe(K,this.length-8);const we=J+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24,Le=this[++K]+this[++K]*2**8+this[++K]*2**16+ue*2**24;return BigInt(we)+(BigInt(Le)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ye(function(K){K=K>>>0,ne(K,"offset");const J=this[K],ue=this[K+7];(J===void 0||ue===void 0)&&oe(K,this.length-8);const we=J*2**24+this[++K]*2**16+this[++K]*2**8+this[++K],Le=this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+ue;return(BigInt(we)<<BigInt(32))+BigInt(Le)}),s.prototype.readIntLE=function(K,J,ue){K=K>>>0,J=J>>>0,ue||M(K,J,this.length);let we=this[K],Le=1,Ce=0;for(;++Ce<J&&(Le*=256);)we+=this[K+Ce]*Le;return Le*=128,we>=Le&&(we-=Math.pow(2,8*J)),we},s.prototype.readIntBE=function(K,J,ue){K=K>>>0,J=J>>>0,ue||M(K,J,this.length);let we=J,Le=1,Ce=this[K+--we];for(;we>0&&(Le*=256);)Ce+=this[K+--we]*Le;return Le*=128,Ce>=Le&&(Ce-=Math.pow(2,8*J)),Ce},s.prototype.readInt8=function(K,J){return K=K>>>0,J||M(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},s.prototype.readInt16LE=function(K,J){K=K>>>0,J||M(K,2,this.length);const ue=this[K]|this[K+1]<<8;return ue&32768?ue|4294901760:ue},s.prototype.readInt16BE=function(K,J){K=K>>>0,J||M(K,2,this.length);const ue=this[K+1]|this[K]<<8;return ue&32768?ue|4294901760:ue},s.prototype.readInt32LE=function(K,J){return K=K>>>0,J||M(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},s.prototype.readInt32BE=function(K,J){return K=K>>>0,J||M(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},s.prototype.readBigInt64LE=Ye(function(K){K=K>>>0,ne(K,"offset");const J=this[K],ue=this[K+7];(J===void 0||ue===void 0)&&oe(K,this.length-8);const we=this[K+4]+this[K+5]*2**8+this[K+6]*2**16+(ue<<24);return(BigInt(we)<<BigInt(32))+BigInt(J+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24)}),s.prototype.readBigInt64BE=Ye(function(K){K=K>>>0,ne(K,"offset");const J=this[K],ue=this[K+7];(J===void 0||ue===void 0)&&oe(K,this.length-8);const we=(J<<24)+this[++K]*2**16+this[++K]*2**8+this[++K];return(BigInt(we)<<BigInt(32))+BigInt(this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+ue)}),s.prototype.readFloatLE=function(K,J){return K=K>>>0,J||M(K,4,this.length),r.read(this,K,!0,23,4)},s.prototype.readFloatBE=function(K,J){return K=K>>>0,J||M(K,4,this.length),r.read(this,K,!1,23,4)},s.prototype.readDoubleLE=function(K,J){return K=K>>>0,J||M(K,8,this.length),r.read(this,K,!0,52,8)},s.prototype.readDoubleBE=function(K,J){return K=K>>>0,J||M(K,8,this.length),r.read(this,K,!1,52,8)};function H(re,K,J,ue,we,Le){if(!s.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>we||K<Le)throw new RangeError('"value" argument is out of bounds');if(J+ue>re.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(K,J,ue,we){if(K=+K,J=J>>>0,ue=ue>>>0,!we){const tt=Math.pow(2,8*ue)-1;H(this,K,J,ue,tt,0)}let Le=1,Ce=0;for(this[J]=K&255;++Ce<ue&&(Le*=256);)this[J+Ce]=K/Le&255;return J+ue},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(K,J,ue,we){if(K=+K,J=J>>>0,ue=ue>>>0,!we){const tt=Math.pow(2,8*ue)-1;H(this,K,J,ue,tt,0)}let Le=ue-1,Ce=1;for(this[J+Le]=K&255;--Le>=0&&(Ce*=256);)this[J+Le]=K/Ce&255;return J+ue},s.prototype.writeUint8=s.prototype.writeUInt8=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,1,255,0),this[J]=K&255,J+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,2,65535,0),this[J]=K&255,this[J+1]=K>>>8,J+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,2,65535,0),this[J]=K>>>8,this[J+1]=K&255,J+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,4,4294967295,0),this[J+3]=K>>>24,this[J+2]=K>>>16,this[J+1]=K>>>8,this[J]=K&255,J+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,4,4294967295,0),this[J]=K>>>24,this[J+1]=K>>>16,this[J+2]=K>>>8,this[J+3]=K&255,J+4};function q(re,K,J,ue,we){se(K,ue,we,re,J,7);let Le=Number(K&BigInt(4294967295));re[J++]=Le,Le=Le>>8,re[J++]=Le,Le=Le>>8,re[J++]=Le,Le=Le>>8,re[J++]=Le;let Ce=Number(K>>BigInt(32)&BigInt(4294967295));return re[J++]=Ce,Ce=Ce>>8,re[J++]=Ce,Ce=Ce>>8,re[J++]=Ce,Ce=Ce>>8,re[J++]=Ce,J}function W(re,K,J,ue,we){se(K,ue,we,re,J,7);let Le=Number(K&BigInt(4294967295));re[J+7]=Le,Le=Le>>8,re[J+6]=Le,Le=Le>>8,re[J+5]=Le,Le=Le>>8,re[J+4]=Le;let Ce=Number(K>>BigInt(32)&BigInt(4294967295));return re[J+3]=Ce,Ce=Ce>>8,re[J+2]=Ce,Ce=Ce>>8,re[J+1]=Ce,Ce=Ce>>8,re[J]=Ce,J+8}s.prototype.writeBigUInt64LE=Ye(function(K,J=0){return q(this,K,J,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ye(function(K,J=0){return W(this,K,J,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(K,J,ue,we){if(K=+K,J=J>>>0,!we){const Ot=Math.pow(2,8*ue-1);H(this,K,J,ue,Ot-1,-Ot)}let Le=0,Ce=1,tt=0;for(this[J]=K&255;++Le<ue&&(Ce*=256);)K<0&&tt===0&&this[J+Le-1]!==0&&(tt=1),this[J+Le]=(K/Ce>>0)-tt&255;return J+ue},s.prototype.writeIntBE=function(K,J,ue,we){if(K=+K,J=J>>>0,!we){const Ot=Math.pow(2,8*ue-1);H(this,K,J,ue,Ot-1,-Ot)}let Le=ue-1,Ce=1,tt=0;for(this[J+Le]=K&255;--Le>=0&&(Ce*=256);)K<0&&tt===0&&this[J+Le+1]!==0&&(tt=1),this[J+Le]=(K/Ce>>0)-tt&255;return J+ue},s.prototype.writeInt8=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,1,127,-128),K<0&&(K=255+K+1),this[J]=K&255,J+1},s.prototype.writeInt16LE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,2,32767,-32768),this[J]=K&255,this[J+1]=K>>>8,J+2},s.prototype.writeInt16BE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,2,32767,-32768),this[J]=K>>>8,this[J+1]=K&255,J+2},s.prototype.writeInt32LE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,4,2147483647,-2147483648),this[J]=K&255,this[J+1]=K>>>8,this[J+2]=K>>>16,this[J+3]=K>>>24,J+4},s.prototype.writeInt32BE=function(K,J,ue){return K=+K,J=J>>>0,ue||H(this,K,J,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[J]=K>>>24,this[J+1]=K>>>16,this[J+2]=K>>>8,this[J+3]=K&255,J+4},s.prototype.writeBigInt64LE=Ye(function(K,J=0){return q(this,K,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ye(function(K,J=0){return W(this,K,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(re,K,J,ue,we,Le){if(J+ue>re.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Q(re,K,J,ue,we){return K=+K,J=J>>>0,we||V(re,K,J,4),r.write(re,K,J,ue,23,4),J+4}s.prototype.writeFloatLE=function(K,J,ue){return Q(this,K,J,!0,ue)},s.prototype.writeFloatBE=function(K,J,ue){return Q(this,K,J,!1,ue)};function te(re,K,J,ue,we){return K=+K,J=J>>>0,we||V(re,K,J,8),r.write(re,K,J,ue,52,8),J+8}s.prototype.writeDoubleLE=function(K,J,ue){return te(this,K,J,!0,ue)},s.prototype.writeDoubleBE=function(K,J,ue){return te(this,K,J,!1,ue)},s.prototype.copy=function(K,J,ue,we){if(!s.isBuffer(K))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!we&&we!==0&&(we=this.length),J>=K.length&&(J=K.length),J||(J=0),we>0&&we<ue&&(we=ue),we===ue||K.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),K.length-J<we-ue&&(we=K.length-J+ue);const Le=we-ue;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(J,ue,we):Uint8Array.prototype.set.call(K,this.subarray(ue,we),J),Le},s.prototype.fill=function(K,J,ue,we){if(typeof K=="string"){if(typeof J=="string"?(we=J,J=0,ue=this.length):typeof ue=="string"&&(we=ue,ue=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!s.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(K.length===1){const Ce=K.charCodeAt(0);(we==="utf8"&&Ce<128||we==="latin1")&&(K=Ce)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(J<0||this.length<J||this.length<ue)throw new RangeError("Out of range index");if(ue<=J)return this;J=J>>>0,ue=ue===void 0?this.length:ue>>>0,K||(K=0);let Le;if(typeof K=="number")for(Le=J;Le<ue;++Le)this[Le]=K;else{const Ce=s.isBuffer(K)?K:s.from(K,we),tt=Ce.length;if(tt===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(Le=0;Le<ue-J;++Le)this[Le+J]=Ce[Le%tt]}return this};const X={};function Z(re,K,J){X[re]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:K.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${re}]`,this.stack,delete this.name}get code(){return re}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${re}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(re){return re?`${re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(re,K){return`The "${re}" argument must be of type number. Received type ${typeof K}`},TypeError),Z("ERR_OUT_OF_RANGE",function(re,K,J){let ue=`The value of "${re}" is out of range.`,we=J;return Number.isInteger(J)&&Math.abs(J)>2**32?we=ae(String(J)):typeof J=="bigint"&&(we=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(we=ae(we)),we+="n"),ue+=` It must be ${K}. Received ${we}`,ue},RangeError);function ae(re){let K="",J=re.length;const ue=re[0]==="-"?1:0;for(;J>=ue+4;J-=3)K=`_${re.slice(J-3,J)}${K}`;return`${re.slice(0,J)}${K}`}function he(re,K,J){ne(K,"offset"),(re[K]===void 0||re[K+J]===void 0)&&oe(K,re.length-(J+1))}function se(re,K,J,ue,we,Le){if(re>J||re<K){const Ce=typeof K=="bigint"?"n":"";let tt;throw K===0||K===BigInt(0)?tt=`>= 0${Ce} and < 2${Ce} ** ${(Le+1)*8}${Ce}`:tt=`>= -(2${Ce} ** ${(Le+1)*8-1}${Ce}) and < 2 ** ${(Le+1)*8-1}${Ce}`,new X.ERR_OUT_OF_RANGE("value",tt,re)}he(ue,we,Le)}function ne(re,K){if(typeof re!="number")throw new X.ERR_INVALID_ARG_TYPE(K,"number",re)}function oe(re,K,J){throw Math.floor(re)!==re?(ne(re,J),new X.ERR_OUT_OF_RANGE("offset","an integer",re)):K<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${K}`,re)}const fe=/[^+/0-9A-Za-z-_]/g;function pe(re){if(re=re.split("=")[0],re=re.trim().replace(fe,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function xe(re,K){K=K||1/0;let J;const ue=re.length;let we=null;const Le=[];for(let Ce=0;Ce<ue;++Ce){if(J=re.charCodeAt(Ce),J>55295&&J<57344){if(!we){if(J>56319){(K-=3)>-1&&Le.push(239,191,189);continue}else if(Ce+1===ue){(K-=3)>-1&&Le.push(239,191,189);continue}we=J;continue}if(J<56320){(K-=3)>-1&&Le.push(239,191,189),we=J;continue}J=(we-55296<<10|J-56320)+65536}else we&&(K-=3)>-1&&Le.push(239,191,189);if(we=null,J<128){if((K-=1)<0)break;Le.push(J)}else if(J<2048){if((K-=2)<0)break;Le.push(J>>6|192,J&63|128)}else if(J<65536){if((K-=3)<0)break;Le.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((K-=4)<0)break;Le.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return Le}function Se(re){const K=[];for(let J=0;J<re.length;++J)K.push(re.charCodeAt(J)&255);return K}function ce(re,K){let J,ue,we;const Le=[];for(let Ce=0;Ce<re.length&&!((K-=2)<0);++Ce)J=re.charCodeAt(Ce),ue=J>>8,we=J%256,Le.push(we),Le.push(ue);return Le}function Oe(re){return e.toByteArray(pe(re))}function ke(re,K,J,ue){let we;for(we=0;we<ue&&!(we+J>=K.length||we>=re.length);++we)K[we+J]=re[we];return we}function ve(re,K){return re instanceof K||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===K.name}function We(re){return re!==re}const Ze=(function(){const re="0123456789abcdef",K=new Array(256);for(let J=0;J<16;++J){const ue=J*16;for(let we=0;we<16;++we)K[ue+we]=re[J]+re[we]}return K})();function Ye(re){return typeof BigInt>"u"?jt:re}function jt(){throw new Error("BigInt not supported")}})(dC)),dC}var hue=Rc(),N1={},hC={exports:{}},uo={},pC={exports:{}},gC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function pue(){return GD||(GD=1,(function(t){function e(O,k){var E=O.length;O.push(k);e:for(;0<E;){var M=E-1>>>1,H=O[M];if(0<i(H,k))O[M]=k,O[E]=H,E=M;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var k=O[0],E=O.pop();if(E!==k){O[0]=E;e:for(var M=0,H=O.length,q=H>>>1;M<q;){var W=2*(M+1)-1,V=O[W],Q=W+1,te=O[Q];if(0>i(V,E))Q<H&&0>i(te,V)?(O[M]=te,O[Q]=E,M=Q):(O[M]=V,O[W]=E,M=W);else if(Q<H&&0>i(te,E))O[M]=te,O[Q]=E,M=Q;else break e}}return k}function i(O,k){var E=O.sortIndex-k.sortIndex;return E!==0?E:O.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var k=r(c);k!==null;){if(k.callback===null)n(c);else if(k.startTime<=O)n(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=r(c)}}function D(O){if(m=!1,_(O),!y)if(r(l)!==null)y=!0,T(P);else{var k=r(c);k!==null&&j(D,k.startTime-O)}}function P(O,k){y=!1,m&&(m=!1,w(N),N=-1),p=!0;var E=h;try{for(_(k),f=r(l);f!==null&&(!(f.expirationTime>k)||O&&!R());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var H=M(f.expirationTime<=k);k=t.unstable_now(),typeof H=="function"?f.callback=H:f===r(l)&&n(l),_(k)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var W=r(c);W!==null&&j(D,W.startTime-k),q=!1}return q}finally{f=null,h=E,p=!1}}var U=!1,F=null,N=-1,L=5,B=-1;function R(){return!(t.unstable_now()-B<L)}function b(){if(F!==null){var O=t.unstable_now();B=O;var k=!0;try{k=F(!0,O)}finally{k?x():(U=!1,F=null)}}else U=!1}var x;if(typeof A=="function")x=function(){A(b)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,C=I.port2;I.port1.onmessage=b,x=function(){C.postMessage(null)}}else x=function(){v(b,0)};function T(O){F=O,U||(U=!0,x())}function j(O,k){N=v(function(){O(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,T(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var E=h;h=k;try{return O()}finally{h=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var E=h;h=O;try{return k()}finally{h=E}},t.unstable_scheduleCallback=function(O,k,E){var M=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?M+E:M):E=M,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=E+H,O={id:u++,callback:k,priorityLevel:O,startTime:E,expirationTime:H,sortIndex:-1},E>M?(O.sortIndex=E,e(c,O),r(l)===null&&O===r(c)&&(m?(w(N),N=-1):m=!0,j(D,E-M))):(O.sortIndex=H,e(l,O),y||p||(y=!0,T(P))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var k=h;return function(){var E=h;h=k;try{return O.apply(this,arguments)}finally{h=E}}}})(gC)),gC}var YD;function gue(){return YD||(YD=1,pC.exports=pue()),pC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function mue(){if(JD)return uo;JD=1;var t=tS(),e=gue();function r(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(d,g){a(d,g),a(d+"Capture",g)}function a(d,g){for(i[d]=g,d=0;d<g.length;d++)n.add(g[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function p(d,g,S,$){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return $?!1:S!==null?!S.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function y(d,g,S,$){if(g===null||typeof g>"u"||p(d,g,S,$))return!0;if($)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function m(d,g,S,$,z,G,ie){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=$,this.attributeNamespace=z,this.mustUseProperty=S,this.propertyName=d,this.type=g,this.sanitizeURL=G,this.removeEmptyString=ie}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){v[d]=new m(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];v[g]=new m(g,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){v[d]=new m(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){v[d]=new m(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){v[d]=new m(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){v[d]=new m(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){v[d]=new m(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){v[d]=new m(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){v[d]=new m(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=d.replace(w,A);v[g]=new m(g,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(w,A);v[g]=new m(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(w,A);v[g]=new m(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){v[d]=new m(d,1,!1,d.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){v[d]=new m(d,1,!1,d.toLowerCase(),null,!0,!0)});function _(d,g,S,$){var z=v.hasOwnProperty(g)?v[g]:null;(z!==null?z.type!==0:$||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,S,z,$)&&(S=null),$||z===null?h(g)&&(S===null?d.removeAttribute(g):d.setAttribute(g,""+S)):z.mustUseProperty?d[z.propertyName]=S===null?z.type===3?!1:"":S:(g=z.attributeName,$=z.attributeNamespace,S===null?d.removeAttribute(g):(z=z.type,S=z===3||z===4&&S===!0?"":""+S,$?d.setAttributeNS($,g,S):d.setAttribute(g,S))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),R=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),O=Symbol.iterator;function k(d){return d===null||typeof d!="object"?null:(d=O&&d[O]||d["@@iterator"],typeof d=="function"?d:null)}var E=Object.assign,M;function H(d){if(M===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);M=g&&g[1]||""}return`
`+M+d}var q=!1;function W(d,g){if(!d||q)return"";q=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Be){var $=Be}Reflect.construct(d,[],g)}else{try{g.call()}catch(Be){$=Be}d.call(g.prototype)}else{try{throw Error()}catch(Be){$=Be}d()}}catch(Be){if(Be&&$&&typeof Be.stack=="string"){for(var z=Be.stack.split(`
`),G=$.stack.split(`
`),ie=z.length-1,me=G.length-1;1<=ie&&0<=me&&z[ie]!==G[me];)me--;for(;1<=ie&&0<=me;ie--,me--)if(z[ie]!==G[me]){if(ie!==1||me!==1)do if(ie--,me--,0>me||z[ie]!==G[me]){var Ee=`
`+z[ie].replace(" at new "," at ");return d.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",d.displayName)),Ee}while(1<=ie&&0<=me);break}}}finally{q=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?H(d):""}function V(d){switch(d.tag){case 5:return H(d.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return d=W(d.type,!1),d;case 11:return d=W(d.type.render,!1),d;case 1:return d=W(d.type,!0),d;default:return""}}function Q(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case F:return"Fragment";case U:return"Portal";case L:return"Profiler";case N:return"StrictMode";case x:return"Suspense";case I:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case R:return(d.displayName||"Context")+".Consumer";case B:return(d._context.displayName||"Context")+".Provider";case b:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case C:return g=d.displayName||null,g!==null?g:Q(d.type)||"Memo";case T:g=d._payload,d=d._init;try{return Q(d(g))}catch{}}return null}function te(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(g);case 8:return g===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function X(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Z(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function ae(d){var g=Z(d)?"checked":"value",S=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),$=""+d[g];if(!d.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var z=S.get,G=S.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return z.call(this)},set:function(ie){$=""+ie,G.call(this,ie)}}),Object.defineProperty(d,g,{enumerable:S.enumerable}),{getValue:function(){return $},setValue:function(ie){$=""+ie},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function he(d){d._valueTracker||(d._valueTracker=ae(d))}function se(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var S=g.getValue(),$="";return d&&($=Z(d)?d.checked?"true":"false":d.value),d=$,d!==S?(g.setValue(d),!0):!1}function ne(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function oe(d,g){var S=g.checked;return E({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??d._wrapperState.initialChecked})}function fe(d,g){var S=g.defaultValue==null?"":g.defaultValue,$=g.checked!=null?g.checked:g.defaultChecked;S=X(g.value!=null?g.value:S),d._wrapperState={initialChecked:$,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function pe(d,g){g=g.checked,g!=null&&_(d,"checked",g,!1)}function xe(d,g){pe(d,g);var S=X(g.value),$=g.type;if(S!=null)$==="number"?(S===0&&d.value===""||d.value!=S)&&(d.value=""+S):d.value!==""+S&&(d.value=""+S);else if($==="submit"||$==="reset"){d.removeAttribute("value");return}g.hasOwnProperty("value")?ce(d,g.type,S):g.hasOwnProperty("defaultValue")&&ce(d,g.type,X(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(d.defaultChecked=!!g.defaultChecked)}function Se(d,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var $=g.type;if(!($!=="submit"&&$!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+d._wrapperState.initialValue,S||g===d.value||(d.value=g),d.defaultValue=g}S=d.name,S!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,S!==""&&(d.name=S)}function ce(d,g,S){(g!=="number"||ne(d.ownerDocument)!==d)&&(S==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+S&&(d.defaultValue=""+S))}var Oe=Array.isArray;function ke(d,g,S,$){if(d=d.options,g){g={};for(var z=0;z<S.length;z++)g["$"+S[z]]=!0;for(S=0;S<d.length;S++)z=g.hasOwnProperty("$"+d[S].value),d[S].selected!==z&&(d[S].selected=z),z&&$&&(d[S].defaultSelected=!0)}else{for(S=""+X(S),g=null,z=0;z<d.length;z++){if(d[z].value===S){d[z].selected=!0,$&&(d[z].defaultSelected=!0);return}g!==null||d[z].disabled||(g=d[z])}g!==null&&(g.selected=!0)}}function ve(d,g){if(g.dangerouslySetInnerHTML!=null)throw Error(r(91));return E({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function We(d,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(r(92));if(Oe(S)){if(1<S.length)throw Error(r(93));S=S[0]}g=S}g==null&&(g=""),S=g}d._wrapperState={initialValue:X(S)}}function Ze(d,g){var S=X(g.value),$=X(g.defaultValue);S!=null&&(S=""+S,S!==d.value&&(d.value=S),g.defaultValue==null&&d.defaultValue!==S&&(d.defaultValue=S)),$!=null&&(d.defaultValue=""+$)}function Ye(d){var g=d.textContent;g===d._wrapperState.initialValue&&g!==""&&g!==null&&(d.value=g)}function jt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function re(d,g){return d==null||d==="http://www.w3.org/1999/xhtml"?jt(g):d==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var K,J=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,$,z){MSApp.execUnsafeLocalFunction(function(){return d(g,S,$,z)})}:d})(function(d,g){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=g;else{for(K=K||document.createElement("div"),K.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=K.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}});function ue(d,g){if(g){var S=d.firstChild;if(S&&S===d.lastChild&&S.nodeType===3){S.nodeValue=g;return}}d.textContent=g}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(d){Le.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1),we[g]=we[d]})});function Ce(d,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||we.hasOwnProperty(d)&&we[d]?(""+g).trim():g+"px"}function tt(d,g){d=d.style;for(var S in g)if(g.hasOwnProperty(S)){var $=S.indexOf("--")===0,z=Ce(S,g[S],$);S==="float"&&(S="cssFloat"),$?d.setProperty(S,z):d[S]=z}}var Ot=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(d,g){if(g){if(Ot[d]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(r(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(r(61))}if(g.style!=null&&typeof g.style!="object")throw Error(r(62))}}function ct(d,g){if(d.indexOf("-")===-1)return typeof g.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function $t(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var mr=null,on=null,Gt=null;function or(d){if(d=Hm(d)){if(typeof mr!="function")throw Error(r(280));var g=d.stateNode;g&&(g=Vb(g),mr(d.stateNode,d.type,g))}}function qa(d){on?Gt?Gt.push(d):Gt=[d]:on=d}function at(){if(on){var d=on,g=Gt;if(Gt=on=null,or(d),g)for(d=0;d<g.length;d++)or(g[d])}}function Rt(d,g){return d(g)}function le(){}var de=!1;function je(d,g,S){if(de)return d(g,S);de=!0;try{return Rt(d,g,S)}finally{de=!1,(on!==null||Gt!==null)&&(le(),at())}}function Ke(d,g){var S=d.stateNode;if(S===null)return null;var $=Vb(S);if($===null)return null;S=$[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(d=d.type,$=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!$;break e;default:d=!1}if(d)return null;if(S&&typeof S!="function")throw Error(r(231,g,typeof S));return S}var Ve=!1;if(s)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Ve=!1}function zr(d,g,S,$,z,G,ie,me,Ee){var Be=Array.prototype.slice.call(arguments,3);try{g.apply(S,Be)}catch(et){this.onError(et)}}var Yt=!1,Xt=null,In=!1,Ar=null,Or={onError:function(d){Yt=!0,Xt=d}};function To(d,g,S,$,z,G,ie,me,Ee){Yt=!1,Xt=null,zr.apply(Or,arguments)}function Wr(d,g,S,$,z,G,ie,me,Ee){if(To.apply(this,arguments),Yt){if(Yt){var Be=Xt;Yt=!1,Xt=null}else throw Error(r(198));In||(In=!0,Ar=Be)}}function yr(d){var g=d,S=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(S=g.return),d=g.return;while(d)}return g.tag===3?S:null}function no(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function ia(d){if(yr(d)!==d)throw Error(r(188))}function Mo(d){var g=d.alternate;if(!g){if(g=yr(d),g===null)throw Error(r(188));return g!==d?null:d}for(var S=d,$=g;;){var z=S.return;if(z===null)break;var G=z.alternate;if(G===null){if($=z.return,$!==null){S=$;continue}break}if(z.child===G.child){for(G=z.child;G;){if(G===S)return ia(z),d;if(G===$)return ia(z),g;G=G.sibling}throw Error(r(188))}if(S.return!==$.return)S=z,$=G;else{for(var ie=!1,me=z.child;me;){if(me===S){ie=!0,S=z,$=G;break}if(me===$){ie=!0,$=z,S=G;break}me=me.sibling}if(!ie){for(me=G.child;me;){if(me===S){ie=!0,S=G,$=z;break}if(me===$){ie=!0,$=G,S=z;break}me=me.sibling}if(!ie)throw Error(r(189))}}if(S.alternate!==$)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?d:g}function mi(d){return d=Mo(d),d!==null?np(d):null}function np(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=np(d);if(g!==null)return g;d=d.sibling}return null}var ip=e.unstable_scheduleCallback,op=e.unstable_cancelCallback,wm=e.unstable_shouldYield,bm=e.unstable_requestPaint,en=e.unstable_now,xm=e.unstable_getCurrentPriorityLevel,Jf=e.unstable_ImmediatePriority,ap=e.unstable_UserBlockingPriority,qc=e.unstable_NormalPriority,Em=e.unstable_LowPriority,sp=e.unstable_IdlePriority,zc=null,io=null;function Sm(d){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(zc,d,void 0,(d.current.flags&128)===128)}catch{}}var za=Math.clz32?Math.clz32:Sle,xle=Math.log,Ele=Math.LN2;function Sle(d){return d>>>=0,d===0?32:31-(xle(d)/Ele|0)|0}var Pb=64,kb=4194304;function _m(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Tb(d,g){var S=d.pendingLanes;if(S===0)return 0;var $=0,z=d.suspendedLanes,G=d.pingedLanes,ie=S&268435455;if(ie!==0){var me=ie&~z;me!==0?$=_m(me):(G&=ie,G!==0&&($=_m(G)))}else ie=S&~z,ie!==0?$=_m(ie):G!==0&&($=_m(G));if($===0)return 0;if(g!==0&&g!==$&&(g&z)===0&&(z=$&-$,G=g&-g,z>=G||z===16&&(G&4194240)!==0))return g;if(($&4)!==0&&($|=S&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=$;0<g;)S=31-za(g),z=1<<S,$|=d[S],g&=~z;return $}function _le(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ale(d,g){for(var S=d.suspendedLanes,$=d.pingedLanes,z=d.expirationTimes,G=d.pendingLanes;0<G;){var ie=31-za(G),me=1<<ie,Ee=z[ie];Ee===-1?((me&S)===0||(me&$)!==0)&&(z[ie]=_le(me,g)):Ee<=g&&(d.expiredLanes|=me),G&=~me}}function k_(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function yL(){var d=Pb;return Pb<<=1,(Pb&4194240)===0&&(Pb=64),d}function T_(d){for(var g=[],S=0;31>S;S++)g.push(d);return g}function Am(d,g,S){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-za(g),d[g]=S}function Cle(d,g){var S=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var $=d.eventTimes;for(d=d.expirationTimes;0<S;){var z=31-za(S),G=1<<z;g[z]=0,$[z]=-1,d[z]=-1,S&=~G}}function M_(d,g){var S=d.entangledLanes|=g;for(d=d.entanglements;S;){var $=31-za(S),z=1<<$;z&g|d[$]&g&&(d[$]|=g),S&=~z}}var jr=0;function vL(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var wL,N_,bL,xL,EL,R_=!1,Mb=[],Wc=null,Kc=null,Vc=null,Cm=new Map,Om=new Map,Gc=[],Ole="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SL(d,g){switch(d){case"focusin":case"focusout":Wc=null;break;case"dragenter":case"dragleave":Kc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":Cm.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(g.pointerId)}}function Im(d,g,S,$,z,G){return d===null||d.nativeEvent!==G?(d={blockedOn:g,domEventName:S,eventSystemFlags:$,nativeEvent:G,targetContainers:[z]},g!==null&&(g=Hm(g),g!==null&&N_(g)),d):(d.eventSystemFlags|=$,g=d.targetContainers,z!==null&&g.indexOf(z)===-1&&g.push(z),d)}function Ile(d,g,S,$,z){switch(g){case"focusin":return Wc=Im(Wc,d,g,S,$,z),!0;case"dragenter":return Kc=Im(Kc,d,g,S,$,z),!0;case"mouseover":return Vc=Im(Vc,d,g,S,$,z),!0;case"pointerover":var G=z.pointerId;return Cm.set(G,Im(Cm.get(G)||null,d,g,S,$,z)),!0;case"gotpointercapture":return G=z.pointerId,Om.set(G,Im(Om.get(G)||null,d,g,S,$,z)),!0}return!1}function _L(d){var g=Qf(d.target);if(g!==null){var S=yr(g);if(S!==null){if(g=S.tag,g===13){if(g=no(S),g!==null){d.blockedOn=g,EL(d.priority,function(){bL(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){d.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Nb(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var S=D_(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(S===null){S=d.nativeEvent;var $=new S.constructor(S.type,S);It=$,S.target.dispatchEvent($),It=null}else return g=Hm(S),g!==null&&N_(g),d.blockedOn=S,!1;g.shift()}return!0}function AL(d,g,S){Nb(d)&&S.delete(g)}function Ple(){R_=!1,Wc!==null&&Nb(Wc)&&(Wc=null),Kc!==null&&Nb(Kc)&&(Kc=null),Vc!==null&&Nb(Vc)&&(Vc=null),Cm.forEach(AL),Om.forEach(AL)}function Pm(d,g){d.blockedOn===g&&(d.blockedOn=null,R_||(R_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ple)))}function km(d){function g(z){return Pm(z,d)}if(0<Mb.length){Pm(Mb[0],d);for(var S=1;S<Mb.length;S++){var $=Mb[S];$.blockedOn===d&&($.blockedOn=null)}}for(Wc!==null&&Pm(Wc,d),Kc!==null&&Pm(Kc,d),Vc!==null&&Pm(Vc,d),Cm.forEach(g),Om.forEach(g),S=0;S<Gc.length;S++)$=Gc[S],$.blockedOn===d&&($.blockedOn=null);for(;0<Gc.length&&(S=Gc[0],S.blockedOn===null);)_L(S),S.blockedOn===null&&Gc.shift()}var lp=D.ReactCurrentBatchConfig,Rb=!0;function kle(d,g,S,$){var z=jr,G=lp.transition;lp.transition=null;try{jr=1,L_(d,g,S,$)}finally{jr=z,lp.transition=G}}function Tle(d,g,S,$){var z=jr,G=lp.transition;lp.transition=null;try{jr=4,L_(d,g,S,$)}finally{jr=z,lp.transition=G}}function L_(d,g,S,$){if(Rb){var z=D_(d,g,S,$);if(z===null)Z_(d,g,$,Lb,S),SL(d,$);else if(Ile(z,d,g,S,$))$.stopPropagation();else if(SL(d,$),g&4&&-1<Ole.indexOf(d)){for(;z!==null;){var G=Hm(z);if(G!==null&&wL(G),G=D_(d,g,S,$),G===null&&Z_(d,g,$,Lb,S),G===z)break;z=G}z!==null&&$.stopPropagation()}else Z_(d,g,$,null,S)}}var Lb=null;function D_(d,g,S,$){if(Lb=null,d=$t($),d=Qf(d),d!==null)if(g=yr(d),g===null)d=null;else if(S=g.tag,S===13){if(d=no(g),d!==null)return d;d=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null);return Lb=d,null}function CL(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xm()){case Jf:return 1;case ap:return 4;case qc:case Em:return 16;case sp:return 536870912;default:return 16}default:return 16}}var Yc=null,B_=null,Db=null;function OL(){if(Db)return Db;var d,g=B_,S=g.length,$,z="value"in Yc?Yc.value:Yc.textContent,G=z.length;for(d=0;d<S&&g[d]===z[d];d++);var ie=S-d;for($=1;$<=ie&&g[S-$]===z[G-$];$++);return Db=z.slice(d,1<$?1-$:void 0)}function Bb(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function jb(){return!0}function IL(){return!1}function No(d){function g(S,$,z,G,ie){this._reactName=S,this._targetInst=z,this.type=$,this.nativeEvent=G,this.target=ie,this.currentTarget=null;for(var me in d)d.hasOwnProperty(me)&&(S=d[me],this[me]=S?S(G):G[me]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?jb:IL,this.isPropagationStopped=IL,this}return E(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=jb)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=jb)},persist:function(){},isPersistent:jb}),g}var cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j_=No(cp),Tm=E({},cp,{view:0,detail:0}),Mle=No(Tm),$_,F_,Mm,$b=E({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H_,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Mm&&(Mm&&d.type==="mousemove"?($_=d.screenX-Mm.screenX,F_=d.screenY-Mm.screenY):F_=$_=0,Mm=d),$_)},movementY:function(d){return"movementY"in d?d.movementY:F_}}),PL=No($b),Nle=E({},$b,{dataTransfer:0}),Rle=No(Nle),Lle=E({},Tm,{relatedTarget:0}),U_=No(Lle),Dle=E({},cp,{animationName:0,elapsedTime:0,pseudoElement:0}),Ble=No(Dle),jle=E({},cp,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$le=No(jle),Fle=E({},cp,{data:0}),kL=No(Fle),Ule={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zle(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=qle[d])?!!g[d]:!1}function H_(){return zle}var Wle=E({},Tm,{key:function(d){if(d.key){var g=Ule[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=Bb(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Hle[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H_,charCode:function(d){return d.type==="keypress"?Bb(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Bb(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Kle=No(Wle),Vle=E({},$b,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TL=No(Vle),Gle=E({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H_}),Yle=No(Gle),Jle=E({},cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qle=No(Jle),Xle=E({},$b,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Zle=No(Xle),ece=[9,13,27,32],q_=s&&"CompositionEvent"in window,Nm=null;s&&"documentMode"in document&&(Nm=document.documentMode);var tce=s&&"TextEvent"in window&&!Nm,ML=s&&(!q_||Nm&&8<Nm&&11>=Nm),NL=" ",RL=!1;function LL(d,g){switch(d){case"keyup":return ece.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DL(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var up=!1;function rce(d,g){switch(d){case"compositionend":return DL(g);case"keypress":return g.which!==32?null:(RL=!0,NL);case"textInput":return d=g.data,d===NL&&RL?null:d;default:return null}}function nce(d,g){if(up)return d==="compositionend"||!q_&&LL(d,g)?(d=OL(),Db=B_=Yc=null,up=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return ML&&g.locale!=="ko"?null:g.data;default:return null}}var ice={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BL(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!ice[d.type]:g==="textarea"}function jL(d,g,S,$){qa($),g=zb(g,"onChange"),0<g.length&&(S=new j_("onChange","change",null,S,$),d.push({event:S,listeners:g}))}var Rm=null,Lm=null;function oce(d){r7(d,0)}function Fb(d){var g=gp(d);if(se(g))return d}function ace(d,g){if(d==="change")return g}var $L=!1;if(s){var z_;if(s){var W_="oninput"in document;if(!W_){var FL=document.createElement("div");FL.setAttribute("oninput","return;"),W_=typeof FL.oninput=="function"}z_=W_}else z_=!1;$L=z_&&(!document.documentMode||9<document.documentMode)}function UL(){Rm&&(Rm.detachEvent("onpropertychange",HL),Lm=Rm=null)}function HL(d){if(d.propertyName==="value"&&Fb(Lm)){var g=[];jL(g,Lm,d,$t(d)),je(oce,g)}}function sce(d,g,S){d==="focusin"?(UL(),Rm=g,Lm=S,Rm.attachEvent("onpropertychange",HL)):d==="focusout"&&UL()}function lce(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Fb(Lm)}function cce(d,g){if(d==="click")return Fb(g)}function uce(d,g){if(d==="input"||d==="change")return Fb(g)}function fce(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var Wa=typeof Object.is=="function"?Object.is:fce;function Dm(d,g){if(Wa(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var S=Object.keys(d),$=Object.keys(g);if(S.length!==$.length)return!1;for($=0;$<S.length;$++){var z=S[$];if(!l.call(g,z)||!Wa(d[z],g[z]))return!1}return!0}function qL(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function zL(d,g){var S=qL(d);d=0;for(var $;S;){if(S.nodeType===3){if($=d+S.textContent.length,d<=g&&$>=g)return{node:S,offset:g-d};d=$}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=qL(S)}}function WL(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?WL(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function KL(){for(var d=window,g=ne();g instanceof d.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)d=g.contentWindow;else break;g=ne(d.document)}return g}function K_(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}function dce(d){var g=KL(),S=d.focusedElem,$=d.selectionRange;if(g!==S&&S&&S.ownerDocument&&WL(S.ownerDocument.documentElement,S)){if($!==null&&K_(S)){if(g=$.start,d=$.end,d===void 0&&(d=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(d,S.value.length);else if(d=(g=S.ownerDocument||document)&&g.defaultView||window,d.getSelection){d=d.getSelection();var z=S.textContent.length,G=Math.min($.start,z);$=$.end===void 0?G:Math.min($.end,z),!d.extend&&G>$&&(z=$,$=G,G=z),z=zL(S,G);var ie=zL(S,$);z&&ie&&(d.rangeCount!==1||d.anchorNode!==z.node||d.anchorOffset!==z.offset||d.focusNode!==ie.node||d.focusOffset!==ie.offset)&&(g=g.createRange(),g.setStart(z.node,z.offset),d.removeAllRanges(),G>$?(d.addRange(g),d.extend(ie.node,ie.offset)):(g.setEnd(ie.node,ie.offset),d.addRange(g)))}}for(g=[],d=S;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)d=g[S],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var hce=s&&"documentMode"in document&&11>=document.documentMode,fp=null,V_=null,Bm=null,G_=!1;function VL(d,g,S){var $=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;G_||fp==null||fp!==ne($)||($=fp,"selectionStart"in $&&K_($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Bm&&Dm(Bm,$)||(Bm=$,$=zb(V_,"onSelect"),0<$.length&&(g=new j_("onSelect","select",null,g,S),d.push({event:g,listeners:$}),g.target=fp)))}function Ub(d,g){var S={};return S[d.toLowerCase()]=g.toLowerCase(),S["Webkit"+d]="webkit"+g,S["Moz"+d]="moz"+g,S}var dp={animationend:Ub("Animation","AnimationEnd"),animationiteration:Ub("Animation","AnimationIteration"),animationstart:Ub("Animation","AnimationStart"),transitionend:Ub("Transition","TransitionEnd")},Y_={},GL={};s&&(GL=document.createElement("div").style,"AnimationEvent"in window||(delete dp.animationend.animation,delete dp.animationiteration.animation,delete dp.animationstart.animation),"TransitionEvent"in window||delete dp.transitionend.transition);function Hb(d){if(Y_[d])return Y_[d];if(!dp[d])return d;var g=dp[d],S;for(S in g)if(g.hasOwnProperty(S)&&S in GL)return Y_[d]=g[S];return d}var YL=Hb("animationend"),JL=Hb("animationiteration"),QL=Hb("animationstart"),XL=Hb("transitionend"),ZL=new Map,e7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jc(d,g){ZL.set(d,g),o(g,[d])}for(var J_=0;J_<e7.length;J_++){var Q_=e7[J_],pce=Q_.toLowerCase(),gce=Q_[0].toUpperCase()+Q_.slice(1);Jc(pce,"on"+gce)}Jc(YL,"onAnimationEnd"),Jc(JL,"onAnimationIteration"),Jc(QL,"onAnimationStart"),Jc("dblclick","onDoubleClick"),Jc("focusin","onFocus"),Jc("focusout","onBlur"),Jc(XL,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mce=new Set("cancel close invalid load scroll toggle".split(" ").concat(jm));function t7(d,g,S){var $=d.type||"unknown-event";d.currentTarget=S,Wr($,g,void 0,d),d.currentTarget=null}function r7(d,g){g=(g&4)!==0;for(var S=0;S<d.length;S++){var $=d[S],z=$.event;$=$.listeners;e:{var G=void 0;if(g)for(var ie=$.length-1;0<=ie;ie--){var me=$[ie],Ee=me.instance,Be=me.currentTarget;if(me=me.listener,Ee!==G&&z.isPropagationStopped())break e;t7(z,me,Be),G=Ee}else for(ie=0;ie<$.length;ie++){if(me=$[ie],Ee=me.instance,Be=me.currentTarget,me=me.listener,Ee!==G&&z.isPropagationStopped())break e;t7(z,me,Be),G=Ee}}}if(In)throw d=Ar,In=!1,Ar=null,d}function tn(d,g){var S=g[oA];S===void 0&&(S=g[oA]=new Set);var $=d+"__bubble";S.has($)||(n7(g,d,2,!1),S.add($))}function X_(d,g,S){var $=0;g&&($|=4),n7(S,d,$,g)}var qb="_reactListening"+Math.random().toString(36).slice(2);function $m(d){if(!d[qb]){d[qb]=!0,n.forEach(function(S){S!=="selectionchange"&&(mce.has(S)||X_(S,!1,d),X_(S,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[qb]||(g[qb]=!0,X_("selectionchange",!1,g))}}function n7(d,g,S,$){switch(CL(g)){case 1:var z=kle;break;case 4:z=Tle;break;default:z=L_}S=z.bind(null,g,S,d),z=void 0,!Ve||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(z=!0),$?z!==void 0?d.addEventListener(g,S,{capture:!0,passive:z}):d.addEventListener(g,S,!0):z!==void 0?d.addEventListener(g,S,{passive:z}):d.addEventListener(g,S,!1)}function Z_(d,g,S,$,z){var G=$;if((g&1)===0&&(g&2)===0&&$!==null)e:for(;;){if($===null)return;var ie=$.tag;if(ie===3||ie===4){var me=$.stateNode.containerInfo;if(me===z||me.nodeType===8&&me.parentNode===z)break;if(ie===4)for(ie=$.return;ie!==null;){var Ee=ie.tag;if((Ee===3||Ee===4)&&(Ee=ie.stateNode.containerInfo,Ee===z||Ee.nodeType===8&&Ee.parentNode===z))return;ie=ie.return}for(;me!==null;){if(ie=Qf(me),ie===null)return;if(Ee=ie.tag,Ee===5||Ee===6){$=G=ie;continue e}me=me.parentNode}}$=$.return}je(function(){var Be=G,et=$t(S),nt=[];e:{var Qe=ZL.get(d);if(Qe!==void 0){var pt=j_,St=d;switch(d){case"keypress":if(Bb(S)===0)break e;case"keydown":case"keyup":pt=Kle;break;case"focusin":St="focus",pt=U_;break;case"focusout":St="blur",pt=U_;break;case"beforeblur":case"afterblur":pt=U_;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=PL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Rle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Yle;break;case YL:case JL:case QL:pt=Ble;break;case XL:pt=Qle;break;case"scroll":pt=Mle;break;case"wheel":pt=Zle;break;case"copy":case"cut":case"paste":pt=$le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=TL}var Ct=(g&4)!==0,Sn=!Ct&&d==="scroll",Me=Ct?Qe!==null?Qe+"Capture":null:Qe;Ct=[];for(var Ie=Be,Re;Ie!==null;){Re=Ie;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,Me!==null&&(ot=Ke(Ie,Me),ot!=null&&Ct.push(Fm(Ie,ot,Re)))),Sn)break;Ie=Ie.return}0<Ct.length&&(Qe=new pt(Qe,St,null,S,et),nt.push({event:Qe,listeners:Ct}))}}if((g&7)===0){e:{if(Qe=d==="mouseover"||d==="pointerover",pt=d==="mouseout"||d==="pointerout",Qe&&S!==It&&(St=S.relatedTarget||S.fromElement)&&(Qf(St)||St[Sl]))break e;if((pt||Qe)&&(Qe=et.window===et?et:(Qe=et.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,pt?(St=S.relatedTarget||S.toElement,pt=Be,St=St?Qf(St):null,St!==null&&(Sn=yr(St),St!==Sn||St.tag!==5&&St.tag!==6)&&(St=null)):(pt=null,St=Be),pt!==St)){if(Ct=PL,ot="onMouseLeave",Me="onMouseEnter",Ie="mouse",(d==="pointerout"||d==="pointerover")&&(Ct=TL,ot="onPointerLeave",Me="onPointerEnter",Ie="pointer"),Sn=pt==null?Qe:gp(pt),Re=St==null?Qe:gp(St),Qe=new Ct(ot,Ie+"leave",pt,S,et),Qe.target=Sn,Qe.relatedTarget=Re,ot=null,Qf(et)===Be&&(Ct=new Ct(Me,Ie+"enter",St,S,et),Ct.target=Re,Ct.relatedTarget=Sn,ot=Ct),Sn=ot,pt&&St)t:{for(Ct=pt,Me=St,Ie=0,Re=Ct;Re;Re=hp(Re))Ie++;for(Re=0,ot=Me;ot;ot=hp(ot))Re++;for(;0<Ie-Re;)Ct=hp(Ct),Ie--;for(;0<Re-Ie;)Me=hp(Me),Re--;for(;Ie--;){if(Ct===Me||Me!==null&&Ct===Me.alternate)break t;Ct=hp(Ct),Me=hp(Me)}Ct=null}else Ct=null;pt!==null&&i7(nt,Qe,pt,Ct,!1),St!==null&&Sn!==null&&i7(nt,Sn,St,Ct,!0)}}e:{if(Qe=Be?gp(Be):window,pt=Qe.nodeName&&Qe.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Qe.type==="file")var Pt=ace;else if(BL(Qe))if($L)Pt=uce;else{Pt=lce;var Lt=sce}else(pt=Qe.nodeName)&&pt.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Pt=cce);if(Pt&&(Pt=Pt(d,Be))){jL(nt,Pt,S,et);break e}Lt&&Lt(d,Qe,Be),d==="focusout"&&(Lt=Qe._wrapperState)&&Lt.controlled&&Qe.type==="number"&&ce(Qe,"number",Qe.value)}switch(Lt=Be?gp(Be):window,d){case"focusin":(BL(Lt)||Lt.contentEditable==="true")&&(fp=Lt,V_=Be,Bm=null);break;case"focusout":Bm=V_=fp=null;break;case"mousedown":G_=!0;break;case"contextmenu":case"mouseup":case"dragend":G_=!1,VL(nt,S,et);break;case"selectionchange":if(hce)break;case"keydown":case"keyup":VL(nt,S,et)}var Dt;if(q_)e:{switch(d){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else up?LL(d,S)&&(zt="onCompositionEnd"):d==="keydown"&&S.keyCode===229&&(zt="onCompositionStart");zt&&(ML&&S.locale!=="ko"&&(up||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&up&&(Dt=OL()):(Yc=et,B_="value"in Yc?Yc.value:Yc.textContent,up=!0)),Lt=zb(Be,zt),0<Lt.length&&(zt=new kL(zt,d,null,S,et),nt.push({event:zt,listeners:Lt}),Dt?zt.data=Dt:(Dt=DL(S),Dt!==null&&(zt.data=Dt)))),(Dt=tce?rce(d,S):nce(d,S))&&(Be=zb(Be,"onBeforeInput"),0<Be.length&&(et=new kL("onBeforeInput","beforeinput",null,S,et),nt.push({event:et,listeners:Be}),et.data=Dt))}r7(nt,g)})}function Fm(d,g,S){return{instance:d,listener:g,currentTarget:S}}function zb(d,g){for(var S=g+"Capture",$=[];d!==null;){var z=d,G=z.stateNode;z.tag===5&&G!==null&&(z=G,G=Ke(d,S),G!=null&&$.unshift(Fm(d,G,z)),G=Ke(d,g),G!=null&&$.push(Fm(d,G,z))),d=d.return}return $}function hp(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function i7(d,g,S,$,z){for(var G=g._reactName,ie=[];S!==null&&S!==$;){var me=S,Ee=me.alternate,Be=me.stateNode;if(Ee!==null&&Ee===$)break;me.tag===5&&Be!==null&&(me=Be,z?(Ee=Ke(S,G),Ee!=null&&ie.unshift(Fm(S,Ee,me))):z||(Ee=Ke(S,G),Ee!=null&&ie.push(Fm(S,Ee,me)))),S=S.return}ie.length!==0&&d.push({event:g,listeners:ie})}var yce=/\r\n?/g,vce=/\u0000|\uFFFD/g;function o7(d){return(typeof d=="string"?d:""+d).replace(yce,`
`).replace(vce,"")}function Wb(d,g,S){if(g=o7(g),o7(d)!==g&&S)throw Error(r(425))}function Kb(){}var eA=null,tA=null;function rA(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var nA=typeof setTimeout=="function"?setTimeout:void 0,wce=typeof clearTimeout=="function"?clearTimeout:void 0,a7=typeof Promise=="function"?Promise:void 0,bce=typeof queueMicrotask=="function"?queueMicrotask:typeof a7<"u"?function(d){return a7.resolve(null).then(d).catch(xce)}:nA;function xce(d){setTimeout(function(){throw d})}function iA(d,g){var S=g,$=0;do{var z=S.nextSibling;if(d.removeChild(S),z&&z.nodeType===8)if(S=z.data,S==="/$"){if($===0){d.removeChild(z),km(g);return}$--}else S!=="$"&&S!=="$?"&&S!=="$!"||$++;S=z}while(S);km(g)}function Qc(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return d}function s7(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var S=d.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return d;g--}else S==="/$"&&g++}d=d.previousSibling}return null}var pp=Math.random().toString(36).slice(2),Is="__reactFiber$"+pp,Um="__reactProps$"+pp,Sl="__reactContainer$"+pp,oA="__reactEvents$"+pp,Ece="__reactListeners$"+pp,Sce="__reactHandles$"+pp;function Qf(d){var g=d[Is];if(g)return g;for(var S=d.parentNode;S;){if(g=S[Sl]||S[Is]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(d=s7(d);d!==null;){if(S=d[Is])return S;d=s7(d)}return g}d=S,S=d.parentNode}return null}function Hm(d){return d=d[Is]||d[Sl],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function gp(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Vb(d){return d[Um]||null}var aA=[],mp=-1;function Xc(d){return{current:d}}function rn(d){0>mp||(d.current=aA[mp],aA[mp]=null,mp--)}function Gr(d,g){mp++,aA[mp]=d.current,d.current=g}var Zc={},yi=Xc(Zc),oo=Xc(!1),Xf=Zc;function yp(d,g){var S=d.type.contextTypes;if(!S)return Zc;var $=d.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===g)return $.__reactInternalMemoizedMaskedChildContext;var z={},G;for(G in S)z[G]=g[G];return $&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=z),z}function ao(d){return d=d.childContextTypes,d!=null}function Gb(){rn(oo),rn(yi)}function l7(d,g,S){if(yi.current!==Zc)throw Error(r(168));Gr(yi,g),Gr(oo,S)}function c7(d,g,S){var $=d.stateNode;if(g=g.childContextTypes,typeof $.getChildContext!="function")return S;$=$.getChildContext();for(var z in $)if(!(z in g))throw Error(r(108,te(d)||"Unknown",z));return E({},S,$)}function Yb(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Zc,Xf=yi.current,Gr(yi,d),Gr(oo,oo.current),!0}function u7(d,g,S){var $=d.stateNode;if(!$)throw Error(r(169));S?(d=c7(d,g,Xf),$.__reactInternalMemoizedMergedChildContext=d,rn(oo),rn(yi),Gr(yi,d)):rn(oo),Gr(oo,S)}var _l=null,Jb=!1,sA=!1;function f7(d){_l===null?_l=[d]:_l.push(d)}function _ce(d){Jb=!0,f7(d)}function eu(){if(!sA&&_l!==null){sA=!0;var d=0,g=jr;try{var S=_l;for(jr=1;d<S.length;d++){var $=S[d];do $=$(!0);while($!==null)}_l=null,Jb=!1}catch(z){throw _l!==null&&(_l=_l.slice(d+1)),ip(Jf,eu),z}finally{jr=g,sA=!1}}return null}var vp=[],wp=0,Qb=null,Xb=0,oa=[],aa=0,Zf=null,Al=1,Cl="";function ed(d,g){vp[wp++]=Xb,vp[wp++]=Qb,Qb=d,Xb=g}function d7(d,g,S){oa[aa++]=Al,oa[aa++]=Cl,oa[aa++]=Zf,Zf=d;var $=Al;d=Cl;var z=32-za($)-1;$&=~(1<<z),S+=1;var G=32-za(g)+z;if(30<G){var ie=z-z%5;G=($&(1<<ie)-1).toString(32),$>>=ie,z-=ie,Al=1<<32-za(g)+z|S<<z|$,Cl=G+d}else Al=1<<G|S<<z|$,Cl=d}function lA(d){d.return!==null&&(ed(d,1),d7(d,1,0))}function cA(d){for(;d===Qb;)Qb=vp[--wp],vp[wp]=null,Xb=vp[--wp],vp[wp]=null;for(;d===Zf;)Zf=oa[--aa],oa[aa]=null,Cl=oa[--aa],oa[aa]=null,Al=oa[--aa],oa[aa]=null}var Ro=null,Lo=null,an=!1,Ka=null;function h7(d,g){var S=ua(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=d,g=d.deletions,g===null?(d.deletions=[S],d.flags|=16):g.push(S)}function p7(d,g){switch(d.tag){case 5:var S=d.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(d.stateNode=g,Ro=d,Lo=Qc(g.firstChild),!0):!1;case 6:return g=d.pendingProps===""||g.nodeType!==3?null:g,g!==null?(d.stateNode=g,Ro=d,Lo=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Zf!==null?{id:Al,overflow:Cl}:null,d.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=ua(18,null,null,0),S.stateNode=g,S.return=d,d.child=S,Ro=d,Lo=null,!0):!1;default:return!1}}function uA(d){return(d.mode&1)!==0&&(d.flags&128)===0}function fA(d){if(an){var g=Lo;if(g){var S=g;if(!p7(d,g)){if(uA(d))throw Error(r(418));g=Qc(S.nextSibling);var $=Ro;g&&p7(d,g)?h7($,S):(d.flags=d.flags&-4097|2,an=!1,Ro=d)}}else{if(uA(d))throw Error(r(418));d.flags=d.flags&-4097|2,an=!1,Ro=d}}}function g7(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ro=d}function Zb(d){if(d!==Ro)return!1;if(!an)return g7(d),an=!0,!1;var g;if((g=d.tag!==3)&&!(g=d.tag!==5)&&(g=d.type,g=g!=="head"&&g!=="body"&&!rA(d.type,d.memoizedProps)),g&&(g=Lo)){if(uA(d))throw m7(),Error(r(418));for(;g;)h7(d,g),g=Qc(g.nextSibling)}if(g7(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8){var S=d.data;if(S==="/$"){if(g===0){Lo=Qc(d.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}d=d.nextSibling}Lo=null}}else Lo=Ro?Qc(d.stateNode.nextSibling):null;return!0}function m7(){for(var d=Lo;d;)d=Qc(d.nextSibling)}function bp(){Lo=Ro=null,an=!1}function dA(d){Ka===null?Ka=[d]:Ka.push(d)}var Ace=D.ReactCurrentBatchConfig;function qm(d,g,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var $=S.stateNode}if(!$)throw Error(r(147,d));var z=$,G=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===G?g.ref:(g=function(ie){var me=z.refs;ie===null?delete me[G]:me[G]=ie},g._stringRef=G,g)}if(typeof d!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,d))}return d}function e1(d,g){throw d=Object.prototype.toString.call(g),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function y7(d){var g=d._init;return g(d._payload)}function v7(d){function g(Me,Ie){if(d){var Re=Me.deletions;Re===null?(Me.deletions=[Ie],Me.flags|=16):Re.push(Ie)}}function S(Me,Ie){if(!d)return null;for(;Ie!==null;)g(Me,Ie),Ie=Ie.sibling;return null}function $(Me,Ie){for(Me=new Map;Ie!==null;)Ie.key!==null?Me.set(Ie.key,Ie):Me.set(Ie.index,Ie),Ie=Ie.sibling;return Me}function z(Me,Ie){return Me=lu(Me,Ie),Me.index=0,Me.sibling=null,Me}function G(Me,Ie,Re){return Me.index=Re,d?(Re=Me.alternate,Re!==null?(Re=Re.index,Re<Ie?(Me.flags|=2,Ie):Re):(Me.flags|=2,Ie)):(Me.flags|=1048576,Ie)}function ie(Me){return d&&Me.alternate===null&&(Me.flags|=2),Me}function me(Me,Ie,Re,ot){return Ie===null||Ie.tag!==6?(Ie=nC(Re,Me.mode,ot),Ie.return=Me,Ie):(Ie=z(Ie,Re),Ie.return=Me,Ie)}function Ee(Me,Ie,Re,ot){var Pt=Re.type;return Pt===F?et(Me,Ie,Re.props.children,ot,Re.key):Ie!==null&&(Ie.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===T&&y7(Pt)===Ie.type)?(ot=z(Ie,Re.props),ot.ref=qm(Me,Ie,Re),ot.return=Me,ot):(ot=_1(Re.type,Re.key,Re.props,null,Me.mode,ot),ot.ref=qm(Me,Ie,Re),ot.return=Me,ot)}function Be(Me,Ie,Re,ot){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Re.containerInfo||Ie.stateNode.implementation!==Re.implementation?(Ie=iC(Re,Me.mode,ot),Ie.return=Me,Ie):(Ie=z(Ie,Re.children||[]),Ie.return=Me,Ie)}function et(Me,Ie,Re,ot,Pt){return Ie===null||Ie.tag!==7?(Ie=ld(Re,Me.mode,ot,Pt),Ie.return=Me,Ie):(Ie=z(Ie,Re),Ie.return=Me,Ie)}function nt(Me,Ie,Re){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=nC(""+Ie,Me.mode,Re),Ie.return=Me,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case P:return Re=_1(Ie.type,Ie.key,Ie.props,null,Me.mode,Re),Re.ref=qm(Me,null,Ie),Re.return=Me,Re;case U:return Ie=iC(Ie,Me.mode,Re),Ie.return=Me,Ie;case T:var ot=Ie._init;return nt(Me,ot(Ie._payload),Re)}if(Oe(Ie)||k(Ie))return Ie=ld(Ie,Me.mode,Re,null),Ie.return=Me,Ie;e1(Me,Ie)}return null}function Qe(Me,Ie,Re,ot){var Pt=Ie!==null?Ie.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Pt!==null?null:me(Me,Ie,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case P:return Re.key===Pt?Ee(Me,Ie,Re,ot):null;case U:return Re.key===Pt?Be(Me,Ie,Re,ot):null;case T:return Pt=Re._init,Qe(Me,Ie,Pt(Re._payload),ot)}if(Oe(Re)||k(Re))return Pt!==null?null:et(Me,Ie,Re,ot,null);e1(Me,Re)}return null}function pt(Me,Ie,Re,ot,Pt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Me=Me.get(Re)||null,me(Ie,Me,""+ot,Pt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case P:return Me=Me.get(ot.key===null?Re:ot.key)||null,Ee(Ie,Me,ot,Pt);case U:return Me=Me.get(ot.key===null?Re:ot.key)||null,Be(Ie,Me,ot,Pt);case T:var Lt=ot._init;return pt(Me,Ie,Re,Lt(ot._payload),Pt)}if(Oe(ot)||k(ot))return Me=Me.get(Re)||null,et(Ie,Me,ot,Pt,null);e1(Ie,ot)}return null}function St(Me,Ie,Re,ot){for(var Pt=null,Lt=null,Dt=Ie,zt=Ie=0,zn=null;Dt!==null&&zt<Re.length;zt++){Dt.index>zt?(zn=Dt,Dt=null):zn=Dt.sibling;var Er=Qe(Me,Dt,Re[zt],ot);if(Er===null){Dt===null&&(Dt=zn);break}d&&Dt&&Er.alternate===null&&g(Me,Dt),Ie=G(Er,Ie,zt),Lt===null?Pt=Er:Lt.sibling=Er,Lt=Er,Dt=zn}if(zt===Re.length)return S(Me,Dt),an&&ed(Me,zt),Pt;if(Dt===null){for(;zt<Re.length;zt++)Dt=nt(Me,Re[zt],ot),Dt!==null&&(Ie=G(Dt,Ie,zt),Lt===null?Pt=Dt:Lt.sibling=Dt,Lt=Dt);return an&&ed(Me,zt),Pt}for(Dt=$(Me,Dt);zt<Re.length;zt++)zn=pt(Dt,Me,zt,Re[zt],ot),zn!==null&&(d&&zn.alternate!==null&&Dt.delete(zn.key===null?zt:zn.key),Ie=G(zn,Ie,zt),Lt===null?Pt=zn:Lt.sibling=zn,Lt=zn);return d&&Dt.forEach(function(cu){return g(Me,cu)}),an&&ed(Me,zt),Pt}function Ct(Me,Ie,Re,ot){var Pt=k(Re);if(typeof Pt!="function")throw Error(r(150));if(Re=Pt.call(Re),Re==null)throw Error(r(151));for(var Lt=Pt=null,Dt=Ie,zt=Ie=0,zn=null,Er=Re.next();Dt!==null&&!Er.done;zt++,Er=Re.next()){Dt.index>zt?(zn=Dt,Dt=null):zn=Dt.sibling;var cu=Qe(Me,Dt,Er.value,ot);if(cu===null){Dt===null&&(Dt=zn);break}d&&Dt&&cu.alternate===null&&g(Me,Dt),Ie=G(cu,Ie,zt),Lt===null?Pt=cu:Lt.sibling=cu,Lt=cu,Dt=zn}if(Er.done)return S(Me,Dt),an&&ed(Me,zt),Pt;if(Dt===null){for(;!Er.done;zt++,Er=Re.next())Er=nt(Me,Er.value,ot),Er!==null&&(Ie=G(Er,Ie,zt),Lt===null?Pt=Er:Lt.sibling=Er,Lt=Er);return an&&ed(Me,zt),Pt}for(Dt=$(Me,Dt);!Er.done;zt++,Er=Re.next())Er=pt(Dt,Me,zt,Er.value,ot),Er!==null&&(d&&Er.alternate!==null&&Dt.delete(Er.key===null?zt:Er.key),Ie=G(Er,Ie,zt),Lt===null?Pt=Er:Lt.sibling=Er,Lt=Er);return d&&Dt.forEach(function(iue){return g(Me,iue)}),an&&ed(Me,zt),Pt}function Sn(Me,Ie,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===F&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case P:e:{for(var Pt=Re.key,Lt=Ie;Lt!==null;){if(Lt.key===Pt){if(Pt=Re.type,Pt===F){if(Lt.tag===7){S(Me,Lt.sibling),Ie=z(Lt,Re.props.children),Ie.return=Me,Me=Ie;break e}}else if(Lt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===T&&y7(Pt)===Lt.type){S(Me,Lt.sibling),Ie=z(Lt,Re.props),Ie.ref=qm(Me,Lt,Re),Ie.return=Me,Me=Ie;break e}S(Me,Lt);break}else g(Me,Lt);Lt=Lt.sibling}Re.type===F?(Ie=ld(Re.props.children,Me.mode,ot,Re.key),Ie.return=Me,Me=Ie):(ot=_1(Re.type,Re.key,Re.props,null,Me.mode,ot),ot.ref=qm(Me,Ie,Re),ot.return=Me,Me=ot)}return ie(Me);case U:e:{for(Lt=Re.key;Ie!==null;){if(Ie.key===Lt)if(Ie.tag===4&&Ie.stateNode.containerInfo===Re.containerInfo&&Ie.stateNode.implementation===Re.implementation){S(Me,Ie.sibling),Ie=z(Ie,Re.children||[]),Ie.return=Me,Me=Ie;break e}else{S(Me,Ie);break}else g(Me,Ie);Ie=Ie.sibling}Ie=iC(Re,Me.mode,ot),Ie.return=Me,Me=Ie}return ie(Me);case T:return Lt=Re._init,Sn(Me,Ie,Lt(Re._payload),ot)}if(Oe(Re))return St(Me,Ie,Re,ot);if(k(Re))return Ct(Me,Ie,Re,ot);e1(Me,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Ie!==null&&Ie.tag===6?(S(Me,Ie.sibling),Ie=z(Ie,Re),Ie.return=Me,Me=Ie):(S(Me,Ie),Ie=nC(Re,Me.mode,ot),Ie.return=Me,Me=Ie),ie(Me)):S(Me,Ie)}return Sn}var xp=v7(!0),w7=v7(!1),t1=Xc(null),r1=null,Ep=null,hA=null;function pA(){hA=Ep=r1=null}function gA(d){var g=t1.current;rn(t1),d._currentValue=g}function mA(d,g,S){for(;d!==null;){var $=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,$!==null&&($.childLanes|=g)):$!==null&&($.childLanes&g)!==g&&($.childLanes|=g),d===S)break;d=d.return}}function Sp(d,g){r1=d,hA=Ep=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&g)!==0&&(so=!0),d.firstContext=null)}function sa(d){var g=d._currentValue;if(hA!==d)if(d={context:d,memoizedValue:g,next:null},Ep===null){if(r1===null)throw Error(r(308));Ep=d,r1.dependencies={lanes:0,firstContext:d}}else Ep=Ep.next=d;return g}var td=null;function yA(d){td===null?td=[d]:td.push(d)}function b7(d,g,S,$){var z=g.interleaved;return z===null?(S.next=S,yA(g)):(S.next=z.next,z.next=S),g.interleaved=S,Ol(d,$)}function Ol(d,g){d.lanes|=g;var S=d.alternate;for(S!==null&&(S.lanes|=g),S=d,d=d.return;d!==null;)d.childLanes|=g,S=d.alternate,S!==null&&(S.childLanes|=g),S=d,d=d.return;return S.tag===3?S.stateNode:null}var tu=!1;function vA(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x7(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Il(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function ru(d,g,S){var $=d.updateQueue;if($===null)return null;if($=$.shared,(wr&2)!==0){var z=$.pending;return z===null?g.next=g:(g.next=z.next,z.next=g),$.pending=g,Ol(d,S)}return z=$.interleaved,z===null?(g.next=g,yA($)):(g.next=z.next,z.next=g),$.interleaved=g,Ol(d,S)}function n1(d,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var $=g.lanes;$&=d.pendingLanes,S|=$,g.lanes=S,M_(d,S)}}function E7(d,g){var S=d.updateQueue,$=d.alternate;if($!==null&&($=$.updateQueue,S===$)){var z=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var ie={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};G===null?z=G=ie:G=G.next=ie,S=S.next}while(S!==null);G===null?z=G=g:G=G.next=g}else z=G=g;S={baseState:$.baseState,firstBaseUpdate:z,lastBaseUpdate:G,shared:$.shared,effects:$.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=g:d.next=g,S.lastBaseUpdate=g}function i1(d,g,S,$){var z=d.updateQueue;tu=!1;var G=z.firstBaseUpdate,ie=z.lastBaseUpdate,me=z.shared.pending;if(me!==null){z.shared.pending=null;var Ee=me,Be=Ee.next;Ee.next=null,ie===null?G=Be:ie.next=Be,ie=Ee;var et=d.alternate;et!==null&&(et=et.updateQueue,me=et.lastBaseUpdate,me!==ie&&(me===null?et.firstBaseUpdate=Be:me.next=Be,et.lastBaseUpdate=Ee))}if(G!==null){var nt=z.baseState;ie=0,et=Be=Ee=null,me=G;do{var Qe=me.lane,pt=me.eventTime;if(($&Qe)===Qe){et!==null&&(et=et.next={eventTime:pt,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var St=d,Ct=me;switch(Qe=g,pt=S,Ct.tag){case 1:if(St=Ct.payload,typeof St=="function"){nt=St.call(pt,nt,Qe);break e}nt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Ct.payload,Qe=typeof St=="function"?St.call(pt,nt,Qe):St,Qe==null)break e;nt=E({},nt,Qe);break e;case 2:tu=!0}}me.callback!==null&&me.lane!==0&&(d.flags|=64,Qe=z.effects,Qe===null?z.effects=[me]:Qe.push(me))}else pt={eventTime:pt,lane:Qe,tag:me.tag,payload:me.payload,callback:me.callback,next:null},et===null?(Be=et=pt,Ee=nt):et=et.next=pt,ie|=Qe;if(me=me.next,me===null){if(me=z.shared.pending,me===null)break;Qe=me,me=Qe.next,Qe.next=null,z.lastBaseUpdate=Qe,z.shared.pending=null}}while(!0);if(et===null&&(Ee=nt),z.baseState=Ee,z.firstBaseUpdate=Be,z.lastBaseUpdate=et,g=z.shared.interleaved,g!==null){z=g;do ie|=z.lane,z=z.next;while(z!==g)}else G===null&&(z.shared.lanes=0);id|=ie,d.lanes=ie,d.memoizedState=nt}}function S7(d,g,S){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var $=d[g],z=$.callback;if(z!==null){if($.callback=null,$=S,typeof z!="function")throw Error(r(191,z));z.call($)}}}var zm={},Ps=Xc(zm),Wm=Xc(zm),Km=Xc(zm);function rd(d){if(d===zm)throw Error(r(174));return d}function wA(d,g){switch(Gr(Km,g),Gr(Wm,d),Gr(Ps,zm),d=g.nodeType,d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:re(null,"");break;default:d=d===8?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=re(g,d)}rn(Ps),Gr(Ps,g)}function _p(){rn(Ps),rn(Wm),rn(Km)}function _7(d){rd(Km.current);var g=rd(Ps.current),S=re(g,d.type);g!==S&&(Gr(Wm,d),Gr(Ps,S))}function bA(d){Wm.current===d&&(rn(Ps),rn(Wm))}var un=Xc(0);function o1(d){for(var g=d;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var xA=[];function EA(){for(var d=0;d<xA.length;d++)xA[d]._workInProgressVersionPrimary=null;xA.length=0}var a1=D.ReactCurrentDispatcher,SA=D.ReactCurrentBatchConfig,nd=0,fn=null,Ln=null,Hn=null,s1=!1,Vm=!1,Gm=0,Cce=0;function vi(){throw Error(r(321))}function _A(d,g){if(g===null)return!1;for(var S=0;S<g.length&&S<d.length;S++)if(!Wa(d[S],g[S]))return!1;return!0}function AA(d,g,S,$,z,G){if(nd=G,fn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,a1.current=d===null||d.memoizedState===null?kce:Tce,d=S($,z),Vm){G=0;do{if(Vm=!1,Gm=0,25<=G)throw Error(r(301));G+=1,Hn=Ln=null,g.updateQueue=null,a1.current=Mce,d=S($,z)}while(Vm)}if(a1.current=u1,g=Ln!==null&&Ln.next!==null,nd=0,Hn=Ln=fn=null,s1=!1,g)throw Error(r(300));return d}function CA(){var d=Gm!==0;return Gm=0,d}function ks(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?fn.memoizedState=Hn=d:Hn=Hn.next=d,Hn}function la(){if(Ln===null){var d=fn.alternate;d=d!==null?d.memoizedState:null}else d=Ln.next;var g=Hn===null?fn.memoizedState:Hn.next;if(g!==null)Hn=g,Ln=d;else{if(d===null)throw Error(r(310));Ln=d,d={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Hn===null?fn.memoizedState=Hn=d:Hn=Hn.next=d}return Hn}function Ym(d,g){return typeof g=="function"?g(d):g}function OA(d){var g=la(),S=g.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var $=Ln,z=$.baseQueue,G=S.pending;if(G!==null){if(z!==null){var ie=z.next;z.next=G.next,G.next=ie}$.baseQueue=z=G,S.pending=null}if(z!==null){G=z.next,$=$.baseState;var me=ie=null,Ee=null,Be=G;do{var et=Be.lane;if((nd&et)===et)Ee!==null&&(Ee=Ee.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),$=Be.hasEagerState?Be.eagerState:d($,Be.action);else{var nt={lane:et,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Ee===null?(me=Ee=nt,ie=$):Ee=Ee.next=nt,fn.lanes|=et,id|=et}Be=Be.next}while(Be!==null&&Be!==G);Ee===null?ie=$:Ee.next=me,Wa($,g.memoizedState)||(so=!0),g.memoizedState=$,g.baseState=ie,g.baseQueue=Ee,S.lastRenderedState=$}if(d=S.interleaved,d!==null){z=d;do G=z.lane,fn.lanes|=G,id|=G,z=z.next;while(z!==d)}else z===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function IA(d){var g=la(),S=g.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var $=S.dispatch,z=S.pending,G=g.memoizedState;if(z!==null){S.pending=null;var ie=z=z.next;do G=d(G,ie.action),ie=ie.next;while(ie!==z);Wa(G,g.memoizedState)||(so=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),S.lastRenderedState=G}return[G,$]}function A7(){}function C7(d,g){var S=fn,$=la(),z=g(),G=!Wa($.memoizedState,z);if(G&&($.memoizedState=z,so=!0),$=$.queue,PA(P7.bind(null,S,$,d),[d]),$.getSnapshot!==g||G||Hn!==null&&Hn.memoizedState.tag&1){if(S.flags|=2048,Jm(9,I7.bind(null,S,$,z,g),void 0,null),qn===null)throw Error(r(349));(nd&30)!==0||O7(S,g,z)}return z}function O7(d,g,S){d.flags|=16384,d={getSnapshot:g,value:S},g=fn.updateQueue,g===null?(g={lastEffect:null,stores:null},fn.updateQueue=g,g.stores=[d]):(S=g.stores,S===null?g.stores=[d]:S.push(d))}function I7(d,g,S,$){g.value=S,g.getSnapshot=$,k7(g)&&T7(d)}function P7(d,g,S){return S(function(){k7(g)&&T7(d)})}function k7(d){var g=d.getSnapshot;d=d.value;try{var S=g();return!Wa(d,S)}catch{return!0}}function T7(d){var g=Ol(d,1);g!==null&&Ja(g,d,1,-1)}function M7(d){var g=ks();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:d},g.queue=d,d=d.dispatch=Pce.bind(null,fn,d),[g.memoizedState,d]}function Jm(d,g,S,$){return d={tag:d,create:g,destroy:S,deps:$,next:null},g=fn.updateQueue,g===null?(g={lastEffect:null,stores:null},fn.updateQueue=g,g.lastEffect=d.next=d):(S=g.lastEffect,S===null?g.lastEffect=d.next=d:($=S.next,S.next=d,d.next=$,g.lastEffect=d)),d}function N7(){return la().memoizedState}function l1(d,g,S,$){var z=ks();fn.flags|=d,z.memoizedState=Jm(1|g,S,void 0,$===void 0?null:$)}function c1(d,g,S,$){var z=la();$=$===void 0?null:$;var G=void 0;if(Ln!==null){var ie=Ln.memoizedState;if(G=ie.destroy,$!==null&&_A($,ie.deps)){z.memoizedState=Jm(g,S,G,$);return}}fn.flags|=d,z.memoizedState=Jm(1|g,S,G,$)}function R7(d,g){return l1(8390656,8,d,g)}function PA(d,g){return c1(2048,8,d,g)}function L7(d,g){return c1(4,2,d,g)}function D7(d,g){return c1(4,4,d,g)}function B7(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function j7(d,g,S){return S=S!=null?S.concat([d]):null,c1(4,4,B7.bind(null,g,d),S)}function kA(){}function $7(d,g){var S=la();g=g===void 0?null:g;var $=S.memoizedState;return $!==null&&g!==null&&_A(g,$[1])?$[0]:(S.memoizedState=[d,g],d)}function F7(d,g){var S=la();g=g===void 0?null:g;var $=S.memoizedState;return $!==null&&g!==null&&_A(g,$[1])?$[0]:(d=d(),S.memoizedState=[d,g],d)}function U7(d,g,S){return(nd&21)===0?(d.baseState&&(d.baseState=!1,so=!0),d.memoizedState=S):(Wa(S,g)||(S=yL(),fn.lanes|=S,id|=S,d.baseState=!0),g)}function Oce(d,g){var S=jr;jr=S!==0&&4>S?S:4,d(!0);var $=SA.transition;SA.transition={};try{d(!1),g()}finally{jr=S,SA.transition=$}}function H7(){return la().memoizedState}function Ice(d,g,S){var $=au(d);if(S={lane:$,action:S,hasEagerState:!1,eagerState:null,next:null},q7(d))z7(g,S);else if(S=b7(d,g,S,$),S!==null){var z=Fi();Ja(S,d,$,z),W7(S,g,$)}}function Pce(d,g,S){var $=au(d),z={lane:$,action:S,hasEagerState:!1,eagerState:null,next:null};if(q7(d))z7(g,z);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var ie=g.lastRenderedState,me=G(ie,S);if(z.hasEagerState=!0,z.eagerState=me,Wa(me,ie)){var Ee=g.interleaved;Ee===null?(z.next=z,yA(g)):(z.next=Ee.next,Ee.next=z),g.interleaved=z;return}}catch{}finally{}S=b7(d,g,z,$),S!==null&&(z=Fi(),Ja(S,d,$,z),W7(S,g,$))}}function q7(d){var g=d.alternate;return d===fn||g!==null&&g===fn}function z7(d,g){Vm=s1=!0;var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}function W7(d,g,S){if((S&4194240)!==0){var $=g.lanes;$&=d.pendingLanes,S|=$,g.lanes=S,M_(d,S)}}var u1={readContext:sa,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},kce={readContext:sa,useCallback:function(d,g){return ks().memoizedState=[d,g===void 0?null:g],d},useContext:sa,useEffect:R7,useImperativeHandle:function(d,g,S){return S=S!=null?S.concat([d]):null,l1(4194308,4,B7.bind(null,g,d),S)},useLayoutEffect:function(d,g){return l1(4194308,4,d,g)},useInsertionEffect:function(d,g){return l1(4,2,d,g)},useMemo:function(d,g){var S=ks();return g=g===void 0?null:g,d=d(),S.memoizedState=[d,g],d},useReducer:function(d,g,S){var $=ks();return g=S!==void 0?S(g):g,$.memoizedState=$.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},$.queue=d,d=d.dispatch=Ice.bind(null,fn,d),[$.memoizedState,d]},useRef:function(d){var g=ks();return d={current:d},g.memoizedState=d},useState:M7,useDebugValue:kA,useDeferredValue:function(d){return ks().memoizedState=d},useTransition:function(){var d=M7(!1),g=d[0];return d=Oce.bind(null,d[1]),ks().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,S){var $=fn,z=ks();if(an){if(S===void 0)throw Error(r(407));S=S()}else{if(S=g(),qn===null)throw Error(r(349));(nd&30)!==0||O7($,g,S)}z.memoizedState=S;var G={value:S,getSnapshot:g};return z.queue=G,R7(P7.bind(null,$,G,d),[d]),$.flags|=2048,Jm(9,I7.bind(null,$,G,S,g),void 0,null),S},useId:function(){var d=ks(),g=qn.identifierPrefix;if(an){var S=Cl,$=Al;S=($&~(1<<32-za($)-1)).toString(32)+S,g=":"+g+"R"+S,S=Gm++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=Cce++,g=":"+g+"r"+S.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},Tce={readContext:sa,useCallback:$7,useContext:sa,useEffect:PA,useImperativeHandle:j7,useInsertionEffect:L7,useLayoutEffect:D7,useMemo:F7,useReducer:OA,useRef:N7,useState:function(){return OA(Ym)},useDebugValue:kA,useDeferredValue:function(d){var g=la();return U7(g,Ln.memoizedState,d)},useTransition:function(){var d=OA(Ym)[0],g=la().memoizedState;return[d,g]},useMutableSource:A7,useSyncExternalStore:C7,useId:H7,unstable_isNewReconciler:!1},Mce={readContext:sa,useCallback:$7,useContext:sa,useEffect:PA,useImperativeHandle:j7,useInsertionEffect:L7,useLayoutEffect:D7,useMemo:F7,useReducer:IA,useRef:N7,useState:function(){return IA(Ym)},useDebugValue:kA,useDeferredValue:function(d){var g=la();return Ln===null?g.memoizedState=d:U7(g,Ln.memoizedState,d)},useTransition:function(){var d=IA(Ym)[0],g=la().memoizedState;return[d,g]},useMutableSource:A7,useSyncExternalStore:C7,useId:H7,unstable_isNewReconciler:!1};function Va(d,g){if(d&&d.defaultProps){g=E({},g),d=d.defaultProps;for(var S in d)g[S]===void 0&&(g[S]=d[S]);return g}return g}function TA(d,g,S,$){g=d.memoizedState,S=S($,g),S=S==null?g:E({},g,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var f1={isMounted:function(d){return(d=d._reactInternals)?yr(d)===d:!1},enqueueSetState:function(d,g,S){d=d._reactInternals;var $=Fi(),z=au(d),G=Il($,z);G.payload=g,S!=null&&(G.callback=S),g=ru(d,G,z),g!==null&&(Ja(g,d,z,$),n1(g,d,z))},enqueueReplaceState:function(d,g,S){d=d._reactInternals;var $=Fi(),z=au(d),G=Il($,z);G.tag=1,G.payload=g,S!=null&&(G.callback=S),g=ru(d,G,z),g!==null&&(Ja(g,d,z,$),n1(g,d,z))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var S=Fi(),$=au(d),z=Il(S,$);z.tag=2,g!=null&&(z.callback=g),g=ru(d,z,$),g!==null&&(Ja(g,d,$,S),n1(g,d,$))}};function K7(d,g,S,$,z,G,ie){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate($,G,ie):g.prototype&&g.prototype.isPureReactComponent?!Dm(S,$)||!Dm(z,G):!0}function V7(d,g,S){var $=!1,z=Zc,G=g.contextType;return typeof G=="object"&&G!==null?G=sa(G):(z=ao(g)?Xf:yi.current,$=g.contextTypes,G=($=$!=null)?yp(d,z):Zc),g=new g(S,G),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=f1,d.stateNode=g,g._reactInternals=d,$&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=z,d.__reactInternalMemoizedMaskedChildContext=G),g}function G7(d,g,S,$){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,$),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,$),g.state!==d&&f1.enqueueReplaceState(g,g.state,null)}function MA(d,g,S,$){var z=d.stateNode;z.props=S,z.state=d.memoizedState,z.refs={},vA(d);var G=g.contextType;typeof G=="object"&&G!==null?z.context=sa(G):(G=ao(g)?Xf:yi.current,z.context=yp(d,G)),z.state=d.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(TA(d,g,G,S),z.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(g=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),g!==z.state&&f1.enqueueReplaceState(z,z.state,null),i1(d,S,z,$),z.state=d.memoizedState),typeof z.componentDidMount=="function"&&(d.flags|=4194308)}function Ap(d,g){try{var S="",$=g;do S+=V($),$=$.return;while($);var z=S}catch(G){z=`
Error generating stack: `+G.message+`
`+G.stack}return{value:d,source:g,stack:z,digest:null}}function NA(d,g,S){return{value:d,source:null,stack:S??null,digest:g??null}}function RA(d,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var Nce=typeof WeakMap=="function"?WeakMap:Map;function Y7(d,g,S){S=Il(-1,S),S.tag=3,S.payload={element:null};var $=g.value;return S.callback=function(){v1||(v1=!0,YA=$),RA(d,g)},S}function J7(d,g,S){S=Il(-1,S),S.tag=3;var $=d.type.getDerivedStateFromError;if(typeof $=="function"){var z=g.value;S.payload=function(){return $(z)},S.callback=function(){RA(d,g)}}var G=d.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(S.callback=function(){RA(d,g),typeof $!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var ie=g.stack;this.componentDidCatch(g.value,{componentStack:ie!==null?ie:""})}),S}function Q7(d,g,S){var $=d.pingCache;if($===null){$=d.pingCache=new Nce;var z=new Set;$.set(g,z)}else z=$.get(g),z===void 0&&(z=new Set,$.set(g,z));z.has(S)||(z.add(S),d=Vce.bind(null,d,g,S),g.then(d,d))}function X7(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function Z7(d,g,S,$,z){return(d.mode&1)===0?(d===g?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Il(-1,1),g.tag=2,ru(S,g,1))),S.lanes|=1),d):(d.flags|=65536,d.lanes=z,d)}var Rce=D.ReactCurrentOwner,so=!1;function $i(d,g,S,$){g.child=d===null?w7(g,null,S,$):xp(g,d.child,S,$)}function eD(d,g,S,$,z){S=S.render;var G=g.ref;return Sp(g,z),$=AA(d,g,S,$,G,z),S=CA(),d!==null&&!so?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~z,Pl(d,g,z)):(an&&S&&lA(g),g.flags|=1,$i(d,g,$,z),g.child)}function tD(d,g,S,$,z){if(d===null){var G=S.type;return typeof G=="function"&&!rC(G)&&G.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=G,rD(d,g,G,$,z)):(d=_1(S.type,null,$,g,g.mode,z),d.ref=g.ref,d.return=g,g.child=d)}if(G=d.child,(d.lanes&z)===0){var ie=G.memoizedProps;if(S=S.compare,S=S!==null?S:Dm,S(ie,$)&&d.ref===g.ref)return Pl(d,g,z)}return g.flags|=1,d=lu(G,$),d.ref=g.ref,d.return=g,g.child=d}function rD(d,g,S,$,z){if(d!==null){var G=d.memoizedProps;if(Dm(G,$)&&d.ref===g.ref)if(so=!1,g.pendingProps=$=G,(d.lanes&z)!==0)(d.flags&131072)!==0&&(so=!0);else return g.lanes=d.lanes,Pl(d,g,z)}return LA(d,g,S,$,z)}function nD(d,g,S){var $=g.pendingProps,z=$.children,G=d!==null?d.memoizedState:null;if($.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gr(Op,Do),Do|=S;else{if((S&1073741824)===0)return d=G!==null?G.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null,transitions:null},g.updateQueue=null,Gr(Op,Do),Do|=d,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=G!==null?G.baseLanes:S,Gr(Op,Do),Do|=$}else G!==null?($=G.baseLanes|S,g.memoizedState=null):$=S,Gr(Op,Do),Do|=$;return $i(d,g,z,S),g.child}function iD(d,g){var S=g.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function LA(d,g,S,$,z){var G=ao(S)?Xf:yi.current;return G=yp(g,G),Sp(g,z),S=AA(d,g,S,$,G,z),$=CA(),d!==null&&!so?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~z,Pl(d,g,z)):(an&&$&&lA(g),g.flags|=1,$i(d,g,S,z),g.child)}function oD(d,g,S,$,z){if(ao(S)){var G=!0;Yb(g)}else G=!1;if(Sp(g,z),g.stateNode===null)h1(d,g),V7(g,S,$),MA(g,S,$,z),$=!0;else if(d===null){var ie=g.stateNode,me=g.memoizedProps;ie.props=me;var Ee=ie.context,Be=S.contextType;typeof Be=="object"&&Be!==null?Be=sa(Be):(Be=ao(S)?Xf:yi.current,Be=yp(g,Be));var et=S.getDerivedStateFromProps,nt=typeof et=="function"||typeof ie.getSnapshotBeforeUpdate=="function";nt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(me!==$||Ee!==Be)&&G7(g,ie,$,Be),tu=!1;var Qe=g.memoizedState;ie.state=Qe,i1(g,$,ie,z),Ee=g.memoizedState,me!==$||Qe!==Ee||oo.current||tu?(typeof et=="function"&&(TA(g,S,et,$),Ee=g.memoizedState),(me=tu||K7(g,S,me,$,Qe,Ee,Be))?(nt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=$,g.memoizedState=Ee),ie.props=$,ie.state=Ee,ie.context=Be,$=me):(typeof ie.componentDidMount=="function"&&(g.flags|=4194308),$=!1)}else{ie=g.stateNode,x7(d,g),me=g.memoizedProps,Be=g.type===g.elementType?me:Va(g.type,me),ie.props=Be,nt=g.pendingProps,Qe=ie.context,Ee=S.contextType,typeof Ee=="object"&&Ee!==null?Ee=sa(Ee):(Ee=ao(S)?Xf:yi.current,Ee=yp(g,Ee));var pt=S.getDerivedStateFromProps;(et=typeof pt=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(me!==nt||Qe!==Ee)&&G7(g,ie,$,Ee),tu=!1,Qe=g.memoizedState,ie.state=Qe,i1(g,$,ie,z);var St=g.memoizedState;me!==nt||Qe!==St||oo.current||tu?(typeof pt=="function"&&(TA(g,S,pt,$),St=g.memoizedState),(Be=tu||K7(g,S,Be,$,Qe,St,Ee)||!1)?(et||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate($,St,Ee),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate($,St,Ee)),typeof ie.componentDidUpdate=="function"&&(g.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ie.componentDidUpdate!="function"||me===d.memoizedProps&&Qe===d.memoizedState||(g.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Qe===d.memoizedState||(g.flags|=1024),g.memoizedProps=$,g.memoizedState=St),ie.props=$,ie.state=St,ie.context=Ee,$=Be):(typeof ie.componentDidUpdate!="function"||me===d.memoizedProps&&Qe===d.memoizedState||(g.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Qe===d.memoizedState||(g.flags|=1024),$=!1)}return DA(d,g,S,$,G,z)}function DA(d,g,S,$,z,G){iD(d,g);var ie=(g.flags&128)!==0;if(!$&&!ie)return z&&u7(g,S,!1),Pl(d,g,G);$=g.stateNode,Rce.current=g;var me=ie&&typeof S.getDerivedStateFromError!="function"?null:$.render();return g.flags|=1,d!==null&&ie?(g.child=xp(g,d.child,null,G),g.child=xp(g,null,me,G)):$i(d,g,me,G),g.memoizedState=$.state,z&&u7(g,S,!0),g.child}function aD(d){var g=d.stateNode;g.pendingContext?l7(d,g.pendingContext,g.pendingContext!==g.context):g.context&&l7(d,g.context,!1),wA(d,g.containerInfo)}function sD(d,g,S,$,z){return bp(),dA(z),g.flags|=256,$i(d,g,S,$),g.child}var BA={dehydrated:null,treeContext:null,retryLane:0};function jA(d){return{baseLanes:d,cachePool:null,transitions:null}}function lD(d,g,S){var $=g.pendingProps,z=un.current,G=!1,ie=(g.flags&128)!==0,me;if((me=ie)||(me=d!==null&&d.memoizedState===null?!1:(z&2)!==0),me?(G=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(z|=1),Gr(un,z&1),d===null)return fA(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((g.mode&1)===0?g.lanes=1:d.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(ie=$.children,d=$.fallback,G?($=g.mode,G=g.child,ie={mode:"hidden",children:ie},($&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=ie):G=A1(ie,$,0,null),d=ld(d,$,S,null),G.return=g,d.return=g,G.sibling=d,g.child=G,g.child.memoizedState=jA(S),g.memoizedState=BA,d):$A(g,ie));if(z=d.memoizedState,z!==null&&(me=z.dehydrated,me!==null))return Lce(d,g,ie,$,me,z,S);if(G){G=$.fallback,ie=g.mode,z=d.child,me=z.sibling;var Ee={mode:"hidden",children:$.children};return(ie&1)===0&&g.child!==z?($=g.child,$.childLanes=0,$.pendingProps=Ee,g.deletions=null):($=lu(z,Ee),$.subtreeFlags=z.subtreeFlags&14680064),me!==null?G=lu(me,G):(G=ld(G,ie,S,null),G.flags|=2),G.return=g,$.return=g,$.sibling=G,g.child=$,$=G,G=g.child,ie=d.child.memoizedState,ie=ie===null?jA(S):{baseLanes:ie.baseLanes|S,cachePool:null,transitions:ie.transitions},G.memoizedState=ie,G.childLanes=d.childLanes&~S,g.memoizedState=BA,$}return G=d.child,d=G.sibling,$=lu(G,{mode:"visible",children:$.children}),(g.mode&1)===0&&($.lanes=S),$.return=g,$.sibling=null,d!==null&&(S=g.deletions,S===null?(g.deletions=[d],g.flags|=16):S.push(d)),g.child=$,g.memoizedState=null,$}function $A(d,g){return g=A1({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function d1(d,g,S,$){return $!==null&&dA($),xp(g,d.child,null,S),d=$A(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function Lce(d,g,S,$,z,G,ie){if(S)return g.flags&256?(g.flags&=-257,$=NA(Error(r(422))),d1(d,g,ie,$)):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(G=$.fallback,z=g.mode,$=A1({mode:"visible",children:$.children},z,0,null),G=ld(G,z,ie,null),G.flags|=2,$.return=g,G.return=g,$.sibling=G,g.child=$,(g.mode&1)!==0&&xp(g,d.child,null,ie),g.child.memoizedState=jA(ie),g.memoizedState=BA,G);if((g.mode&1)===0)return d1(d,g,ie,null);if(z.data==="$!"){if($=z.nextSibling&&z.nextSibling.dataset,$)var me=$.dgst;return $=me,G=Error(r(419)),$=NA(G,$,void 0),d1(d,g,ie,$)}if(me=(ie&d.childLanes)!==0,so||me){if($=qn,$!==null){switch(ie&-ie){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}z=(z&($.suspendedLanes|ie))!==0?0:z,z!==0&&z!==G.retryLane&&(G.retryLane=z,Ol(d,z),Ja($,d,z,-1))}return tC(),$=NA(Error(r(421))),d1(d,g,ie,$)}return z.data==="$?"?(g.flags|=128,g.child=d.child,g=Gce.bind(null,d),z._reactRetry=g,null):(d=G.treeContext,Lo=Qc(z.nextSibling),Ro=g,an=!0,Ka=null,d!==null&&(oa[aa++]=Al,oa[aa++]=Cl,oa[aa++]=Zf,Al=d.id,Cl=d.overflow,Zf=g),g=$A(g,$.children),g.flags|=4096,g)}function cD(d,g,S){d.lanes|=g;var $=d.alternate;$!==null&&($.lanes|=g),mA(d.return,g,S)}function FA(d,g,S,$,z){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:$,tail:S,tailMode:z}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=$,G.tail=S,G.tailMode=z)}function uD(d,g,S){var $=g.pendingProps,z=$.revealOrder,G=$.tail;if($i(d,g,$.children,S),$=un.current,($&2)!==0)$=$&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&cD(d,S,g);else if(d.tag===19)cD(d,S,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}$&=1}if(Gr(un,$),(g.mode&1)===0)g.memoizedState=null;else switch(z){case"forwards":for(S=g.child,z=null;S!==null;)d=S.alternate,d!==null&&o1(d)===null&&(z=S),S=S.sibling;S=z,S===null?(z=g.child,g.child=null):(z=S.sibling,S.sibling=null),FA(g,!1,z,S,G);break;case"backwards":for(S=null,z=g.child,g.child=null;z!==null;){if(d=z.alternate,d!==null&&o1(d)===null){g.child=z;break}d=z.sibling,z.sibling=S,S=z,z=d}FA(g,!0,S,null,G);break;case"together":FA(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function h1(d,g){(g.mode&1)===0&&d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2)}function Pl(d,g,S){if(d!==null&&(g.dependencies=d.dependencies),id|=g.lanes,(S&g.childLanes)===0)return null;if(d!==null&&g.child!==d.child)throw Error(r(153));if(g.child!==null){for(d=g.child,S=lu(d,d.pendingProps),g.child=S,S.return=g;d.sibling!==null;)d=d.sibling,S=S.sibling=lu(d,d.pendingProps),S.return=g;S.sibling=null}return g.child}function Dce(d,g,S){switch(g.tag){case 3:aD(g),bp();break;case 5:_7(g);break;case 1:ao(g.type)&&Yb(g);break;case 4:wA(g,g.stateNode.containerInfo);break;case 10:var $=g.type._context,z=g.memoizedProps.value;Gr(t1,$._currentValue),$._currentValue=z;break;case 13:if($=g.memoizedState,$!==null)return $.dehydrated!==null?(Gr(un,un.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?lD(d,g,S):(Gr(un,un.current&1),d=Pl(d,g,S),d!==null?d.sibling:null);Gr(un,un.current&1);break;case 19:if($=(S&g.childLanes)!==0,(d.flags&128)!==0){if($)return uD(d,g,S);g.flags|=128}if(z=g.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Gr(un,un.current),$)break;return null;case 22:case 23:return g.lanes=0,nD(d,g,S)}return Pl(d,g,S)}var fD,UA,dD,hD;fD=function(d,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)d.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},UA=function(){},dD=function(d,g,S,$){var z=d.memoizedProps;if(z!==$){d=g.stateNode,rd(Ps.current);var G=null;switch(S){case"input":z=oe(d,z),$=oe(d,$),G=[];break;case"select":z=E({},z,{value:void 0}),$=E({},$,{value:void 0}),G=[];break;case"textarea":z=ve(d,z),$=ve(d,$),G=[];break;default:typeof z.onClick!="function"&&typeof $.onClick=="function"&&(d.onclick=Kb)}ft(S,$);var ie;S=null;for(Be in z)if(!$.hasOwnProperty(Be)&&z.hasOwnProperty(Be)&&z[Be]!=null)if(Be==="style"){var me=z[Be];for(ie in me)me.hasOwnProperty(ie)&&(S||(S={}),S[ie]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?G||(G=[]):(G=G||[]).push(Be,null));for(Be in $){var Ee=$[Be];if(me=z!=null?z[Be]:void 0,$.hasOwnProperty(Be)&&Ee!==me&&(Ee!=null||me!=null))if(Be==="style")if(me){for(ie in me)!me.hasOwnProperty(ie)||Ee&&Ee.hasOwnProperty(ie)||(S||(S={}),S[ie]="");for(ie in Ee)Ee.hasOwnProperty(ie)&&me[ie]!==Ee[ie]&&(S||(S={}),S[ie]=Ee[ie])}else S||(G||(G=[]),G.push(Be,S)),S=Ee;else Be==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,me=me?me.__html:void 0,Ee!=null&&me!==Ee&&(G=G||[]).push(Be,Ee)):Be==="children"?typeof Ee!="string"&&typeof Ee!="number"||(G=G||[]).push(Be,""+Ee):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(Ee!=null&&Be==="onScroll"&&tn("scroll",d),G||me===Ee||(G=[])):(G=G||[]).push(Be,Ee))}S&&(G=G||[]).push("style",S);var Be=G;(g.updateQueue=Be)&&(g.flags|=4)}},hD=function(d,g,S,$){S!==$&&(g.flags|=4)};function Qm(d,g){if(!an)switch(d.tailMode){case"hidden":g=d.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var $=null;S!==null;)S.alternate!==null&&($=S),S=S.sibling;$===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:$.sibling=null}}function wi(d){var g=d.alternate!==null&&d.alternate.child===d.child,S=0,$=0;if(g)for(var z=d.child;z!==null;)S|=z.lanes|z.childLanes,$|=z.subtreeFlags&14680064,$|=z.flags&14680064,z.return=d,z=z.sibling;else for(z=d.child;z!==null;)S|=z.lanes|z.childLanes,$|=z.subtreeFlags,$|=z.flags,z.return=d,z=z.sibling;return d.subtreeFlags|=$,d.childLanes=S,g}function Bce(d,g,S){var $=g.pendingProps;switch(cA(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(g),null;case 1:return ao(g.type)&&Gb(),wi(g),null;case 3:return $=g.stateNode,_p(),rn(oo),rn(yi),EA(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(d===null||d.child===null)&&(Zb(g)?g.flags|=4:d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ka!==null&&(XA(Ka),Ka=null))),UA(d,g),wi(g),null;case 5:bA(g);var z=rd(Km.current);if(S=g.type,d!==null&&g.stateNode!=null)dD(d,g,S,$,z),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!$){if(g.stateNode===null)throw Error(r(166));return wi(g),null}if(d=rd(Ps.current),Zb(g)){$=g.stateNode,S=g.type;var G=g.memoizedProps;switch($[Is]=g,$[Um]=G,d=(g.mode&1)!==0,S){case"dialog":tn("cancel",$),tn("close",$);break;case"iframe":case"object":case"embed":tn("load",$);break;case"video":case"audio":for(z=0;z<jm.length;z++)tn(jm[z],$);break;case"source":tn("error",$);break;case"img":case"image":case"link":tn("error",$),tn("load",$);break;case"details":tn("toggle",$);break;case"input":fe($,G),tn("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!G.multiple},tn("invalid",$);break;case"textarea":We($,G),tn("invalid",$)}ft(S,G),z=null;for(var ie in G)if(G.hasOwnProperty(ie)){var me=G[ie];ie==="children"?typeof me=="string"?$.textContent!==me&&(G.suppressHydrationWarning!==!0&&Wb($.textContent,me,d),z=["children",me]):typeof me=="number"&&$.textContent!==""+me&&(G.suppressHydrationWarning!==!0&&Wb($.textContent,me,d),z=["children",""+me]):i.hasOwnProperty(ie)&&me!=null&&ie==="onScroll"&&tn("scroll",$)}switch(S){case"input":he($),Se($,G,!0);break;case"textarea":he($),Ye($);break;case"select":case"option":break;default:typeof G.onClick=="function"&&($.onclick=Kb)}$=z,g.updateQueue=$,$!==null&&(g.flags|=4)}else{ie=z.nodeType===9?z:z.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=jt(S)),d==="http://www.w3.org/1999/xhtml"?S==="script"?(d=ie.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof $.is=="string"?d=ie.createElement(S,{is:$.is}):(d=ie.createElement(S),S==="select"&&(ie=d,$.multiple?ie.multiple=!0:$.size&&(ie.size=$.size))):d=ie.createElementNS(d,S),d[Is]=g,d[Um]=$,fD(d,g,!1,!1),g.stateNode=d;e:{switch(ie=ct(S,$),S){case"dialog":tn("cancel",d),tn("close",d),z=$;break;case"iframe":case"object":case"embed":tn("load",d),z=$;break;case"video":case"audio":for(z=0;z<jm.length;z++)tn(jm[z],d);z=$;break;case"source":tn("error",d),z=$;break;case"img":case"image":case"link":tn("error",d),tn("load",d),z=$;break;case"details":tn("toggle",d),z=$;break;case"input":fe(d,$),z=oe(d,$),tn("invalid",d);break;case"option":z=$;break;case"select":d._wrapperState={wasMultiple:!!$.multiple},z=E({},$,{value:void 0}),tn("invalid",d);break;case"textarea":We(d,$),z=ve(d,$),tn("invalid",d);break;default:z=$}ft(S,z),me=z;for(G in me)if(me.hasOwnProperty(G)){var Ee=me[G];G==="style"?tt(d,Ee):G==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&J(d,Ee)):G==="children"?typeof Ee=="string"?(S!=="textarea"||Ee!=="")&&ue(d,Ee):typeof Ee=="number"&&ue(d,""+Ee):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?Ee!=null&&G==="onScroll"&&tn("scroll",d):Ee!=null&&_(d,G,Ee,ie))}switch(S){case"input":he(d),Se(d,$,!1);break;case"textarea":he(d),Ye(d);break;case"option":$.value!=null&&d.setAttribute("value",""+X($.value));break;case"select":d.multiple=!!$.multiple,G=$.value,G!=null?ke(d,!!$.multiple,G,!1):$.defaultValue!=null&&ke(d,!!$.multiple,$.defaultValue,!0);break;default:typeof z.onClick=="function"&&(d.onclick=Kb)}switch(S){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return wi(g),null;case 6:if(d&&g.stateNode!=null)hD(d,g,d.memoizedProps,$);else{if(typeof $!="string"&&g.stateNode===null)throw Error(r(166));if(S=rd(Km.current),rd(Ps.current),Zb(g)){if($=g.stateNode,S=g.memoizedProps,$[Is]=g,(G=$.nodeValue!==S)&&(d=Ro,d!==null))switch(d.tag){case 3:Wb($.nodeValue,S,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Wb($.nodeValue,S,(d.mode&1)!==0)}G&&(g.flags|=4)}else $=(S.nodeType===9?S:S.ownerDocument).createTextNode($),$[Is]=g,g.stateNode=$}return wi(g),null;case 13:if(rn(un),$=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(an&&Lo!==null&&(g.mode&1)!==0&&(g.flags&128)===0)m7(),bp(),g.flags|=98560,G=!1;else if(G=Zb(g),$!==null&&$.dehydrated!==null){if(d===null){if(!G)throw Error(r(318));if(G=g.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[Is]=g}else bp(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;wi(g),G=!1}else Ka!==null&&(XA(Ka),Ka=null),G=!0;if(!G)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):($=$!==null,$!==(d!==null&&d.memoizedState!==null)&&$&&(g.child.flags|=8192,(g.mode&1)!==0&&(d===null||(un.current&1)!==0?Dn===0&&(Dn=3):tC())),g.updateQueue!==null&&(g.flags|=4),wi(g),null);case 4:return _p(),UA(d,g),d===null&&$m(g.stateNode.containerInfo),wi(g),null;case 10:return gA(g.type._context),wi(g),null;case 17:return ao(g.type)&&Gb(),wi(g),null;case 19:if(rn(un),G=g.memoizedState,G===null)return wi(g),null;if($=(g.flags&128)!==0,ie=G.rendering,ie===null)if($)Qm(G,!1);else{if(Dn!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(ie=o1(d),ie!==null){for(g.flags|=128,Qm(G,!1),$=ie.updateQueue,$!==null&&(g.updateQueue=$,g.flags|=4),g.subtreeFlags=0,$=S,S=g.child;S!==null;)G=S,d=$,G.flags&=14680066,ie=G.alternate,ie===null?(G.childLanes=0,G.lanes=d,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=ie.childLanes,G.lanes=ie.lanes,G.child=ie.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=ie.memoizedProps,G.memoizedState=ie.memoizedState,G.updateQueue=ie.updateQueue,G.type=ie.type,d=ie.dependencies,G.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),S=S.sibling;return Gr(un,un.current&1|2),g.child}d=d.sibling}G.tail!==null&&en()>Ip&&(g.flags|=128,$=!0,Qm(G,!1),g.lanes=4194304)}else{if(!$)if(d=o1(ie),d!==null){if(g.flags|=128,$=!0,S=d.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),Qm(G,!0),G.tail===null&&G.tailMode==="hidden"&&!ie.alternate&&!an)return wi(g),null}else 2*en()-G.renderingStartTime>Ip&&S!==1073741824&&(g.flags|=128,$=!0,Qm(G,!1),g.lanes=4194304);G.isBackwards?(ie.sibling=g.child,g.child=ie):(S=G.last,S!==null?S.sibling=ie:g.child=ie,G.last=ie)}return G.tail!==null?(g=G.tail,G.rendering=g,G.tail=g.sibling,G.renderingStartTime=en(),g.sibling=null,S=un.current,Gr(un,$?S&1|2:S&1),g):(wi(g),null);case 22:case 23:return eC(),$=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==$&&(g.flags|=8192),$&&(g.mode&1)!==0?(Do&1073741824)!==0&&(wi(g),g.subtreeFlags&6&&(g.flags|=8192)):wi(g),null;case 24:return null;case 25:return null}throw Error(r(156,g.tag))}function jce(d,g){switch(cA(g),g.tag){case 1:return ao(g.type)&&Gb(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return _p(),rn(oo),rn(yi),EA(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 5:return bA(g),null;case 13:if(rn(un),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(r(340));bp()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return rn(un),null;case 4:return _p(),null;case 10:return gA(g.type._context),null;case 22:case 23:return eC(),null;case 24:return null;default:return null}}var p1=!1,bi=!1,$ce=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Cp(d,g){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch($){vn(d,g,$)}else S.current=null}function HA(d,g,S){try{S()}catch($){vn(d,g,$)}}var pD=!1;function Fce(d,g){if(eA=Rb,d=KL(),K_(d)){if("selectionStart"in d)var S={start:d.selectionStart,end:d.selectionEnd};else e:{S=(S=d.ownerDocument)&&S.defaultView||window;var $=S.getSelection&&S.getSelection();if($&&$.rangeCount!==0){S=$.anchorNode;var z=$.anchorOffset,G=$.focusNode;$=$.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var ie=0,me=-1,Ee=-1,Be=0,et=0,nt=d,Qe=null;t:for(;;){for(var pt;nt!==S||z!==0&&nt.nodeType!==3||(me=ie+z),nt!==G||$!==0&&nt.nodeType!==3||(Ee=ie+$),nt.nodeType===3&&(ie+=nt.nodeValue.length),(pt=nt.firstChild)!==null;)Qe=nt,nt=pt;for(;;){if(nt===d)break t;if(Qe===S&&++Be===z&&(me=ie),Qe===G&&++et===$&&(Ee=ie),(pt=nt.nextSibling)!==null)break;nt=Qe,Qe=nt.parentNode}nt=pt}S=me===-1||Ee===-1?null:{start:me,end:Ee}}else S=null}S=S||{start:0,end:0}}else S=null;for(tA={focusedElem:d,selectionRange:S},Rb=!1,wt=g;wt!==null;)if(g=wt,d=g.child,(g.subtreeFlags&1028)!==0&&d!==null)d.return=g,wt=d;else for(;wt!==null;){g=wt;try{var St=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Ct=St.memoizedProps,Sn=St.memoizedState,Me=g.stateNode,Ie=Me.getSnapshotBeforeUpdate(g.elementType===g.type?Ct:Va(g.type,Ct),Sn);Me.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Re=g.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){vn(g,g.return,ot)}if(d=g.sibling,d!==null){d.return=g.return,wt=d;break}wt=g.return}return St=pD,pD=!1,St}function Xm(d,g,S){var $=g.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var z=$=$.next;do{if((z.tag&d)===d){var G=z.destroy;z.destroy=void 0,G!==void 0&&HA(g,S,G)}z=z.next}while(z!==$)}}function g1(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&d)===d){var $=S.create;S.destroy=$()}S=S.next}while(S!==g)}}function qA(d){var g=d.ref;if(g!==null){var S=d.stateNode;switch(d.tag){case 5:d=S;break;default:d=S}typeof g=="function"?g(d):g.current=d}}function gD(d){var g=d.alternate;g!==null&&(d.alternate=null,gD(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&(delete g[Is],delete g[Um],delete g[oA],delete g[Ece],delete g[Sce])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function mD(d){return d.tag===5||d.tag===3||d.tag===4}function yD(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||mD(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function zA(d,g,S){var $=d.tag;if($===5||$===6)d=d.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(d,g):S.insertBefore(d,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(d,S)):(g=S,g.appendChild(d)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Kb));else if($!==4&&(d=d.child,d!==null))for(zA(d,g,S),d=d.sibling;d!==null;)zA(d,g,S),d=d.sibling}function WA(d,g,S){var $=d.tag;if($===5||$===6)d=d.stateNode,g?S.insertBefore(d,g):S.appendChild(d);else if($!==4&&(d=d.child,d!==null))for(WA(d,g,S),d=d.sibling;d!==null;)WA(d,g,S),d=d.sibling}var ni=null,Ga=!1;function nu(d,g,S){for(S=S.child;S!==null;)vD(d,g,S),S=S.sibling}function vD(d,g,S){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(zc,S)}catch{}switch(S.tag){case 5:bi||Cp(S,g);case 6:var $=ni,z=Ga;ni=null,nu(d,g,S),ni=$,Ga=z,ni!==null&&(Ga?(d=ni,S=S.stateNode,d.nodeType===8?d.parentNode.removeChild(S):d.removeChild(S)):ni.removeChild(S.stateNode));break;case 18:ni!==null&&(Ga?(d=ni,S=S.stateNode,d.nodeType===8?iA(d.parentNode,S):d.nodeType===1&&iA(d,S),km(d)):iA(ni,S.stateNode));break;case 4:$=ni,z=Ga,ni=S.stateNode.containerInfo,Ga=!0,nu(d,g,S),ni=$,Ga=z;break;case 0:case 11:case 14:case 15:if(!bi&&($=S.updateQueue,$!==null&&($=$.lastEffect,$!==null))){z=$=$.next;do{var G=z,ie=G.destroy;G=G.tag,ie!==void 0&&((G&2)!==0||(G&4)!==0)&&HA(S,g,ie),z=z.next}while(z!==$)}nu(d,g,S);break;case 1:if(!bi&&(Cp(S,g),$=S.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=S.memoizedProps,$.state=S.memoizedState,$.componentWillUnmount()}catch(me){vn(S,g,me)}nu(d,g,S);break;case 21:nu(d,g,S);break;case 22:S.mode&1?(bi=($=bi)||S.memoizedState!==null,nu(d,g,S),bi=$):nu(d,g,S);break;default:nu(d,g,S)}}function wD(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new $ce),g.forEach(function($){var z=Yce.bind(null,d,$);S.has($)||(S.add($),$.then(z,z))})}}function Ya(d,g){var S=g.deletions;if(S!==null)for(var $=0;$<S.length;$++){var z=S[$];try{var G=d,ie=g,me=ie;e:for(;me!==null;){switch(me.tag){case 5:ni=me.stateNode,Ga=!1;break e;case 3:ni=me.stateNode.containerInfo,Ga=!0;break e;case 4:ni=me.stateNode.containerInfo,Ga=!0;break e}me=me.return}if(ni===null)throw Error(r(160));vD(G,ie,z),ni=null,Ga=!1;var Ee=z.alternate;Ee!==null&&(Ee.return=null),z.return=null}catch(Be){vn(z,g,Be)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)bD(g,d),g=g.sibling}function bD(d,g){var S=d.alternate,$=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ya(g,d),Ts(d),$&4){try{Xm(3,d,d.return),g1(3,d)}catch(Ct){vn(d,d.return,Ct)}try{Xm(5,d,d.return)}catch(Ct){vn(d,d.return,Ct)}}break;case 1:Ya(g,d),Ts(d),$&512&&S!==null&&Cp(S,S.return);break;case 5:if(Ya(g,d),Ts(d),$&512&&S!==null&&Cp(S,S.return),d.flags&32){var z=d.stateNode;try{ue(z,"")}catch(Ct){vn(d,d.return,Ct)}}if($&4&&(z=d.stateNode,z!=null)){var G=d.memoizedProps,ie=S!==null?S.memoizedProps:G,me=d.type,Ee=d.updateQueue;if(d.updateQueue=null,Ee!==null)try{me==="input"&&G.type==="radio"&&G.name!=null&&pe(z,G),ct(me,ie);var Be=ct(me,G);for(ie=0;ie<Ee.length;ie+=2){var et=Ee[ie],nt=Ee[ie+1];et==="style"?tt(z,nt):et==="dangerouslySetInnerHTML"?J(z,nt):et==="children"?ue(z,nt):_(z,et,nt,Be)}switch(me){case"input":xe(z,G);break;case"textarea":Ze(z,G);break;case"select":var Qe=z._wrapperState.wasMultiple;z._wrapperState.wasMultiple=!!G.multiple;var pt=G.value;pt!=null?ke(z,!!G.multiple,pt,!1):Qe!==!!G.multiple&&(G.defaultValue!=null?ke(z,!!G.multiple,G.defaultValue,!0):ke(z,!!G.multiple,G.multiple?[]:"",!1))}z[Um]=G}catch(Ct){vn(d,d.return,Ct)}}break;case 6:if(Ya(g,d),Ts(d),$&4){if(d.stateNode===null)throw Error(r(162));z=d.stateNode,G=d.memoizedProps;try{z.nodeValue=G}catch(Ct){vn(d,d.return,Ct)}}break;case 3:if(Ya(g,d),Ts(d),$&4&&S!==null&&S.memoizedState.isDehydrated)try{km(g.containerInfo)}catch(Ct){vn(d,d.return,Ct)}break;case 4:Ya(g,d),Ts(d);break;case 13:Ya(g,d),Ts(d),z=d.child,z.flags&8192&&(G=z.memoizedState!==null,z.stateNode.isHidden=G,!G||z.alternate!==null&&z.alternate.memoizedState!==null||(GA=en())),$&4&&wD(d);break;case 22:if(et=S!==null&&S.memoizedState!==null,d.mode&1?(bi=(Be=bi)||et,Ya(g,d),bi=Be):Ya(g,d),Ts(d),$&8192){if(Be=d.memoizedState!==null,(d.stateNode.isHidden=Be)&&!et&&(d.mode&1)!==0)for(wt=d,et=d.child;et!==null;){for(nt=wt=et;wt!==null;){switch(Qe=wt,pt=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:Xm(4,Qe,Qe.return);break;case 1:Cp(Qe,Qe.return);var St=Qe.stateNode;if(typeof St.componentWillUnmount=="function"){$=Qe,S=Qe.return;try{g=$,St.props=g.memoizedProps,St.state=g.memoizedState,St.componentWillUnmount()}catch(Ct){vn($,S,Ct)}}break;case 5:Cp(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){SD(nt);continue}}pt!==null?(pt.return=Qe,wt=pt):SD(nt)}et=et.sibling}e:for(et=null,nt=d;;){if(nt.tag===5){if(et===null){et=nt;try{z=nt.stateNode,Be?(G=z.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(me=nt.stateNode,Ee=nt.memoizedProps.style,ie=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,me.style.display=Ce("display",ie))}catch(Ct){vn(d,d.return,Ct)}}}else if(nt.tag===6){if(et===null)try{nt.stateNode.nodeValue=Be?"":nt.memoizedProps}catch(Ct){vn(d,d.return,Ct)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===d)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===d)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===d)break e;et===nt&&(et=null),nt=nt.return}et===nt&&(et=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Ya(g,d),Ts(d),$&4&&wD(d);break;case 21:break;default:Ya(g,d),Ts(d)}}function Ts(d){var g=d.flags;if(g&2){try{e:{for(var S=d.return;S!==null;){if(mD(S)){var $=S;break e}S=S.return}throw Error(r(160))}switch($.tag){case 5:var z=$.stateNode;$.flags&32&&(ue(z,""),$.flags&=-33);var G=yD(d);WA(d,G,z);break;case 3:case 4:var ie=$.stateNode.containerInfo,me=yD(d);zA(d,me,ie);break;default:throw Error(r(161))}}catch(Ee){vn(d,d.return,Ee)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function Uce(d,g,S){wt=d,xD(d)}function xD(d,g,S){for(var $=(d.mode&1)!==0;wt!==null;){var z=wt,G=z.child;if(z.tag===22&&$){var ie=z.memoizedState!==null||p1;if(!ie){var me=z.alternate,Ee=me!==null&&me.memoizedState!==null||bi;me=p1;var Be=bi;if(p1=ie,(bi=Ee)&&!Be)for(wt=z;wt!==null;)ie=wt,Ee=ie.child,ie.tag===22&&ie.memoizedState!==null?_D(z):Ee!==null?(Ee.return=ie,wt=Ee):_D(z);for(;G!==null;)wt=G,xD(G),G=G.sibling;wt=z,p1=me,bi=Be}ED(d)}else(z.subtreeFlags&8772)!==0&&G!==null?(G.return=z,wt=G):ED(d)}}function ED(d){for(;wt!==null;){var g=wt;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:bi||g1(5,g);break;case 1:var $=g.stateNode;if(g.flags&4&&!bi)if(S===null)$.componentDidMount();else{var z=g.elementType===g.type?S.memoizedProps:Va(g.type,S.memoizedProps);$.componentDidUpdate(z,S.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var G=g.updateQueue;G!==null&&S7(g,G,$);break;case 3:var ie=g.updateQueue;if(ie!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}S7(g,ie,S)}break;case 5:var me=g.stateNode;if(S===null&&g.flags&4){S=me;var Ee=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&S.focus();break;case"img":Ee.src&&(S.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Be=g.alternate;if(Be!==null){var et=Be.memoizedState;if(et!==null){var nt=et.dehydrated;nt!==null&&km(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bi||g.flags&512&&qA(g)}catch(Qe){vn(g,g.return,Qe)}}if(g===d){wt=null;break}if(S=g.sibling,S!==null){S.return=g.return,wt=S;break}wt=g.return}}function SD(d){for(;wt!==null;){var g=wt;if(g===d){wt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,wt=S;break}wt=g.return}}function _D(d){for(;wt!==null;){var g=wt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{g1(4,g)}catch(Ee){vn(g,S,Ee)}break;case 1:var $=g.stateNode;if(typeof $.componentDidMount=="function"){var z=g.return;try{$.componentDidMount()}catch(Ee){vn(g,z,Ee)}}var G=g.return;try{qA(g)}catch(Ee){vn(g,G,Ee)}break;case 5:var ie=g.return;try{qA(g)}catch(Ee){vn(g,ie,Ee)}}}catch(Ee){vn(g,g.return,Ee)}if(g===d){wt=null;break}var me=g.sibling;if(me!==null){me.return=g.return,wt=me;break}wt=g.return}}var Hce=Math.ceil,m1=D.ReactCurrentDispatcher,KA=D.ReactCurrentOwner,ca=D.ReactCurrentBatchConfig,wr=0,qn=null,Pn=null,ii=0,Do=0,Op=Xc(0),Dn=0,Zm=null,id=0,y1=0,VA=0,ey=null,lo=null,GA=0,Ip=1/0,kl=null,v1=!1,YA=null,iu=null,w1=!1,ou=null,b1=0,ty=0,JA=null,x1=-1,E1=0;function Fi(){return(wr&6)!==0?en():x1!==-1?x1:x1=en()}function au(d){return(d.mode&1)===0?1:(wr&2)!==0&&ii!==0?ii&-ii:Ace.transition!==null?(E1===0&&(E1=yL()),E1):(d=jr,d!==0||(d=window.event,d=d===void 0?16:CL(d.type)),d)}function Ja(d,g,S,$){if(50<ty)throw ty=0,JA=null,Error(r(185));Am(d,S,$),((wr&2)===0||d!==qn)&&(d===qn&&((wr&2)===0&&(y1|=S),Dn===4&&su(d,ii)),co(d,$),S===1&&wr===0&&(g.mode&1)===0&&(Ip=en()+500,Jb&&eu()))}function co(d,g){var S=d.callbackNode;Ale(d,g);var $=Tb(d,d===qn?ii:0);if($===0)S!==null&&op(S),d.callbackNode=null,d.callbackPriority=0;else if(g=$&-$,d.callbackPriority!==g){if(S!=null&&op(S),g===1)d.tag===0?_ce(CD.bind(null,d)):f7(CD.bind(null,d)),bce(function(){(wr&6)===0&&eu()}),S=null;else{switch(vL($)){case 1:S=Jf;break;case 4:S=ap;break;case 16:S=qc;break;case 536870912:S=sp;break;default:S=qc}S=RD(S,AD.bind(null,d))}d.callbackPriority=g,d.callbackNode=S}}function AD(d,g){if(x1=-1,E1=0,(wr&6)!==0)throw Error(r(327));var S=d.callbackNode;if(Pp()&&d.callbackNode!==S)return null;var $=Tb(d,d===qn?ii:0);if($===0)return null;if(($&30)!==0||($&d.expiredLanes)!==0||g)g=S1(d,$);else{g=$;var z=wr;wr|=2;var G=ID();(qn!==d||ii!==g)&&(kl=null,Ip=en()+500,ad(d,g));do try{Wce();break}catch(me){OD(d,me)}while(!0);pA(),m1.current=G,wr=z,Pn!==null?g=0:(qn=null,ii=0,g=Dn)}if(g!==0){if(g===2&&(z=k_(d),z!==0&&($=z,g=QA(d,z))),g===1)throw S=Zm,ad(d,0),su(d,$),co(d,en()),S;if(g===6)su(d,$);else{if(z=d.current.alternate,($&30)===0&&!qce(z)&&(g=S1(d,$),g===2&&(G=k_(d),G!==0&&($=G,g=QA(d,G))),g===1))throw S=Zm,ad(d,0),su(d,$),co(d,en()),S;switch(d.finishedWork=z,d.finishedLanes=$,g){case 0:case 1:throw Error(r(345));case 2:sd(d,lo,kl);break;case 3:if(su(d,$),($&130023424)===$&&(g=GA+500-en(),10<g)){if(Tb(d,0)!==0)break;if(z=d.suspendedLanes,(z&$)!==$){Fi(),d.pingedLanes|=d.suspendedLanes&z;break}d.timeoutHandle=nA(sd.bind(null,d,lo,kl),g);break}sd(d,lo,kl);break;case 4:if(su(d,$),($&4194240)===$)break;for(g=d.eventTimes,z=-1;0<$;){var ie=31-za($);G=1<<ie,ie=g[ie],ie>z&&(z=ie),$&=~G}if($=z,$=en()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*Hce($/1960))-$,10<$){d.timeoutHandle=nA(sd.bind(null,d,lo,kl),$);break}sd(d,lo,kl);break;case 5:sd(d,lo,kl);break;default:throw Error(r(329))}}}return co(d,en()),d.callbackNode===S?AD.bind(null,d):null}function QA(d,g){var S=ey;return d.current.memoizedState.isDehydrated&&(ad(d,g).flags|=256),d=S1(d,g),d!==2&&(g=lo,lo=S,g!==null&&XA(g)),d}function XA(d){lo===null?lo=d:lo.push.apply(lo,d)}function qce(d){for(var g=d;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var $=0;$<S.length;$++){var z=S[$],G=z.getSnapshot;z=z.value;try{if(!Wa(G(),z))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function su(d,g){for(g&=~VA,g&=~y1,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var S=31-za(g),$=1<<S;d[S]=-1,g&=~$}}function CD(d){if((wr&6)!==0)throw Error(r(327));Pp();var g=Tb(d,0);if((g&1)===0)return co(d,en()),null;var S=S1(d,g);if(d.tag!==0&&S===2){var $=k_(d);$!==0&&(g=$,S=QA(d,$))}if(S===1)throw S=Zm,ad(d,0),su(d,g),co(d,en()),S;if(S===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,sd(d,lo,kl),co(d,en()),null}function ZA(d,g){var S=wr;wr|=1;try{return d(g)}finally{wr=S,wr===0&&(Ip=en()+500,Jb&&eu())}}function od(d){ou!==null&&ou.tag===0&&(wr&6)===0&&Pp();var g=wr;wr|=1;var S=ca.transition,$=jr;try{if(ca.transition=null,jr=1,d)return d()}finally{jr=$,ca.transition=S,wr=g,(wr&6)===0&&eu()}}function eC(){Do=Op.current,rn(Op)}function ad(d,g){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==-1&&(d.timeoutHandle=-1,wce(S)),Pn!==null)for(S=Pn.return;S!==null;){var $=S;switch(cA($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&Gb();break;case 3:_p(),rn(oo),rn(yi),EA();break;case 5:bA($);break;case 4:_p();break;case 13:rn(un);break;case 19:rn(un);break;case 10:gA($.type._context);break;case 22:case 23:eC()}S=S.return}if(qn=d,Pn=d=lu(d.current,null),ii=Do=g,Dn=0,Zm=null,VA=y1=id=0,lo=ey=null,td!==null){for(g=0;g<td.length;g++)if(S=td[g],$=S.interleaved,$!==null){S.interleaved=null;var z=$.next,G=S.pending;if(G!==null){var ie=G.next;G.next=z,$.next=ie}S.pending=$}td=null}return d}function OD(d,g){do{var S=Pn;try{if(pA(),a1.current=u1,s1){for(var $=fn.memoizedState;$!==null;){var z=$.queue;z!==null&&(z.pending=null),$=$.next}s1=!1}if(nd=0,Hn=Ln=fn=null,Vm=!1,Gm=0,KA.current=null,S===null||S.return===null){Dn=1,Zm=g,Pn=null;break}e:{var G=d,ie=S.return,me=S,Ee=g;if(g=ii,me.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Be=Ee,et=me,nt=et.tag;if((et.mode&1)===0&&(nt===0||nt===11||nt===15)){var Qe=et.alternate;Qe?(et.updateQueue=Qe.updateQueue,et.memoizedState=Qe.memoizedState,et.lanes=Qe.lanes):(et.updateQueue=null,et.memoizedState=null)}var pt=X7(ie);if(pt!==null){pt.flags&=-257,Z7(pt,ie,me,G,g),pt.mode&1&&Q7(G,Be,g),g=pt,Ee=Be;var St=g.updateQueue;if(St===null){var Ct=new Set;Ct.add(Ee),g.updateQueue=Ct}else St.add(Ee);break e}else{if((g&1)===0){Q7(G,Be,g),tC();break e}Ee=Error(r(426))}}else if(an&&me.mode&1){var Sn=X7(ie);if(Sn!==null){(Sn.flags&65536)===0&&(Sn.flags|=256),Z7(Sn,ie,me,G,g),dA(Ap(Ee,me));break e}}G=Ee=Ap(Ee,me),Dn!==4&&(Dn=2),ey===null?ey=[G]:ey.push(G),G=ie;do{switch(G.tag){case 3:G.flags|=65536,g&=-g,G.lanes|=g;var Me=Y7(G,Ee,g);E7(G,Me);break e;case 1:me=Ee;var Ie=G.type,Re=G.stateNode;if((G.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(iu===null||!iu.has(Re)))){G.flags|=65536,g&=-g,G.lanes|=g;var ot=J7(G,me,g);E7(G,ot);break e}}G=G.return}while(G!==null)}kD(S)}catch(Pt){g=Pt,Pn===S&&S!==null&&(Pn=S=S.return);continue}break}while(!0)}function ID(){var d=m1.current;return m1.current=u1,d===null?u1:d}function tC(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),qn===null||(id&268435455)===0&&(y1&268435455)===0||su(qn,ii)}function S1(d,g){var S=wr;wr|=2;var $=ID();(qn!==d||ii!==g)&&(kl=null,ad(d,g));do try{zce();break}catch(z){OD(d,z)}while(!0);if(pA(),wr=S,m1.current=$,Pn!==null)throw Error(r(261));return qn=null,ii=0,Dn}function zce(){for(;Pn!==null;)PD(Pn)}function Wce(){for(;Pn!==null&&!wm();)PD(Pn)}function PD(d){var g=ND(d.alternate,d,Do);d.memoizedProps=d.pendingProps,g===null?kD(d):Pn=g,KA.current=null}function kD(d){var g=d;do{var S=g.alternate;if(d=g.return,(g.flags&32768)===0){if(S=Bce(S,g,Do),S!==null){Pn=S;return}}else{if(S=jce(S,g),S!==null){S.flags&=32767,Pn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Dn=6,Pn=null;return}}if(g=g.sibling,g!==null){Pn=g;return}Pn=g=d}while(g!==null);Dn===0&&(Dn=5)}function sd(d,g,S){var $=jr,z=ca.transition;try{ca.transition=null,jr=1,Kce(d,g,S,$)}finally{ca.transition=z,jr=$}return null}function Kce(d,g,S,$){do Pp();while(ou!==null);if((wr&6)!==0)throw Error(r(327));S=d.finishedWork;var z=d.finishedLanes;if(S===null)return null;if(d.finishedWork=null,d.finishedLanes=0,S===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var G=S.lanes|S.childLanes;if(Cle(d,G),d===qn&&(Pn=qn=null,ii=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||w1||(w1=!0,RD(qc,function(){return Pp(),null})),G=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||G){G=ca.transition,ca.transition=null;var ie=jr;jr=1;var me=wr;wr|=4,KA.current=null,Fce(d,S),bD(S,d),dce(tA),Rb=!!eA,tA=eA=null,d.current=S,Uce(S),bm(),wr=me,jr=ie,ca.transition=G}else d.current=S;if(w1&&(w1=!1,ou=d,b1=z),G=d.pendingLanes,G===0&&(iu=null),Sm(S.stateNode),co(d,en()),g!==null)for($=d.onRecoverableError,S=0;S<g.length;S++)z=g[S],$(z.value,{componentStack:z.stack,digest:z.digest});if(v1)throw v1=!1,d=YA,YA=null,d;return(b1&1)!==0&&d.tag!==0&&Pp(),G=d.pendingLanes,(G&1)!==0?d===JA?ty++:(ty=0,JA=d):ty=0,eu(),null}function Pp(){if(ou!==null){var d=vL(b1),g=ca.transition,S=jr;try{if(ca.transition=null,jr=16>d?16:d,ou===null)var $=!1;else{if(d=ou,ou=null,b1=0,(wr&6)!==0)throw Error(r(331));var z=wr;for(wr|=4,wt=d.current;wt!==null;){var G=wt,ie=G.child;if((wt.flags&16)!==0){var me=G.deletions;if(me!==null){for(var Ee=0;Ee<me.length;Ee++){var Be=me[Ee];for(wt=Be;wt!==null;){var et=wt;switch(et.tag){case 0:case 11:case 15:Xm(8,et,G)}var nt=et.child;if(nt!==null)nt.return=et,wt=nt;else for(;wt!==null;){et=wt;var Qe=et.sibling,pt=et.return;if(gD(et),et===Be){wt=null;break}if(Qe!==null){Qe.return=pt,wt=Qe;break}wt=pt}}}var St=G.alternate;if(St!==null){var Ct=St.child;if(Ct!==null){St.child=null;do{var Sn=Ct.sibling;Ct.sibling=null,Ct=Sn}while(Ct!==null)}}wt=G}}if((G.subtreeFlags&2064)!==0&&ie!==null)ie.return=G,wt=ie;else e:for(;wt!==null;){if(G=wt,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:Xm(9,G,G.return)}var Me=G.sibling;if(Me!==null){Me.return=G.return,wt=Me;break e}wt=G.return}}var Ie=d.current;for(wt=Ie;wt!==null;){ie=wt;var Re=ie.child;if((ie.subtreeFlags&2064)!==0&&Re!==null)Re.return=ie,wt=Re;else e:for(ie=Ie;wt!==null;){if(me=wt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:g1(9,me)}}catch(Pt){vn(me,me.return,Pt)}if(me===ie){wt=null;break e}var ot=me.sibling;if(ot!==null){ot.return=me.return,wt=ot;break e}wt=me.return}}if(wr=z,eu(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(zc,d)}catch{}$=!0}return $}finally{jr=S,ca.transition=g}}return!1}function TD(d,g,S){g=Ap(S,g),g=Y7(d,g,1),d=ru(d,g,1),g=Fi(),d!==null&&(Am(d,1,g),co(d,g))}function vn(d,g,S){if(d.tag===3)TD(d,d,S);else for(;g!==null;){if(g.tag===3){TD(g,d,S);break}else if(g.tag===1){var $=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(iu===null||!iu.has($))){d=Ap(S,d),d=J7(g,d,1),g=ru(g,d,1),d=Fi(),g!==null&&(Am(g,1,d),co(g,d));break}}g=g.return}}function Vce(d,g,S){var $=d.pingCache;$!==null&&$.delete(g),g=Fi(),d.pingedLanes|=d.suspendedLanes&S,qn===d&&(ii&S)===S&&(Dn===4||Dn===3&&(ii&130023424)===ii&&500>en()-GA?ad(d,0):VA|=S),co(d,g)}function MD(d,g){g===0&&((d.mode&1)===0?g=1:(g=kb,kb<<=1,(kb&130023424)===0&&(kb=4194304)));var S=Fi();d=Ol(d,g),d!==null&&(Am(d,g,S),co(d,S))}function Gce(d){var g=d.memoizedState,S=0;g!==null&&(S=g.retryLane),MD(d,S)}function Yce(d,g){var S=0;switch(d.tag){case 13:var $=d.stateNode,z=d.memoizedState;z!==null&&(S=z.retryLane);break;case 19:$=d.stateNode;break;default:throw Error(r(314))}$!==null&&$.delete(g),MD(d,S)}var ND;ND=function(d,g,S){if(d!==null)if(d.memoizedProps!==g.pendingProps||oo.current)so=!0;else{if((d.lanes&S)===0&&(g.flags&128)===0)return so=!1,Dce(d,g,S);so=(d.flags&131072)!==0}else so=!1,an&&(g.flags&1048576)!==0&&d7(g,Xb,g.index);switch(g.lanes=0,g.tag){case 2:var $=g.type;h1(d,g),d=g.pendingProps;var z=yp(g,yi.current);Sp(g,S),z=AA(null,g,$,d,z,S);var G=CA();return g.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,ao($)?(G=!0,Yb(g)):G=!1,g.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,vA(g),z.updater=f1,g.stateNode=z,z._reactInternals=g,MA(g,$,d,S),g=DA(null,g,$,!0,G,S)):(g.tag=0,an&&G&&lA(g),$i(null,g,z,S),g=g.child),g;case 16:$=g.elementType;e:{switch(h1(d,g),d=g.pendingProps,z=$._init,$=z($._payload),g.type=$,z=g.tag=Qce($),d=Va($,d),z){case 0:g=LA(null,g,$,d,S);break e;case 1:g=oD(null,g,$,d,S);break e;case 11:g=eD(null,g,$,d,S);break e;case 14:g=tD(null,g,$,Va($.type,d),S);break e}throw Error(r(306,$,""))}return g;case 0:return $=g.type,z=g.pendingProps,z=g.elementType===$?z:Va($,z),LA(d,g,$,z,S);case 1:return $=g.type,z=g.pendingProps,z=g.elementType===$?z:Va($,z),oD(d,g,$,z,S);case 3:e:{if(aD(g),d===null)throw Error(r(387));$=g.pendingProps,G=g.memoizedState,z=G.element,x7(d,g),i1(g,$,null,S);var ie=g.memoizedState;if($=ie.element,G.isDehydrated)if(G={element:$,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},g.updateQueue.baseState=G,g.memoizedState=G,g.flags&256){z=Ap(Error(r(423)),g),g=sD(d,g,$,S,z);break e}else if($!==z){z=Ap(Error(r(424)),g),g=sD(d,g,$,S,z);break e}else for(Lo=Qc(g.stateNode.containerInfo.firstChild),Ro=g,an=!0,Ka=null,S=w7(g,null,$,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(bp(),$===z){g=Pl(d,g,S);break e}$i(d,g,$,S)}g=g.child}return g;case 5:return _7(g),d===null&&fA(g),$=g.type,z=g.pendingProps,G=d!==null?d.memoizedProps:null,ie=z.children,rA($,z)?ie=null:G!==null&&rA($,G)&&(g.flags|=32),iD(d,g),$i(d,g,ie,S),g.child;case 6:return d===null&&fA(g),null;case 13:return lD(d,g,S);case 4:return wA(g,g.stateNode.containerInfo),$=g.pendingProps,d===null?g.child=xp(g,null,$,S):$i(d,g,$,S),g.child;case 11:return $=g.type,z=g.pendingProps,z=g.elementType===$?z:Va($,z),eD(d,g,$,z,S);case 7:return $i(d,g,g.pendingProps,S),g.child;case 8:return $i(d,g,g.pendingProps.children,S),g.child;case 12:return $i(d,g,g.pendingProps.children,S),g.child;case 10:e:{if($=g.type._context,z=g.pendingProps,G=g.memoizedProps,ie=z.value,Gr(t1,$._currentValue),$._currentValue=ie,G!==null)if(Wa(G.value,ie)){if(G.children===z.children&&!oo.current){g=Pl(d,g,S);break e}}else for(G=g.child,G!==null&&(G.return=g);G!==null;){var me=G.dependencies;if(me!==null){ie=G.child;for(var Ee=me.firstContext;Ee!==null;){if(Ee.context===$){if(G.tag===1){Ee=Il(-1,S&-S),Ee.tag=2;var Be=G.updateQueue;if(Be!==null){Be=Be.shared;var et=Be.pending;et===null?Ee.next=Ee:(Ee.next=et.next,et.next=Ee),Be.pending=Ee}}G.lanes|=S,Ee=G.alternate,Ee!==null&&(Ee.lanes|=S),mA(G.return,S,g),me.lanes|=S;break}Ee=Ee.next}}else if(G.tag===10)ie=G.type===g.type?null:G.child;else if(G.tag===18){if(ie=G.return,ie===null)throw Error(r(341));ie.lanes|=S,me=ie.alternate,me!==null&&(me.lanes|=S),mA(ie,S,g),ie=G.sibling}else ie=G.child;if(ie!==null)ie.return=G;else for(ie=G;ie!==null;){if(ie===g){ie=null;break}if(G=ie.sibling,G!==null){G.return=ie.return,ie=G;break}ie=ie.return}G=ie}$i(d,g,z.children,S),g=g.child}return g;case 9:return z=g.type,$=g.pendingProps.children,Sp(g,S),z=sa(z),$=$(z),g.flags|=1,$i(d,g,$,S),g.child;case 14:return $=g.type,z=Va($,g.pendingProps),z=Va($.type,z),tD(d,g,$,z,S);case 15:return rD(d,g,g.type,g.pendingProps,S);case 17:return $=g.type,z=g.pendingProps,z=g.elementType===$?z:Va($,z),h1(d,g),g.tag=1,ao($)?(d=!0,Yb(g)):d=!1,Sp(g,S),V7(g,$,z),MA(g,$,z,S),DA(null,g,$,!0,d,S);case 19:return uD(d,g,S);case 22:return nD(d,g,S)}throw Error(r(156,g.tag))};function RD(d,g){return ip(d,g)}function Jce(d,g,S,$){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(d,g,S,$){return new Jce(d,g,S,$)}function rC(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Qce(d){if(typeof d=="function")return rC(d)?1:0;if(d!=null){if(d=d.$$typeof,d===b)return 11;if(d===C)return 14}return 2}function lu(d,g){var S=d.alternate;return S===null?(S=ua(d.tag,g,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=g,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,g=d.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function _1(d,g,S,$,z,G){var ie=2;if($=d,typeof d=="function")rC(d)&&(ie=1);else if(typeof d=="string")ie=5;else e:switch(d){case F:return ld(S.children,z,G,g);case N:ie=8,z|=8;break;case L:return d=ua(12,S,g,z|2),d.elementType=L,d.lanes=G,d;case x:return d=ua(13,S,g,z),d.elementType=x,d.lanes=G,d;case I:return d=ua(19,S,g,z),d.elementType=I,d.lanes=G,d;case j:return A1(S,z,G,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case B:ie=10;break e;case R:ie=9;break e;case b:ie=11;break e;case C:ie=14;break e;case T:ie=16,$=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return g=ua(ie,S,g,z),g.elementType=d,g.type=$,g.lanes=G,g}function ld(d,g,S,$){return d=ua(7,d,$,g),d.lanes=S,d}function A1(d,g,S,$){return d=ua(22,d,$,g),d.elementType=j,d.lanes=S,d.stateNode={isHidden:!1},d}function nC(d,g,S){return d=ua(6,d,null,g),d.lanes=S,d}function iC(d,g,S){return g=ua(4,d.children!==null?d.children:[],d.key,g),g.lanes=S,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function Xce(d,g,S,$,z){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T_(0),this.expirationTimes=T_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T_(0),this.identifierPrefix=$,this.onRecoverableError=z,this.mutableSourceEagerHydrationData=null}function oC(d,g,S,$,z,G,ie,me,Ee){return d=new Xce(d,g,S,me,Ee),g===1?(g=1,G===!0&&(g|=8)):g=0,G=ua(3,null,null,g),d.current=G,G.stateNode=d,G.memoizedState={element:$,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},vA(G),d}function Zce(d,g,S){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:$==null?null:""+$,children:d,containerInfo:g,implementation:S}}function LD(d){if(!d)return Zc;d=d._reactInternals;e:{if(yr(d)!==d||d.tag!==1)throw Error(r(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ao(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(r(171))}if(d.tag===1){var S=d.type;if(ao(S))return c7(d,S,g)}return g}function DD(d,g,S,$,z,G,ie,me,Ee){return d=oC(S,$,!0,d,z,G,ie,me,Ee),d.context=LD(null),S=d.current,$=Fi(),z=au(S),G=Il($,z),G.callback=g??null,ru(S,G,z),d.current.lanes=z,Am(d,z,$),co(d,$),d}function C1(d,g,S,$){var z=g.current,G=Fi(),ie=au(z);return S=LD(S),g.context===null?g.context=S:g.pendingContext=S,g=Il(G,ie),g.payload={element:d},$=$===void 0?null:$,$!==null&&(g.callback=$),d=ru(z,g,ie),d!==null&&(Ja(d,z,ie,G),n1(d,z,ie)),ie}function O1(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function BD(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<g?S:g}}function aC(d,g){BD(d,g),(d=d.alternate)&&BD(d,g)}function eue(){return null}var jD=typeof reportError=="function"?reportError:function(d){console.error(d)};function sC(d){this._internalRoot=d}I1.prototype.render=sC.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(r(409));C1(d,g,null,null)},I1.prototype.unmount=sC.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;od(function(){C1(null,d,null,null)}),g[Sl]=null}};function I1(d){this._internalRoot=d}I1.prototype.unstable_scheduleHydration=function(d){if(d){var g=xL();d={blockedOn:null,target:d,priority:g};for(var S=0;S<Gc.length&&g!==0&&g<Gc[S].priority;S++);Gc.splice(S,0,d),S===0&&_L(d)}};function lC(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function P1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function $D(){}function tue(d,g,S,$,z){if(z){if(typeof $=="function"){var G=$;$=function(){var Be=O1(ie);G.call(Be)}}var ie=DD(g,$,d,0,null,!1,!1,"",$D);return d._reactRootContainer=ie,d[Sl]=ie.current,$m(d.nodeType===8?d.parentNode:d),od(),ie}for(;z=d.lastChild;)d.removeChild(z);if(typeof $=="function"){var me=$;$=function(){var Be=O1(Ee);me.call(Be)}}var Ee=oC(d,0,!1,null,null,!1,!1,"",$D);return d._reactRootContainer=Ee,d[Sl]=Ee.current,$m(d.nodeType===8?d.parentNode:d),od(function(){C1(g,Ee,S,$)}),Ee}function k1(d,g,S,$,z){var G=S._reactRootContainer;if(G){var ie=G;if(typeof z=="function"){var me=z;z=function(){var Ee=O1(ie);me.call(Ee)}}C1(g,ie,d,z)}else ie=tue(S,g,d,z,$);return O1(ie)}wL=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var S=_m(g.pendingLanes);S!==0&&(M_(g,S|1),co(g,en()),(wr&6)===0&&(Ip=en()+500,eu()))}break;case 13:od(function(){var $=Ol(d,1);if($!==null){var z=Fi();Ja($,d,1,z)}}),aC(d,1)}},N_=function(d){if(d.tag===13){var g=Ol(d,134217728);if(g!==null){var S=Fi();Ja(g,d,134217728,S)}aC(d,134217728)}},bL=function(d){if(d.tag===13){var g=au(d),S=Ol(d,g);if(S!==null){var $=Fi();Ja(S,d,g,$)}aC(d,g)}},xL=function(){return jr},EL=function(d,g){var S=jr;try{return jr=d,g()}finally{jr=S}},mr=function(d,g,S){switch(g){case"input":if(xe(d,S),g=S.name,S.type==="radio"&&g!=null){for(S=d;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var $=S[g];if($!==d&&$.form===d.form){var z=Vb($);if(!z)throw Error(r(90));se($),xe($,z)}}}break;case"textarea":Ze(d,S);break;case"select":g=S.value,g!=null&&ke(d,!!S.multiple,g,!1)}},Rt=ZA,le=od;var rue={usingClientEntryPoint:!1,Events:[Hm,gp,Vb,qa,at,ZA]},ry={findFiberByHostInstance:Qf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nue={bundleType:ry.bundleType,version:ry.version,rendererPackageName:ry.rendererPackageName,rendererConfig:ry.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=mi(d),d===null?null:d.stateNode},findFiberByHostInstance:ry.findFiberByHostInstance||eue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T1.isDisabled&&T1.supportsFiber)try{zc=T1.inject(nue),io=T1}catch{}}return uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rue,uo.createPortal=function(d,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lC(g))throw Error(r(200));return Zce(d,g,null,S)},uo.createRoot=function(d,g){if(!lC(d))throw Error(r(299));var S=!1,$="",z=jD;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&($=g.identifierPrefix),g.onRecoverableError!==void 0&&(z=g.onRecoverableError)),g=oC(d,1,!1,null,null,S,!1,$,z),d[Sl]=g.current,$m(d.nodeType===8?d.parentNode:d),new sC(g)},uo.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=mi(g),d=d===null?null:d.stateNode,d},uo.flushSync=function(d){return od(d)},uo.hydrate=function(d,g,S){if(!P1(g))throw Error(r(200));return k1(null,d,g,!0,S)},uo.hydrateRoot=function(d,g,S){if(!lC(d))throw Error(r(405));var $=S!=null&&S.hydratedSources||null,z=!1,G="",ie=jD;if(S!=null&&(S.unstable_strictMode===!0&&(z=!0),S.identifierPrefix!==void 0&&(G=S.identifierPrefix),S.onRecoverableError!==void 0&&(ie=S.onRecoverableError)),g=DD(g,null,d,1,S??null,z,!1,G,ie),d[Sl]=g.current,$m(d),$)for(d=0;d<$.length;d++)S=$[d],z=S._getVersion,z=z(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,z]:g.mutableSourceEagerHydrationData.push(S,z);return new I1(g)},uo.render=function(d,g,S){if(!P1(g))throw Error(r(200));return k1(null,d,g,!1,S)},uo.unmountComponentAtNode=function(d){if(!P1(d))throw Error(r(40));return d._reactRootContainer?(od(function(){k1(null,null,d,!1,function(){d._reactRootContainer=null,d[Sl]=null})}),!0):!1},uo.unstable_batchedUpdates=ZA,uo.unstable_renderSubtreeIntoContainer=function(d,g,S,$){if(!P1(S))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return k1(d,g,S,!1,$)},uo.version="18.3.1-next-f1338f8080-20240426",uo}var QD;function yue(){if(QD)return hC.exports;QD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hC.exports=mue(),hC.exports}var XD;function vue(){if(XD)return N1;XD=1;var t=yue();return N1.createRoot=t.createRoot,N1.hydrateRoot=t.hydrateRoot,N1}var wQ=vue(),ye=tS();const _e=fr(ye);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),ZD=t=>{const e=bue(t);return e.charAt(0).toUpperCase()+e.slice(1)},bQ=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...s},l)=>ye.createElement("svg",{ref:l,...xue,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:bQ("lucide",i),...s},[...a.map(([c,u])=>ye.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(t,e)=>{const r=ye.forwardRef(({className:n,...i},o)=>ye.createElement(Eue,{ref:o,iconNode:e,className:bQ(`lucide-${wue(ZD(t))}`,`lucide-${t}`,n),...i}));return r.displayName=ZD(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_ue=yn("activity",Sue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],xQ=yn("arrow-down-left",Aue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],fN=yn("arrow-up-right",Cue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Iue=yn("briefcase",Oue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EQ=yn("calendar",Pue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Tue=yn("chart-pie",kue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nue=yn("clock",Mue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SQ=yn("credit-card",Rue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Due=yn("dollar-sign",Lue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jue=yn("history",Bue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Fue=yn("house",$ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Hue=yn("lock-open",Uue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zue=yn("lock",que);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Kue=yn("mail",Wue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gue=yn("map-pin",Vue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jue=yn("pen",Yue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Xue=yn("phone",Que);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],efe=yn("save",Zue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],rfe=yn("search",tfe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ife=yn("settings",nfe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],dN=yn("trending-up",ofe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_Q=yn("user",afe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lfe=yn("wallet",sfe);function cfe({activeTab:t,onTabChange:e}){const r=[{id:"overview",label:"Overview",icon:Fue},{id:"personal",label:"Personal Setup",icon:_Q},{id:"transactions",label:"Transactions",icon:SQ},{id:"history",label:"History",icon:jue},{id:"yield",label:"Yield",icon:dN},{id:"settings",label:"Settings",icon:ife}];return Y.jsxs("div",{className:"w-64 bg-white/10 backdrop-blur-sm p-6 min-h-screen",children:[Y.jsx("div",{className:"mb-8",children:Y.jsx("h2",{className:"text-white text-xl font-semibold mb-1",children:"Employee"})}),Y.jsx("nav",{className:"space-y-2",children:r.map(n=>{const i=n.icon;return Y.jsxs("button",{onClick:()=>e(n.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t===n.id?"bg-white text-purple-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[Y.jsx(i,{className:"w-5 h-5"}),Y.jsx("span",{children:n.label})]},n.id)})})]})}function R1({icon:t,title:e,value:r,subtitle:n,iconBg:i="bg-blue-400"}){return Y.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:Y.jsxs("div",{className:"flex items-start justify-between",children:[Y.jsxs("div",{className:"flex-1",children:[Y.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e}),Y.jsx("p",{className:"text-3xl font-semibold text-gray-900 mb-1",children:r}),n&&Y.jsx("p",{className:"text-sm text-gray-500",children:n})]}),Y.jsx("div",{className:`${i} p-3 rounded-xl text-white`,children:t})]})})}function AQ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=AQ(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=AQ(t))&&(n&&(n+=" "),n+=e);return n}var mC,eB;function Po(){if(eB)return mC;eB=1;var t=Array.isArray;return mC=t,mC}var yC,tB;function CQ(){if(tB)return yC;tB=1;var t=typeof yf=="object"&&yf&&yf.Object===Object&&yf;return yC=t,yC}var vC,rB;function xl(){if(rB)return vC;rB=1;var t=CQ(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return vC=r,vC}var wC,nB;function tb(){if(nB)return wC;nB=1;var t=xl(),e=t.Symbol;return wC=e,wC}var bC,iB;function ufe(){if(iB)return bC;iB=1;var t=tb(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=r.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=n.call(a);return c&&(s?a[i]=l:delete a[i]),u}return bC=o,bC}var xC,oB;function ffe(){if(oB)return xC;oB=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return xC=r,xC}var EC,aB;function Lc(){if(aB)return EC;aB=1;var t=tb(),e=ufe(),r=ffe(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:n:o&&o in Object(s)?e(s):r(s)}return EC=a,EC}var SC,sB;function Dc(){if(sB)return SC;sB=1;function t(e){return e!=null&&typeof e=="object"}return SC=t,SC}var _C,lB;function nm(){if(lB)return _C;lB=1;var t=Lc(),e=Dc(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return _C=n,_C}var AC,cB;function hN(){if(cB)return AC;cB=1;var t=Po(),e=nm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||a!=null&&o in Object(a)}return AC=i,AC}var CC,uB;function Hf(){if(uB)return CC;uB=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return CC=t,CC}var OC,fB;function pN(){if(fB)return OC;fB=1;var t=Lc(),e=Hf(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==o}return OC=a,OC}var IC,dB;function dfe(){if(dB)return IC;dB=1;var t=xl(),e=t["__core-js_shared__"];return IC=e,IC}var PC,hB;function hfe(){if(hB)return PC;hB=1;var t=dfe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return PC=r,PC}var kC,pB;function OQ(){if(pB)return kC;pB=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return kC=r,kC}var TC,gB;function pfe(){if(gB)return TC;gB=1;var t=pN(),e=hfe(),r=Hf(),n=OQ(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var p=t(h)?u:o;return p.test(n(h))}return TC=f,TC}var MC,mB;function gfe(){if(mB)return MC;mB=1;function t(e,r){return e==null?void 0:e[r]}return MC=t,MC}var NC,yB;function Hh(){if(yB)return NC;yB=1;var t=pfe(),e=gfe();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return NC=r,NC}var RC,vB;function rS(){if(vB)return RC;vB=1;var t=Hh(),e=t(Object,"create");return RC=e,RC}var LC,wB;function mfe(){if(wB)return LC;wB=1;var t=rS();function e(){this.__data__=t?t(null):{},this.size=0}return LC=e,LC}var DC,bB;function yfe(){if(bB)return DC;bB=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return DC=t,DC}var BC,xB;function vfe(){if(xB)return BC;xB=1;var t=rS(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var a=this.__data__;if(t){var s=a[o];return s===e?void 0:s}return n.call(a,o)?a[o]:void 0}return BC=i,BC}var jC,EB;function wfe(){if(EB)return jC;EB=1;var t=rS(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return jC=n,jC}var $C,SB;function bfe(){if(SB)return $C;SB=1;var t=rS(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return $C=r,$C}var FC,_B;function xfe(){if(_B)return FC;_B=1;var t=mfe(),e=yfe(),r=vfe(),n=wfe(),i=bfe();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,FC=o,FC}var UC,AB;function Efe(){if(AB)return UC;AB=1;function t(){this.__data__=[],this.size=0}return UC=t,UC}var HC,CB;function gN(){if(CB)return HC;CB=1;function t(e,r){return e===r||e!==e&&r!==r}return HC=t,HC}var qC,OB;function nS(){if(OB)return qC;OB=1;var t=gN();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return qC=e,qC}var zC,IB;function Sfe(){if(IB)return zC;IB=1;var t=nS(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():r.call(o,a,1),--this.size,!0}return zC=n,zC}var WC,PB;function _fe(){if(PB)return WC;PB=1;var t=nS();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return WC=e,WC}var KC,kB;function Afe(){if(kB)return KC;kB=1;var t=nS();function e(r){return t(this.__data__,r)>-1}return KC=e,KC}var VC,TB;function Cfe(){if(TB)return VC;TB=1;var t=nS();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return VC=e,VC}var GC,MB;function iS(){if(MB)return GC;MB=1;var t=Efe(),e=Sfe(),r=_fe(),n=Afe(),i=Cfe();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,GC=o,GC}var YC,NB;function mN(){if(NB)return YC;NB=1;var t=Hh(),e=xl(),r=t(e,"Map");return YC=r,YC}var JC,RB;function Ofe(){if(RB)return JC;RB=1;var t=xfe(),e=iS(),r=mN();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return JC=n,JC}var QC,LB;function Ife(){if(LB)return QC;LB=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return QC=t,QC}var XC,DB;function oS(){if(DB)return XC;DB=1;var t=Ife();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return XC=e,XC}var ZC,BB;function Pfe(){if(BB)return ZC;BB=1;var t=oS();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ZC=e,ZC}var eO,jB;function kfe(){if(jB)return eO;jB=1;var t=oS();function e(r){return t(this,r).get(r)}return eO=e,eO}var tO,$B;function Tfe(){if($B)return tO;$B=1;var t=oS();function e(r){return t(this,r).has(r)}return tO=e,tO}var rO,FB;function Mfe(){if(FB)return rO;FB=1;var t=oS();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return rO=e,rO}var nO,UB;function yN(){if(UB)return nO;UB=1;var t=Ofe(),e=Pfe(),r=kfe(),n=Tfe(),i=Mfe();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,nO=o,nO}var iO,HB;function IQ(){if(HB)return iO;HB=1;var t=yN(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=n.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(r.Cache||t),o}return r.Cache=t,iO=r,iO}var oO,qB;function Nfe(){if(qB)return oO;qB=1;var t=IQ(),e=500;function r(n){var i=t(n,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return oO=r,oO}var aO,zB;function Rfe(){if(zB)return aO;zB=1;var t=Nfe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,l,c){o.push(l?c.replace(r,"$1"):s||a)}),o});return aO=n,aO}var sO,WB;function vN(){if(WB)return sO;WB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return sO=t,sO}var lO,KB;function Lfe(){if(KB)return lO;KB=1;var t=tb(),e=vN(),r=Po(),n=nm(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(r(s))return e(s,a)+"";if(n(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return lO=a,lO}var cO,VB;function PQ(){if(VB)return cO;VB=1;var t=Lfe();function e(r){return r==null?"":t(r)}return cO=e,cO}var uO,GB;function kQ(){if(GB)return uO;GB=1;var t=Po(),e=hN(),r=Rfe(),n=PQ();function i(o,a){return t(o)?o:e(o,a)?[o]:r(n(o))}return uO=i,uO}var fO,YB;function aS(){if(YB)return fO;YB=1;var t=nm();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return fO=e,fO}var dO,JB;function wN(){if(JB)return dO;JB=1;var t=kQ(),e=aS();function r(n,i){i=t(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[e(i[o++])];return o&&o==a?n:void 0}return dO=r,dO}var hO,QB;function TQ(){if(QB)return hO;QB=1;var t=wN();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return hO=e,hO}var Dfe=TQ();const $a=fr(Dfe);var pO,XB;function Bfe(){if(XB)return pO;XB=1;function t(e){return e==null}return pO=t,pO}var jfe=Bfe();const gr=fr(jfe);var gO,ZB;function $fe(){if(ZB)return gO;ZB=1;var t=Lc(),e=Po(),r=Dc(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return gO=i,gO}var Ffe=$fe();const rb=fr(Ffe);var Ufe=pN();const Jt=fr(Ufe);var Hfe=Hf();const im=fr(Hfe);var mO={exports:{}},Ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function qfe(){if(ej)return Ir;ej=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case t:switch(v=v.type,v){case r:case i:case n:case c:case u:return v;default:switch(v=v&&v.$$typeof,v){case s:case a:case l:case h:case f:case o:return v;default:return w}}case e:return w}}}return Ir.ContextConsumer=a,Ir.ContextProvider=o,Ir.Element=t,Ir.ForwardRef=l,Ir.Fragment=r,Ir.Lazy=h,Ir.Memo=f,Ir.Portal=e,Ir.Profiler=i,Ir.StrictMode=n,Ir.Suspense=c,Ir.SuspenseList=u,Ir.isAsyncMode=function(){return!1},Ir.isConcurrentMode=function(){return!1},Ir.isContextConsumer=function(v){return m(v)===a},Ir.isContextProvider=function(v){return m(v)===o},Ir.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Ir.isForwardRef=function(v){return m(v)===l},Ir.isFragment=function(v){return m(v)===r},Ir.isLazy=function(v){return m(v)===h},Ir.isMemo=function(v){return m(v)===f},Ir.isPortal=function(v){return m(v)===e},Ir.isProfiler=function(v){return m(v)===i},Ir.isStrictMode=function(v){return m(v)===n},Ir.isSuspense=function(v){return m(v)===c},Ir.isSuspenseList=function(v){return m(v)===u},Ir.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===c||v===u||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===f||v.$$typeof===o||v.$$typeof===a||v.$$typeof===l||v.$$typeof===y||v.getModuleId!==void 0)},Ir.typeOf=m,Ir}var tj;function zfe(){return tj||(tj=1,mO.exports=qfe()),mO.exports}var Wfe=zfe(),yO,rj;function MQ(){if(rj)return yO;rj=1;var t=Lc(),e=Dc(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return yO=n,yO}var vO,nj;function Kfe(){if(nj)return vO;nj=1;var t=MQ();function e(r){return t(r)&&r!=+r}return vO=e,vO}var Vfe=Kfe();const om=fr(Vfe);var Gfe=MQ();const Yfe=fr(Gfe);var ys=function(e){return e===0?0:e>0?1:-1},$d=function(e){return rb(e)&&e.indexOf("%")===e.length-1},ut=function(e){return Yfe(e)&&!om(e)},$n=function(e){return ut(e)||rb(e)},Jfe=0,nb=function(e){var r=++Jfe;return"".concat(e||"").concat(r)},Ih=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(e)&&!rb(e))return n;var o;if($d(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return om(o)&&(o=n),i&&o>r&&(o=r),o},Uu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Qfe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},La=function(e,r){return ut(e)&&ut(r)?function(n){return e+n*(r-e)}:function(){return r}};function V2(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$a(n,e))===r})}function w0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function X6(t){"@babel/helpers - typeof";return X6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X6(t)}var Xfe=["viewBox","children"],Zfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ij=["points","pathLength"],wO={svg:Xfe,polygon:ij,polyline:ij},bN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G2=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(ye.isValidElement(e)&&(n=e.props),!im(n))return null;var i={};return Object.keys(n).forEach(function(o){bN.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},ede=function(e,r,n){return function(i){return e(r,n,i),null}},Y2=function(e,r,n){if(!im(e)||X6(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];bN.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=ede(a,r,n))}),i},tde=["children"],rde=["children"];function oj(t,e){if(t==null)return{};var r=nde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z6(t){"@babel/helpers - typeof";return Z6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z6(t)}var aj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sj=null,bO=null,xN=function t(e){if(e===sj&&Array.isArray(bO))return bO;var r=[];return ye.Children.forEach(e,function(n){gr(n)||(Wfe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),bO=r,sj=e,r};function bs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return yc(i)}):n=[yc(e)],xN(t).forEach(function(i){var o=$a(i,"type.displayName")||$a(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Go(t,e){var r=bs(t,e);return r&&r[0]}var lj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ut(n)||n<=0||!ut(i)||i<=0)},ide=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ode=function(e){return e&&e.type&&rb(e.type)&&ide.indexOf(e.type)>=0},ade=function(e){return e&&Z6(e)==="object"&&"clipDot"in e},sde=function(e,r,n,i){var o,a=(o=wO==null?void 0:wO[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Jt(e)&&(i&&a.includes(r)||Zfe.includes(r))||n&&bN.includes(r)},ur=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ye.isValidElement(e)&&(i=e.props),!im(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;sde((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},e5=function t(e,r){if(e===r)return!0;var n=ye.Children.count(e);if(n!==ye.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cj(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!cj(o,a))return!1}return!0},cj=function(e,r){if(gr(e)&&gr(r))return!0;if(!gr(e)&&!gr(r)){var n=e.props||{},i=n.children,o=oj(n,tde),a=r.props||{},s=a.children,l=oj(a,rde);return i&&s?w0(o,l)&&e5(i,s):!i&&!s?w0(o,l):!1}return!1},uj=function(e,r){var n=[],i={};return xN(e).forEach(function(o,a){if(ode(o))n.push(o);else if(o){var s=yc(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);n.push(f),i[s]=!0}}}),n},lde=function(e){var r=e&&e.type;return r&&aj[r]?aj[r]:null},cde=function(e,r){return xN(r).indexOf(e)},ude=["children","width","height","viewBox","className","style","title","desc"];function t5(){return t5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t5.apply(this,arguments)}function fde(t,e){if(t==null)return{};var r=dde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r5(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=fde(t,ude),u=i||{width:r,height:n,x:0,y:0},f=xr("recharts-surface",o);return _e.createElement("svg",t5({},ur(c,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),_e.createElement("title",null,s),_e.createElement("desc",null,l),e)}var hde=["children","className"];function n5(){return n5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n5.apply(this,arguments)}function pde(t,e){if(t==null)return{};var r=gde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gn=_e.forwardRef(function(t,e){var r=t.children,n=t.className,i=pde(t,hde),o=xr("recharts-layer",n);return _e.createElement("g",n5({className:o},ur(i,!0),{ref:e}),r)}),vc=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},xO,fj;function mde(){if(fj)return xO;fj=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+r];return a}return xO=t,xO}var EO,dj;function yde(){if(dj)return EO;dj=1;var t=mde();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return EO=e,EO}var SO,hj;function NQ(){if(hj)return SO;hj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+t+i+o+"]");function l(c){return s.test(c)}return SO=l,SO}var _O,pj;function vde(){if(pj)return _O;pj=1;function t(e){return e.split("")}return _O=t,_O}var AO,gj;function wde(){if(gj)return AO;gj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",m="["+o+"]?",v="(?:"+p+"(?:"+[u,f,h].join("|")+")"+m+y+")*",w=m+y+v,A="(?:"+[u+s+"?",s,f,h,a].join("|")+")",_=RegExp(l+"(?="+l+")|"+A+w,"g");function D(P){return P.match(_)||[]}return AO=D,AO}var CO,mj;function bde(){if(mj)return CO;mj=1;var t=vde(),e=NQ(),r=wde();function n(i){return e(i)?r(i):t(i)}return CO=n,CO}var OO,yj;function xde(){if(yj)return OO;yj=1;var t=yde(),e=NQ(),r=bde(),n=PQ();function i(o){return function(a){a=n(a);var s=e(a)?r(a):void 0,l=s?s[0]:a.charAt(0),c=s?t(s,1).join(""):a.slice(1);return l[o]()+c}}return OO=i,OO}var IO,vj;function Ede(){if(vj)return IO;vj=1;var t=xde(),e=t("toUpperCase");return IO=e,IO}var Sde=Ede();const sS=fr(Sde);function Yr(t){return function(){return t}}const RQ=Math.cos,J2=Math.sin,Ss=Math.sqrt,Q2=Math.PI,lS=2*Q2,i5=Math.PI,o5=2*i5,Id=1e-6,_de=o5-Id;function LQ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ade(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LQ;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Cde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LQ:Ade(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,c=i-r,u=a-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Id)if(!(Math.abs(f*l-c*u)>Id)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,y=i-s,m=l*l+c*c,v=p*p+y*y,w=Math.sqrt(m),A=Math.sqrt(h),_=o*Math.tan((i5-Math.acos((m+h-v)/(2*w*A)))/2),D=_/A,P=_/w;Math.abs(D-1)>Id&&this._append`L${e+D*u},${r+D*f}`,this._append`A${o},${o},0,0,${+(f*p>u*y)},${this._x1=e+P*l},${this._y1=r+P*c}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Id||Math.abs(this._y1-u)>Id)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%o5+o5),h>_de?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Id&&this._append`A${n},${n},0,${+(h>=i5)},${f},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function EN(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Cde(e)}function SN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DQ(t){this._context=t}DQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cS(t){return new DQ(t)}function BQ(t){return t[0]}function jQ(t){return t[1]}function $Q(t,e){var r=Yr(!0),n=null,i=cS,o=null,a=EN(s);t=typeof t=="function"?t:t===void 0?BQ:Yr(t),e=typeof e=="function"?e:e===void 0?jQ:Yr(e);function s(l){var c,u=(l=SN(l)).length,f,h=!1,p;for(n==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Yr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Yr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Yr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function L1(t,e,r){var n=null,i=Yr(!0),o=null,a=cS,s=null,l=EN(c);t=typeof t=="function"?t:t===void 0?BQ:Yr(+t),e=typeof e=="function"?e:Yr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jQ:Yr(+r);function c(f){var h,p,y,m=(f=SN(f)).length,v,w=!1,A,_=new Array(m),D=new Array(m);for(o==null&&(s=a(A=l())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(_[y],D[y]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(v,h,f),D[h]=+e(v,h,f),s.point(n?+n(v,h,f):_[h],r?+r(v,h,f):D[h]))}if(A)return s=null,A+""||null}function u(){return $Q().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Yr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class FQ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ode(t){return new FQ(t,!0)}function Ide(t){return new FQ(t,!1)}const _N={draw(t,e){const r=Ss(e/Q2);t.moveTo(r,0),t.arc(0,0,r,0,lS)}},Pde={draw(t,e){const r=Ss(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},UQ=Ss(1/3),kde=UQ*2,Tde={draw(t,e){const r=Ss(e/kde),n=r*UQ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Mde={draw(t,e){const r=Ss(e),n=-r/2;t.rect(n,n,r,r)}},Nde=.8908130915292852,HQ=J2(Q2/10)/J2(7*Q2/10),Rde=J2(lS/10)*HQ,Lde=-RQ(lS/10)*HQ,Dde={draw(t,e){const r=Ss(e*Nde),n=Rde*r,i=Lde*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=lS*o/5,s=RQ(a),l=J2(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},PO=Ss(3),Bde={draw(t,e){const r=-Ss(e/(PO*3));t.moveTo(0,r*2),t.lineTo(-PO*r,-r),t.lineTo(PO*r,-r),t.closePath()}},fa=-.5,da=Ss(3)/2,a5=1/Ss(12),jde=(a5/2+1)*3,$de={draw(t,e){const r=Ss(e/jde),n=r/2,i=r*a5,o=n,a=r*a5+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(fa*n-da*i,da*n+fa*i),t.lineTo(fa*o-da*a,da*o+fa*a),t.lineTo(fa*s-da*l,da*s+fa*l),t.lineTo(fa*n+da*i,fa*i-da*n),t.lineTo(fa*o+da*a,fa*a-da*o),t.lineTo(fa*s+da*l,fa*l-da*s),t.closePath()}};function Fde(t,e){let r=null,n=EN(i);t=typeof t=="function"?t:Yr(t||_N),e=typeof e=="function"?e:Yr(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Yr(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Yr(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function X2(){}function Z2(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qQ(t){this._context=t}qQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ude(t){return new qQ(t)}function zQ(t){this._context=t}zQ.prototype={areaStart:X2,areaEnd:X2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Z2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hde(t){return new zQ(t)}function WQ(t){this._context=t}WQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Z2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qde(t){return new WQ(t)}function KQ(t){this._context=t}KQ.prototype={areaStart:X2,areaEnd:X2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zde(t){return new KQ(t)}function wj(t){return t<0?-1:1}function bj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(wj(o)+wj(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function kO(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function eE(t){this._context=t}eE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kO(this,this._t0,xj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kO(this,xj(this,r=bj(this,t,e)),r);break;default:kO(this,this._t0,r=bj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function VQ(t){this._context=new GQ(t)}(VQ.prototype=Object.create(eE.prototype)).point=function(t,e){eE.prototype.point.call(this,e,t)};function GQ(t){this._context=t}GQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function Wde(t){return new eE(t)}function Kde(t){return new VQ(t)}function YQ(t){this._context=t}YQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Ej(t),i=Ej(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ej(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Vde(t){return new YQ(t)}function uS(t,e){this._context=t,this._t=e}uS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Gde(t){return new uS(t,.5)}function Yde(t){return new uS(t,0)}function Jde(t){return new uS(t,1)}function Eg(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function s5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Qde(t,e){return t[e]}function Xde(t){const e=[];return e.key=t,e}function Zde(){var t=Yr([]),e=s5,r=Eg,n=Qde;function i(o){var a=Array.from(t.apply(this,arguments),Xde),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(f,a[s].key,c,o)]).data=f;for(s=0,u=SN(e(a));s<l;++s)a[u[s]].index=s;return r(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Yr(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Yr(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?s5:typeof o=="function"?o:Yr(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Eg,i):r},i}function ehe(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Eg(t,e)}}function the(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}Eg(t,e)}}function rhe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var m=t[e[y]],v=m[n][1]||0,w=m[n-1][1]||0;p+=v-w}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Eg(t,e)}}function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}var nhe=["type","size","sizeType"];function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ihe(t,e,r){return e=ohe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=ahe(t,"string");return Sv(e)=="symbol"?e:e+""}function ahe(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function she(t,e){if(t==null)return{};var r=lhe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var JQ={symbolCircle:_N,symbolCross:Pde,symbolDiamond:Tde,symbolSquare:Mde,symbolStar:Dde,symbolTriangle:Bde,symbolWye:$de},che=Math.PI/180,uhe=function(e){var r="symbol".concat(sS(e));return JQ[r]||_N},fhe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*che;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dhe=function(e,r){JQ["symbol".concat(sS(e))]=r},AN=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=she(e,nhe),c=_j(_j({},l),{},{type:n,size:o,sizeType:s}),u=function(){var v=uhe(n),w=Fde().type(v).size(fhe(o,s,n));return w()},f=c.className,h=c.cx,p=c.cy,y=ur(c,!0);return h===+h&&p===+p&&o===+o?_e.createElement("path",l5({},y,{className:xr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};AN.registerSymbol=dhe;function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function c5(){return c5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c5.apply(this,arguments)}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){_v(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ghe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XQ(n.key),n)}}function mhe(t,e,r){return e&&ghe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,r){return e=tE(e),vhe(t,QQ()?Reflect.construct(e,r||[],tE(t).constructor):e.apply(t,r))}function vhe(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return whe(t)}function whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QQ=function(){return!!t})()}function tE(t){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tE(t)}function bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u5(t,e)}function u5(t,e){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u5(t,e)}function _v(t,e,r){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XQ(t){var e=xhe(t,"string");return Sg(e)=="symbol"?e:e+""}function xhe(t,e){if(Sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ha=32,CN=(function(t){function e(){return phe(this,e),yhe(this,e,arguments)}return bhe(e,t),mhe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=ha/2,a=ha/6,s=ha/3,l=n.inactive?i:n.color;if(n.type==="plainline")return _e.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ha,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return _e.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ha,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return _e.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if(_e.isValidElement(n.legendIcon)){var c=hhe({},n);return delete c.legendIcon,_e.cloneElement(n.legendIcon,c)}return _e.createElement(AN,{fill:l,cx:o,cy:o,size:ha,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ha,height:ha},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var m=p.formatter||l,v=xr(_v(_v({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Jt(p.value)?null:p.value;vc(!Jt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=p.inactive?c:p.color;return _e.createElement("li",c5({className:v,style:f,key:"legend-item-".concat(y)},Y2(n.props,p,y)),_e.createElement(r5,{width:a,height:a,viewBox:u,style:h},n.renderIcon(p)),_e.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},m?m(w,p,y):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return _e.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(ye.PureComponent);_v(CN,"displayName","Legend");_v(CN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var TO,Cj;function Ehe(){if(Cj)return TO;Cj=1;var t=iS();function e(){this.__data__=new t,this.size=0}return TO=e,TO}var MO,Oj;function She(){if(Oj)return MO;Oj=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return MO=t,MO}var NO,Ij;function _he(){if(Ij)return NO;Ij=1;function t(e){return this.__data__.get(e)}return NO=t,NO}var RO,Pj;function Ahe(){if(Pj)return RO;Pj=1;function t(e){return this.__data__.has(e)}return RO=t,RO}var LO,kj;function Che(){if(kj)return LO;kj=1;var t=iS(),e=mN(),r=yN(),n=200;function i(o,a){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(o,a),this.size=s.size,this}return LO=i,LO}var DO,Tj;function ZQ(){if(Tj)return DO;Tj=1;var t=iS(),e=Ehe(),r=She(),n=_he(),i=Ahe(),o=Che();function a(s){var l=this.__data__=new t(s);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,DO=a,DO}var BO,Mj;function Ohe(){if(Mj)return BO;Mj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return BO=e,BO}var jO,Nj;function Ihe(){if(Nj)return jO;Nj=1;function t(e){return this.__data__.has(e)}return jO=t,jO}var $O,Rj;function eX(){if(Rj)return $O;Rj=1;var t=yN(),e=Ohe(),r=Ihe();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,$O=n,$O}var FO,Lj;function tX(){if(Lj)return FO;Lj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return FO=t,FO}var UO,Dj;function rX(){if(Dj)return UO;Dj=1;function t(e,r){return e.has(r)}return UO=t,UO}var HO,Bj;function nX(){if(Bj)return HO;Bj=1;var t=eX(),e=tX(),r=rX(),n=1,i=2;function o(a,s,l,c,u,f){var h=l&n,p=a.length,y=s.length;if(p!=y&&!(h&&y>p))return!1;var m=f.get(a),v=f.get(s);if(m&&v)return m==s&&v==a;var w=-1,A=!0,_=l&i?new t:void 0;for(f.set(a,s),f.set(s,a);++w<p;){var D=a[w],P=s[w];if(c)var U=h?c(P,D,w,s,a,f):c(D,P,w,a,s,f);if(U!==void 0){if(U)continue;A=!1;break}if(_){if(!e(s,function(F,N){if(!r(_,N)&&(D===F||u(D,F,l,c,f)))return _.push(N)})){A=!1;break}}else if(!(D===P||u(D,P,l,c,f))){A=!1;break}}return f.delete(a),f.delete(s),A}return HO=o,HO}var qO,jj;function Phe(){if(jj)return qO;jj=1;var t=xl(),e=t.Uint8Array;return qO=e,qO}var zO,$j;function khe(){if($j)return zO;$j=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return zO=t,zO}var WO,Fj;function ON(){if(Fj)return WO;Fj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return WO=t,WO}var KO,Uj;function The(){if(Uj)return KO;Uj=1;var t=tb(),e=Phe(),r=gN(),n=nX(),i=khe(),o=ON(),a=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",v="[object Symbol]",w="[object ArrayBuffer]",A="[object DataView]",_=t?t.prototype:void 0,D=_?_.valueOf:void 0;function P(U,F,N,L,B,R,b){switch(N){case A:if(U.byteLength!=F.byteLength||U.byteOffset!=F.byteOffset)return!1;U=U.buffer,F=F.buffer;case w:return!(U.byteLength!=F.byteLength||!R(new e(U),new e(F)));case l:case c:case h:return r(+U,+F);case u:return U.name==F.name&&U.message==F.message;case p:case m:return U==F+"";case f:var x=i;case y:var I=L&a;if(x||(x=o),U.size!=F.size&&!I)return!1;var C=b.get(U);if(C)return C==F;L|=s,b.set(U,F);var T=n(x(U),x(F),L,B,R,b);return b.delete(U),T;case v:if(D)return D.call(U)==D.call(F)}return!1}return KO=P,KO}var VO,Hj;function iX(){if(Hj)return VO;Hj=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return VO=t,VO}var GO,qj;function Mhe(){if(qj)return GO;qj=1;var t=iX(),e=Po();function r(n,i,o){var a=i(n);return e(n)?a:t(a,o(n))}return GO=r,GO}var YO,zj;function Nhe(){if(zj)return YO;zj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,a=[];++n<i;){var s=e[n];r(s,n,e)&&(a[o++]=s)}return a}return YO=t,YO}var JO,Wj;function Rhe(){if(Wj)return JO;Wj=1;function t(){return[]}return JO=t,JO}var QO,Kj;function Lhe(){if(Kj)return QO;Kj=1;var t=Nhe(),e=Rhe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(s){return n.call(a,s)}))}:e;return QO=o,QO}var XO,Vj;function Dhe(){if(Vj)return XO;Vj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return XO=t,XO}var ZO,Gj;function Bhe(){if(Gj)return ZO;Gj=1;var t=Lc(),e=Dc(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return ZO=n,ZO}var eI,Yj;function IN(){if(Yj)return eI;Yj=1;var t=Bhe(),e=Dc(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return eI=o,eI}var Dy={exports:{}},tI,Jj;function jhe(){if(Jj)return tI;Jj=1;function t(){return!1}return tI=t,tI}Dy.exports;var Qj;function oX(){return Qj||(Qj=1,(function(t,e){var r=xl(),n=jhe(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Dy,Dy.exports)),Dy.exports}var rI,Xj;function PN(){if(Xj)return rI;Xj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return rI=r,rI}var nI,Zj;function kN(){if(Zj)return nI;Zj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return nI=e,nI}var iI,e$;function $he(){if(e$)return iI;e$=1;var t=Lc(),e=kN(),r=Dc(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",_="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",N="[object Uint8ClampedArray]",L="[object Uint16Array]",B="[object Uint32Array]",R={};R[A]=R[_]=R[D]=R[P]=R[U]=R[F]=R[N]=R[L]=R[B]=!0,R[n]=R[i]=R[v]=R[o]=R[w]=R[a]=R[s]=R[l]=R[c]=R[u]=R[f]=R[h]=R[p]=R[y]=R[m]=!1;function b(x){return r(x)&&e(x.length)&&!!R[t(x)]}return iI=b,iI}var oI,t$;function aX(){if(t$)return oI;t$=1;function t(e){return function(r){return e(r)}}return oI=t,oI}var By={exports:{}};By.exports;var r$;function Fhe(){return r$||(r$=1,(function(t,e){var r=CQ(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=s})(By,By.exports)),By.exports}var aI,n$;function sX(){if(n$)return aI;n$=1;var t=$he(),e=aX(),r=Fhe(),n=r&&r.isTypedArray,i=n?e(n):t;return aI=i,aI}var sI,i$;function Uhe(){if(i$)return sI;i$=1;var t=Dhe(),e=IN(),r=Po(),n=oX(),i=PN(),o=sX(),a=Object.prototype,s=a.hasOwnProperty;function l(c,u){var f=r(c),h=!f&&e(c),p=!f&&!h&&n(c),y=!f&&!h&&!p&&o(c),m=f||h||p||y,v=m?t(c.length,String):[],w=v.length;for(var A in c)(u||s.call(c,A))&&!(m&&(A=="length"||p&&(A=="offset"||A=="parent")||y&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&v.push(A);return v}return sI=l,sI}var lI,o$;function Hhe(){if(o$)return lI;o$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return lI=e,lI}var cI,a$;function lX(){if(a$)return cI;a$=1;function t(e,r){return function(n){return e(r(n))}}return cI=t,cI}var uI,s$;function qhe(){if(s$)return uI;s$=1;var t=lX(),e=t(Object.keys,Object);return uI=e,uI}var fI,l$;function zhe(){if(l$)return fI;l$=1;var t=Hhe(),e=qhe(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&a.push(s);return a}return fI=i,fI}var dI,c$;function ib(){if(c$)return dI;c$=1;var t=pN(),e=kN();function r(n){return n!=null&&e(n.length)&&!t(n)}return dI=r,dI}var hI,u$;function fS(){if(u$)return hI;u$=1;var t=Uhe(),e=zhe(),r=ib();function n(i){return r(i)?t(i):e(i)}return hI=n,hI}var pI,f$;function Whe(){if(f$)return pI;f$=1;var t=Mhe(),e=Lhe(),r=fS();function n(i){return t(i,r,e)}return pI=n,pI}var gI,d$;function Khe(){if(d$)return gI;d$=1;var t=Whe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,s,l,c,u){var f=s&e,h=t(o),p=h.length,y=t(a),m=y.length;if(p!=m&&!f)return!1;for(var v=p;v--;){var w=h[v];if(!(f?w in a:n.call(a,w)))return!1}var A=u.get(o),_=u.get(a);if(A&&_)return A==a&&_==o;var D=!0;u.set(o,a),u.set(a,o);for(var P=f;++v<p;){w=h[v];var U=o[w],F=a[w];if(l)var N=f?l(F,U,w,a,o,u):l(U,F,w,o,a,u);if(!(N===void 0?U===F||c(U,F,s,l,u):N)){D=!1;break}P||(P=w=="constructor")}if(D&&!P){var L=o.constructor,B=a.constructor;L!=B&&"constructor"in o&&"constructor"in a&&!(typeof L=="function"&&L instanceof L&&typeof B=="function"&&B instanceof B)&&(D=!1)}return u.delete(o),u.delete(a),D}return gI=i,gI}var mI,h$;function Vhe(){if(h$)return mI;h$=1;var t=Hh(),e=xl(),r=t(e,"DataView");return mI=r,mI}var yI,p$;function Ghe(){if(p$)return yI;p$=1;var t=Hh(),e=xl(),r=t(e,"Promise");return yI=r,yI}var vI,g$;function cX(){if(g$)return vI;g$=1;var t=Hh(),e=xl(),r=t(e,"Set");return vI=r,vI}var wI,m$;function Yhe(){if(m$)return wI;m$=1;var t=Hh(),e=xl(),r=t(e,"WeakMap");return wI=r,wI}var bI,y$;function Jhe(){if(y$)return bI;y$=1;var t=Vhe(),e=mN(),r=Ghe(),n=cX(),i=Yhe(),o=Lc(),a=OQ(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),y=a(e),m=a(r),v=a(n),w=a(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=h||e&&A(new e)!=s||r&&A(r.resolve())!=c||n&&A(new n)!=u||i&&A(new i)!=f)&&(A=function(_){var D=o(_),P=D==l?_.constructor:void 0,U=P?a(P):"";if(U)switch(U){case p:return h;case y:return s;case m:return c;case v:return u;case w:return f}return D}),bI=A,bI}var xI,v$;function Qhe(){if(v$)return xI;v$=1;var t=ZQ(),e=nX(),r=The(),n=Khe(),i=Jhe(),o=Po(),a=oX(),s=sX(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(m,v,w,A,_,D){var P=o(m),U=o(v),F=P?u:i(m),N=U?u:i(v);F=F==c?f:F,N=N==c?f:N;var L=F==f,B=N==f,R=F==N;if(R&&a(m)){if(!a(v))return!1;P=!0,L=!1}if(R&&!L)return D||(D=new t),P||s(m)?e(m,v,w,A,_,D):r(m,v,F,w,A,_,D);if(!(w&l)){var b=L&&p.call(m,"__wrapped__"),x=B&&p.call(v,"__wrapped__");if(b||x){var I=b?m.value():m,C=x?v.value():v;return D||(D=new t),_(I,C,w,A,D)}}return R?(D||(D=new t),n(m,v,w,A,_,D)):!1}return xI=y,xI}var EI,w$;function TN(){if(w$)return EI;w$=1;var t=Qhe(),e=Dc();function r(n,i,o,a,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,a,r,s)}return EI=r,EI}var SI,b$;function Xhe(){if(b$)return SI;b$=1;var t=ZQ(),e=TN(),r=1,n=2;function i(o,a,s,l){var c=s.length,u=c,f=!l;if(o==null)return!u;for(o=Object(o);c--;){var h=s[c];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<u;){h=s[c];var p=h[0],y=o[p],m=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var v=new t;if(l)var w=l(y,m,p,o,a,v);if(!(w===void 0?e(m,y,r|n,l,v):w))return!1}}return!0}return SI=i,SI}var _I,x$;function uX(){if(x$)return _I;x$=1;var t=Hf();function e(r){return r===r&&!t(r)}return _I=e,_I}var AI,E$;function Zhe(){if(E$)return AI;E$=1;var t=uX(),e=fS();function r(n){for(var i=e(n),o=i.length;o--;){var a=i[o],s=n[a];i[o]=[a,s,t(s)]}return i}return AI=r,AI}var CI,S$;function fX(){if(S$)return CI;S$=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return CI=t,CI}var OI,_$;function epe(){if(_$)return OI;_$=1;var t=Xhe(),e=Zhe(),r=fX();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return OI=n,OI}var II,A$;function tpe(){if(A$)return II;A$=1;function t(e,r){return e!=null&&r in Object(e)}return II=t,II}var PI,C$;function rpe(){if(C$)return PI;C$=1;var t=kQ(),e=IN(),r=Po(),n=PN(),i=kN(),o=aS();function a(s,l,c){l=t(l,s);for(var u=-1,f=l.length,h=!1;++u<f;){var p=o(l[u]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++u!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&n(p,f)&&(r(s)||e(s)))}return PI=a,PI}var kI,O$;function npe(){if(O$)return kI;O$=1;var t=tpe(),e=rpe();function r(n,i){return n!=null&&e(n,i,t)}return kI=r,kI}var TI,I$;function ipe(){if(I$)return TI;I$=1;var t=TN(),e=TQ(),r=npe(),n=hN(),i=uX(),o=fX(),a=aS(),s=1,l=2;function c(u,f){return n(u)&&i(f)?o(a(u),f):function(h){var p=e(h,u);return p===void 0&&p===f?r(h,u):t(f,p,s|l)}}return TI=c,TI}var MI,P$;function am(){if(P$)return MI;P$=1;function t(e){return e}return MI=t,MI}var NI,k$;function ope(){if(k$)return NI;k$=1;function t(e){return function(r){return r==null?void 0:r[e]}}return NI=t,NI}var RI,T$;function ape(){if(T$)return RI;T$=1;var t=wN();function e(r){return function(n){return t(n,r)}}return RI=e,RI}var LI,M$;function spe(){if(M$)return LI;M$=1;var t=ope(),e=ape(),r=hN(),n=aS();function i(o){return r(o)?t(n(o)):e(o)}return LI=i,LI}var DI,N$;function qf(){if(N$)return DI;N$=1;var t=epe(),e=ipe(),r=am(),n=Po(),i=spe();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return DI=o,DI}var BI,R$;function dX(){if(R$)return BI;R$=1;function t(e,r,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(e[a],a,e))return a;return-1}return BI=t,BI}var jI,L$;function lpe(){if(L$)return jI;L$=1;function t(e){return e!==e}return jI=t,jI}var $I,D$;function cpe(){if(D$)return $I;D$=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return $I=t,$I}var FI,B$;function upe(){if(B$)return FI;B$=1;var t=dX(),e=lpe(),r=cpe();function n(i,o,a){return o===o?r(i,o,a):t(i,e,a)}return FI=n,FI}var UI,j$;function fpe(){if(j$)return UI;j$=1;var t=upe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return UI=e,UI}var HI,$$;function dpe(){if($$)return HI;$$=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return HI=t,HI}var qI,F$;function hpe(){if(F$)return qI;F$=1;function t(){}return qI=t,qI}var zI,U$;function ppe(){if(U$)return zI;U$=1;var t=cX(),e=hpe(),r=ON(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return zI=i,zI}var WI,H$;function gpe(){if(H$)return WI;H$=1;var t=eX(),e=fpe(),r=dpe(),n=rX(),i=ppe(),o=ON(),a=200;function s(l,c,u){var f=-1,h=e,p=l.length,y=!0,m=[],v=m;if(u)y=!1,h=r;else if(p>=a){var w=c?null:i(l);if(w)return o(w);y=!1,h=n,v=new t}else v=c?[]:m;e:for(;++f<p;){var A=l[f],_=c?c(A):A;if(A=u||A!==0?A:0,y&&_===_){for(var D=v.length;D--;)if(v[D]===_)continue e;c&&v.push(_),m.push(A)}else h(v,_,u)||(v!==m&&v.push(_),m.push(A))}return m}return WI=s,WI}var KI,q$;function mpe(){if(q$)return KI;q$=1;var t=qf(),e=gpe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return KI=r,KI}var ype=mpe();const z$=fr(ype);function hX(t,e,r){return e===!0?z$(t,r):Jt(e)?z$(t,e):t}function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}var vpe=["ref"];function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){dS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function bpe(t,e,r){return e&&K$(t.prototype,e),r&&K$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpe(t,e,r){return e=rE(e),Epe(t,pX()?Reflect.construct(e,r||[],rE(t).constructor):e.apply(t,r))}function Epe(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(t)}function Spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function rE(t){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rE(t)}function _pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function dS(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=Ape(t,"string");return _g(e)=="symbol"?e:e+""}function Ape(t,e){if(_g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cpe(t,e){if(t==null)return{};var r=Ope(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ope(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ipe(t){return t.value}function Ppe(t,e){if(_e.isValidElement(t))return _e.cloneElement(t,e);if(typeof t=="function")return _e.createElement(t,e);e.ref;var r=Cpe(e,vpe);return _e.createElement(CN,r)}var V$=1,xh=(function(t){function e(){var r;wpe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=xpe(this,e,[].concat(i)),dS(r,"lastBoundingBox",{width:-1,height:-1}),r}return _pe(e,t),bpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V$||Math.abs(i.height-this.lastBoundingBox.height)>V$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Tl(Tl({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Tl(Tl({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return _e.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Ppe(o,Tl(Tl({},this.props),{},{payload:hX(u,c,Ipe)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Tl(Tl({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&ut(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(ye.PureComponent);dS(xh,"displayName","Legend");dS(xh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VI,G$;function kpe(){if(G$)return VI;G$=1;var t=tb(),e=IN(),r=Po(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return VI=i,VI}var GI,Y$;function mX(){if(Y$)return GI;Y$=1;var t=iX(),e=kpe();function r(n,i,o,a,s){var l=-1,c=n.length;for(o||(o=e),s||(s=[]);++l<c;){var u=n[l];i>0&&o(u)?i>1?r(u,i-1,o,a,s):t(s,u):a||(s[s.length]=u)}return s}return GI=r,GI}var YI,J$;function Tpe(){if(J$)return YI;J$=1;function t(e){return function(r,n,i){for(var o=-1,a=Object(r),s=i(r),l=s.length;l--;){var c=s[e?l:++o];if(n(a[c],c,a)===!1)break}return r}}return YI=t,YI}var JI,Q$;function Mpe(){if(Q$)return JI;Q$=1;var t=Tpe(),e=t();return JI=e,JI}var QI,X$;function yX(){if(X$)return QI;X$=1;var t=Mpe(),e=fS();function r(n,i){return n&&t(n,i,e)}return QI=r,QI}var XI,Z$;function Npe(){if(Z$)return XI;Z$=1;var t=ib();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var a=i.length,s=n?a:-1,l=Object(i);(n?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return XI=e,XI}var ZI,eF;function MN(){if(eF)return ZI;eF=1;var t=yX(),e=Npe(),r=e(t);return ZI=r,ZI}var eP,tF;function vX(){if(tF)return eP;tF=1;var t=MN(),e=ib();function r(n,i){var o=-1,a=e(n)?Array(n.length):[];return t(n,function(s,l,c){a[++o]=i(s,l,c)}),a}return eP=r,eP}var tP,rF;function Rpe(){if(rF)return tP;rF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return tP=t,tP}var rP,nF;function Lpe(){if(nF)return rP;nF=1;var t=nm();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,s=t(r),l=n!==void 0,c=n===null,u=n===n,f=t(n);if(!c&&!f&&!s&&r>n||s&&l&&u&&!c&&!f||o&&l&&u||!i&&u||!a)return 1;if(!o&&!s&&!f&&r<n||f&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!u)return-1}return 0}return rP=e,rP}var nP,iF;function Dpe(){if(iF)return nP;iF=1;var t=Lpe();function e(r,n,i){for(var o=-1,a=r.criteria,s=n.criteria,l=a.length,c=i.length;++o<l;){var u=t(a[o],s[o]);if(u){if(o>=c)return u;var f=i[o];return u*(f=="desc"?-1:1)}}return r.index-n.index}return nP=e,nP}var iP,oF;function Bpe(){if(oF)return iP;oF=1;var t=vN(),e=wN(),r=qf(),n=vX(),i=Rpe(),o=aX(),a=Dpe(),s=am(),l=Po();function c(u,f,h){f.length?f=t(f,function(m){return l(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[s];var p=-1;f=t(f,o(r));var y=n(u,function(m,v,w){var A=t(f,function(_){return _(m)});return{criteria:A,index:++p,value:m}});return i(y,function(m,v){return a(m,v,h)})}return iP=c,iP}var oP,aF;function jpe(){if(aF)return oP;aF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return oP=t,oP}var aP,sF;function $pe(){if(sF)return aP;sF=1;var t=jpe(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,s=-1,l=e(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=a[s];return u[i]=o(c),t(n,this,u)}}return aP=r,aP}var sP,lF;function Fpe(){if(lF)return sP;lF=1;function t(e){return function(){return e}}return sP=t,sP}var lP,cF;function wX(){if(cF)return lP;cF=1;var t=Hh(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return lP=e,lP}var cP,uF;function Upe(){if(uF)return cP;uF=1;var t=Fpe(),e=wX(),r=am(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return cP=n,cP}var uP,fF;function Hpe(){if(fF)return uP;fF=1;var t=800,e=16,r=Date.now;function n(i){var o=0,a=0;return function(){var s=r(),l=e-(s-a);if(a=s,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return uP=n,uP}var fP,dF;function qpe(){if(dF)return fP;dF=1;var t=Upe(),e=Hpe(),r=e(t);return fP=r,fP}var dP,hF;function zpe(){if(hF)return dP;hF=1;var t=am(),e=$pe(),r=qpe();function n(i,o){return r(e(i,o,t),i+"")}return dP=n,dP}var hP,pF;function hS(){if(pF)return hP;pF=1;var t=gN(),e=ib(),r=PN(),n=Hf();function i(o,a,s){if(!n(s))return!1;var l=typeof a;return(l=="number"?e(s)&&r(a,s.length):l=="string"&&a in s)?t(s[a],o):!1}return hP=i,hP}var pP,gF;function Wpe(){if(gF)return pP;gF=1;var t=mX(),e=Bpe(),r=zpe(),n=hS(),i=r(function(o,a){if(o==null)return[];var s=a.length;return s>1&&n(o,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return pP=i,pP}var Kpe=Wpe();const NN=fr(Kpe);function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function Vpe(t,e){return Qpe(t)||Jpe(t,e)||Ype(t,e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ype(t,e){if(t){if(typeof t=="string")return mF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mF(t,e)}}function mF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qpe(t){if(Array.isArray(t))return t}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){Xpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xpe(t,e,r){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zpe(t){var e=e0e(t,"string");return Av(e)=="symbol"?e:e+""}function e0e(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t0e(t){return Array.isArray(t)&&$n(t[0])&&$n(t[1])?t.join(" ~ "):t}var r0e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,m=e.label,v=e.labelFormatter,w=e.accessibilityLayer,A=w===void 0?!1:w,_=function(){if(u&&u.length){var b={padding:0,margin:0},x=(h?NN(u,h):u).map(function(I,C){if(I.type==="none")return null;var T=gP({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),j=I.formatter||f||t0e,O=I.value,k=I.name,E=O,M=k;if(j&&E!=null&&M!=null){var H=j(O,k,I,C,u);if(Array.isArray(H)){var q=Vpe(H,2);E=q[0],M=q[1]}else E=H}return _e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:T},$n(M)?_e.createElement("span",{className:"recharts-tooltip-item-name"},M):null,$n(M)?_e.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,_e.createElement("span",{className:"recharts-tooltip-item-value"},E),_e.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _e.createElement("ul",{className:"recharts-tooltip-item-list",style:b},x)}return null},D=gP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=gP({margin:0},c),U=!gr(m),F=U?m:"",N=xr("recharts-default-tooltip",p),L=xr("recharts-tooltip-label",y);U&&v&&u!==void 0&&u!==null&&(F=v(m,u));var B=A?{role:"status","aria-live":"assertive"}:{};return _e.createElement("div",d5({className:N,style:D},B),_e.createElement("p",{className:L,style:P},_e.isValidElement(F)?F:"".concat(F)),_())};function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function D1(t,e,r){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n0e(t){var e=i0e(t,"string");return Cv(e)=="symbol"?e:e+""}function i0e(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ay="recharts-tooltip-wrapper",o0e={visibility:"hidden"};function a0e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return xr(ay,D1(D1(D1(D1({},"".concat(ay,"-right"),ut(r)&&e&&ut(e.x)&&r>=e.x),"".concat(ay,"-left"),ut(r)&&e&&ut(e.x)&&r<e.x),"".concat(ay,"-bottom"),ut(n)&&e&&ut(e.y)&&n>=e.y),"".concat(ay,"-top"),ut(n)&&e&&ut(e.y)&&n<e.y))}function vF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ut(o[n]))return o[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return a[n]?u:f;if(a[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var y=f+s,m=l[n]+c;return y>m?Math.max(u,l[n]):Math.max(f,l[n])}function s0e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function l0e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&r?(u=vF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=vF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=s0e({translateX:u,translateY:f,useTranslate3d:s})):c=o0e,{cssProperties:c,cssClasses:a0e({translateX:u,translateY:f,coordinate:r})}}function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){p5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xX(n.key),n)}}function f0e(t,e,r){return e&&u0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t,e,r){return e=nE(e),h0e(t,bX()?Reflect.construct(e,r||[],nE(t).constructor):e.apply(t,r))}function h0e(t,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(t)}function p0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bX=function(){return!!t})()}function nE(t){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nE(t)}function g0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h5(t,e)}function h5(t,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h5(t,e)}function p5(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=m0e(t,"string");return Ag(e)=="symbol"?e:e+""}function m0e(t,e){if(Ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xF=1,y0e=(function(t){function e(){var r;c0e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=d0e(this,e,[].concat(i)),p5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p5(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return g0e(e,t),f0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xF||Math.abs(n.height-this.state.lastBoundingBox.height)>xF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,_=l0e({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),D=_.cssClasses,P=_.cssProperties,U=bF(bF({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},A);return _e.createElement("div",{tabIndex:-1,className:D,style:U,ref:function(N){n.wrapperNode=N}},c)}}])})(ye.PureComponent),v0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sm={isSsr:v0e()};function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){RN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SX(n.key),n)}}function x0e(t,e,r){return e&&b0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t,e,r){return e=iE(e),S0e(t,EX()?Reflect.construct(e,r||[],iE(t).constructor):e.apply(t,r))}function S0e(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(t)}function _0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EX=function(){return!!t})()}function iE(t){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iE(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g5(t,e)}function g5(t,e){return g5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g5(t,e)}function RN(t,e,r){return e=SX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SX(t){var e=C0e(t,"string");return Cg(e)=="symbol"?e:e+""}function C0e(t,e){if(Cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function O0e(t){return t.dataKey}function I0e(t,e){return _e.isValidElement(t)?_e.cloneElement(t,e):typeof t=="function"?_e.createElement(t,e):_e.createElement(r0e,e)}var Fs=(function(t){function e(){return w0e(this,e),E0e(this,e,arguments)}return A0e(e,t),x0e(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,v=i.position,w=i.reverseDirection,A=i.useTranslate3d,_=i.viewBox,D=i.wrapperStyle,P=y??[];f&&P.length&&(P=hX(y.filter(function(F){return F.value!=null&&(F.hide!==!0||n.props.includeHidden)}),m,O0e));var U=P.length>0;return _e.createElement(y0e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:U,offset:p,position:v,reverseDirection:w,useTranslate3d:A,viewBox:_,wrapperStyle:D},I0e(c,SF(SF({},this.props),{},{payload:P})))}}])})(ye.PureComponent);RN(Fs,"displayName","Tooltip");RN(Fs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mP,_F;function P0e(){if(_F)return mP;_F=1;var t=xl(),e=function(){return t.Date.now()};return mP=e,mP}var yP,AF;function k0e(){if(AF)return yP;AF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return yP=e,yP}var vP,CF;function T0e(){if(CF)return vP;CF=1;var t=k0e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return vP=r,vP}var wP,OF;function _X(){if(OF)return wP;OF=1;var t=T0e(),e=Hf(),r=nm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?n:+c}return wP=l,wP}var bP,IF;function M0e(){if(IF)return bP;IF=1;var t=Hf(),e=P0e(),r=_X(),n="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var u,f,h,p,y,m,v=0,w=!1,A=!1,_=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(w=!!c.leading,A="maxWait"in c,h=A?i(r(c.maxWait)||0,l):h,_="trailing"in c?!!c.trailing:_);function D(x){var I=u,C=f;return u=f=void 0,v=x,p=s.apply(C,I),p}function P(x){return v=x,y=setTimeout(N,l),w?D(x):p}function U(x){var I=x-m,C=x-v,T=l-I;return A?o(T,h-C):T}function F(x){var I=x-m,C=x-v;return m===void 0||I>=l||I<0||A&&C>=h}function N(){var x=e();if(F(x))return L(x);y=setTimeout(N,U(x))}function L(x){return y=void 0,_&&u?D(x):(u=f=void 0,p)}function B(){y!==void 0&&clearTimeout(y),v=0,u=m=f=y=void 0}function R(){return y===void 0?p:L(e())}function b(){var x=e(),I=F(x);if(u=arguments,f=this,m=x,I){if(y===void 0)return P(m);if(A)return clearTimeout(y),y=setTimeout(N,l),D(m)}return y===void 0&&(y=setTimeout(N,l)),p}return b.cancel=B,b.flush=R,b}return bP=a,bP}var xP,PF;function N0e(){if(PF)return xP;PF=1;var t=M0e(),e=Hf(),r="Expected a function";function n(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),t(i,o,{leading:s,maxWait:o,trailing:l})}return xP=n,xP}var R0e=N0e();const AX=fr(R0e);function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){L0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L0e(t,e,r){return e=D0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D0e(t){var e=B0e(t,"string");return Ov(e)=="symbol"?e:e+""}function B0e(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t,e){return H0e(t)||U0e(t,e)||F0e(t,e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(t,e){if(t){if(typeof t=="string")return TF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(t,e)}}function TF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function H0e(t){if(Array.isArray(t))return t}var q0e=ye.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,m=y===void 0?0:y,v=t.id,w=t.className,A=t.onResize,_=t.style,D=_===void 0?{}:_,P=ye.useRef(null),U=ye.useRef();U.current=A,ye.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var F=ye.useState({containerWidth:i.width,containerHeight:i.height}),N=j0e(F,2),L=N[0],B=N[1],R=ye.useCallback(function(x,I){B(function(C){var T=Math.round(x),j=Math.round(I);return C.containerWidth===T&&C.containerHeight===j?C:{containerWidth:T,containerHeight:j}})},[]);ye.useEffect(function(){var x=function(k){var E,M=k[0].contentRect,H=M.width,q=M.height;R(H,q),(E=U.current)===null||E===void 0||E.call(U,H,q)};m>0&&(x=AX(x,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(x),C=P.current.getBoundingClientRect(),T=C.width,j=C.height;return R(T,j),I.observe(P.current),function(){I.disconnect()}},[R,m]);var b=ye.useMemo(function(){var x=L.containerWidth,I=L.containerHeight;if(x<0||I<0)return null;vc($d(a)||$d(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),vc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=$d(a)?x:a,T=$d(l)?I:l;r&&r>0&&(C?T=C/r:T&&(C=T*r),h&&T>h&&(T=h)),vc(C>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,T,a,l,u,f,r);var j=!Array.isArray(p)&&yc(p.type).endsWith("Chart");return _e.Children.map(p,function(O){return _e.isValidElement(O)?ye.cloneElement(O,B1({width:C,height:T},j?{style:B1({height:"100%",width:"100%",maxHeight:T,maxWidth:C},O.props.style)}:{})):O})},[r,p,l,h,f,u,L,a]);return _e.createElement("div",{id:v?"".concat(v):void 0,className:xr("recharts-responsive-container",w),style:B1(B1({},D),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},b)}),CX=function(e){return null};CX.displayName="Cell";function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){z0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z0e(t,e,r){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W0e(t){var e=K0e(t,"string");return Iv(e)=="symbol"?e:e+""}function K0e(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kp={widthCache:{},cacheCount:0},V0e=2e3,G0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NF="recharts_measurement_span";function Y0e(t){var e=m5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Zy=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sm.isSsr)return{width:0,height:0};var n=Y0e(r),i=JSON.stringify({text:e,copyStyle:n});if(kp.widthCache[i])return kp.widthCache[i];try{var o=document.getElementById(NF);o||(o=document.createElement("span"),o.setAttribute("id",NF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=m5(m5({},G0e),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return kp.widthCache[i]=l,++kp.cacheCount>V0e&&(kp.cacheCount=0,kp.widthCache={}),l}catch{return{width:0,height:0}}},J0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function oE(t,e){return ege(t)||Z0e(t,e)||X0e(t,e)||Q0e()}function Q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0e(t,e){if(t){if(typeof t=="string")return RF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(t,e)}}function RF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ege(t){if(Array.isArray(t))return t}function tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nge(n.key),n)}}function rge(t,e,r){return e&&LF(t.prototype,e),r&&LF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nge(t){var e=ige(t,"string");return Pv(e)=="symbol"?e:e+""}function ige(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,age=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sge=Object.keys(OX),Zp="NaN";function lge(t,e){return t*OX[e]}var j1=(function(){function t(e,r){tge(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!oge.test(r)&&(this.num=NaN,this.unit=""),sge.includes(r)&&(this.num=lge(e,r),this.unit="px")}return rge(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=age.exec(r))!==null&&n!==void 0?n:[],o=oE(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])})();function IX(t){if(t.includes(Zp))return Zp;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=DF.exec(e))!==null&&r!==void 0?r:[],i=oE(n,4),o=i[1],a=i[2],s=i[3],l=j1.parse(o??""),c=j1.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Zp;e=e.replace(DF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BF.exec(e))!==null&&f!==void 0?f:[],p=oE(h,4),y=p[1],m=p[2],v=p[3],w=j1.parse(y??""),A=j1.parse(v??""),_=m==="+"?w.add(A):w.subtract(A);if(_.isNaN())return Zp;e=e.replace(BF,_.toString())}return e}var jF=/\(([^()]*)\)/;function cge(t){for(var e=t;e.includes("(");){var r=jF.exec(e),n=oE(r,2),i=n[1];e=e.replace(jF,IX(i))}return e}function uge(t){var e=t.replace(/\s+/g,"");return e=cge(e),e=IX(e),e}function fge(t){try{return uge(t)}catch{return Zp}}function EP(t){var e=fge(t.slice(5,-1));return e===Zp?"":e}var dge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hge=["dx","dy","angle","className","breakAll"];function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}function $F(t,e){if(t==null)return{};var r=pge(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FF(t,e){return vge(t)||yge(t,e)||mge(t,e)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function vge(t){if(Array.isArray(t))return t}var PX=/[ \f\n\r\t\v\u2028\u2029]+/,kX=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];gr(r)||(n?o=r.toString().split(""):o=r.toString().split(PX));var a=o.map(function(l){return{word:l,width:Zy(l,i).width}}),s=n?0:Zy("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},wge=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ut(a),f=s,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(T,j){var O=j.word,k=j.width,E=T[T.length-1];if(E&&(i==null||o||E.width+k+n<Number(i)))E.words.push(O),E.width+=k+n;else{var M={words:[O],width:k};T.push(M)}return T},[])},p=h(r),y=function(C){return C.reduce(function(T,j){return T.width>j.width?T:j})};if(!u)return p;for(var m="",v=function(C){var T=f.slice(0,C),j=kX({breakAll:c,style:l,children:T+m}).wordsWithComputedWidth,O=h(j),k=O.length>a||y(O).width>Number(i);return[k,O]},w=0,A=f.length-1,_=0,D;w<=A&&_<=f.length-1;){var P=Math.floor((w+A)/2),U=P-1,F=v(U),N=FF(F,2),L=N[0],B=N[1],R=v(P),b=FF(R,1),x=b[0];if(!L&&!x&&(w=P+1),L&&x&&(A=P-1),!L&&x){D=B;break}_++}return D||p},HF=function(e){var r=gr(e)?[]:e.toString().split(PX);return[{words:r}]},bge=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!sm.isSsr){var l,c,u=kX({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return HF(i);return wge({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return HF(i)},qF="#808080",aE=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,m=y===void 0?"end":y,v=e.fill,w=v===void 0?qF:v,A=$F(e,dge),_=ye.useMemo(function(){return bge({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:f,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,f,A.style,A.width]),D=A.dx,P=A.dy,U=A.angle,F=A.className,N=A.breakAll,L=$F(A,hge);if(!$n(n)||!$n(o))return null;var B=n+(ut(D)?D:0),R=o+(ut(P)?P:0),b;switch(m){case"start":b=EP("calc(".concat(c,")"));break;case"middle":b=EP("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:b=EP("calc(".concat(_.length-1," * -").concat(s,")"));break}var x=[];if(f){var I=_[0].width,C=A.width;x.push("scale(".concat((ut(C)?C/I:1)/I,")"))}return U&&x.push("rotate(".concat(U,", ").concat(B,", ").concat(R,")")),x.length&&(L.transform=x.join(" ")),_e.createElement("text",y5({},ur(L,!0),{x:B,y:R,className:xr("recharts-text",F),textAnchor:p,fill:w.includes("url")?qF:w}),_.map(function(T,j){var O=T.words.join(N?"":" ");return _e.createElement("tspan",{x:B,dy:j===0?b:s,key:"".concat(O,"-").concat(j)},O)}))};function Sf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LN(t){let e,r,n;t.length!==2?(e=Sf,r=(s,l)=>Sf(t(s),l),n=(s,l)=>t(s)-l):(e=t===Sf||t===xge?t:Ege,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Ege(){return 0}function TX(t){return t===null?NaN:+t}function*Sge(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const _ge=LN(Sf),ob=_ge.right;LN(TX).center;class zF extends Map{constructor(e,r=Oge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(WF(this,e))}has(e){return super.has(WF(this,e))}set(e,r){return super.set(Age(this,e),r)}delete(e){return super.delete(Cge(this,e))}}function WF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Age({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Cge({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Oge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ige(t=Sf){if(t===Sf)return MX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function MX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Pge=Math.sqrt(50),kge=Math.sqrt(10),Tge=Math.sqrt(2);function sE(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Pge?10:o>=kge?5:o>=Tge?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?sE(t,e,r*2):[s,l,c]}function v5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?sE(e,t,r):sE(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function w5(t,e,r){return e=+e,t=+t,r=+r,sE(t,e,r)[2]}function b5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?w5(e,t,r):w5(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function KF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NX(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?MX:Ige(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),y=Math.min(n,Math.floor(e+(l-c)*f/l+h));NX(t,e,p,y,i)}const o=t[e];let a=r,s=n;for(sy(t,r,e),i(t[n],o)>0&&sy(t,r,n);a<s;){for(sy(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?sy(t,r,s):(++s,sy(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function sy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Mge(t,e,r){if(t=Float64Array.from(Sge(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return VF(t);if(e>=1)return KF(t);var n,i=(n-1)*e,o=Math.floor(i),a=KF(NX(t,o).subarray(0,o+1)),s=VF(t.subarray(o+1));return a+(s-a)*(i-o)}}function Nge(t,e,r=TX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Rge(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x5=Symbol("implicit");function DN(){var t=new zF,e=[],r=[],n=x5;function i(o){let a=t.get(o);if(a===void 0){if(n!==x5)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zF;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return DN(e,r).unknown(n)},Ua.apply(i,arguments),i}function kv(){var t=DN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,y=p?i:n,m=p?n:i;o=(m-y)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),y+=(m-y-o*(h-l))*u,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=Rge(h).map(function(w){return y+o*w});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return kv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ua.apply(f(),arguments)}function RX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RX(e())},t}function ev(){return RX(kv.apply(null,arguments).paddingInner(1))}function BN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function LX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ab(){}var Tv=.7,lE=1/Tv,b0="\\s*([+-]?\\d+)\\s*",Mv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lge=/^#([0-9a-f]{3,8})$/,Dge=new RegExp(`^rgb\\(${b0},${b0},${b0}\\)$`),Bge=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),jge=new RegExp(`^rgba\\(${b0},${b0},${b0},${Mv}\\)$`),$ge=new RegExp(`^rgba\\(${fl},${fl},${fl},${Mv}\\)$`),Fge=new RegExp(`^hsl\\(${Mv},${fl},${fl}\\)$`),Uge=new RegExp(`^hsla\\(${Mv},${fl},${fl},${Mv}\\)$`),GF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BN(ab,Nv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YF,formatHex:YF,formatHex8:Hge,formatHsl:qge,formatRgb:JF,toString:JF});function YF(){return this.rgb().formatHex()}function Hge(){return this.rgb().formatHex8()}function qge(){return DX(this).formatHsl()}function JF(){return this.rgb().formatRgb()}function Nv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Lge.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?QF(e):r===3?new Eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?$1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?$1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dge.exec(t))?new Eo(e[1],e[2],e[3],1):(e=Bge.exec(t))?new Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jge.exec(t))?$1(e[1],e[2],e[3],e[4]):(e=$ge.exec(t))?$1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fge.exec(t))?eU(e[1],e[2]/100,e[3]/100,1):(e=Uge.exec(t))?eU(e[1],e[2]/100,e[3]/100,e[4]):GF.hasOwnProperty(t)?QF(GF[t]):t==="transparent"?new Eo(NaN,NaN,NaN,0):null}function QF(t){return new Eo(t>>16&255,t>>8&255,t&255,1)}function $1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Eo(t,e,r,n)}function zge(t){return t instanceof ab||(t=Nv(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function E5(t,e,r,n){return arguments.length===1?zge(t):new Eo(t,e,r,n??1)}function Eo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}BN(Eo,E5,LX(ab,{brighter(t){return t=t==null?lE:Math.pow(lE,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tv:Math.pow(Tv,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Eo(Eh(this.r),Eh(this.g),Eh(this.b),cE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XF,formatHex:XF,formatHex8:Wge,formatRgb:ZF,toString:ZF}));function XF(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}`}function Wge(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}${Fd((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZF(){const t=cE(this.opacity);return`${t===1?"rgb(":"rgba("}${Eh(this.r)}, ${Eh(this.g)}, ${Eh(this.b)}${t===1?")":`, ${t})`}`}function cE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Eh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fd(t){return t=Eh(t),(t<16?"0":"")+t.toString(16)}function eU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hs(t,e,r,n)}function DX(t){if(t instanceof hs)return new hs(t.h,t.s,t.l,t.opacity);if(t instanceof ab||(t=Nv(t)),!t)return new hs;if(t instanceof hs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new hs(a,s,l,t.opacity)}function Kge(t,e,r,n){return arguments.length===1?DX(t):new hs(t,e,r,n??1)}function hs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}BN(hs,Kge,LX(ab,{brighter(t){return t=t==null?lE:Math.pow(lE,t),new hs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tv:Math.pow(Tv,t),new hs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Eo(SP(t>=240?t-240:t+120,i,n),SP(t,i,n),SP(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hs(tU(this.h),F1(this.s),F1(this.l),cE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cE(this.opacity);return`${t===1?"hsl(":"hsla("}${tU(this.h)}, ${F1(this.s)*100}%, ${F1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tU(t){return t=(t||0)%360,t<0?t+360:t}function F1(t){return Math.max(0,Math.min(1,t||0))}function SP(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const jN=t=>()=>t;function Vge(t,e){return function(r){return t+r*e}}function Gge(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Yge(t){return(t=+t)==1?BX:function(e,r){return r-e?Gge(e,r,t):jN(isNaN(e)?r:e)}}function BX(t,e){var r=e-t;return r?Vge(t,r):jN(isNaN(t)?e:t)}const rU=(function t(e){var r=Yge(e);function n(i,o){var a=r((i=E5(i)).r,(o=E5(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=BX(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n})(1);function Jge(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function Qge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xge(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=lm(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function Zge(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function uE(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function eme(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=lm(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var S5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_P=new RegExp(S5.source,"g");function tme(t){return function(){return t}}function rme(t){return function(e){return t(e)+""}}function nme(t,e){var r=S5.lastIndex=_P.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=S5.exec(t))&&(i=_P.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:uE(n,i)})),r=_P.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?rme(l[0].x):tme(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function lm(t,e){var r=typeof e,n;return e==null||r==="boolean"?jN(e):(r==="number"?uE:r==="string"?(n=Nv(e))?(e=n,rU):nme:e instanceof Nv?rU:e instanceof Date?Zge:Qge(e)?Jge:Array.isArray(e)?Xge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eme:uE)(t,e)}function $N(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ime(t,e){e===void 0&&(e=t,t=lm);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function ome(t){return function(){return t}}function fE(t){return+t}var nU=[0,1];function Yi(t){return t}function _5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ome(isNaN(e)?NaN:.5)}function ame(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function sme(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=_5(i,n),o=r(a,o)):(n=_5(n,i),o=r(o,a)),function(s){return o(n(s))}}function lme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=_5(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=ob(t,s,1,n)-1;return o[l](i[l](s))}}function sb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pS(){var t=nU,e=nU,r=lm,n,i,o,a=Yi,s,l,c;function u(){var h=Math.min(t.length,e.length);return a!==Yi&&(a=ame(t[0],t[h-1])),s=h>2?lme:sme,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((c||(c=s(e,t.map(n),uE)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,fE),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=$N,u()},f.clamp=function(h){return arguments.length?(a=h?!0:Yi,u()):a!==Yi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,i=p,u()}}function FN(){return pS()(Yi,Yi)}function cme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dE(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Og(t){return t=dE(Math.abs(t)),t?t[1]:NaN}function ume(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function fme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rv(t){if(!(e=dme.exec(t)))throw new Error("invalid format: "+t);var e;return new UN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rv.prototype=UN.prototype;function UN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var hE;function pme(t,e){var r=dE(t,e);if(!r)return hE=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(hE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+dE(t,Math.max(0,e+o-1))[0]}function iU(t,e){var r=dE(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iU(t*100,e),r:iU,s:pme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aU(t){return t}var sU=Array.prototype.map,lU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gme(t){var e=t.grouping===void 0||t.thousands===void 0?aU:ume(sU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?aU:fme(sU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,h){f=Rv(f);var p=f.fill,y=f.align,m=f.sign,v=f.symbol,w=f.zero,A=f.width,_=f.comma,D=f.precision,P=f.trim,U=f.type;U==="n"?(_=!0,U="g"):oU[U]||(D===void 0&&(D=12),P=!0,U="g"),(w||p==="0"&&y==="=")&&(w=!0,p="0",y="=");var F=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():""),N=(v==="$"?n:/[%p]/.test(U)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),L=oU[U],B=/[defgprs%]/.test(U);D=D===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function R(b){var x=F,I=N,C,T,j;if(U==="c")I=L(b)+I,b="";else{b=+b;var O=b<0||1/b<0;if(b=isNaN(b)?l:L(Math.abs(b),D),P&&(b=hme(b)),O&&+b==0&&m!=="+"&&(O=!1),x=(O?m==="("?m:s:m==="-"||m==="("?"":m)+x,I=(U==="s"&&!isNaN(b)&&hE!==void 0?lU[8+hE/3]:"")+I+(O&&m==="("?")":""),B){for(C=-1,T=b.length;++C<T;)if(j=b.charCodeAt(C),48>j||j>57){I=(j===46?i+b.slice(C+1):b.slice(C))+I,b=b.slice(0,C);break}}}_&&!w&&(b=e(b,1/0));var k=x.length+b.length+I.length,E=k<A?new Array(A-k+1).join(p):"";switch(_&&w&&(b=e(E+b,E.length?A-I.length:1/0),E=""),y){case"<":b=x+b+I+E;break;case"=":b=x+E+b+I;break;case"^":b=E.slice(0,k=E.length>>1)+x+b+I+E.slice(k);break;default:b=E+x+b+I;break}return o(b)}return R.toString=function(){return f+""},R}function u(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Og(h)/3)))*3,y=Math.pow(10,-p),m=c((f=Rv(f),f.type="f",f),{suffix:lU[8+p/3]});return function(v){return m(y*v)}}return{format:c,formatPrefix:u}}var U1,HN,jX;mme({thousands:",",grouping:[3],currency:["$",""]});function mme(t){return U1=gme(t),HN=U1.format,jX=U1.formatPrefix,U1}function yme(t){return Math.max(0,-Og(Math.abs(t)))}function vme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Og(e)/3)))*3-Og(Math.abs(t)))}function wme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Og(e)-Og(t))+1}function $X(t,e,r,n){var i=b5(t,e,r),o;switch(n=Rv(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=vme(i,a))&&(n.precision=o),jX(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=yme(i))&&(n.precision=o-(n.type==="%")*2);break}}return HN(n)}function zf(t){var e=t.domain;return t.ticks=function(r){var n=e();return v5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return $X(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=w5(a,s,r),c===l)return n[i]=a,n[o]=s,e(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function pE(){var t=FN();return t.copy=function(){return sb(t,pE())},Ua.apply(t,arguments),zf(t)}function FX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,fE),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return FX(t).unknown(e)},t=arguments.length?Array.from(t,fE):[0,1],zf(r)}function UX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function cU(t){return Math.log(t)}function uU(t){return Math.exp(t)}function bme(t){return-Math.log(-t)}function xme(t){return-Math.exp(-t)}function Eme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Sme(t){return t===10?Eme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _me(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fU(t){return(e,r)=>-t(-e,r)}function qN(t){const e=t(cU,uU),r=e.domain;let n=10,i,o;function a(){return i=_me(n),o=Sme(n),r()[0]<0?(i=fU(i),o=fU(o),t(bme,xme)):t(cU,uU),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),y,m;const v=s==null?10:+s;let w=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/o(-h):y*o(h),!(m<c)){if(m>u)break;w.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/o(-h):y*o(h),!(m<c)){if(m>u)break;w.push(m)}w.length*2<v&&(w=v5(c,u,v))}else w=v5(h,p,Math.min(p-h,v)).map(o);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Rv(l)).precision==null&&(l.trim=!0),l=HN(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(UX(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function HX(){const t=qN(pS()).domain([1,10]);return t.copy=()=>sb(t,HX()).base(t.base()),Ua.apply(t,arguments),t}function dU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zN(t){var e=1,r=t(dU(e),hU(e));return r.constant=function(n){return arguments.length?t(dU(e=+n),hU(e)):e},zf(r)}function qX(){var t=zN(pS());return t.copy=function(){return sb(t,qX()).constant(t.constant())},Ua.apply(t,arguments)}function pU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ame(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cme(t){return t<0?-t*t:t*t}function WN(t){var e=t(Yi,Yi),r=1;function n(){return r===1?t(Yi,Yi):r===.5?t(Ame,Cme):t(pU(r),pU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},zf(e)}function KN(){var t=WN(pS());return t.copy=function(){return sb(t,KN()).exponent(t.exponent())},Ua.apply(t,arguments),t}function Ome(){return KN.apply(null,arguments).exponent(.5)}function gU(t){return Math.sign(t)*t*t}function Ime(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zX(){var t=FN(),e=[0,1],r=!1,n;function i(o){var a=Ime(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(gU(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,fE)).map(gU)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return zX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ua.apply(i,arguments),zf(i)}function WX(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=Nge(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[ob(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Sf),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return WX().domain(t).range(e).unknown(n)},Ua.apply(o,arguments)}function KX(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ob(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return KX().domain([t,e]).range(i).unknown(o)},Ua.apply(zf(a),arguments)}function VX(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[ob(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return VX().domain(t).range(e).unknown(r)},Ua.apply(i,arguments)}const AP=new Date,CP=new Date;function Un(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>Un(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(AP.setTime(+o),CP.setTime(+a),t(AP),t(CP),Math.floor(r(AP,CP))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const gE=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):gE);gE.range;const sc=1e3,Ba=sc*60,lc=Ba*60,Ac=lc*24,VN=Ac*7,mU=Ac*30,OP=Ac*365,Ud=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sc)},(t,e)=>(e-t)/sc,t=>t.getUTCSeconds());Ud.range;const GN=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sc)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getMinutes());GN.range;const YN=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCMinutes());YN.range;const JN=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sc-t.getMinutes()*Ba)},(t,e)=>{t.setTime(+t+e*lc)},(t,e)=>(e-t)/lc,t=>t.getHours());JN.range;const QN=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*lc)},(t,e)=>(e-t)/lc,t=>t.getUTCHours());QN.range;const lb=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/Ac,t=>t.getDate()-1);lb.range;const gS=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ac,t=>t.getUTCDate()-1);gS.range;const GX=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ac,t=>Math.floor(t/Ac));GX.range;function qh(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ba)/VN)}const mS=qh(0),mE=qh(1),Pme=qh(2),kme=qh(3),Ig=qh(4),Tme=qh(5),Mme=qh(6);mS.range;mE.range;Pme.range;kme.range;Ig.range;Tme.range;Mme.range;function zh(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/VN)}const yS=zh(0),yE=zh(1),Nme=zh(2),Rme=zh(3),Pg=zh(4),Lme=zh(5),Dme=zh(6);yS.range;yE.range;Nme.range;Rme.range;Pg.range;Lme.range;Dme.range;const XN=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());XN.range;const ZN=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZN.range;const Cc=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Cc.range;const Oc=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Oc.range;function YX(t,e,r,n,i,o){const a=[[Ud,1,sc],[Ud,5,5*sc],[Ud,15,15*sc],[Ud,30,30*sc],[o,1,Ba],[o,5,5*Ba],[o,15,15*Ba],[o,30,30*Ba],[i,1,lc],[i,3,3*lc],[i,6,6*lc],[i,12,12*lc],[n,1,Ac],[n,2,2*Ac],[r,1,VN],[e,1,mU],[e,3,3*mU],[t,1,OP]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),y=p?p.range(c,+u+1):[];return h?y.reverse():y}function l(c,u,f){const h=Math.abs(u-c)/f,p=LN(([,,v])=>v).right(a,h);if(p===a.length)return t.every(b5(c/OP,u/OP,f));if(p===0)return gE.every(Math.max(b5(c,u,f),1));const[y,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return y.every(m)}return[s,l]}const[Bme,jme]=YX(Oc,ZN,yS,GX,QN,YN),[$me,Fme]=YX(Cc,XN,mS,lb,JN,GN);function IP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ly(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Ume(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=cy(i),u=uy(i),f=cy(o),h=uy(o),p=cy(a),y=uy(a),m=cy(s),v=uy(s),w=cy(l),A=uy(l),_={a:j,A:O,b:k,B:E,c:null,d:EU,e:EU,f:uye,g:bye,G:Eye,H:sye,I:lye,j:cye,L:JX,m:fye,M:dye,p:M,q:H,Q:AU,s:CU,S:hye,u:pye,U:gye,V:mye,w:yye,W:vye,x:null,X:null,y:wye,Y:xye,Z:Sye,"%":_U},D={a:q,A:W,b:V,B:Q,c:null,d:SU,e:SU,f:Oye,g:Bye,G:$ye,H:_ye,I:Aye,j:Cye,L:XX,m:Iye,M:Pye,p:te,q:X,Q:AU,s:CU,S:kye,u:Tye,U:Mye,V:Nye,w:Rye,W:Lye,x:null,X:null,y:Dye,Y:jye,Z:Fye,"%":_U},P={a:B,A:R,b,B:x,c:I,d:bU,e:bU,f:nye,g:wU,G:vU,H:xU,I:xU,j:Zme,L:rye,m:Xme,M:eye,p:L,q:Qme,Q:oye,s:aye,S:tye,u:Kme,U:Vme,V:Gme,w:Wme,W:Yme,x:C,X:T,y:wU,Y:vU,Z:Jme,"%":iye};_.x=U(r,_),_.X=U(n,_),_.c=U(e,_),D.x=U(r,D),D.X=U(n,D),D.c=U(e,D);function U(Z,ae){return function(he){var se=[],ne=-1,oe=0,fe=Z.length,pe,xe,Se;for(he instanceof Date||(he=new Date(+he));++ne<fe;)Z.charCodeAt(ne)===37&&(se.push(Z.slice(oe,ne)),(xe=yU[pe=Z.charAt(++ne)])!=null?pe=Z.charAt(++ne):xe=pe==="e"?" ":"0",(Se=ae[pe])&&(pe=Se(he,xe)),se.push(pe),oe=ne+1);return se.push(Z.slice(oe,ne)),se.join("")}}function F(Z,ae){return function(he){var se=ly(1900,void 0,1),ne=N(se,Z,he+="",0),oe,fe;if(ne!=he.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ae&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(oe=PP(ly(se.y,0,1)),fe=oe.getUTCDay(),oe=fe>4||fe===0?yE.ceil(oe):yE(oe),oe=gS.offset(oe,(se.V-1)*7),se.y=oe.getUTCFullYear(),se.m=oe.getUTCMonth(),se.d=oe.getUTCDate()+(se.w+6)%7):(oe=IP(ly(se.y,0,1)),fe=oe.getDay(),oe=fe>4||fe===0?mE.ceil(oe):mE(oe),oe=lb.offset(oe,(se.V-1)*7),se.y=oe.getFullYear(),se.m=oe.getMonth(),se.d=oe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),fe="Z"in se?PP(ly(se.y,0,1)).getUTCDay():IP(ly(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(fe+5)%7:se.w+se.U*7-(fe+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,PP(se)):IP(se)}}function N(Z,ae,he,se){for(var ne=0,oe=ae.length,fe=he.length,pe,xe;ne<oe;){if(se>=fe)return-1;if(pe=ae.charCodeAt(ne++),pe===37){if(pe=ae.charAt(ne++),xe=P[pe in yU?ae.charAt(ne++):pe],!xe||(se=xe(Z,he,se))<0)return-1}else if(pe!=he.charCodeAt(se++))return-1}return se}function L(Z,ae,he){var se=c.exec(ae.slice(he));return se?(Z.p=u.get(se[0].toLowerCase()),he+se[0].length):-1}function B(Z,ae,he){var se=p.exec(ae.slice(he));return se?(Z.w=y.get(se[0].toLowerCase()),he+se[0].length):-1}function R(Z,ae,he){var se=f.exec(ae.slice(he));return se?(Z.w=h.get(se[0].toLowerCase()),he+se[0].length):-1}function b(Z,ae,he){var se=w.exec(ae.slice(he));return se?(Z.m=A.get(se[0].toLowerCase()),he+se[0].length):-1}function x(Z,ae,he){var se=m.exec(ae.slice(he));return se?(Z.m=v.get(se[0].toLowerCase()),he+se[0].length):-1}function I(Z,ae,he){return N(Z,e,ae,he)}function C(Z,ae,he){return N(Z,r,ae,he)}function T(Z,ae,he){return N(Z,n,ae,he)}function j(Z){return a[Z.getDay()]}function O(Z){return o[Z.getDay()]}function k(Z){return l[Z.getMonth()]}function E(Z){return s[Z.getMonth()]}function M(Z){return i[+(Z.getHours()>=12)]}function H(Z){return 1+~~(Z.getMonth()/3)}function q(Z){return a[Z.getUTCDay()]}function W(Z){return o[Z.getUTCDay()]}function V(Z){return l[Z.getUTCMonth()]}function Q(Z){return s[Z.getUTCMonth()]}function te(Z){return i[+(Z.getUTCHours()>=12)]}function X(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ae=U(Z+="",_);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=F(Z+="",!1);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=U(Z+="",D);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=F(Z+="",!0);return ae.toString=function(){return Z},ae}}}var yU={"-":"",_:" ",0:"0"},ri=/^\s*\d+/,Hme=/^%/,qme=/[\\^$*+?|[\]().{}]/g;function _r(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function zme(t){return t.replace(qme,"\\$&")}function cy(t){return new RegExp("^(?:"+t.map(zme).join("|")+")","i")}function uy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Wme(t,e,r){var n=ri.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Kme(t,e,r){var n=ri.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Vme(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Gme(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Yme(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vU(t,e,r){var n=ri.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function wU(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qme(t,e,r){var n=ri.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xme(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bU(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Zme(t,e,r){var n=ri.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xU(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function eye(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function tye(t,e,r){var n=ri.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function rye(t,e,r){var n=ri.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function nye(t,e,r){var n=ri.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iye(t,e,r){var n=Hme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function oye(t,e,r){var n=ri.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function aye(t,e,r){var n=ri.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function EU(t,e){return _r(t.getDate(),e,2)}function sye(t,e){return _r(t.getHours(),e,2)}function lye(t,e){return _r(t.getHours()%12||12,e,2)}function cye(t,e){return _r(1+lb.count(Cc(t),t),e,3)}function JX(t,e){return _r(t.getMilliseconds(),e,3)}function uye(t,e){return JX(t,e)+"000"}function fye(t,e){return _r(t.getMonth()+1,e,2)}function dye(t,e){return _r(t.getMinutes(),e,2)}function hye(t,e){return _r(t.getSeconds(),e,2)}function pye(t){var e=t.getDay();return e===0?7:e}function gye(t,e){return _r(mS.count(Cc(t)-1,t),e,2)}function QX(t){var e=t.getDay();return e>=4||e===0?Ig(t):Ig.ceil(t)}function mye(t,e){return t=QX(t),_r(Ig.count(Cc(t),t)+(Cc(t).getDay()===4),e,2)}function yye(t){return t.getDay()}function vye(t,e){return _r(mE.count(Cc(t)-1,t),e,2)}function wye(t,e){return _r(t.getFullYear()%100,e,2)}function bye(t,e){return t=QX(t),_r(t.getFullYear()%100,e,2)}function xye(t,e){return _r(t.getFullYear()%1e4,e,4)}function Eye(t,e){var r=t.getDay();return t=r>=4||r===0?Ig(t):Ig.ceil(t),_r(t.getFullYear()%1e4,e,4)}function Sye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_r(e/60|0,"0",2)+_r(e%60,"0",2)}function SU(t,e){return _r(t.getUTCDate(),e,2)}function _ye(t,e){return _r(t.getUTCHours(),e,2)}function Aye(t,e){return _r(t.getUTCHours()%12||12,e,2)}function Cye(t,e){return _r(1+gS.count(Oc(t),t),e,3)}function XX(t,e){return _r(t.getUTCMilliseconds(),e,3)}function Oye(t,e){return XX(t,e)+"000"}function Iye(t,e){return _r(t.getUTCMonth()+1,e,2)}function Pye(t,e){return _r(t.getUTCMinutes(),e,2)}function kye(t,e){return _r(t.getUTCSeconds(),e,2)}function Tye(t){var e=t.getUTCDay();return e===0?7:e}function Mye(t,e){return _r(yS.count(Oc(t)-1,t),e,2)}function ZX(t){var e=t.getUTCDay();return e>=4||e===0?Pg(t):Pg.ceil(t)}function Nye(t,e){return t=ZX(t),_r(Pg.count(Oc(t),t)+(Oc(t).getUTCDay()===4),e,2)}function Rye(t){return t.getUTCDay()}function Lye(t,e){return _r(yE.count(Oc(t)-1,t),e,2)}function Dye(t,e){return _r(t.getUTCFullYear()%100,e,2)}function Bye(t,e){return t=ZX(t),_r(t.getUTCFullYear()%100,e,2)}function jye(t,e){return _r(t.getUTCFullYear()%1e4,e,4)}function $ye(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Pg(t):Pg.ceil(t),_r(t.getUTCFullYear()%1e4,e,4)}function Fye(){return"+0000"}function _U(){return"%"}function AU(t){return+t}function CU(t){return Math.floor(+t/1e3)}var Tp,eZ,tZ;Uye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uye(t){return Tp=Ume(t),eZ=Tp.format,Tp.parse,tZ=Tp.utcFormat,Tp.utcParse,Tp}function Hye(t){return new Date(t)}function qye(t){return t instanceof Date?+t:+new Date(+t)}function eR(t,e,r,n,i,o,a,s,l,c){var u=FN(),f=u.invert,h=u.domain,p=c(".%L"),y=c(":%S"),m=c("%I:%M"),v=c("%I %p"),w=c("%a %d"),A=c("%b %d"),_=c("%B"),D=c("%Y");function P(U){return(l(U)<U?p:s(U)<U?y:a(U)<U?m:o(U)<U?v:n(U)<U?i(U)<U?w:A:r(U)<U?_:D)(U)}return u.invert=function(U){return new Date(f(U))},u.domain=function(U){return arguments.length?h(Array.from(U,qye)):h().map(Hye)},u.ticks=function(U){var F=h();return t(F[0],F[F.length-1],U??10)},u.tickFormat=function(U,F){return F==null?P:c(F)},u.nice=function(U){var F=h();return(!U||typeof U.range!="function")&&(U=e(F[0],F[F.length-1],U??10)),U?h(UX(F,U)):u},u.copy=function(){return sb(u,eR(t,e,r,n,i,o,a,s,l,c))},u}function zye(){return Ua.apply(eR($me,Fme,Cc,XN,mS,lb,JN,GN,Ud,eZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wye(){return Ua.apply(eR(Bme,jme,Oc,ZN,yS,gS,QN,YN,Ud,tZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vS(){var t=0,e=1,r,n,i,o,a=Yi,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(h){var p,y;return arguments.length?([p,y]=h,a=f(p,y),c):[a(0),a(1)]}}return c.range=u(lm),c.rangeRound=u($N),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Wf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rZ(){var t=zf(vS()(Yi));return t.copy=function(){return Wf(t,rZ())},Bc.apply(t,arguments)}function nZ(){var t=qN(vS()).domain([1,10]);return t.copy=function(){return Wf(t,nZ()).base(t.base())},Bc.apply(t,arguments)}function iZ(){var t=zN(vS());return t.copy=function(){return Wf(t,iZ()).constant(t.constant())},Bc.apply(t,arguments)}function tR(){var t=WN(vS());return t.copy=function(){return Wf(t,tR()).exponent(t.exponent())},Bc.apply(t,arguments)}function Kye(){return tR.apply(null,arguments).exponent(.5)}function oZ(){var t=[],e=Yi;function r(n){if(n!=null&&!isNaN(n=+n))return e((ob(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Sf),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Mge(t,o/n))},r.copy=function(){return oZ(e).domain(t)},Bc.apply(r,arguments)}function wS(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,c=Yi,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-o)*(n*m<n*o?s:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),o=u(e=+e),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function y(m){return function(v){var w,A,_;return arguments.length?([w,A,_]=v,c=ime(m,[w,A,_]),p):[c(0),c(.5),c(1)]}}return p.range=y(lm),p.rangeRound=y($N),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,i=m(t),o=m(e),a=m(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p}}function aZ(){var t=zf(wS()(Yi));return t.copy=function(){return Wf(t,aZ())},Bc.apply(t,arguments)}function sZ(){var t=qN(wS()).domain([.1,1,10]);return t.copy=function(){return Wf(t,sZ()).base(t.base())},Bc.apply(t,arguments)}function lZ(){var t=zN(wS());return t.copy=function(){return Wf(t,lZ()).constant(t.constant())},Bc.apply(t,arguments)}function rR(){var t=WN(wS());return t.copy=function(){return Wf(t,rR()).exponent(t.exponent())},Bc.apply(t,arguments)}function Vye(){return rR.apply(null,arguments).exponent(.5)}const OU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kv,scaleDiverging:aZ,scaleDivergingLog:sZ,scaleDivergingPow:rR,scaleDivergingSqrt:Vye,scaleDivergingSymlog:lZ,scaleIdentity:FX,scaleImplicit:x5,scaleLinear:pE,scaleLog:HX,scaleOrdinal:DN,scalePoint:ev,scalePow:KN,scaleQuantile:WX,scaleQuantize:KX,scaleRadial:zX,scaleSequential:rZ,scaleSequentialLog:nZ,scaleSequentialPow:tR,scaleSequentialQuantile:oZ,scaleSequentialSqrt:Kye,scaleSequentialSymlog:iZ,scaleSqrt:Ome,scaleSymlog:qX,scaleThreshold:VX,scaleTime:zye,scaleUtc:Wye,tickFormat:$X},Symbol.toStringTag,{value:"Module"}));var kP,IU;function cZ(){if(IU)return kP;IU=1;var t=nm();function e(r,n,i){for(var o=-1,a=r.length;++o<a;){var s=r[o],l=n(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,u=s}return u}return kP=e,kP}var TP,PU;function Gye(){if(PU)return TP;PU=1;function t(e,r){return e>r}return TP=t,TP}var MP,kU;function Yye(){if(kU)return MP;kU=1;var t=cZ(),e=Gye(),r=am();function n(i){return i&&i.length?t(i,r,e):void 0}return MP=n,MP}var Jye=Yye();const vf=fr(Jye);var NP,TU;function Qye(){if(TU)return NP;TU=1;function t(e,r){return e<r}return NP=t,NP}var RP,MU;function Xye(){if(MU)return RP;MU=1;var t=cZ(),e=Qye(),r=am();function n(i){return i&&i.length?t(i,r,e):void 0}return RP=n,RP}var Zye=Xye();const bS=fr(Zye);var LP,NU;function eve(){if(NU)return LP;NU=1;var t=vN(),e=qf(),r=vX(),n=Po();function i(o,a){var s=n(o)?t:r;return s(o,e(a,3))}return LP=i,LP}var DP,RU;function tve(){if(RU)return DP;RU=1;var t=mX(),e=eve();function r(n,i){return t(e(n,i),1)}return DP=r,DP}var rve=tve();const nve=fr(rve);var BP,LU;function ive(){if(LU)return BP;LU=1;var t=TN();function e(r,n){return t(r,n)}return BP=e,BP}var ove=ive();const Lv=fr(ove);var cm=1e9,ave={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iR,ln=!0,Fa="[DecimalError] ",Sh=Fa+"Invalid argument: ",nR=Fa+"Exponent out of range: ",um=Math.floor,Pd=Math.pow,sve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xo,Qn=1e7,nn=7,uZ=9007199254740991,vE=um(uZ/nn),Et={};Et.absoluteValue=Et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Et.comparedTo=Et.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*nn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(t){return wc(this,new this.constructor(t))};Et.dividedToIntegerBy=Et.idiv=function(t){var e=this,r=e.constructor;return Vr(wc(e,new r(t),0,1),r.precision)};Et.equals=Et.eq=function(t){return!this.cmp(t)};Et.exponent=function(){return Rn(this)};Et.greaterThan=Et.gt=function(t){return this.cmp(t)>0};Et.greaterThanOrEqualTo=Et.gte=function(t){return this.cmp(t)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(t){return this.cmp(t)<0};Et.lessThanOrEqualTo=Et.lte=function(t){return this.cmp(t)<1};Et.logarithm=Et.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xo))throw Error(Fa+"NaN");if(r.s<1)throw Error(Fa+(r.s?"NaN":"-Infinity"));return r.eq(Xo)?new n(0):(ln=!1,e=wc(Dv(r,o),Dv(t,o),o),ln=!0,Vr(e,i))};Et.minus=Et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hZ(e,t):fZ(e,(t.s=-t.s,t))};Et.modulo=Et.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fa+"NaN");return r.s?(ln=!1,e=wc(r,t,0,1).times(t),ln=!0,r.minus(e)):Vr(new n(r),i)};Et.naturalExponential=Et.exp=function(){return dZ(this)};Et.naturalLogarithm=Et.ln=function(){return Dv(this)};Et.negated=Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Et.plus=Et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fZ(e,t):hZ(e,(t.s=-t.s,t))};Et.precision=Et.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Sh+t);if(e=Rn(i)+1,n=i.d.length-1,r=n*nn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Et.squareRoot=Et.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Fa+"NaN")}for(t=Rn(s),ln=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=il(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=um((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(wc(s,o,a+2)).times(.5),il(o.d).slice(0,a)===(e=il(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Vr(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return ln=!0,Vr(n,r)};Et.times=Et.mul=function(t){var e,r,n,i,o,a,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+p[n]*h[i-n-1]+e,o[i--]=s%Qn|0,e=s/Qn|0;o[i]=(o[i]+e)%Qn|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,ln?Vr(t,f.precision):t};Et.toDecimalPlaces=Et.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vl(t,0,cm),e===void 0?e=n.rounding:vl(e,0,8),Vr(r,t+Rn(r)+1,e))};Et.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ph(n,!0):(vl(t,0,cm),e===void 0?e=i.rounding:vl(e,0,8),n=Vr(new i(n),t+1,e),r=Ph(n,!0,t+1)),r};Et.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Ph(i):(vl(t,0,cm),e===void 0?e=o.rounding:vl(e,0,8),n=Vr(new o(i),t+Rn(i)+1,e),r=Ph(n.abs(),!1,t+Rn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var t=this,e=t.constructor;return Vr(new e(t),Rn(t)+1,e.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Xo);if(s=new l(s),!s.s){if(t.s<1)throw Error(Fa+"Infinity");return s}if(s.eq(Xo))return s;if(n=l.precision,t.eq(Xo))return Vr(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=u<0?-u:u)<=uZ){for(i=new l(Xo),e=Math.ceil(n/nn+4),ln=!1;r%2&&(i=i.times(s),BU(i.d,e)),r=um(r/2),r!==0;)s=s.times(s),BU(s.d,e);return ln=!0,t.s<0?new l(Xo).div(i):Vr(i,n)}}else if(o<0)throw Error(Fa+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,ln=!1,i=t.times(Dv(s,n+c)),ln=!0,i=dZ(i),i.s=o,i};Et.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Rn(i),n=Ph(i,r<=o.toExpNeg||r>=o.toExpPos)):(vl(t,1,cm),e===void 0?e=o.rounding:vl(e,0,8),i=Vr(new o(i),t,e),r=Rn(i),n=Ph(i,t<=r||r<=o.toExpNeg,t)),n};Et.toSignificantDigits=Et.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vl(t,1,cm),e===void 0?e=n.rounding:vl(e,0,8)),Vr(new n(r),t,e)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),r=t.constructor;return Ph(t,e<=r.toExpNeg||e>=r.toExpPos)};function fZ(t,e){var r,n,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ln?Vr(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(f/nn),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Qn|0,l[o]%=Qn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ln?Vr(e,f):e}function vl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Sh+t)}function il(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=nn-n.length,r&&(o+=Ru(r)),o+=n;a=t[e],n=a+"",r=nn-n.length,r&&(o+=Ru(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var wc=(function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%Qn|0,a=o/Qn|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*Qn+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,u,f,h,p,y,m,v,w,A,_,D,P,U,F,N,L=n.constructor,B=n.s==i.s?1:-1,R=n.d,b=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Fa+"Division by zero");for(l=n.e-i.e,F=b.length,P=R.length,p=new L(B),y=p.d=[],c=0;b[c]==(R[c]||0);)++c;if(b[c]>(R[c]||0)&&--l,o==null?A=o=L.precision:a?A=o+(Rn(n)-Rn(i))+1:A=o,A<0)return new L(0);if(A=A/nn+2|0,c=0,F==1)for(u=0,b=b[0],A++;(c<P||u)&&A--;c++)_=u*Qn+(R[c]||0),y[c]=_/b|0,u=_%b|0;else{for(u=Qn/(b[0]+1)|0,u>1&&(b=t(b,u),R=t(R,u),F=b.length,P=R.length),D=F,m=R.slice(0,F),v=m.length;v<F;)m[v++]=0;N=b.slice(),N.unshift(0),U=b[0],b[1]>=Qn/2&&++U;do u=0,s=e(b,m,F,v),s<0?(w=m[0],F!=v&&(w=w*Qn+(m[1]||0)),u=w/U|0,u>1?(u>=Qn&&(u=Qn-1),f=t(b,u),h=f.length,v=m.length,s=e(f,m,h,v),s==1&&(u--,r(f,F<h?N:b,h))):(u==0&&(s=u=1),f=b.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),s==-1&&(v=m.length,s=e(b,m,F,v),s<1&&(u++,r(m,F<v?N:b,v))),v=m.length):s===0&&(u++,m=[0]),y[c++]=u,s&&m[0]?m[v++]=R[D]||0:(m=[R[D]],v=1);while((D++<P||m[0]!==void 0)&&A--)}return y[0]||y.shift(),p.e=l,Vr(p,a?o+Rn(p)+1:o)}})();function dZ(t,e){var r,n,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(Rn(t)>16)throw Error(nR+Rn(t));if(!t.s)return new u(Xo);for(ln=!1,s=f,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(Pd(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new u(Xo),u.precision=s;;){if(i=Vr(i.times(t),s),r=r.times(++l),a=o.plus(wc(i,r,s)),il(a.d).slice(0,s)===il(o.d).slice(0,s)){for(;c--;)o=Vr(o.times(o),s);return u.precision=f,e==null?(ln=!0,Vr(o,f)):o}o=a}}function Rn(t){for(var e=t.e*nn,r=t.d[0];r>=10;r/=10)e++;return e}function jP(t,e,r){if(e>t.LN10.sd())throw ln=!0,r&&(t.precision=r),Error(Fa+"LN10 precision limit exceeded");return Vr(new t(t.LN10),e)}function Ru(t){for(var e="";t--;)e+="0";return e}function Dv(t,e){var r,n,i,o,a,s,l,c,u,f=1,h=10,p=t,y=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Fa+(p.s?"NaN":"-Infinity"));if(p.eq(Xo))return new m(0);if(e==null?(ln=!1,c=v):c=e,p.eq(10))return e==null&&(ln=!0),jP(m,c);if(c+=h,m.precision=c,r=il(y),n=r.charAt(0),o=Rn(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=il(p.d),n=r.charAt(0),f++;o=Rn(p),n>1?(p=new m("0."+r),o++):p=new m(n+"."+r.slice(1))}else return l=jP(m,c+2,v).times(o+""),p=Dv(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,e==null?(ln=!0,Vr(p,v)):p;for(s=a=p=wc(p.minus(Xo),p.plus(Xo),c),u=Vr(p.times(p),c),i=3;;){if(a=Vr(a.times(u),c),l=s.plus(wc(a,new m(i),c)),il(l.d).slice(0,c)===il(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(jP(m,c+2,v).times(o+""))),s=wc(s,new m(f),c),m.precision=v,e==null?(ln=!0,Vr(s,v)):s;s=l,i+=2}}function DU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=um(r/nn),t.d=[],n=(r+1)%nn,r<0&&(n+=nn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=nn;n<i;)t.d.push(+e.slice(n,n+=nn));e=e.slice(n),n=nn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ln&&(t.e>vE||t.e<-vE))throw Error(nR+r)}else t.s=0,t.e=0,t.d=[0];return t}function Vr(t,e,r){var n,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=nn,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/nn),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;n%=nn,i=n-nn+a}if(r!==void 0&&(o=Pd(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Pd(10,a-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(o=Rn(t),f.length=1,e=e-o-1,f[0]=Pd(10,(nn-e%nn)%nn),t.e=um(-e/nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Pd(10,nn-n),f[u]=i>0?(c/Pd(10,a-i)%Pd(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Qn&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=Qn)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(ln&&(t.e>vE||t.e<-vE))throw Error(nR+Rn(t));return t}function hZ(t,e){var r,n,i,o,a,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ln?Vr(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/nn),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Qn-1;--l[o],l[i]+=Qn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ln?Vr(e,p):e):new h(0)}function Ph(t,e,r){var n,i=Rn(t),o=il(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ru(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ru(-i-1)+o,r&&(n=r-a)>0&&(o+=Ru(n))):i>=a?(o+=Ru(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Ru(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Ru(n))),t.s<0?"-"+o:o}function BU(t,e){if(t.length>e)return t.length=e,!0}function pZ(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Sh+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return DU(a,o.toString())}else if(typeof o!="string")throw Error(Sh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,sve.test(o))DU(a,o);else throw Error(Sh+o)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pZ,i.config=i.set=lve,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lve(t){if(!t||typeof t!="object")throw Error(Fa+"Object expected");var e,r,n,i=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(um(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Sh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Sh+r+": "+n);return this}var iR=pZ(ave);Xo=new iR(1);const Hr=iR;function cve(t){return hve(t)||dve(t)||fve(t)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(t,e){if(t){if(typeof t=="string")return A5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(t,e)}}function dve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hve(t){if(Array.isArray(t))return A5(t)}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pve=function(e){return e},gZ={},mZ=function(e){return e===gZ},jU=function(e){return function r(){return arguments.length===0||arguments.length===1&&mZ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},gve=function t(e,r){return e===1?r:jU(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==gZ}).length;return a>=e?r.apply(void 0,i):t(e-a,jU(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return mZ(f)?l.shift():f});return r.apply(void 0,cve(u).concat(l))}))})},xS=function(e){return gve(e.length,e)},C5=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},mve=xS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),yve=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return pve;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},O5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yZ=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function vve(t){var e;return t===0?e=1:e=Math.floor(new Hr(t).abs().log(10).toNumber())+1,e}function wve(t,e,r){for(var n=new Hr(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var bve=xS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xve=xS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Eve=xS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ES={rangeStep:wve,getDigitCount:vve,interpolateNumber:bve,uninterpolateNumber:xve,uninterpolateTruncation:Eve};function I5(t){return Ave(t)||_ve(t)||vZ(t)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ave(t){if(Array.isArray(t))return P5(t)}function Bv(t,e){return Ive(t)||Ove(t,e)||vZ(t,e)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ove(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Ive(t){if(Array.isArray(t))return t}function wZ(t){var e=Bv(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function bZ(t,e,r){if(t.lte(0))return new Hr(0);var n=ES.getDigitCount(t.toNumber()),i=new Hr(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new Hr(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new Hr(Math.ceil(l))}function Pve(t,e,r){var n=1,i=new Hr(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Hr(10).pow(ES.getDigitCount(t)-1),i=new Hr(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Hr(Math.floor(t)))}else t===0?i=new Hr(Math.floor((e-1)/2)):r||(i=new Hr(Math.floor(t)));var a=Math.floor((e-1)/2),s=yve(mve(function(l){return i.add(new Hr(l-a).mul(n)).toNumber()}),C5);return s(0,e)}function xZ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var o=bZ(new Hr(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Hr(0):(a=new Hr(t).add(e).div(2),a=a.sub(new Hr(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Hr(e).sub(a).div(o).toNumber()),c=s+l+1;return c>r?xZ(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:o,tickMin:a.sub(new Hr(s).mul(o)),tickMax:a.add(new Hr(l).mul(o))})}function kve(t){var e=Bv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=wZ([r,n]),l=Bv(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(I5(C5(0,i-1).map(function(){return 1/0}))):[].concat(I5(C5(0,i-1).map(function(){return-1/0})),[u]);return r>n?O5(f):f}if(c===u)return Pve(c,i,o);var h=xZ(c,u,a,o),p=h.step,y=h.tickMin,m=h.tickMax,v=ES.rangeStep(y,m.add(new Hr(.1).mul(p)),p);return r>n?O5(v):v}function Tve(t,e){var r=Bv(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=wZ([n,i]),s=Bv(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=bZ(new Hr(c).sub(l).div(u-1),o,0),h=[].concat(I5(ES.rangeStep(new Hr(l),new Hr(c).sub(new Hr(.99).mul(f)),f)),[c]);return n>i?O5(h):h}var Mve=yZ(kve),Nve=yZ(Tve),Rve="Invariant failed";function kh(t,e){throw new Error(Rve)}var Lve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wE.apply(this,arguments)}function Dve(t,e){return Fve(t)||$ve(t,e)||jve(t,e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return $U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $U(t,e)}}function $U(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Fve(t){if(Array.isArray(t))return t}function Uve(t,e){if(t==null)return{};var r=Hve(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Z(n.key),n)}}function Wve(t,e,r){return e&&zve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kve(t,e,r){return e=bE(e),Vve(t,EZ()?Reflect.construct(e,r||[],bE(t).constructor):e.apply(t,r))}function Vve(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(t)}function Gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!t})()}function bE(t){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bE(t)}function Yve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k5(t,e)}function SZ(t,e,r){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Z(t){var e=Jve(t,"string");return kg(e)=="symbol"?e:e+""}function Jve(t,e){if(kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SS=(function(t){function e(){return qve(this,e),Kve(this,e,arguments)}return Yve(e,t),Wve(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Uve(n,Lve),p=ur(h,!1);this.props.direction==="x"&&u.type!=="number"&&kh();var y=l.map(function(m){var v=c(m,s),w=v.x,A=v.y,_=v.value,D=v.errorVal;if(!D)return null;var P=[],U,F;if(Array.isArray(D)){var N=Dve(D,2);U=N[0],F=N[1]}else U=F=D;if(o==="vertical"){var L=u.scale,B=A+i,R=B+a,b=B-a,x=L(_-U),I=L(_+F);P.push({x1:I,y1:R,x2:I,y2:b}),P.push({x1:x,y1:B,x2:I,y2:B}),P.push({x1:x,y1:R,x2:x,y2:b})}else if(o==="horizontal"){var C=f.scale,T=w+i,j=T-a,O=T+a,k=C(_-U),E=C(_+F);P.push({x1:j,y1:E,x2:O,y2:E}),P.push({x1:T,y1:k,x2:T,y2:E}),P.push({x1:j,y1:k,x2:O,y2:k})}return _e.createElement(gn,wE({className:"recharts-errorBar",key:"bar-".concat(P.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},p),P.map(function(M){return _e.createElement("line",wE({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return _e.createElement(gn,{className:"recharts-errorBars"},y)}}])})(_e.Component);SZ(SS,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});SZ(SS,"displayName","ErrorBar");function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){Qve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qve(t,e,r){return e=Xve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xve(t){var e=Zve(t,"string");return jv(e)=="symbol"?e:e+""}function Zve(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AZ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Go(r,xh);if(!a)return null;var s=xh.defaultProps,l=s!==void 0?cd(cd({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return u.concat(y.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?cd(cd({},h),f.props):{},y=p.dataKey,m=p.name,v=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:l.iconType||v||"square",color:oR(f),value:m||y,payload:p}}),cd(cd(cd({},l),xh.getWithHeight(a,i)),{},{payload:c,item:a})};function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function UU(t){return nwe(t)||rwe(t)||twe(t)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twe(t,e){if(t){if(typeof t=="string")return T5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T5(t,e)}}function rwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nwe(t){if(Array.isArray(t))return T5(t)}function T5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x0(t,e,r){return e=iwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iwe(t){var e=owe(t,"string");return $v(e)=="symbol"?e:e+""}function owe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ra(t,e,r){return gr(t)||gr(e)?r:$n(e)?$a(t,e,r):Jt(e)?e(t):r}function tv(t,e,r,n){var i=nve(t,function(s){return ra(s,e)});if(r==="number"){var o=i.filter(function(s){return ut(s)||parseFloat(s)});return o.length?[bS(o),vf(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!gr(s)}):i;return a.map(function(s){return $n(s)||s instanceof Date?s:""})}var awe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ys(f-u)!==ys(h-f)){var y=[];if(ys(h-f)===ys(l[1]-l[0])){p=h;var m=f+l[1]-l[0];y[0]=Math.min(m,(m+u)/2),y[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){a=i[c].index;break}}else{var A=Math.min(u,h),_=Math.max(u,h);if(e>(A+f)/2&&e<=(_+f)/2){a=i[c].index;break}}}else for(var D=0;D<s;D++)if(D===0&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<s-1&&e>(n[D].coordinate+n[D-1].coordinate)/2&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D===s-1&&e>(n[D].coordinate+n[D-1].coordinate)/2){a=n[D].index;break}return a},oR=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},swe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var y=u[f[h]],m=y.items,v=y.cateAxisId,w=m.filter(function(F){return yc(F.type).indexOf("Bar")>=0});if(w&&w.length){var A=w[0].type.defaultProps,_=A!==void 0?xn(xn({},A),w[0].props):w[0].props,D=_.barSize,P=_[v];a[P]||(a[P]=[]);var U=gr(D)?r:D;a[P].push({item:w[0],stackList:w.slice(1),barSize:gr(U)?void 0:Ih(U,n,0)})}}return a},lwe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Ih(r,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,y=a.reduce(function(D,P){return D+P.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,v={offset:m-c,size:0};u=a.reduce(function(D,P){var U={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},F=[].concat(UU(D),[U]);return v=F[F.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){F.push({item:N,position:v})}),F},f)}else{var w=Ih(n,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var A=(i-2*w-(l-1)*c)/l;A>1&&(A>>=0);var _=s===+s?Math.min(A,s):A;u=a.reduce(function(D,P,U){var F=[].concat(UU(D),[{item:P.item,position:{offset:w+(A+c)*U+(A-_)/2,size:_}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){F.push({item:N,position:F[F.length-1].position})}),F},f)}return u},cwe=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=AZ({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&ut(e[p]))return xn(xn({},e),{},x0({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&ut(e[y]))return xn(xn({},e),{},x0({},y,e[y]+(h||0)))}return e},uwe=function(e,r,n){return gr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CZ=function(e,r,n,i,o){var a=r.props.children,s=bs(a,SS).filter(function(c){return uwe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=ra(u,n);if(gr(f))return c;var h=Array.isArray(f)?[bS(f),vf(f)]:[f,f],p=l.reduce(function(y,m){var v=ra(u,m,0),w=h[0]-Math.abs(Array.isArray(v)?v[0]:v),A=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,y[0]),Math.max(A,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},fwe=function(e,r,n,i,o){var a=r.map(function(s){return CZ(e,s,n,o,i)}).filter(function(s){return!gr(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},OZ=function(e,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&CZ(e,l,c,i)||tv(e,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},IZ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},PZ=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},cc=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ys(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!om(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},$P=new WeakMap,H1=function(e,r){if(typeof r!="function")return e;$P.has(e)||$P.set(e,new WeakMap);var n=$P.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},dwe=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:kv(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:pE(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ev(),realScaleType:"point"}:o==="category"?{scale:kv(),realScaleType:"band"}:{scale:pE(),realScaleType:"linear"};if(rb(i)){var l="scale".concat(sS(i));return{scale:(OU[l]||ev)(),realScaleType:OU[l]?l:"point"}}return Jt(i)?{scale:i}:{scale:ev(),realScaleType:"point"}},qU=1e-4,hwe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-qU,a=Math.max(i[0],i[1])+qU,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},pwe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},gwe=function(e,r){if(!r||r.length!==2||!ut(r[0])||!ut(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ut(e[0])||e[0]<n)&&(o[0]=n),(!ut(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},mwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=om(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},ywe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=om(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},vwe={sign:mwe,expand:ehe,none:Eg,silhouette:the,wiggle:rhe,positive:ywe},wwe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=vwe[n],a=Zde().keys(i).value(function(s,l){return+ra(s,l,0)}).order(s5).offset(o);return a(e)},bwe=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?xn(xn({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var w=y[n],A=f[w]||{hasStack:!1,stackGroups:{}};if($n(m)){var _=A.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(h),A.hasStack=!0,A.stackGroups[m]=_}else A.stackGroups[nb("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return xn(xn({},f),{},x0({},w,A))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var w=p.stackGroups[v];return xn(xn({},m),{},x0({},v,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:wwe(e,w.items,o)}))},y)}return xn(xn({},f),{},x0({},h,p))},u)},xwe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Mve(c,o,s);return e.domain([bS(u),vf(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),h=Nve(f,o,s);return{niceTicks:h}}return null};function zU(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!gr(i[e.dataKey])){var s=V2(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=ra(i,gr(a)?e.dataKey:a);return gr(l)?null:e.scale(l)}var WU=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ra(a,r.dataKey,r.domain[s]);return gr(l)?null:r.scale(l)-o/2+i},Ewe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},Swe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if($n(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},_we=function(e){return e.reduce(function(r,n){return[bS(n.concat([r[0]]).filter(ut)),vf(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},kZ=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var f=_we(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M5=function(e,r,n){if(Jt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ut(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(KU.test(e[0])){var o=+KU.exec(e[0])[1];i[0]=r[0]-o}else Jt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ut(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(VU.test(e[1])){var a=+VU.exec(e[1])[1];i[1]=r[1]+a}else Jt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},xE=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=NN(r,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},GU=function(e,r,n){return!e||!e.length||Lv(e,$a(n,"type.defaultProps.domain"))?r:e},TZ=function(e,r){var n=e.type.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return xn(xn({},ur(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:oR(e),value:ra(r,i),type:l,payload:r,chartType:c,hide:u})};function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){Awe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Awe(t,e,r){return e=Cwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cwe(t){var e=Owe(t,"string");return Fv(e)=="symbol"?e:e+""}function Owe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EE=Math.PI/180,Iwe=function(e){return e*180/Math.PI},pi=function(e,r,n,i){return{x:e+Math.cos(-EE*i)*n,y:r+Math.sin(-EE*i)*n}},Pwe=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},kwe=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=Pwe({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Iwe(c),angleInRadian:c}},Twe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},Mwe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},QU=function(e,r){var n=e.x,i=e.y,o=kwe({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Twe(r),f=u.startAngle,h=u.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?JU(JU({},r),{},{radius:a,angle:Mwe(p,r)}):null};function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var Nwe=["offset"];function Rwe(t){return jwe(t)||Bwe(t)||Dwe(t)||Lwe()}function Lwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(t,e){if(t){if(typeof t=="string")return N5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(t,e)}}function Bwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jwe(t){if(Array.isArray(t))return N5(t)}function N5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $we(t,e){if(t==null)return{};var r=Fwe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){Uwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uwe(t,e,r){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hwe(t){var e=qwe(t,"string");return Uv(e)=="symbol"?e:e+""}function qwe(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hv.apply(this,arguments)}var zwe=function(e){var r=e.value,n=e.formatter,i=gr(e.children)?r:e.children;return Jt(n)?n(i):i},Wwe=function(e,r){var n=ys(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Kwe=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,v=(f+h)/2,w=Wwe(p,y),A=w>=0?1:-1,_,D;i==="insideStart"?(_=p+A*a,D=m):i==="insideEnd"?(_=y-A*a,D=!m):i==="end"&&(_=y+A*a,D=m),D=w<=0?D:!D;var P=pi(c,u,v,_),U=pi(c,u,v,_+(D?1:-1)*359),F="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(U.x,",").concat(U.y),N=gr(e.id)?nb("recharts-radial-line-"):e.id;return _e.createElement("text",Hv({},n,{dominantBaseline:"central",className:xr("recharts-radial-bar-label",s)}),_e.createElement("defs",null,_e.createElement("path",{id:N,d:F})),_e.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Vwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(i==="outside"){var p=pi(a,s,c+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,w=pi(a,s,v,h),A=w.x,_=w.y;return{x:A,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Gwe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",m=c>=0?1:-1,v=m*i,w=m>0?"end":"start",A=m>0?"start":"end";if(o==="top"){var _={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return jn(jn({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var D={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:y};return jn(jn({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var P={x:s-v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return jn(jn({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(o==="right"){var U={x:s+c+v,y:l+u/2,textAnchor:A,verticalAnchor:"middle"};return jn(jn({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:u}:{})}var F=n?{width:c,height:u}:{};return o==="insideLeft"?jn({x:s+v,y:l+u/2,textAnchor:A,verticalAnchor:"middle"},F):o==="insideRight"?jn({x:s+c-v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},F):o==="insideTop"?jn({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},F):o==="insideBottom"?jn({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},F):o==="insideTopLeft"?jn({x:s+v,y:l+h,textAnchor:A,verticalAnchor:y},F):o==="insideTopRight"?jn({x:s+c-v,y:l+h,textAnchor:w,verticalAnchor:y},F):o==="insideBottomLeft"?jn({x:s+v,y:l+u-h,textAnchor:A,verticalAnchor:p},F):o==="insideBottomRight"?jn({x:s+c-v,y:l+u-h,textAnchor:w,verticalAnchor:p},F):im(o)&&(ut(o.x)||$d(o.x))&&(ut(o.y)||$d(o.y))?jn({x:s+Ih(o.x,c),y:l+Ih(o.y,u),textAnchor:"end",verticalAnchor:"end"},F):jn({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Ywe=function(e){return"cx"in e&&ut(e.cx)};function Ni(t){var e=t.offset,r=e===void 0?5:e,n=$we(t,Nwe),i=jn({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!o||gr(s)&&gr(l)&&!ye.isValidElement(c)&&!Jt(c))return null;if(ye.isValidElement(c))return ye.cloneElement(c,i);var p;if(Jt(c)){if(p=ye.createElement(c,i),ye.isValidElement(p))return p}else p=zwe(i);var y=Ywe(o),m=ur(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Kwe(i,p,m);var v=y?Vwe(i):Gwe(i);return _e.createElement(aE,Hv({className:xr("recharts-label",f)},m,v,{breakAll:h}),p)}Ni.displayName="Label";var MZ=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,m=e.width,v=e.height,w=e.clockWise,A=e.labelViewBox;if(A)return A;if(ut(m)&&ut(v)){if(ut(f)&&ut(h))return{x:f,y:h,width:m,height:v};if(ut(p)&&ut(y))return{x:p,y,width:m,height:v}}return ut(f)&&ut(h)?{x:f,y:h,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Jwe=function(e,r){return e?e===!0?_e.createElement(Ni,{key:"label-implicit",viewBox:r}):$n(e)?_e.createElement(Ni,{key:"label-implicit",viewBox:r,value:e}):ye.isValidElement(e)?e.type===Ni?ye.cloneElement(e,{key:"label-implicit",viewBox:r}):_e.createElement(Ni,{key:"label-implicit",content:e,viewBox:r}):Jt(e)?_e.createElement(Ni,{key:"label-implicit",content:e,viewBox:r}):im(e)?_e.createElement(Ni,Hv({viewBox:r},e,{key:"label-implicit"})):null:null},Qwe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=MZ(e),a=bs(i,Ni).map(function(l,c){return ye.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=Jwe(e.label,r||o);return[s].concat(Rwe(a))};Ni.parseViewBox=MZ;Ni.renderCallByParent=Qwe;var FP,ZU;function Xwe(){if(ZU)return FP;ZU=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return FP=t,FP}var Zwe=Xwe();const ebe=fr(Zwe);function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var tbe=["valueAccessor"],rbe=["data","dataKey","clockWise","id","textBreakAll"];function nbe(t){return sbe(t)||abe(t)||obe(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function obe(t,e){if(t){if(typeof t=="string")return R5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sbe(t){if(Array.isArray(t))return R5(t)}function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SE.apply(this,arguments)}function eH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eH(Object(r),!0).forEach(function(n){lbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lbe(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=ube(t,"string");return qv(e)=="symbol"?e:e+""}function ube(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rH(t,e){if(t==null)return{};var r=fbe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dbe=function(e){return Array.isArray(e.value)?ebe(e.value):e.value};function _f(t){var e=t.valueAccessor,r=e===void 0?dbe:e,n=rH(t,tbe),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=rH(n,rbe);return!i||!i.length?null:_e.createElement(gn,{className:"recharts-label-list"},i.map(function(u,f){var h=gr(o)?r(u,f):ra(u&&u.payload,o),p=gr(s)?{}:{id:"".concat(s,"-").concat(f)};return _e.createElement(Ni,SE({},ur(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ni.parseViewBox(gr(a)?u:tH(tH({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}_f.displayName="LabelList";function hbe(t,e){return t?t===!0?_e.createElement(_f,{key:"labelList-implicit",data:e}):_e.isValidElement(t)||Jt(t)?_e.createElement(_f,{key:"labelList-implicit",data:e,content:t}):im(t)?_e.createElement(_f,SE({data:e},t,{key:"labelList-implicit"})):null:null}function pbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=bs(n,_f).map(function(a,s){return ye.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=hbe(t.label,e);return[o].concat(nbe(i))}_f.renderCallByParent=pbe;function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function L5(){return L5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L5.apply(this,arguments)}function nH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nH(Object(r),!0).forEach(function(n){gbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gbe(t,e,r){return e=mbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mbe(t){var e=ybe(t,"string");return zv(e)=="symbol"?e:e+""}function ybe(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vbe=function(e,r){var n=ys(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},q1=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/EE,h=c?o:o+a*f,p=pi(r,n,u,h),y=pi(r,n,i,h),m=c?o-a*f:o,v=pi(r,n,u*Math.cos(f*EE),m);return{center:p,circleTangency:y,lineTangency:v,theta:f}},NZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=vbe(a,s),c=a+l,u=pi(r,n,o,a),f=pi(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=pi(r,n,i,a),y=pi(r,n,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wbe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ys(u-c),h=q1({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,m=h.theta,v=q1({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=v.circleTangency,A=v.lineTangency,_=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-_;if(D<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):NZ({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var U=q1({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),F=U.circleTangency,N=U.lineTangency,L=U.theta,B=q1({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=B.circleTangency,b=B.lineTangency,x=B.theta,I=l?Math.abs(c-u):Math.abs(c-u)-L-x;if(I<0&&a===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},bbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RZ=function(e){var r=iH(iH({},bbe),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(a<o||u===f)return null;var p=xr("recharts-sector",h),y=a-o,m=Ih(s,y,0,!0),v;return m>0&&Math.abs(u-f)<360?v=wbe({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=NZ({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),_e.createElement("path",L5({},ur(r,!0),{className:p,d:v,role:"img"}))};function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D5.apply(this,arguments)}function oH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oH(Object(r),!0).forEach(function(n){xbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xbe(t,e,r){return e=Ebe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ebe(t){var e=Sbe(t,"string");return Wv(e)=="symbol"?e:e+""}function Sbe(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sH={curveBasisClosed:Hde,curveBasisOpen:qde,curveBasis:Ude,curveBumpX:Ode,curveBumpY:Ide,curveLinearClosed:zde,curveLinear:cS,curveMonotoneX:Wde,curveMonotoneY:Kde,curveNatural:Vde,curveStep:Gde,curveStepAfter:Jde,curveStepBefore:Yde},z1=function(e){return e.x===+e.x&&e.y===+e.y},fy=function(e){return e.x},dy=function(e){return e.y},_be=function(e,r){if(Jt(e))return e;var n="curve".concat(sS(e));return(n==="curveMonotone"||n==="curveBump")&&r?sH["".concat(n).concat(r==="vertical"?"Y":"X")]:sH[n]||cS},Abe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=_be(n,s),f=c?o.filter(function(m){return z1(m)}):o,h;if(Array.isArray(a)){var p=c?a.filter(function(m){return z1(m)}):a,y=f.map(function(m,v){return aH(aH({},m),{},{base:p[v]})});return s==="vertical"?h=L1().y(dy).x1(fy).x0(function(m){return m.base.x}):h=L1().x(fy).y1(dy).y0(function(m){return m.base.y}),h.defined(z1).curve(u),h(y)}return s==="vertical"&&ut(a)?h=L1().y(dy).x1(fy).x0(a):ut(a)?h=L1().x(fy).y1(dy).y0(a):h=$Q().x(fy).y(dy),h.defined(z1).curve(u),h(f)},rv=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Abe(e):i;return _e.createElement("path",D5({},ur(e,!1),G2(e),{className:xr("recharts-curve",r),d:a,ref:o}))},UP={exports:{}},HP,lH;function Cbe(){if(lH)return HP;lH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return HP=t,HP}var qP,cH;function Obe(){if(cH)return qP;cH=1;var t=Cbe();function e(){}function r(){}return r.resetWarningCache=e,qP=function(){function n(a,s,l,c,u,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},qP}var uH;function Ibe(){return uH||(uH=1,UP.exports=Obe()()),UP.exports}var Pbe=Ibe();const Pr=fr(Pbe),{getOwnPropertyNames:kbe,getOwnPropertySymbols:Tbe}=Object,{hasOwnProperty:Mbe}=Object.prototype;function zP(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function W1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);const l=t(r,n,i);return o.delete(r),o.delete(n),l}}function Nbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function fH(t){return kbe(t).concat(Tbe(t))}const Rbe=Object.hasOwn||((t,e)=>Mbe.call(t,e));function Wh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Lbe="__v",Dbe="__o",Bbe="_owner",{getOwnPropertyDescriptor:dH,keys:hH}=Object;function jbe(t,e){return t.byteLength===e.byteLength&&_E(new Uint8Array(t),new Uint8Array(e))}function $be(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Fbe(t,e){return t.byteLength===e.byteLength&&_E(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ube(t,e){return Wh(t.getTime(),e.getTime())}function Hbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qbe(t,e){return t===e}function pH(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const zbe=Wh;function Wbe(t,e,r){const n=hH(t);let i=n.length;if(hH(e).length!==i)return!1;for(;i-- >0;)if(!LZ(t,e,r,n[i]))return!1;return!0}function hy(t,e,r){const n=fH(t);let i=n.length;if(fH(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=n[i],!LZ(t,e,r,o)||(a=dH(t,o),s=dH(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Kbe(t,e){return Wh(t.valueOf(),e.valueOf())}function Vbe(t,e){return t.source===e.source&&t.flags===e.flags}function gH(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function _E(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Gbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LZ(t,e,r,n){return(n===Bbe||n===Dbe||n===Lbe)&&(t.$$typeof||e.$$typeof)?!0:Rbe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Ybe="[object ArrayBuffer]",Jbe="[object Arguments]",Qbe="[object Boolean]",Xbe="[object DataView]",Zbe="[object Date]",e1e="[object Error]",t1e="[object Map]",r1e="[object Number]",n1e="[object Object]",i1e="[object RegExp]",o1e="[object Set]",a1e="[object String]",s1e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},l1e="[object URL]",c1e=Object.prototype.toString;function u1e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(v,w,A){if(v===w)return!0;if(v==null||w==null)return!1;const _=typeof v;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?s(v,w,A):_==="function"?o(v,w,A):!1;const D=v.constructor;if(D!==w.constructor)return!1;if(D===Object)return l(v,w,A);if(Array.isArray(v))return e(v,w,A);if(D===Date)return n(v,w,A);if(D===RegExp)return u(v,w,A);if(D===Map)return a(v,w,A);if(D===Set)return f(v,w,A);const P=c1e.call(v);if(P===Zbe)return n(v,w,A);if(P===i1e)return u(v,w,A);if(P===t1e)return a(v,w,A);if(P===o1e)return f(v,w,A);if(P===n1e)return typeof v.then!="function"&&typeof w.then!="function"&&l(v,w,A);if(P===l1e)return p(v,w,A);if(P===e1e)return i(v,w,A);if(P===Jbe)return l(v,w,A);if(s1e[P])return h(v,w,A);if(P===Ybe)return t(v,w,A);if(P===Xbe)return r(v,w,A);if(P===Qbe||P===r1e||P===a1e)return c(v,w,A);if(y){let U=y[P];if(!U){const F=Nbe(v);F&&(U=y[F])}if(U)return U(v,w,A)}return!1}}function f1e({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:jbe,areArraysEqual:r?hy:$be,areDataViewsEqual:Fbe,areDatesEqual:Ube,areErrorsEqual:Hbe,areFunctionsEqual:qbe,areMapsEqual:r?zP(pH,hy):pH,areNumbersEqual:zbe,areObjectsEqual:r?hy:Wbe,arePrimitiveWrappersEqual:Kbe,areRegExpsEqual:Vbe,areSetsEqual:r?zP(gH,hy):gH,areTypedArraysEqual:r?zP(_E,hy):_E,areUrlsEqual:Gbe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=W1(n.areArraysEqual),o=W1(n.areMapsEqual),a=W1(n.areObjectsEqual),s=W1(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return n}function d1e(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function h1e({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=r();return e(s,l,{cache:c,equals:n,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const p1e=Kf();Kf({strict:!0});Kf({circular:!0});Kf({circular:!0,strict:!0});Kf({createInternalComparator:()=>Wh});Kf({strict:!0,createInternalComparator:()=>Wh});Kf({circular:!0,createInternalComparator:()=>Wh});Kf({circular:!0,createInternalComparator:()=>Wh,strict:!0});function Kf(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=f1e(t),a=u1e(o),s=r?r(a):d1e(a);return h1e({circular:e,comparator:a,createState:n,equals:s,strict:i})}function g1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):g1e(i)};requestAnimationFrame(n)}function B5(t){"@babel/helpers - typeof";return B5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B5(t)}function m1e(t){return b1e(t)||w1e(t)||v1e(t)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(t,e){if(t){if(typeof t=="string")return yH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yH(t,e)}}function yH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b1e(t){if(Array.isArray(t))return t}function x1e(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=m1e(a),l=s[0],c=s.slice(1);if(typeof l=="number"){mH(i.bind(null,c),l);return}i(l),mH(i.bind(null,c));return}B5(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){DZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DZ(t,e,r){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E1e(t){var e=S1e(t,"string");return Kv(e)==="symbol"?e:String(e)}function S1e(t,e){if(Kv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _1e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},A1e=function(e){return e},C1e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},nv=function(e,r){return Object.keys(r).reduce(function(n,i){return wH(wH({},n),{},DZ({},i,e(i,r[i])))},{})},bH=function(e,r,n){return e.map(function(i){return"".concat(C1e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function O1e(t,e){return k1e(t)||P1e(t,e)||BZ(t,e)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function k1e(t){if(Array.isArray(t))return t}function T1e(t){return R1e(t)||N1e(t)||BZ(t)||M1e()}function M1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return j5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j5(t,e)}}function N1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R1e(t){if(Array.isArray(t))return j5(t)}function j5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var AE=1e-4,jZ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$Z=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},xH=function(e,r){return function(n){var i=jZ(e,r);return $Z(i,n)}},L1e=function(e,r){return function(n){var i=jZ(e,r),o=[].concat(T1e(i.map(function(a,s){return a*s}).slice(1)),[0]);return $Z(o,n)}},EH=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=O1e(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=xH(i,a),h=xH(o,s),p=L1e(i,a),y=function(w){return w>1?1:w<0?0:w},m=function(w){for(var A=w>1?1:w,_=A,D=0;D<8;++D){var P=f(_)-A,U=p(_);if(Math.abs(P-A)<AE||U<AE)return h(_);_=y(_-P/U)}return h(_)};return m.isStepper=!1,m},D1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,f,h){var p=-(u-f)*n,y=h*o,m=h+(p-y)*s/1e3,v=h*s/1e3+u;return Math.abs(v-f)<AE&&Math.abs(m)<AE?[f,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},B1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EH(i);case"spring":return D1e();default:if(i.split("(")[0]==="cubic-bezier")return EH(i)}return typeof i=="function"?i:null};function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function SH(t){return F1e(t)||$1e(t)||FZ(t)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F1e(t){if(Array.isArray(t))return F5(t)}function _H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_H(Object(r),!0).forEach(function(n){$5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $5(t,e,r){return e=U1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U1e(t){var e=H1e(t,"string");return Vv(e)==="symbol"?e:String(e)}function H1e(t,e){if(Vv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1e(t,e){return K1e(t)||W1e(t,e)||FZ(t,e)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(t,e){if(t){if(typeof t=="string")return F5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(t,e)}}function F5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function K1e(t){if(Array.isArray(t))return t}var CE=function(e,r,n){return e+(r-e)*n},U5=function(e){var r=e.from,n=e.to;return r!==n},V1e=function t(e,r,n){var i=nv(function(o,a){if(U5(a)){var s=e(a.from,a.to,a.velocity),l=q1e(s,2),c=l[0],u=l[1];return ci(ci({},a),{},{from:c,velocity:u})}return a},r);return n<1?nv(function(o,a){return U5(a)?ci(ci({},a),{},{velocity:CE(a.velocity,i[o].velocity,n),from:CE(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const G1e=(function(t,e,r,n,i){var o=_1e(t,e),a=o.reduce(function(v,w){return ci(ci({},v),{},$5({},w,[t[w],e[w]]))},{}),s=o.reduce(function(v,w){return ci(ci({},v),{},$5({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return nv(function(w,A){return A.from},s)},p=function(){return!Object.values(s).filter(U5).length},y=function(w){c||(c=w);var A=w-c,_=A/r.dt;s=V1e(r,s,_),i(ci(ci(ci({},t),e),h())),c=w,p()||(l=requestAnimationFrame(f))},m=function(w){u||(u=w);var A=(w-u)/n,_=nv(function(P,U){return CE.apply(void 0,SH(U).concat([r(A)]))},a);if(i(ci(ci(ci({},t),e),_)),A<1)l=requestAnimationFrame(f);else{var D=nv(function(P,U){return CE.apply(void 0,SH(U).concat([r(1)]))},a);i(ci(ci(ci({},t),e),D))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}var Y1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function J1e(t,e){if(t==null)return{};var r=Q1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q1e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function WP(t){return txe(t)||exe(t)||Z1e(t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(t,e){if(t){if(typeof t=="string")return H5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(t,e)}}function exe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function txe(t){if(Array.isArray(t))return H5(t)}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(r),!0).forEach(function(n){jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jy(t,e,r){return e=UZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UZ(n.key),n)}}function ixe(t,e,r){return e&&nxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UZ(t){var e=oxe(t,"string");return Tg(e)==="symbol"?e:String(e)}function oxe(t,e){if(Tg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q5(t,e)}function q5(t,e){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q5(t,e)}function sxe(t){var e=lxe();return function(){var n=OE(t),i;if(e){var o=OE(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return z5(this,i)}}function z5(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5(t)}function W5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OE(t){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OE(t)}var Ic=(function(t){axe(r,t);var e=sxe(r);function r(n,i){var o;rxe(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(W5(o)),o.changeStyle=o.changeStyle.bind(W5(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),z5(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},z5(o);o.state={style:l?jy({},l,c):c}}else o.state={style:{}};return o}return ixe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?jy({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(p1e(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?f:i.to;if(this.state&&h){var v={style:l?jy({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Qa(Qa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=G1e(a,s,B1e(c),l,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,v,w){if(w===0)return m;var A=v.duration,_=v.easing,D=_===void 0?"ease":_,P=v.style,U=v.properties,F=v.onAnimationEnd,N=w>0?a[w-1]:v,L=U||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(WP(m),[o.runJSAnimation.bind(o,{from:N.style,to:P,duration:A,easing:D}),A]);var B=bH(L,A,D),R=Qa(Qa(Qa({},N.style),P),{},{transition:B});return[].concat(WP(m),[R,A,F]).filter(A1e)};return this.manager.start([l].concat(WP(a.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=x1e());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?jy({},s,l):l,v=bH(Object.keys(m),a,c);y.start([u,o,Qa(Qa({},m),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=J1e(i,Y1e),c=ye.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(p){var y=p.props,m=y.style,v=m===void 0?{}:m,w=y.className,A=ye.cloneElement(p,Qa(Qa({},l),{},{style:Qa(Qa({},v),u),className:w}));return A};return c===1?f(ye.Children.only(o)):_e.createElement("div",null,ye.Children.map(o,function(h){return f(h)}))}}]),r})(ye.PureComponent);Ic.displayName="Animate";Ic.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ic.propTypes={from:Pr.oneOfType([Pr.object,Pr.string]),to:Pr.oneOfType([Pr.object,Pr.string]),attributeName:Pr.string,duration:Pr.number,begin:Pr.number,easing:Pr.oneOfType([Pr.string,Pr.func]),steps:Pr.arrayOf(Pr.shape({duration:Pr.number.isRequired,style:Pr.object.isRequired,easing:Pr.oneOfType([Pr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pr.func]),properties:Pr.arrayOf("string"),onAnimationEnd:Pr.func})),children:Pr.oneOfType([Pr.node,Pr.func]),isActive:Pr.bool,canBegin:Pr.bool,onAnimationEnd:Pr.func,shouldReAnimate:Pr.bool,onAnimationStart:Pr.func,onAnimationReStart:Pr.func};function cxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IE.apply(this,arguments)}function uxe(t,e){return pxe(t)||hxe(t,e)||dxe(t,e)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dxe(t,e){if(t){if(typeof t=="string")return CH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CH(t,e)}}function CH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pxe(t){if(Array.isArray(t))return t}function OH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(r),!0).forEach(function(n){gxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gxe(t,e,r){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mxe(t){var e=yxe(t,"string");return Gv(e)=="symbol"?e:e+""}function yxe(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PH=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);u="M ".concat(e,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*y,`
            L `).concat(e+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*y," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},vxe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},wxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aR=function(e){var r=IH(IH({},wxe),e),n=ye.useRef(),i=ye.useState(-1),o=uxe(i,2),a=o[0],s=o[1];ye.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&s(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,A=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=xr("recharts-rectangle",p);return A?_e.createElement(Ic,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:y,isActive:A},function(D){var P=D.width,U=D.height,F=D.x,N=D.y;return _e.createElement(Ic,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:w,easing:y},_e.createElement("path",IE({},ur(r,!0),{className:_,d:PH(F,N,P,U,h),ref:n})))}):_e.createElement("path",IE({},ur(r,!0),{className:_,d:PH(l,c,u,f,h)}))};function K5(){return K5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K5.apply(this,arguments)}var sR=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=xr("recharts-dot",o);return r===+r&&n===+n&&i===+i?_e.createElement("circle",K5({},ur(e,!1),G2(e),{className:a,cx:r,cy:n,r:i})):null};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}var bxe=["x","y","top","left","width","height","className"];function V5(){return V5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V5.apply(this,arguments)}function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){Exe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Exe(t,e,r){return e=Sxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sxe(t){var e=_xe(t,"string");return Yv(e)=="symbol"?e:e+""}function _xe(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Axe(t,e){if(t==null)return{};var r=Cxe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oxe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Ixe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,y=e.className,m=Axe(e,bxe),v=xxe({x:n,y:o,top:s,left:c,width:f,height:p},m);return!ut(n)||!ut(o)||!ut(f)||!ut(p)||!ut(s)||!ut(c)?null:_e.createElement("path",V5({},ur(v,!0),{className:xr("recharts-cross",y),d:Oxe(n,o,f,p,s,c)}))},KP,TH;function Pxe(){if(TH)return KP;TH=1;var t=lX(),e=t(Object.getPrototypeOf,Object);return KP=e,KP}var VP,MH;function kxe(){if(MH)return VP;MH=1;var t=Lc(),e=Pxe(),r=Dc(),n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(u){if(!r(u)||t(u)!=n)return!1;var f=e(u);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return VP=c,VP}var Txe=kxe();const Mxe=fr(Txe);var GP,NH;function Nxe(){if(NH)return GP;NH=1;var t=Lc(),e=Dc(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return GP=n,GP}var Rxe=Nxe();const Lxe=fr(Rxe);function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PE.apply(this,arguments)}function Dxe(t,e){return Fxe(t)||$xe(t,e)||jxe(t,e)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(t,e){if(t){if(typeof t=="string")return RH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RH(t,e)}}function RH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $xe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Fxe(t){if(Array.isArray(t))return t}function LH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LH(Object(r),!0).forEach(function(n){Uxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uxe(t,e,r){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hxe(t){var e=qxe(t,"string");return Jv(e)=="symbol"?e:e+""}function qxe(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BH=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},zxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wxe=function(e){var r=DH(DH({},zxe),e),n=ye.useRef(),i=ye.useState(-1),o=Dxe(i,2),a=o[0],s=o[1];ye.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var A=xr("recharts-trapezoid",p);return w?_e.createElement(Ic,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:y,isActive:w},function(_){var D=_.upperWidth,P=_.lowerWidth,U=_.height,F=_.x,N=_.y;return _e.createElement(Ic,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},_e.createElement("path",PE({},ur(r,!0),{className:A,d:BH(F,N,D,P,U),ref:n})))}):_e.createElement("g",null,_e.createElement("path",PE({},ur(r,!0),{className:A,d:BH(l,c,u,f,h)})))},Kxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Vxe(t,e){if(t==null)return{};var r=Gxe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(r),!0).forEach(function(n){Yxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yxe(t,e,r){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jxe(t){var e=Qxe(t,"string");return Qv(e)=="symbol"?e:e+""}function Qxe(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xxe(t,e){return kE(kE({},e),t)}function Zxe(t,e){return t==="symbols"}function $H(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return _e.createElement(aR,r);case"trapezoid":return _e.createElement(Wxe,r);case"sector":return _e.createElement(RZ,r);case"symbols":if(Zxe(e))return _e.createElement(AN,r);break;default:return null}}function e2e(t){return ye.isValidElement(t)?t.props:t}function t2e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Xxe:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Vxe(t,Kxe),c;if(ye.isValidElement(e))c=ye.cloneElement(e,kE(kE({},l),e2e(e)));else if(Jt(e))c=e(l);else if(Mxe(e)&&!Lxe(e)){var u=i(e,l);c=_e.createElement($H,{shapeType:r,elementProps:u})}else{var f=l;c=_e.createElement($H,{shapeType:r,elementProps:f})}return s?_e.createElement(gn,{className:a},c):c}function _S(t,e){return e!=null&&"trapezoids"in t.props}function AS(t,e){return e!=null&&"sectors"in t.props}function Xv(t,e){return e!=null&&"points"in t.props}function r2e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function n2e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function i2e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function o2e(t,e){var r;return _S(t,e)?r=r2e:AS(t,e)?r=n2e:Xv(t,e)&&(r=i2e),r}function a2e(t,e){var r;return _S(t,e)?r="trapezoids":AS(t,e)?r="sectors":Xv(t,e)&&(r="points"),r}function s2e(t,e){if(_S(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(AS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xv(t,e)?e.payload:{}}function l2e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=a2e(r,e),o=s2e(r,e),a=n.filter(function(l,c){var u=Lv(o,l),f=r.props[i].filter(function(y){var m=o2e(r,e);return m(y,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(a[a.length-1]);return s}var YP,FH;function c2e(){if(FH)return YP;FH=1;var t=Math.ceil,e=Math.max;function r(n,i,o,a){for(var s=-1,l=e(t((i-n)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=n,n+=o;return c}return YP=r,YP}var JP,UH;function HZ(){if(UH)return JP;UH=1;var t=_X(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return JP=n,JP}var QP,HH;function u2e(){if(HH)return QP;HH=1;var t=c2e(),e=hS(),r=HZ();function n(i){return function(o,a,s){return s&&typeof s!="number"&&e(o,a,s)&&(a=s=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),s=s===void 0?o<a?1:-1:r(s),t(o,a,s,i)}}return QP=n,QP}var XP,qH;function f2e(){if(qH)return XP;qH=1;var t=u2e(),e=t();return XP=e,XP}var d2e=f2e();const TE=fr(d2e);function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function zH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zH(Object(r),!0).forEach(function(n){qZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qZ(t,e,r){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2e(t){var e=p2e(t,"string");return Zv(e)=="symbol"?e:e+""}function p2e(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g2e=["Webkit","Moz","O","ms"],m2e=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=g2e.reduce(function(o,a){return WH(WH({},o),{},qZ({},a+n,r))},{});return i[e]=r,i};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ME.apply(this,arguments)}function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WZ(n.key),n)}}function v2e(t,e,r){return e&&VH(t.prototype,e),r&&VH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w2e(t,e,r){return e=NE(e),b2e(t,zZ()?Reflect.construct(e,r||[],NE(t).constructor):e.apply(t,r))}function b2e(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2e(t)}function x2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zZ=function(){return!!t})()}function NE(t){return NE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NE(t)}function E2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G5(t,e)}function G5(t,e){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G5(t,e)}function Fo(t,e,r){return e=WZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WZ(t){var e=S2e(t,"string");return Mg(e)=="symbol"?e:e+""}function S2e(t,e){if(Mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _2e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ev().domain(TE(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},GH=function(e){return e.changedTouches&&!!e.changedTouches.length},Ng=(function(t){function e(r){var n;return y2e(this,e),n=w2e(this,e,[r]),Fo(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Fo(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Fo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Fo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fo(n,"handleSlideDragStart",function(i){var o=GH(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return E2e(e,t),v2e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ra(o[n],s,n);return Jt(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,m=n.pageX-o;m>0?m=Math.min(m,c+u-f-s,c+u-f-a):m<0&&(m=Math.max(m,c-a,c-s));var v=this.getIndex({startX:a+m,endX:s+m});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:a+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=GH(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,y=u.onChange,m=u.gap,v=u.data,w={startX:this.state.startX,endX:this.state.endX},A=n.pageX-o;A>0?A=Math.min(A,f+h-p-c):A<0&&(A=Math.max(A,f-c)),w[a]=c+A;var _=this.getIndex(w),D=_.startIndex,P=_.endIndex,U=function(){var N=v.length-1;return a==="startX"&&(s>l?D%m===0:P%m===0)||s<l&&P===N||a==="endX"&&(s>l?P%m===0:D%m===0)||s>l&&P===N};this.setState(Fo(Fo({},a,c+A),"brushMoveStartX",n.pageX),function(){y&&U()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Fo({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return _e.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=ye.Children.only(c);return f?_e.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,v=l.endIndex,w=Math.max(n,this.props.x),A=ZP(ZP({},ur(this.props,!1)),{},{x:w,y:c,width:u,height:f}),_=p||"Min value: ".concat((o=y[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return _e.createElement(gn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),s.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,A))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return _e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,y={pointerEvents:"none",fill:c};return _e.createElement(gn,{className:"recharts-brush-texts"},_e.createElement(aE,ME({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},y),this.getTextOfTick(i)),_e.createElement(aE,ME({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,w=h.isTravellerMoving,A=h.isTravellerFocused;if(!i||!i.length||!ut(s)||!ut(l)||!ut(c)||!ut(u)||c<=0||u<=0)return null;var _=xr("recharts-brush",o),D=_e.Children.count(a)===1,P=m2e("userSelect","none");return _e.createElement(gn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||w||A||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return _e.createElement(_e.Fragment,null,_e.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),_e.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),_e.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return _e.isValidElement(n)?o=_e.cloneElement(n,i):Jt(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return ZP({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?_2e({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])})(ye.PureComponent);Fo(Ng,"displayName","Brush");Fo(Ng,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ek,YH;function A2e(){if(YH)return ek;YH=1;var t=MN();function e(r,n){var i;return t(r,function(o,a,s){return i=n(o,a,s),!i}),!!i}return ek=e,ek}var tk,JH;function C2e(){if(JH)return tk;JH=1;var t=tX(),e=qf(),r=A2e(),n=Po(),i=hS();function o(a,s,l){var c=n(a)?t:r;return l&&i(a,s,l)&&(s=void 0),c(a,e(s,3))}return tk=o,tk}var O2e=C2e();const I2e=fr(O2e);var dl=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},rk,QH;function P2e(){if(QH)return rk;QH=1;var t=wX();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return rk=e,rk}var nk,XH;function k2e(){if(XH)return nk;XH=1;var t=P2e(),e=yX(),r=qf();function n(i,o){var a={};return o=r(o,3),e(i,function(s,l,c){t(a,l,o(s,l,c))}),a}return nk=n,nk}var T2e=k2e();const M2e=fr(T2e);var ik,ZH;function N2e(){if(ZH)return ik;ZH=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return ik=t,ik}var ok,eq;function R2e(){if(eq)return ok;eq=1;var t=MN();function e(r,n){var i=!0;return t(r,function(o,a,s){return i=!!n(o,a,s),i}),i}return ok=e,ok}var ak,tq;function L2e(){if(tq)return ak;tq=1;var t=N2e(),e=R2e(),r=qf(),n=Po(),i=hS();function o(a,s,l){var c=n(a)?t:e;return l&&i(a,s,l)&&(s=void 0),c(a,r(s,3))}return ak=o,ak}var D2e=L2e();const KZ=fr(D2e);var B2e=["x","y"];function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function rq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function py(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(r),!0).forEach(function(n){j2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j2e(t,e,r){return e=$2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $2e(t){var e=F2e(t,"string");return ew(e)=="symbol"?e:e+""}function F2e(t,e){if(ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U2e(t,e){if(t==null)return{};var r=H2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q2e(t,e){var r=t.x,n=t.y,i=U2e(t,B2e),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return py(py(py(py(py({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function nq(t){return _e.createElement(t2e,Y5({shapeType:"rectangle",propTransformer:q2e,activeClassName:"recharts-active-bar"},t))}var z2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||kh(),r)}},W2e=["value","background"],VZ;function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function K2e(t,e){if(t==null)return{};var r=V2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RE.apply(this,arguments)}function iq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iq(Object(r),!0).forEach(function(n){wf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YZ(n.key),n)}}function Y2e(t,e,r){return e&&oq(t.prototype,e),r&&oq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J2e(t,e,r){return e=LE(e),Q2e(t,GZ()?Reflect.construct(e,r||[],LE(t).constructor):e.apply(t,r))}function Q2e(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X2e(t)}function X2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GZ=function(){return!!t})()}function LE(t){return LE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LE(t)}function Z2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J5(t,e)}function J5(t,e){return J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J5(t,e)}function wf(t,e,r){return e=YZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YZ(t){var e=eEe(t,"string");return Rg(e)=="symbol"?e:e+""}function eEe(t,e){if(Rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cb=(function(t){function e(){var r;G2e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=J2e(this,e,[].concat(i)),wf(r,"state",{isAnimationFinished:!1}),wf(r,"id",nb("recharts-bar-")),wf(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),wf(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Z2e(e,t),Y2e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=ur(this.props,!1);return n&&n.map(function(f,h){var p=h===l,y=p?c:a,m=kn(kn(kn({},u),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _e.createElement(gn,RE({className:"recharts-bar-rectangle"},Y2(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),_e.createElement(nq,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return _e.createElement(Ic,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=o.map(function(v,w){var A=h&&h[w];if(A){var _=La(A.x,v.x),D=La(A.y,v.y),P=La(A.width,v.width),U=La(A.height,v.height);return kn(kn({},v),{},{x:_(y),y:D(y),width:P(y),height:U(y)})}if(a==="horizontal"){var F=La(0,v.height),N=F(y);return kn(kn({},v),{},{y:v.y+v.height-N,height:N})}var L=La(0,v.width),B=L(y);return kn(kn({},v),{},{width:B})});return _e.createElement(gn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Lv(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ur(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,h=K2e(c,W2e);if(!f)return null;var p=kn(kn(kn(kn(kn({},h),{},{fill:"#eee"},f),l),Y2(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return _e.createElement(nq,RE({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=bs(u,SS);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,p=function(v,w){var A=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:A,errorVal:ra(v,w)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _e.createElement(gn,y,f.map(function(m){return _e.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=xr("recharts-bar",a),A=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,D=A||_,P=gr(m)?this.id:m;return _e.createElement(gn,{className:w},A||_?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(P)},_e.createElement("rect",{x:A?c:c-f/2,y:_?u:u-h/2,width:A?f:f*2,height:_?h:h*2}))):null,_e.createElement(gn,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||v)&&_f.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(ye.PureComponent);VZ=cb;wf(cb,"displayName","Bar");wf(cb,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wf(cb,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=pwe(n,r);if(!p)return null;var y=e.layout,m=r.type.defaultProps,v=m!==void 0?kn(kn({},m),r.props):r.props,w=v.dataKey,A=v.children,_=v.minPointSize,D=y==="horizontal"?a:o,P=c?D.scale.domain():null,U=Ewe({numericAxis:D}),F=bs(A,CX),N=f.map(function(L,B){var R,b,x,I,C,T;c?R=gwe(c[u+B],P):(R=ra(L,w),Array.isArray(R)||(R=[U,R]));var j=z2e(_,VZ.defaultProps.minPointSize)(R[1],B);if(y==="horizontal"){var O,k=[a.scale(R[0]),a.scale(R[1])],E=k[0],M=k[1];b=WU({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:L,index:B}),x=(O=M??E)!==null&&O!==void 0?O:void 0,I=p.size;var H=E-M;if(C=Number.isNaN(H)?0:H,T={x:b,y:a.y,width:I,height:a.height},Math.abs(j)>0&&Math.abs(C)<Math.abs(j)){var q=ys(C||j)*(Math.abs(j)-Math.abs(C));x-=q,C+=q}}else{var W=[o.scale(R[0]),o.scale(R[1])],V=W[0],Q=W[1];if(b=V,x=WU({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:L,index:B}),I=Q-V,C=p.size,T={x:o.x,y:x,width:o.width,height:C},Math.abs(j)>0&&Math.abs(I)<Math.abs(j)){var te=ys(I||j)*(Math.abs(j)-Math.abs(I));I+=te}}return kn(kn(kn({},L),{},{x:b,y:x,width:I,height:C,value:c?R:R[1],payload:L,background:T},F&&F[B]&&F[B].props),{},{tooltipPayload:[TZ(r,L)],tooltipPosition:{x:b+I/2,y:x+C/2}})});return kn({data:N,layout:y},h)});function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JZ(n.key),n)}}function rEe(t,e,r){return e&&aq(t.prototype,e),r&&aq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(r),!0).forEach(function(n){CS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CS(t,e,r){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JZ(t){var e=nEe(t,"string");return tw(e)=="symbol"?e:e+""}function nEe(t,e){if(tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iEe=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Go(c,cb);return u.reduce(function(p,y){var m=r[y],v=m.orientation,w=m.domain,A=m.padding,_=A===void 0?{}:A,D=m.mirror,P=m.reversed,U="".concat(v).concat(D?"Mirror":""),F,N,L,B,R;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var b=w[1]-w[0],x=1/0,I=m.categoricalDomain.sort();if(I.forEach(function(W,V){V>0&&(x=Math.min((W||0)-(I[V-1]||0),x))}),Number.isFinite(x)){var C=x/b,T=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(F=C*T/2),m.padding==="no-gap"){var j=Ih(e.barCategoryGap,C*T),O=C*T/2;F=O-j-(O-j)/T*j}}}i==="xAxis"?N=[n.left+(_.left||0)+(F||0),n.left+n.width-(_.right||0)-(F||0)]:i==="yAxis"?N=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(F||0),n.top+n.height-(_.bottom||0)-(F||0)]:N=m.range,P&&(N=[N[1],N[0]]);var k=dwe(m,o,h),E=k.scale,M=k.realScaleType;E.domain(w).range(N),hwe(E);var H=xwe(E,cs(cs({},m),{},{realScaleType:M}));i==="xAxis"?(R=v==="top"&&!D||v==="bottom"&&D,L=n.left,B=f[U]-R*m.height):i==="yAxis"&&(R=v==="left"&&!D||v==="right"&&D,L=f[U]-R*m.width,B=n.top);var q=cs(cs(cs({},m),H),{},{realScaleType:M,x:L,y:B,scale:E,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return q.bandSize=xE(q,H),!m.hide&&i==="xAxis"?f[U]+=(R?-1:1)*q.height:m.hide||(f[U]+=(R?-1:1)*q.width),cs(cs({},p),{},CS({},y,q))},{})},QZ=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},oEe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return QZ({x:r,y:n},{x:i,y:o})},XZ=(function(){function t(e){tEe(this,t),this.scale=e}return rEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();CS(XZ,"EPS",1e-4);var lR=function(e){var r=Object.keys(e).reduce(function(n,i){return cs(cs({},n),{},CS({},i,XZ.create(e[i])))},{});return cs(cs({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return M2e(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return KZ(i,function(o,a){return r[a].isInRange(o)})}})};function aEe(t){return(t%180+180)%180}var sEe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=aEe(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},sk,lq;function lEe(){if(lq)return sk;lq=1;var t=qf(),e=ib(),r=fS();function n(i){return function(o,a,s){var l=Object(o);if(!e(o)){var c=t(a,3);o=r(o),a=function(f){return c(l[f],f,l)}}var u=i(o,a,s);return u>-1?l[c?o[u]:u]:void 0}}return sk=n,sk}var lk,cq;function cEe(){if(cq)return lk;cq=1;var t=HZ();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return lk=e,lk}var ck,uq;function uEe(){if(uq)return ck;uq=1;var t=dX(),e=qf(),r=cEe(),n=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),t(o,e(a,3),c)}return ck=i,ck}var uk,fq;function fEe(){if(fq)return uk;fq=1;var t=lEe(),e=uEe(),r=t(e);return uk=r,uk}var dEe=fEe();const hEe=fr(dEe);var pEe=IQ();const gEe=fr(pEe);var mEe=gEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),cR=ye.createContext(void 0),uR=ye.createContext(void 0),ZZ=ye.createContext(void 0),eee=ye.createContext({}),tee=ye.createContext(void 0),ree=ye.createContext(0),nee=ye.createContext(0),dq=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=mEe(o);return _e.createElement(cR.Provider,{value:n},_e.createElement(uR.Provider,{value:i},_e.createElement(eee.Provider,{value:o},_e.createElement(ZZ.Provider,{value:u},_e.createElement(tee.Provider,{value:a},_e.createElement(ree.Provider,{value:c},_e.createElement(nee.Provider,{value:l},s)))))))},yEe=function(){return ye.useContext(tee)},iee=function(e){var r=ye.useContext(cR);r==null&&kh();var n=r[e];return n==null&&kh(),n},vEe=function(){var e=ye.useContext(cR);return Uu(e)},wEe=function(){var e=ye.useContext(uR),r=hEe(e,function(n){return KZ(n.domain,Number.isFinite)});return r||Uu(e)},oee=function(e){var r=ye.useContext(uR);r==null&&kh();var n=r[e];return n==null&&kh(),n},bEe=function(){var e=ye.useContext(ZZ);return e},xEe=function(){return ye.useContext(eee)},fR=function(){return ye.useContext(nee)},dR=function(){return ye.useContext(ree)};function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function EEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,see(n.key),n)}}function _Ee(t,e,r){return e&&SEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AEe(t,e,r){return e=DE(e),CEe(t,aee()?Reflect.construct(e,r||[],DE(t).constructor):e.apply(t,r))}function CEe(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OEe(t)}function OEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aee=function(){return!!t})()}function DE(t){return DE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DE(t)}function IEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q5(t,e)}function Q5(t,e){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q5(t,e)}function hq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(n){hR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hR(t,e,r){return e=see(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function see(t){var e=PEe(t,"string");return Lg(e)=="symbol"?e:e+""}function PEe(t,e){if(Lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kEe(t,e){return REe(t)||NEe(t,e)||MEe(t,e)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MEe(t,e){if(t){if(typeof t=="string")return gq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gq(t,e)}}function gq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function REe(t){if(Array.isArray(t))return t}function X5(){return X5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X5.apply(this,arguments)}var LEe=function(e,r){var n;return _e.isValidElement(e)?n=_e.cloneElement(e,r):Jt(e)?n=e(r):n=_e.createElement("line",X5({},r,{className:"recharts-reference-line-line"})),n},DEe=function(e,r,n,i,o,a,s,l,c){var u=o.x,f=o.y,h=o.width,p=o.height;if(n){var y=c.y,m=e.y.apply(y,{position:a});if(dl(c,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var w=c.x,A=e.x.apply(w,{position:a});if(dl(c,"discard")&&!e.x.isInRange(A))return null;var _=[{x:A,y:f+p},{x:A,y:f}];return s==="top"?_.reverse():_}if(i){var D=c.segment,P=D.map(function(U){return e.apply(U,{position:a})});return dl(c,"discard")&&I2e(P,function(U){return!e.isInRange(U)})?null:P}return null};function BEe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=yEe(),u=iee(i),f=oee(o),h=bEe();if(!c||!h)return null;vc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lR({x:u.scale,y:f.scale}),y=$n(e),m=$n(r),v=n&&n.length===2,w=DEe(p,y,m,v,h,t.position,u.orientation,f.orientation,t);if(!w)return null;var A=kEe(w,2),_=A[0],D=_.x,P=_.y,U=A[1],F=U.x,N=U.y,L=dl(t,"hidden")?"url(#".concat(c,")"):void 0,B=pq(pq({clipPath:L},ur(t,!0)),{},{x1:D,y1:P,x2:F,y2:N});return _e.createElement(gn,{className:xr("recharts-reference-line",s)},LEe(a,B),Ni.renderCallByParent(t,oEe({x1:D,y1:P,x2:F,y2:N})))}var pR=(function(t){function e(){return EEe(this,e),AEe(this,e,arguments)}return IEe(e,t),_Ee(e,[{key:"render",value:function(){return _e.createElement(BEe,this.props)}}])})(_e.Component);hR(pR,"displayName","ReferenceLine");hR(pR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z5.apply(this,arguments)}function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function mq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(r),!0).forEach(function(n){OS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cee(n.key),n)}}function FEe(t,e,r){return e&&$Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UEe(t,e,r){return e=BE(e),HEe(t,lee()?Reflect.construct(e,r||[],BE(t).constructor):e.apply(t,r))}function HEe(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qEe(t)}function qEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lee=function(){return!!t})()}function BE(t){return BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},BE(t)}function zEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e8(t,e)}function e8(t,e){return e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e8(t,e)}function OS(t,e,r){return e=cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=WEe(t,"string");return Dg(e)=="symbol"?e:e+""}function WEe(t,e){if(Dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KEe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=lR({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return dl(e,"discard")&&!a.isInRange(s)?null:s},IS=(function(t){function e(){return jEe(this,e),UEe(this,e,arguments)}return zEe(e,t),FEe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=$n(i),u=$n(o);if(vc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=KEe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,v=y.className,w=dl(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=yq(yq({clipPath:w},ur(this.props,!0)),{},{cx:h,cy:p});return _e.createElement(gn,{className:xr("recharts-reference-dot",v)},e.renderDot(m,A),Ni.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])})(_e.Component);OS(IS,"displayName","ReferenceDot");OS(IS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});OS(IS,"renderDot",function(t,e){var r;return _e.isValidElement(t)?r=_e.cloneElement(t,e):Jt(t)?r=t(e):r=_e.createElement(sR,Z5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function t8(){return t8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t8.apply(this,arguments)}function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(r),!0).forEach(function(n){PS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fee(n.key),n)}}function YEe(t,e,r){return e&&GEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,r){return e=jE(e),QEe(t,uee()?Reflect.construct(e,r||[],jE(t).constructor):e.apply(t,r))}function QEe(t,e){if(e&&(Bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(t)}function XEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function jE(t){return jE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jE(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r8(t,e)}function r8(t,e){return r8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r8(t,e)}function PS(t,e,r){return e=fee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fee(t){var e=e3e(t,"string");return Bg(e)=="symbol"?e:e+""}function e3e(t,e){if(Bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t3e=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=lR({x:u.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return dl(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:QZ(p,y)},kS=(function(t){function e(){return VEe(this,e),JEe(this,e,arguments)}return ZEe(e,t),YEe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;vc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$n(i),h=$n(o),p=$n(a),y=$n(s),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var v=t3e(f,h,p,y,this.props);if(!v&&!m)return null;var w=dl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return _e.createElement(gn,{className:xr("recharts-reference-area",l)},e.renderRect(m,wq(wq({clipPath:w},ur(this.props,!0)),v)),Ni.renderCallByParent(this.props,v))}}])})(_e.Component);PS(kS,"displayName","ReferenceArea");PS(kS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});PS(kS,"renderRect",function(t,e){var r;return _e.isValidElement(t)?r=_e.cloneElement(t,e):Jt(t)?r=t(e):r=_e.createElement(aR,t8({},e,{className:"recharts-reference-area-rect"})),r});function dee(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function r3e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return sEe(n,r)}function n3e(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function $E(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function i3e(t,e){return dee(t,e+1)}function o3e(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:dee(n,c)};var m=l,v,w=function(){return v===void 0&&(v=r(y,m)),v},A=y.coordinate,_=l===0||$E(t,A,w,u,s);_||(l=0,u=a,c+=1),_&&(u=A+t*(w()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(r),!0).forEach(function(n){a3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a3e(t,e,r){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3e(t){var e=l3e(t,"string");return rw(e)=="symbol"?e:e+""}function l3e(t,e){if(rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c3e(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(h){var p=o[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===a-1){var v=t*(p.coordinate+t*m()/2-l);o[h]=p=Pi(Pi({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[h]=p=Pi(Pi({},p),{},{tickCoord:p.coordinate});var w=$E(t,p.tickCoord,m,s,l);w&&(l=p.tickCoord-t*(m()/2+i),o[h]=Pi(Pi({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function u3e(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);a[s-1]=u=Pi(Pi({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=$E(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),a[s-1]=Pi(Pi({},u),{},{isShow:!0}))}for(var y=o?s-1:s,m=function(A){var _=a[A],D,P=function(){return D===void 0&&(D=r(_,A)),D};if(A===0){var U=t*(_.coordinate-t*P()/2-l);a[A]=_=Pi(Pi({},_),{},{tickCoord:U<0?_.coordinate-U*t:_.coordinate})}else a[A]=_=Pi(Pi({},_),{},{tickCoord:_.coordinate});var F=$E(t,_.tickCoord,P,l,c);F&&(l=_.tickCoord+t*(P()/2+i),a[A]=Pi(Pi({},_),{},{isShow:!0}))},v=0;v<y;v++)m(v);return a}function gR(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ut(l)||sm.isSsr)return i3e(i,typeof l=="number"&&ut(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=u&&p==="width"?Zy(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(_,D){var P=Jt(c)?c(_.value,D):_.value;return p==="width"?r3e(Zy(P,{fontSize:e,letterSpacing:r}),y,f):Zy(P,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?ys(i[1].coordinate-i[0].coordinate):1,w=n3e(o,v,p);return l==="equidistantPreserveStart"?o3e(v,w,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=u3e(v,w,m,i,a,l==="preserveStartEnd"):h=c3e(v,w,m,i,a),h.filter(function(A){return A.isShow}))}var f3e=["viewBox"],d3e=["viewBox"],h3e=["ticks"];function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function xq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xq(Object(r),!0).forEach(function(n){mR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fk(t,e){if(t==null)return{};var r=p3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pee(n.key),n)}}function m3e(t,e,r){return e&&Eq(t.prototype,e),r&&Eq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y3e(t,e,r){return e=FE(e),v3e(t,hee()?Reflect.construct(e,r||[],FE(t).constructor):e.apply(t,r))}function v3e(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w3e(t)}function w3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!t})()}function FE(t){return FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FE(t)}function b3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n8(t,e)}function n8(t,e){return n8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n8(t,e)}function mR(t,e,r){return e=pee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pee(t){var e=x3e(t,"string");return jg(e)=="symbol"?e:e+""}function x3e(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fm=(function(t){function e(r){var n;return g3e(this,e),n=y3e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return b3e(e,t),m3e(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=fk(n,f3e),s=this.props,l=s.viewBox,c=fk(s,d3e);return!w0(o,l)||!w0(a,c)||!w0(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,m,v,w,A,_=f?-1:1,D=n.tickSize||u,P=ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=y=n.coordinate,v=a+ +!f*l,m=v-_*D,A=m-_*h,w=P;break;case"left":m=v=n.coordinate,y=o+ +!f*s,p=y-_*D,w=p-_*h,A=P;break;case"right":m=v=n.coordinate,y=o+ +f*s,p=y+_*D,w=p+_*h,A=P;break;default:p=y=n.coordinate,v=a+ +f*l,m=v+_*D,A=m+_*h,w=P;break}return{line:{x1:p,y1:m,x2:y,y2:v},tick:{x:w,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Ui(Ui(Ui({},ur(this.props,!1)),ur(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Ui(Ui({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Ui(Ui({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return _e.createElement("line",e0({},f,{className:xr("recharts-cartesian-axis-line",$a(u,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=gR(Ui(Ui({},this.props),{},{ticks:n}),i,o),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ur(this.props,!1),w=ur(u,!1),A=Ui(Ui({},v),{},{fill:"none"},ur(l,!1)),_=p.map(function(D,P){var U=a.getTickLineCoord(D),F=U.line,N=U.tick,L=Ui(Ui(Ui(Ui({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:c},w),N),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:f});return _e.createElement(gn,e0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Y2(a.props,D,P)),l&&_e.createElement("line",e0({},A,F,{className:xr("recharts-cartesian-axis-tick-line",$a(l,"className"))})),u&&e.renderTickItem(u,L,"".concat(Jt(f)?f(D.value,P):D.value).concat(h||"")))});return _e.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=fk(f,h3e),y=h;return Jt(l)&&(y=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!y||!y.length?null:_e.createElement(gn,{className:xr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ni.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return _e.isValidElement(n)?a=_e.cloneElement(n,i):Jt(n)?a=n(i):a=_e.createElement(aE,e0({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(ye.Component);mR(fm,"displayName","CartesianAxis");mR(fm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E3e=["x1","y1","x2","y2","key"],S3e=["offset"];function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Sq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(r),!0).forEach(function(n){_3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _3e(t,e,r){return e=A3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A3e(t){var e=C3e(t,"string");return Th(e)=="symbol"?e:e+""}function C3e(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hd.apply(this,arguments)}function _q(t,e){if(t==null)return{};var r=O3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var I3e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return _e.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gee(t,e){var r;if(_e.isValidElement(t))r=_e.cloneElement(t,e);else if(Jt(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=_q(e,E3e),c=ur(l,!1);c.offset;var u=_q(c,S3e);r=_e.createElement("line",Hd({},u,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function P3e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Ri(Ri({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return gee(i,c)});return _e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function k3e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Ri(Ri({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return gee(i,c)});return _e.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function T3e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],m=y?i+a-h:u[p+1]-h;if(m<=0)return null;var v=p%e.length;return _e.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:o,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function M3e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],m=y?o+s-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return _e.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var N3e=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return PZ(gR(Ri(Ri(Ri({},fm.defaultProps),n),{},{ticks:cc(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},R3e=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return PZ(gR(Ri(Ri(Ri({},fm.defaultProps),n),{},{ticks:cc(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},Mp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mee(t){var e,r,n,i,o,a,s=fR(),l=dR(),c=xEe(),u=Ri(Ri({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mp.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Mp.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Mp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Mp.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Mp.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Mp.verticalFill,x:ut(t.x)?t.x:c.left,y:ut(t.y)?t.y:c.top,width:ut(t.width)?t.width:c.width,height:ut(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,y=u.height,m=u.syncWithTicks,v=u.horizontalValues,w=u.verticalValues,A=vEe(),_=wEe();if(!ut(p)||p<=0||!ut(y)||y<=0||!ut(f)||f!==+f||!ut(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||N3e,P=u.horizontalCoordinatesGenerator||R3e,U=u.horizontalPoints,F=u.verticalPoints;if((!U||!U.length)&&Jt(P)){var N=v&&v.length,L=P({yAxis:_?Ri(Ri({},_),{},{ticks:N?v:_.ticks}):void 0,width:s,height:l,offset:c},N?!0:m);vc(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Th(L),"]")),Array.isArray(L)&&(U=L)}if((!F||!F.length)&&Jt(D)){var B=w&&w.length,R=D({xAxis:A?Ri(Ri({},A),{},{ticks:B?w:A.ticks}):void 0,width:s,height:l,offset:c},B?!0:m);vc(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Th(R),"]")),Array.isArray(R)&&(F=R)}return _e.createElement("g",{className:"recharts-cartesian-grid"},_e.createElement(I3e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),_e.createElement(P3e,Hd({},u,{offset:c,horizontalPoints:U,xAxis:A,yAxis:_})),_e.createElement(k3e,Hd({},u,{offset:c,verticalPoints:F,xAxis:A,yAxis:_})),_e.createElement(T3e,Hd({},u,{horizontalPoints:U})),_e.createElement(M3e,Hd({},u,{verticalPoints:F})))}mee.displayName="CartesianGrid";var L3e=["layout","type","stroke","connectNulls","isRange","ref"],D3e=["key"],yee;function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function vee(t,e){if(t==null)return{};var r=B3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qd.apply(this,arguments)}function Aq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(r),!0).forEach(function(n){ol(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bee(n.key),n)}}function $3e(t,e,r){return e&&Cq(t.prototype,e),r&&Cq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F3e(t,e,r){return e=UE(e),U3e(t,wee()?Reflect.construct(e,r||[],UE(t).constructor):e.apply(t,r))}function U3e(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(t)}function H3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function UE(t){return UE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},UE(t)}function q3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i8(t,e)}function i8(t,e){return i8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i8(t,e)}function ol(t,e,r){return e=bee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bee(t){var e=z3e(t,"string");return $g(e)=="symbol"?e:e+""}function z3e(t,e){if($g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hl=(function(t){function e(){var r;j3e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=F3e(this,e,[].concat(i)),ol(r,"state",{isAnimationFinished:!0}),ol(r,"id",nb("recharts-area-")),ol(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Jt(a)&&a()}),ol(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Jt(a)&&a()}),r}return q3e(e,t),$3e(e,[{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=ur(this.props,!1),p=ur(c,!0),y=u.map(function(v,w){var A=_u(_u(_u({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,A)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return _e.createElement(gn,qd({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=n*Math.abs(l-c),f=vf(a.map(function(h){return h.y||0}));return ut(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(vf(o.map(function(h){return h.y||0})),f)),ut(f)?_e.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=n*Math.abs(l-c),f=vf(a.map(function(h){return h.x||0}));return ut(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(vf(o.map(function(h){return h.x||0})),f)),ut(f)?_e.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=vee(s,L3e);return _e.createElement(gn,{clipPath:o?"url(#clipPath-".concat(a,")"):null},_e.createElement(rv,qd({},ur(p,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_e.createElement(rv,qd({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&_e.createElement(rv,qd({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state,m=y.prevPoints,v=y.prevBaseLine;return _e.createElement(Ic,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var A=w.t;if(m){var _=m.length/s.length,D=s.map(function(N,L){var B=Math.floor(L*_);if(m[B]){var R=m[B],b=La(R.x,N.x),x=La(R.y,N.y);return _u(_u({},N),{},{x:b(A),y:x(A)})}return N}),P;if(ut(l)&&typeof l=="number"){var U=La(v,l);P=U(A)}else if(gr(l)||om(l)){var F=La(v,0);P=F(A)}else P=l.map(function(N,L){var B=Math.floor(L*_);if(v[B]){var R=v[B],b=La(R.x,N.x),x=La(R.y,N.y);return _u(_u({},N),{},{x:b(A),y:x(A)})}return N});return o.renderAreaStatically(D,P,n,i)}return _e.createElement(gn,null,_e.createElement("defs",null,_e.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),_e.createElement(gn,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&a&&a.length&&(!u&&h>0||!Lv(u,a)||!Lv(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,s,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,m=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,A=s.length===1,_=xr("recharts-area",l),D=f&&f.allowDataOverflow,P=h&&h.allowDataOverflow,U=D||P,F=gr(v)?this.id:v,N=(n=ur(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=N.r,B=L===void 0?3:L,R=N.strokeWidth,b=R===void 0?2:R,x=ade(a)?a:{},I=x.clipDot,C=I===void 0?!0:I,T=B*2+b;return _e.createElement(gn,{className:_},D||P?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(F)},_e.createElement("rect",{x:D?u:u-p/2,y:P?c:c-y/2,width:D?p:p*2,height:P?y:y*2})),!C&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(F)},_e.createElement("rect",{x:u-T/2,y:c-T/2,width:p+T,height:y+T}))):null,A?null:this.renderArea(U,F),(a||A)&&this.renderDots(U,C,F),(!m||w)&&_f.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(ye.PureComponent);yee=hl;ol(hl,"displayName","Area");ol(hl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!sm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ol(hl,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ut(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});ol(hl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=c&&c.length,m=yee.getBaseValue(e,r,n,i),v=p==="horizontal",w=!1,A=f.map(function(D,P){var U;y?U=c[u+P]:(U=ra(D,l),Array.isArray(U)?w=!0:U=[m,U]);var F=U[1]==null||y&&ra(D,l)==null;return v?{x:zU({axis:n,ticks:o,bandSize:s,entry:D,index:P}),y:F?null:i.scale(U[1]),value:U,payload:D}:{x:F?null:n.scale(U[1]),y:zU({axis:i,ticks:a,bandSize:s,entry:D,index:P}),value:U,payload:D}}),_;return y||w?_=A.map(function(D){var P=Array.isArray(D.value)?D.value[0]:null;return v?{x:D.x,y:P!=null&&D.y!=null?i.scale(P):null}:{x:P!=null?n.scale(P):null,y:D.y}}):_=v?i.scale(m):n.scale(m),_u({points:A,baseLine:_,layout:p,isRange:w},h)});ol(hl,"renderDotItem",function(t,e){var r;if(_e.isValidElement(t))r=_e.cloneElement(t,e);else if(Jt(t))r=t(e);else{var n=xr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=vee(e,D3e);r=_e.createElement(sR,qd({},o,{key:i,className:n}))}return r});function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function W3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function V3e(t,e,r){return e&&K3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G3e(t,e,r){return e=HE(e),Y3e(t,xee()?Reflect.construct(e,r||[],HE(t).constructor):e.apply(t,r))}function Y3e(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J3e(t)}function J3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xee=function(){return!!t})()}function HE(t){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HE(t)}function Q3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o8(t,e)}function o8(t,e){return o8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o8(t,e)}function Eee(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=X3e(t,"string");return Fg(e)=="symbol"?e:e+""}function X3e(t,e){if(Fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a8(){return a8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a8.apply(this,arguments)}function Z3e(t){var e=t.xAxisId,r=fR(),n=dR(),i=iee(e);return i==null?null:_e.createElement(fm,a8({},i,{className:xr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return cc(a,!0)}}))}var TS=(function(t){function e(){return W3e(this,e),G3e(this,e,arguments)}return Q3e(e,t),V3e(e,[{key:"render",value:function(){return _e.createElement(Z3e,this.props)}}])})(_e.Component);Eee(TS,"displayName","XAxis");Eee(TS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function eSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cee(n.key),n)}}function rSe(t,e,r){return e&&tSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nSe(t,e,r){return e=qE(e),iSe(t,_ee()?Reflect.construct(e,r||[],qE(t).constructor):e.apply(t,r))}function iSe(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oSe(t)}function oSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ee=function(){return!!t})()}function qE(t){return qE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qE(t)}function aSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s8(t,e)}function s8(t,e){return s8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s8(t,e)}function Aee(t,e,r){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=sSe(t,"string");return Ug(e)=="symbol"?e:e+""}function sSe(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l8(){return l8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l8.apply(this,arguments)}var lSe=function(e){var r=e.yAxisId,n=fR(),i=dR(),o=oee(r);return o==null?null:_e.createElement(fm,l8({},o,{className:xr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return cc(s,!0)}}))},MS=(function(t){function e(){return eSe(this,e),nSe(this,e,arguments)}return aSe(e,t),rSe(e,[{key:"render",value:function(){return _e.createElement(lSe,this.props)}}])})(_e.Component);Aee(MS,"displayName","YAxis");Aee(MS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Oq(t){return dSe(t)||fSe(t)||uSe(t)||cSe()}function cSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uSe(t,e){if(t){if(typeof t=="string")return c8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c8(t,e)}}function fSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dSe(t){if(Array.isArray(t))return c8(t)}function c8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u8=function(e,r,n,i,o){var a=bs(e,pR),s=bs(e,IS),l=[].concat(Oq(a),Oq(s)),c=bs(e,kS),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&dl(v.props,"extendDomain")&&ut(v.props[f])){var w=v.props[f];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},h)),c.length){var p="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&dl(v.props,"extendDomain")&&ut(v.props[p])&&ut(v.props[y])){var w=v.props[p],A=v.props[y];return[Math.min(m[0],w,A),Math.max(m[1],w,A)]}return m},h)}return o&&o.length&&(h=o.reduce(function(m,v){return ut(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},dk={exports:{}},Iq;function hSe(){return Iq||(Iq=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,y){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],w=arguments.length,A,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,y),!0}for(_=1,A=new Array(w-1);_<w;_++)A[_-1]=arguments[_];v.fn.apply(v.context,A)}else{var D=v.length,P;for(_=0;_<D;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),w){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,h);break;default:if(!A)for(P=1,A=new Array(w-1);P<w;P++)A[P-1]=arguments[P];v[_].fn.apply(v[_].context,A)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!h||y.once)&&(!f||y.context===f)&&a(this,p);else{for(var m=0,v=[],w=y.length;m<w;m++)(y[m].fn!==u||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(dk)),dk.exports}var pSe=hSe();const gSe=fr(pSe);var hk=new gSe,pk="recharts.syncMouseEvents";function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function mSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ySe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oee(n.key),n)}}function vSe(t,e,r){return e&&ySe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gk(t,e,r){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oee(t){var e=wSe(t,"string");return nw(e)=="symbol"?e:e+""}function wSe(t,e){if(nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bSe=(function(){function t(){mSe(this,t),gk(this,"activeIndex",0),gk(this,"coordinateList",[]),gk(this,"layout","horizontal")}return vSe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function xSe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ut(n)&&ut(i))return!0}return!1}function ESe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Iee(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=pi(e,r,n,i),s=pi(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function SSe(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=pi(s,l,c,f),p=pi(s,l,u,f);n=h.x,i=h.y,o=p.x,a=p.y}else return Iee(e);return[{x:n,y:i},{x:o,y:a}]}function iw(t){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(t)}function Pq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(r),!0).forEach(function(n){_Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Se(t,e,r){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ASe(t){var e=CSe(t,"string");return iw(e)=="symbol"?e:e+""}function CSe(t,e){if(iw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OSe(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,m=rv;if(h==="ScatterChart")y=a,m=Ixe;else if(h==="BarChart")y=ESe(f,a,l,u),m=aR;else if(f==="radial"){var v=Iee(a),w=v.cx,A=v.cy,_=v.radius,D=v.startAngle,P=v.endAngle;y={cx:w,cy:A,startAngle:D,endAngle:P,innerRadius:_,outerRadius:_},m=RZ}else y={points:SSe(f,a,l)},m=rv;var U=K1(K1(K1(K1({stroke:"#ccc",pointerEvents:"none"},l),y),ur(p,!1)),{},{payload:s,payloadIndex:c,className:xr("recharts-tooltip-cursor",p.className)});return ye.isValidElement(p)?ye.cloneElement(p,U):ye.createElement(m,U)}var ISe=["item"],PSe=["children","className","width","height","style","compact","title","desc"];function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function kq(t,e){return MSe(t)||TSe(t,e)||kee(t,e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function MSe(t){if(Array.isArray(t))return t}function Tq(t,e){if(t==null)return{};var r=NSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tee(n.key),n)}}function DSe(t,e,r){return e&&LSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BSe(t,e,r){return e=zE(e),jSe(t,Pee()?Reflect.construct(e,r||[],zE(t).constructor):e.apply(t,r))}function jSe(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(t)}function $Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pee=function(){return!!t})()}function zE(t){return zE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zE(t)}function FSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f8(t,e)}function f8(t,e){return f8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f8(t,e)}function qg(t){return qSe(t)||HSe(t)||kee(t)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kee(t,e){if(t){if(typeof t=="string")return d8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d8(t,e)}}function HSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qSe(t){if(Array.isArray(t))return d8(t)}function d8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mq(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ut(t,e,r){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tee(t){var e=zSe(t,"string");return Hg(e)=="symbol"?e:e+""}function zSe(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WSe={xAxis:["bottom","top"],yAxis:["left","right"]},KSe={width:"100%",height:"100%"},Mee={x:0,y:0};function V1(t){return t}var VSe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},GSe=function(e,r,n,i){var o=r.find(function(u){return u&&u.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return He(He(He({},i),pi(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return He(He(He({},i),pi(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Mee},NS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(qg(s),qg(c)):s},[]);return a.length>0?a:e&&e.length&&ut(i)&&ut(o)?e.slice(i,o+1):[]};function Nee(t){return t==="number"?[0,"auto"]:void 0}var h8=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=NS(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=V2(p,a.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(qg(l),[TZ(c,h)]):l},[])},Nq=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=VSe(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=awe(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=h8(e,r,u,f),p=GSe(n,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},YSe=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=IZ(u,o);return n.reduce(function(y,m){var v,w=m.type.defaultProps!==void 0?He(He({},m.type.defaultProps),m.props):m.props,A=w.type,_=w.dataKey,D=w.allowDataOverflow,P=w.allowDuplicatedCategory,U=w.scale,F=w.ticks,N=w.includeHidden,L=w[a];if(y[L])return y;var B=NS(e.data,{graphicalItems:i.filter(function(H){var q,W=a in H.props?H.props[a]:(q=H.type.defaultProps)===null||q===void 0?void 0:q[a];return W===L}),dataStartIndex:l,dataEndIndex:c}),R=B.length,b,x,I;xSe(w.domain,D,A)&&(b=M5(w.domain,null,D),p&&(A==="number"||U!=="auto")&&(I=tv(B,_,"category")));var C=Nee(A);if(!b||b.length===0){var T,j=(T=w.domain)!==null&&T!==void 0?T:C;if(_){if(b=tv(B,_,A),A==="category"&&p){var O=Qfe(b);P&&O?(x=b,b=TE(0,R)):P||(b=GU(j,b,m).reduce(function(H,q){return H.indexOf(q)>=0?H:[].concat(qg(H),[q])},[]))}else if(A==="category")P?b=b.filter(function(H){return H!==""&&!gr(H)}):b=GU(j,b,m).reduce(function(H,q){return H.indexOf(q)>=0||q===""||gr(q)?H:[].concat(qg(H),[q])},[]);else if(A==="number"){var k=fwe(B,i.filter(function(H){var q,W,V=a in H.props?H.props[a]:(q=H.type.defaultProps)===null||q===void 0?void 0:q[a],Q="hide"in H.props?H.props.hide:(W=H.type.defaultProps)===null||W===void 0?void 0:W.hide;return V===L&&(N||!Q)}),_,o,u);k&&(b=k)}p&&(A==="number"||U!=="auto")&&(I=tv(B,_,"category"))}else p?b=TE(0,R):s&&s[L]&&s[L].hasStack&&A==="number"?b=h==="expand"?[0,1]:kZ(s[L].stackGroups,l,c):b=OZ(B,i.filter(function(H){var q=a in H.props?H.props[a]:H.type.defaultProps[a],W="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return q===L&&(N||!W)}),A,u,!0);if(A==="number")b=u8(f,b,L,o,F),j&&(b=M5(j,b,D));else if(A==="category"&&j){var E=j,M=b.every(function(H){return E.indexOf(H)>=0});M&&(b=E)}}return He(He({},y),{},Ut({},L,He(He({},w),{},{axisType:o,domain:b,categoricalDomain:I,duplicateDomain:x,originalDomain:(v=w.domain)!==null&&v!==void 0?v:C,isCategorical:p,layout:u})))},{})},JSe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=NS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=IZ(u,o),m=-1;return n.reduce(function(v,w){var A=w.type.defaultProps!==void 0?He(He({},w.type.defaultProps),w.props):w.props,_=A[a],D=Nee("number");if(!v[_]){m++;var P;return y?P=TE(0,p):s&&s[_]&&s[_].hasStack?(P=kZ(s[_].stackGroups,l,c),P=u8(f,P,_,o)):(P=M5(D,OZ(h,n.filter(function(U){var F,N,L=a in U.props?U.props[a]:(F=U.type.defaultProps)===null||F===void 0?void 0:F[a],B="hide"in U.props?U.props.hide:(N=U.type.defaultProps)===null||N===void 0?void 0:N.hide;return L===_&&!B}),"number",u),i.defaultProps.allowDataOverflow),P=u8(f,P,_,o)),He(He({},v),{},Ut({},_,He(He({axisType:o},i.defaultProps),{},{hide:!0,orientation:$a(WSe,"".concat(o,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:y,layout:u})))}return v},{})},QSe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=bs(u,o),p={};return h&&h.length?p=YSe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=JSe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},XSe=function(e){var r=Uu(e),n=cc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xE(r,n)}},Rq=function(e){var r=e.children,n=e.defaultShowTooltip,i=Go(r,Ng),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},ZSe=function(e){return!e||!e.length?!1:e.some(function(r){var n=yc(r&&r.type);return n&&n.indexOf("Bar")>=0})},Lq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},e_e=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Go(f,Ng),y=Go(f,xh),m=Object.keys(l).reduce(function(P,U){var F=l[U],N=F.orientation;return!F.mirror&&!F.hide?He(He({},P),{},Ut({},N,P[N]+F.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(P,U){var F=a[U],N=F.orientation;return!F.mirror&&!F.hide?He(He({},P),{},Ut({},N,$a(P,"".concat(N))+F.height)):P},{top:h.top||0,bottom:h.bottom||0}),w=He(He({},v),m),A=w.bottom;p&&(w.bottom+=p.props.height||Ng.defaultProps.height),y&&r&&(w=cwe(w,i,n,r));var _=c-w.left-w.right,D=u-w.top-w.bottom;return He(He({brushBottom:A},w),{},{width:Math.max(_,0),height:Math.max(D,0)})},t_e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},r_e=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(w,A){var _=A.graphicalItems,D=A.stackGroups,P=A.offset,U=A.updateId,F=A.dataStartIndex,N=A.dataEndIndex,L=w.barSize,B=w.layout,R=w.barGap,b=w.barCategoryGap,x=w.maxBarSize,I=Lq(B),C=I.numericAxisName,T=I.cateAxisName,j=ZSe(_),O=[];return _.forEach(function(k,E){var M=NS(w.data,{graphicalItems:[k],dataStartIndex:F,dataEndIndex:N}),H=k.type.defaultProps!==void 0?He(He({},k.type.defaultProps),k.props):k.props,q=H.dataKey,W=H.maxBarSize,V=H["".concat(C,"Id")],Q=H["".concat(T,"Id")],te={},X=l.reduce(function(ke,ve){var We=A["".concat(ve.axisType,"Map")],Ze=H["".concat(ve.axisType,"Id")];We&&We[Ze]||ve.axisType==="zAxis"||kh();var Ye=We[Ze];return He(He({},ke),{},Ut(Ut({},ve.axisType,Ye),"".concat(ve.axisType,"Ticks"),cc(Ye)))},te),Z=X[T],ae=X["".concat(T,"Ticks")],he=D&&D[V]&&D[V].hasStack&&Swe(k,D[V].stackGroups),se=yc(k.type).indexOf("Bar")>=0,ne=xE(Z,ae),oe=[],fe=j&&swe({barSize:L,stackGroups:D,totalSize:t_e(X,T)});if(se){var pe,xe,Se=gr(W)?x:W,ce=(pe=(xe=xE(Z,ae,!0))!==null&&xe!==void 0?xe:Se)!==null&&pe!==void 0?pe:0;oe=lwe({barGap:R,barCategoryGap:b,bandSize:ce!==ne?ce:ne,sizeList:fe[Q],maxBarSize:Se}),ce!==ne&&(oe=oe.map(function(ke){return He(He({},ke),{},{position:He(He({},ke.position),{},{offset:ke.position.offset-ce/2})})}))}var Oe=k&&k.type&&k.type.getComposedData;Oe&&O.push({props:He(He({},Oe(He(He({},X),{},{displayedData:M,props:w,dataKey:q,item:k,bandSize:ne,barPosition:oe,offset:P,stackedData:he,layout:B,dataStartIndex:F,dataEndIndex:N}))),{},Ut(Ut(Ut({key:k.key||"item-".concat(E)},C,X[C]),T,X[T]),"animationId",U)),childIndex:cde(k,w.children),item:k})}),O},p=function(w,A){var _=w.props,D=w.dataStartIndex,P=w.dataEndIndex,U=w.updateId;if(!lj({props:_}))return null;var F=_.children,N=_.layout,L=_.stackOffset,B=_.data,R=_.reverseStackOrder,b=Lq(N),x=b.numericAxisName,I=b.cateAxisName,C=bs(F,n),T=bwe(B,C,"".concat(x,"Id"),"".concat(I,"Id"),L,R),j=l.reduce(function(H,q){var W="".concat(q.axisType,"Map");return He(He({},H),{},Ut({},W,QSe(_,He(He({},q),{},{graphicalItems:C,stackGroups:q.axisType===x&&T,dataStartIndex:D,dataEndIndex:P}))))},{}),O=e_e(He(He({},j),{},{props:_,graphicalItems:C}),A==null?void 0:A.legendBBox);Object.keys(j).forEach(function(H){j[H]=u(_,j[H],O,H.replace("Map",""),r)});var k=j["".concat(I,"Map")],E=XSe(k),M=h(_,He(He({},j),{},{dataStartIndex:D,dataEndIndex:P,updateId:U,graphicalItems:C,stackGroups:T,offset:O}));return He(He({formattedGraphicalItems:M,graphicalItems:C,offset:O,stackGroups:T},E),j)},y=(function(v){function w(A){var _,D,P;return RSe(this,w),P=BSe(this,w,[A]),Ut(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ut(P,"accessibilityManager",new bSe),Ut(P,"handleLegendBBoxUpdate",function(U){if(U){var F=P.state,N=F.dataStartIndex,L=F.dataEndIndex,B=F.updateId;P.setState(He({legendBBox:U},p({props:P.props,dataStartIndex:N,dataEndIndex:L,updateId:B},He(He({},P.state),{},{legendBBox:U}))))}}),Ut(P,"handleReceiveSyncEvent",function(U,F,N){if(P.props.syncId===U){if(N===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(F)}}),Ut(P,"handleBrushChange",function(U){var F=U.startIndex,N=U.endIndex;if(F!==P.state.dataStartIndex||N!==P.state.dataEndIndex){var L=P.state.updateId;P.setState(function(){return He({dataStartIndex:F,dataEndIndex:N},p({props:P.props,dataStartIndex:F,dataEndIndex:N,updateId:L},P.state))}),P.triggerSyncEvent({dataStartIndex:F,dataEndIndex:N})}}),Ut(P,"handleMouseEnter",function(U){var F=P.getMouseInfo(U);if(F){var N=He(He({},F),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var L=P.props.onMouseEnter;Jt(L)&&L(N,U)}}),Ut(P,"triggeredAfterMouseMove",function(U){var F=P.getMouseInfo(U),N=F?He(He({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(N),P.triggerSyncEvent(N);var L=P.props.onMouseMove;Jt(L)&&L(N,U)}),Ut(P,"handleItemMouseEnter",function(U){P.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),Ut(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ut(P,"handleMouseMove",function(U){U.persist(),P.throttleTriggeredAfterMouseMove(U)}),Ut(P,"handleMouseLeave",function(U){P.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};P.setState(F),P.triggerSyncEvent(F);var N=P.props.onMouseLeave;Jt(N)&&N(F,U)}),Ut(P,"handleOuterEvent",function(U){var F=lde(U),N=$a(P.props,"".concat(F));if(F&&Jt(N)){var L,B;/.*touch.*/i.test(F)?B=P.getMouseInfo(U.changedTouches[0]):B=P.getMouseInfo(U),N((L=B)!==null&&L!==void 0?L:{},U)}}),Ut(P,"handleClick",function(U){var F=P.getMouseInfo(U);if(F){var N=He(He({},F),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var L=P.props.onClick;Jt(L)&&L(N,U)}}),Ut(P,"handleMouseDown",function(U){var F=P.props.onMouseDown;if(Jt(F)){var N=P.getMouseInfo(U);F(N,U)}}),Ut(P,"handleMouseUp",function(U){var F=P.props.onMouseUp;if(Jt(F)){var N=P.getMouseInfo(U);F(N,U)}}),Ut(P,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),Ut(P,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&P.handleMouseDown(U.changedTouches[0])}),Ut(P,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&P.handleMouseUp(U.changedTouches[0])}),Ut(P,"handleDoubleClick",function(U){var F=P.props.onDoubleClick;if(Jt(F)){var N=P.getMouseInfo(U);F(N,U)}}),Ut(P,"handleContextMenu",function(U){var F=P.props.onContextMenu;if(Jt(F)){var N=P.getMouseInfo(U);F(N,U)}}),Ut(P,"triggerSyncEvent",function(U){P.props.syncId!==void 0&&hk.emit(pk,P.props.syncId,U,P.eventEmitterSymbol)}),Ut(P,"applySyncEvent",function(U){var F=P.props,N=F.layout,L=F.syncMethod,B=P.state.updateId,R=U.dataStartIndex,b=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)P.setState(He({dataStartIndex:R,dataEndIndex:b},p({props:P.props,dataStartIndex:R,dataEndIndex:b,updateId:B},P.state)));else if(U.activeTooltipIndex!==void 0){var x=U.chartX,I=U.chartY,C=U.activeTooltipIndex,T=P.state,j=T.offset,O=T.tooltipTicks;if(!j)return;if(typeof L=="function")C=L(O,U);else if(L==="value"){C=-1;for(var k=0;k<O.length;k++)if(O[k].value===U.activeLabel){C=k;break}}var E=He(He({},j),{},{x:j.left,y:j.top}),M=Math.min(x,E.x+E.width),H=Math.min(I,E.y+E.height),q=O[C]&&O[C].value,W=h8(P.state,P.props.data,C),V=O[C]?{x:N==="horizontal"?O[C].coordinate:M,y:N==="horizontal"?H:O[C].coordinate}:Mee;P.setState(He(He({},U),{},{activeLabel:q,activeCoordinate:V,activePayload:W,activeTooltipIndex:C}))}else P.setState(U)}),Ut(P,"renderCursor",function(U){var F,N=P.state,L=N.isTooltipActive,B=N.activeCoordinate,R=N.activePayload,b=N.offset,x=N.activeTooltipIndex,I=N.tooltipAxisBandSize,C=P.getTooltipEventType(),T=(F=U.props.active)!==null&&F!==void 0?F:L,j=P.props.layout,O=U.key||"_recharts-cursor";return _e.createElement(OSe,{key:O,activeCoordinate:B,activePayload:R,activeTooltipIndex:x,chartName:r,element:U,isActive:T,layout:j,offset:b,tooltipAxisBandSize:I,tooltipEventType:C})}),Ut(P,"renderPolarAxis",function(U,F,N){var L=$a(U,"type.axisType"),B=$a(P.state,"".concat(L,"Map")),R=U.type.defaultProps,b=R!==void 0?He(He({},R),U.props):U.props,x=B&&B[b["".concat(L,"Id")]];return ye.cloneElement(U,He(He({},x),{},{className:xr(L,x.className),key:U.key||"".concat(F,"-").concat(N),ticks:cc(x,!0)}))}),Ut(P,"renderPolarGrid",function(U){var F=U.props,N=F.radialLines,L=F.polarAngles,B=F.polarRadius,R=P.state,b=R.radiusAxisMap,x=R.angleAxisMap,I=Uu(b),C=Uu(x),T=C.cx,j=C.cy,O=C.innerRadius,k=C.outerRadius;return ye.cloneElement(U,{polarAngles:Array.isArray(L)?L:cc(C,!0).map(function(E){return E.coordinate}),polarRadius:Array.isArray(B)?B:cc(I,!0).map(function(E){return E.coordinate}),cx:T,cy:j,innerRadius:O,outerRadius:k,key:U.key||"polar-grid",radialLines:N})}),Ut(P,"renderLegend",function(){var U=P.state.formattedGraphicalItems,F=P.props,N=F.children,L=F.width,B=F.height,R=P.props.margin||{},b=L-(R.left||0)-(R.right||0),x=AZ({children:N,formattedGraphicalItems:U,legendWidth:b,legendContent:c});if(!x)return null;var I=x.item,C=Tq(x,ISe);return ye.cloneElement(I,He(He({},C),{},{chartWidth:L,chartHeight:B,margin:R,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ut(P,"renderTooltip",function(){var U,F=P.props,N=F.children,L=F.accessibilityLayer,B=Go(N,Fs);if(!B)return null;var R=P.state,b=R.isTooltipActive,x=R.activeCoordinate,I=R.activePayload,C=R.activeLabel,T=R.offset,j=(U=B.props.active)!==null&&U!==void 0?U:b;return ye.cloneElement(B,{viewBox:He(He({},T),{},{x:T.left,y:T.top}),active:j,label:C,payload:j?I:[],coordinate:x,accessibilityLayer:L})}),Ut(P,"renderBrush",function(U){var F=P.props,N=F.margin,L=F.data,B=P.state,R=B.offset,b=B.dataStartIndex,x=B.dataEndIndex,I=B.updateId;return ye.cloneElement(U,{key:U.key||"_recharts-brush",onChange:H1(P.handleBrushChange,U.props.onChange),data:L,x:ut(U.props.x)?U.props.x:R.left,y:ut(U.props.y)?U.props.y:R.top+R.height+R.brushBottom-(N.bottom||0),width:ut(U.props.width)?U.props.width:R.width,startIndex:b,endIndex:x,updateId:"brush-".concat(I)})}),Ut(P,"renderReferenceElement",function(U,F,N){if(!U)return null;var L=P,B=L.clipPathId,R=P.state,b=R.xAxisMap,x=R.yAxisMap,I=R.offset,C=U.type.defaultProps||{},T=U.props,j=T.xAxisId,O=j===void 0?C.xAxisId:j,k=T.yAxisId,E=k===void 0?C.yAxisId:k;return ye.cloneElement(U,{key:U.key||"".concat(F,"-").concat(N),xAxis:b[O],yAxis:x[E],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:B})}),Ut(P,"renderActivePoints",function(U){var F=U.item,N=U.activePoint,L=U.basePoint,B=U.childIndex,R=U.isRange,b=[],x=F.props.key,I=F.item.type.defaultProps!==void 0?He(He({},F.item.type.defaultProps),F.item.props):F.item.props,C=I.activeDot,T=I.dataKey,j=He(He({index:B,dataKey:T,cx:N.x,cy:N.y,r:4,fill:oR(F.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},ur(C,!1)),G2(C));return b.push(w.renderActiveDot(C,j,"".concat(x,"-activePoint-").concat(B))),L?b.push(w.renderActiveDot(C,He(He({},j),{},{cx:L.x,cy:L.y}),"".concat(x,"-basePoint-").concat(B))):R&&b.push(null),b}),Ut(P,"renderGraphicChild",function(U,F,N){var L=P.filterFormatItem(U,F,N);if(!L)return null;var B=P.getTooltipEventType(),R=P.state,b=R.isTooltipActive,x=R.tooltipAxis,I=R.activeTooltipIndex,C=R.activeLabel,T=P.props.children,j=Go(T,Fs),O=L.props,k=O.points,E=O.isRange,M=O.baseLine,H=L.item.type.defaultProps!==void 0?He(He({},L.item.type.defaultProps),L.item.props):L.item.props,q=H.activeDot,W=H.hide,V=H.activeBar,Q=H.activeShape,te=!!(!W&&b&&j&&(q||V||Q)),X={};B!=="axis"&&j&&j.props.trigger==="click"?X={onClick:H1(P.handleItemMouseEnter,U.props.onClick)}:B!=="axis"&&(X={onMouseLeave:H1(P.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:H1(P.handleItemMouseEnter,U.props.onMouseEnter)});var Z=ye.cloneElement(U,He(He({},L.props),X));function ae(ve){return typeof x.dataKey=="function"?x.dataKey(ve.payload):null}if(te)if(I>=0){var he,se;if(x.dataKey&&!x.allowDuplicatedCategory){var ne=typeof x.dataKey=="function"?ae:"payload.".concat(x.dataKey.toString());he=V2(k,ne,C),se=E&&M&&V2(M,ne,C)}else he=k==null?void 0:k[I],se=E&&M&&M[I];if(Q||V){var oe=U.props.activeIndex!==void 0?U.props.activeIndex:I;return[ye.cloneElement(U,He(He(He({},L.props),X),{},{activeIndex:oe})),null,null]}if(!gr(he))return[Z].concat(qg(P.renderActivePoints({item:L,activePoint:he,basePoint:se,childIndex:I,isRange:E})))}else{var fe,pe=(fe=P.getItemByXY(P.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Z},xe=pe.graphicalItem,Se=xe.item,ce=Se===void 0?U:Se,Oe=xe.childIndex,ke=He(He(He({},L.props),X),{},{activeIndex:Oe});return[ye.cloneElement(ce,ke),null,null]}return E?[Z,null,null]:[Z,null]}),Ut(P,"renderCustomized",function(U,F,N){return ye.cloneElement(U,He(He({key:"recharts-customized-".concat(N)},P.props),P.state))}),Ut(P,"renderMap",{CartesianGrid:{handler:V1,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:V1},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:V1},YAxis:{handler:V1},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((_=A.id)!==null&&_!==void 0?_:nb("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=AX(P.triggeredAfterMouseMove,(D=A.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return FSe(w,v),DSe(w,[{key:"componentDidMount",value:function(){var _,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,D=_.children,P=_.data,U=_.height,F=_.layout,N=Go(D,Fs);if(N){var L=N.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,R=h8(this.state,P,L,B),b=this.state.tooltipTicks[L].coordinate,x=(this.state.offset.top+U)/2,I=F==="horizontal",C=I?{x:b,y:x}:{y:b,x},T=this.state.formattedGraphicalItems.find(function(O){var k=O.item;return k.type.name==="Scatter"});T&&(C=He(He({},C),T.props.points[L].tooltipPosition),R=T.props.points[L].tooltipPayload);var j={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:B,activePayload:R,activeCoordinate:C};this.setState(j),this.renderCursor(N),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var P,U;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(_){e5([Go(_.children,Fs)],[Go(this.props.children,Fs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Go(this.props.children,Fs);if(_&&typeof _.props.shared=="boolean"){var D=_.props.shared?"axis":"item";return s.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),U=J0e(P),F={chartX:Math.round(_.pageX-U.left),chartY:Math.round(_.pageY-U.top)},N=P.width/D.offsetWidth||1,L=this.inRange(F.chartX,F.chartY,N);if(!L)return null;var B=this.state,R=B.xAxisMap,b=B.yAxisMap,x=this.getTooltipEventType(),I=Nq(this.state,this.props.data,this.props.layout,L);if(x!=="axis"&&R&&b){var C=Uu(R).scale,T=Uu(b).scale,j=C&&C.invert?C.invert(F.chartX):null,O=T&&T.invert?T.invert(F.chartY):null;return He(He({},F),{},{xValue:j,yValue:O},I)}return I?He(He({},F),I):null}},{key:"inRange",value:function(_,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,F=_/P,N=D/P;if(U==="horizontal"||U==="vertical"){var L=this.state.offset,B=F>=L.left&&F<=L.left+L.width&&N>=L.top&&N<=L.top+L.height;return B?{x:F,y:N}:null}var R=this.state,b=R.angleAxisMap,x=R.radiusAxisMap;if(b&&x){var I=Uu(b);return QU({x:F,y:N},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,D=this.getTooltipEventType(),P=Go(_,Fs),U={};P&&D==="axis"&&(P.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=G2(this.props,this.handleOuterEvent);return He(He({},F),U)}},{key:"addListener",value:function(){hk.on(pk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hk.removeListener(pk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,D,P){for(var U=this.state.formattedGraphicalItems,F=0,N=U.length;F<N;F++){var L=U[F];if(L.item===_||L.props.key===_.key||D===yc(L.item.type)&&P===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,D=this.state.offset,P=D.left,U=D.top,F=D.height,N=D.width;return _e.createElement("defs",null,_e.createElement("clipPath",{id:_},_e.createElement("rect",{x:P,y:U,height:F,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(D,P){var U=kq(P,2),F=U[0],N=U[1];return He(He({},D),{},Ut({},F,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(D,P){var U=kq(P,2),F=U[0],N=U[1];return He(He({},D),{},Ut({},F,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[_])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(_){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[_])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(_){var D=this.state,P=D.formattedGraphicalItems,U=D.activeItem;if(P&&P.length)for(var F=0,N=P.length;F<N;F++){var L=P[F],B=L.props,R=L.item,b=R.type.defaultProps!==void 0?He(He({},R.type.defaultProps),R.props):R.props,x=yc(R.type);if(x==="Bar"){var I=(B.data||[]).find(function(O){return vxe(_,O)});if(I)return{graphicalItem:L,payload:I}}else if(x==="RadialBar"){var C=(B.data||[]).find(function(O){return QU(_,O)});if(C)return{graphicalItem:L,payload:C}}else if(_S(L,U)||AS(L,U)||Xv(L,U)){var T=l2e({graphicalItem:L,activeTooltipItem:U,itemData:b.data}),j=b.activeIndex===void 0?T:b.activeIndex;return{graphicalItem:He(He({},L),{},{childIndex:j}),payload:Xv(L,U)?b.data[T]:L.props.data[T]}}}return null}},{key:"render",value:function(){var _=this;if(!lj(this))return null;var D=this.props,P=D.children,U=D.className,F=D.width,N=D.height,L=D.style,B=D.compact,R=D.title,b=D.desc,x=Tq(D,PSe),I=ur(x,!1);if(B)return _e.createElement(dq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement(r5,t0({},I,{width:F,height:N,title:R,desc:b}),this.renderClipPath(),uj(P,this.renderMap)));if(this.props.accessibilityLayer){var C,T;I.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,I.role=(T=this.props.role)!==null&&T!==void 0?T:"application",I.onKeyDown=function(O){_.accessibilityManager.keyboardEvent(O)},I.onFocus=function(){_.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return _e.createElement(dq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement("div",t0({className:xr("recharts-wrapper",U),style:He({position:"relative",cursor:"default",width:F,height:N},L)},j,{ref:function(k){_.container=k}}),_e.createElement(r5,t0({},I,{width:F,height:N,title:R,desc:b,style:KSe}),this.renderClipPath(),uj(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ye.Component);Ut(y,"displayName",r),Ut(y,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ut(y,"getDerivedStateFromProps",function(v,w){var A=v.dataKey,_=v.data,D=v.children,P=v.width,U=v.height,F=v.layout,N=v.stackOffset,L=v.margin,B=w.dataStartIndex,R=w.dataEndIndex;if(w.updateId===void 0){var b=Rq(v);return He(He(He({},b),{},{updateId:0},p(He(He({props:v},b),{},{updateId:0}),w)),{},{prevDataKey:A,prevData:_,prevWidth:P,prevHeight:U,prevLayout:F,prevStackOffset:N,prevMargin:L,prevChildren:D})}if(A!==w.prevDataKey||_!==w.prevData||P!==w.prevWidth||U!==w.prevHeight||F!==w.prevLayout||N!==w.prevStackOffset||!w0(L,w.prevMargin)){var x=Rq(v),I={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},C=He(He({},Nq(w,_,F)),{},{updateId:w.updateId+1}),T=He(He(He({},x),I),C);return He(He(He({},T),p(He({props:v},T),w)),{},{prevDataKey:A,prevData:_,prevWidth:P,prevHeight:U,prevLayout:F,prevStackOffset:N,prevMargin:L,prevChildren:D})}if(!e5(D,w.prevChildren)){var j,O,k,E,M=Go(D,Ng),H=M&&(j=(O=M.props)===null||O===void 0?void 0:O.startIndex)!==null&&j!==void 0?j:B,q=M&&(k=(E=M.props)===null||E===void 0?void 0:E.endIndex)!==null&&k!==void 0?k:R,W=H!==B||q!==R,V=!gr(_),Q=V&&!W?w.updateId:w.updateId+1;return He(He({updateId:Q},p(He(He({props:v},w),{},{updateId:Q,dataStartIndex:H,dataEndIndex:q}),w)),{},{prevChildren:D,dataStartIndex:H,dataEndIndex:q})}return null}),Ut(y,"renderActiveDot",function(v,w,A){var _;return ye.isValidElement(v)?_=ye.cloneElement(v,w):Jt(v)?_=v(w):_=_e.createElement(sR,w),_e.createElement(gn,{className:"recharts-active-dot",key:A},_)});var m=ye.forwardRef(function(w,A){return _e.createElement(y,t0({},w,{ref:A}))});return m.displayName=y.displayName,m},n_e=r_e({chartName:"AreaChart",GraphicalChild:hl,axisComponents:[{axisType:"xAxis",AxisComp:TS},{axisType:"yAxis",AxisComp:MS}],formatAxisMap:iEe});function i_e(t){const e={};for(let n=0;n<12;n++){const i=new Date;i.setMonth(i.getMonth()-(11-n));const o=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;e[o]={income:0,expenses:0}}t.forEach(n=>{const i=new Date(n.timestamp),o=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;e[o]||(e[o]={income:0,expenses:0}),e[o].income+=Number(n.amount)});const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return Object.entries(e).sort(([n],[i])=>n.localeCompare(i)).slice(-6).map(([n,i])=>{const[o,a]=n.split("-");return{month:`${r[parseInt(a,10)-1]} ${o}`,income:i.income,expenses:i.expenses,balance:i.income-i.expenses}})}function Dq({transactions:t=[]}){const e=i_e(t),r=e.length>0?e:[{month:"No data",income:0,expenses:0,balance:0}];return Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Monthly Transaction Overview"}),Y.jsx(q0e,{width:"100%",height:350,children:Y.jsxs(n_e,{data:r,children:[Y.jsxs("defs",{children:[Y.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),Y.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]}),Y.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.8}),Y.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]}),Y.jsxs("linearGradient",{id:"colorBalance",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.8}),Y.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})]}),Y.jsx(mee,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(TS,{dataKey:"month",stroke:"#6b7280"}),Y.jsx(MS,{stroke:"#6b7280"}),Y.jsx(Fs,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),Y.jsx(xh,{}),Y.jsx(hl,{type:"monotone",dataKey:"income",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorIncome)",strokeWidth:2}),Y.jsx(hl,{type:"monotone",dataKey:"expenses",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorExpenses)",strokeWidth:2}),Y.jsx(hl,{type:"monotone",dataKey:"balance",stroke:"#06b6d4",fillOpacity:1,fill:"url(#colorBalance)",strokeWidth:2})]})})]})}function o_e(t){return t.map(e=>({id:String(e.id),date:e.timestamp.split("T")[0],description:e.description||"Payment",type:"income",amount:Number(e.amount),status:"completed",category:"Salary"}))}function Bq({transactions:t=[]}){const[e,r]=ye.useState(""),[n,i]=ye.useState("all"),a=o_e(t).filter(s=>{const l=s.description.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase()),c=n==="all"||s.type===n;return l&&c});return Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction History"}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsxs("div",{className:"relative",children:[Y.jsx(rfe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),Y.jsx("input",{type:"text",placeholder:"Search transactions...",value:e,onChange:s=>r(s.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),Y.jsxs("div",{className:"flex gap-2 bg-gray-100 rounded-lg p-1",children:[Y.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${n==="all"?"bg-white shadow-sm text-purple-600":"text-gray-600"}`,children:"All"}),Y.jsx("button",{onClick:()=>i("income"),className:`px-4 py-2 rounded-md text-sm transition-colors ${n==="income"?"bg-white shadow-sm text-purple-600":"text-gray-600"}`,children:"Income"}),Y.jsx("button",{onClick:()=>i("expense"),className:`px-4 py-2 rounded-md text-sm transition-colors ${n==="expense"?"bg-white shadow-sm text-purple-600":"text-gray-600"}`,children:"Expenses"})]})]})]}),Y.jsx("div",{className:"overflow-x-auto",children:Y.jsxs("table",{className:"w-full",children:[Y.jsx("thead",{children:Y.jsxs("tr",{className:"border-b border-gray-200",children:[Y.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),Y.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Description"}),Y.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Category"}),Y.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),Y.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Amount"}),Y.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"})]})}),Y.jsx("tbody",{children:a.map(s=>Y.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[Y.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),Y.jsx("td",{className:"py-4 px-4",children:Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsx("div",{className:`p-2 rounded-lg ${s.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:s.type==="income"?Y.jsx(xQ,{className:"w-4 h-4"}):Y.jsx(fN,{className:"w-4 h-4"})}),Y.jsx("span",{className:"text-sm text-gray-900",children:s.description})]})}),Y.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:s.category}),Y.jsx("td",{className:"py-4 px-4",children:Y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type})}),Y.jsxs("td",{className:`py-4 px-4 text-right text-sm font-semibold ${s.type==="income"?"text-green-600":"text-red-600"}`,children:[s.type==="income"?"+":"-","",s.amount.toLocaleString()]}),Y.jsx("td",{className:"py-4 px-4 text-center",children:Y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.status})})]},s.id))})]})})]})}function a_e(){const[t,e]=ye.useState(!1),[r,n]=ye.useState(1),i={name:"John Doe",email:"john.doe@company.com",phone:"+91 98765 43210",address:"Mumbai, Maharashtra, India",position:"Senior Software Engineer",joinDate:"January 15, 2024",employeeId:"EMP-2024-001",department:"Engineering"};return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Personal Details"}),Y.jsx("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:t?Y.jsxs(Y.Fragment,{children:[Y.jsx(efe,{className:"w-4 h-4"}),"Save"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(Jue,{className:"w-4 h-4"}),"Edit"]})})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:Y.jsx(_Q,{className:"w-5 h-5 text-purple-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Full Name"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.name})]})]}),Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:Y.jsx(Kue,{className:"w-5 h-5 text-blue-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email Address"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.email})]})]}),Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:Y.jsx(Xue,{className:"w-5 h-5 text-green-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phone Number"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.phone})]})]}),Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:Y.jsx(Gue,{className:"w-5 h-5 text-orange-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Address"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.address})]})]}),Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-pink-100 rounded-lg",children:Y.jsx(Iue,{className:"w-5 h-5 text-pink-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Position"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.position})]})]}),Y.jsxs("div",{className:"flex items-start gap-4",children:[Y.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:Y.jsx(EQ,{className:"w-5 h-5 text-cyan-600"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Join Date"}),Y.jsx("p",{className:"text-gray-900 font-medium",children:i.joinDate})]})]})]}),Y.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[Y.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Employee ID"}),Y.jsx("p",{className:"text-lg font-semibold text-purple-900",children:i.employeeId})]}),Y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[Y.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Department"}),Y.jsx("p",{className:"text-lg font-semibold text-purple-900",children:i.department})]})]})]}),Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Conversion Settings"}),Y.jsx("p",{className:"text-gray-600 mb-6",children:"Set your preferred currency conversion rate for international transactions"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Currency"}),Y.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[Y.jsx("option",{children:"INR - Indian Rupee"}),Y.jsx("option",{children:"USD - US Dollar"}),Y.jsx("option",{children:"EUR - Euro"}),Y.jsx("option",{children:"GBP - British Pound"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conversion Rate (to USD)"}),Y.jsx("input",{type:"number",value:r,onChange:o=>n(parseFloat(o.target.value)),step:"0.001",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),Y.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:Y.jsxs("p",{className:"text-sm text-blue-800",children:[Y.jsx("strong",{children:"Note:"})," Current conversion rate: 1 = $",r.toFixed(3)," USD"]})})]})]})}function s_e(){const t=[{name:"Savings Account",apy:"4.5%",balance:15e4,status:"active",growth:"+12.5%"},{name:"Fixed Deposit",apy:"7.2%",balance:3e5,status:"locked",growth:"+21.6%"},{name:"Liquid Fund",apy:"5.8%",balance:75e3,status:"active",growth:"+8.7%"}],e=t.reduce((n,i)=>n+i.balance,0),r=(t.reduce((n,i)=>n+parseFloat(i.apy),0)/t.length).toFixed(1);return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Y.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl p-6 text-white shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Y.jsx(dN,{className:"w-8 h-8"}),Y.jsx("span",{className:"text-sm bg-white/20 px-3 py-1 rounded-full",children:"Total"})]}),Y.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Yield Balance"}),Y.jsxs("p",{className:"text-3xl font-bold",children:["",e.toLocaleString()]})]}),Y.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-pink-700 rounded-2xl p-6 text-white shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Y.jsx(Tue,{className:"w-8 h-8"}),Y.jsx("span",{className:"text-sm bg-white/20 px-3 py-1 rounded-full",children:"Average"})]}),Y.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Average APY"}),Y.jsxs("p",{className:"text-3xl font-bold",children:[r,"%"]})]}),Y.jsxs("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-700 rounded-2xl p-6 text-white shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Y.jsx(Due,{className:"w-8 h-8"}),Y.jsx("span",{className:"text-sm bg-white/20 px-3 py-1 rounded-full",children:"Monthly"})]}),Y.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Expected Earnings"}),Y.jsxs("p",{className:"text-3xl font-bold",children:["",(e*.005).toFixed(0)]})]})]}),Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Your Yield Accounts"}),Y.jsx("div",{className:"space-y-4",children:t.map((n,i)=>Y.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-xl hover:shadow-md transition-all",children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsx("div",{className:`p-3 rounded-lg ${n.status==="active"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:n.status==="active"?Y.jsx(Hue,{className:"w-5 h-5"}):Y.jsx(zue,{className:"w-5 h-5"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"font-semibold text-gray-900",children:n.name}),Y.jsxs("p",{className:"text-sm text-gray-600",children:[n.status==="active"?"Active":"Locked","  APY: ",n.apy]})]})]}),Y.jsxs("div",{className:"flex items-center gap-8",children:[Y.jsxs("div",{className:"text-right",children:[Y.jsx("p",{className:"text-sm text-gray-600",children:"Balance"}),Y.jsxs("p",{className:"font-semibold text-gray-900",children:["",n.balance.toLocaleString()]})]}),Y.jsxs("div",{className:"flex items-center gap-2 bg-green-100 px-3 py-2 rounded-lg",children:[Y.jsx(fN,{className:"w-4 h-4 text-green-600"}),Y.jsx("span",{className:"text-sm font-semibold text-green-600",children:n.growth})]})]})]},i))})]}),Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Yield Calculator"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Amount ()"}),Y.jsx("input",{type:"number",placeholder:"100000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected APY (%)"}),Y.jsx("input",{type:"number",placeholder:"5.5",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period (months)"}),Y.jsx("input",{type:"number",placeholder:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),Y.jsx("button",{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all",children:"Calculate Potential Earnings"}),Y.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:Y.jsxs("p",{className:"text-sm text-purple-900",children:[Y.jsx("strong",{children:"Estimated Return:"})," Calculate your potential earnings based on different investment scenarios"]})})]})]})}const l_e="";function c_e(){const t=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}}async function yR(t,e={}){const r=await fetch(`${l_e}${t}`,{headers:c_e(),...e});if(r.status===401)throw localStorage.removeItem("token"),window.location.href="/employee-login",new Error("Unauthorized");if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(n.detail||"Request failed")}return r.json()}async function u_e(){return yR("/api/me/profile")}async function f_e(){return yR("/api/me/transactions")}async function d_e(){return yR("/api/blockchain/config")}const h_e="modulepreload",p_e=function(t){return"/employee/"+t},jq={},Rr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=a(r.map(c=>{if(c=p_e(c),c in jq)return;jq[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":h_e,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};function vR(t,e){if(t==null)return{};var r,n,i=cxe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}function g_e(t,e){if(ow(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m_e(t){var e=g_e(t,"string");return ow(e)=="symbol"?e:e+""}function Pe(t,e,r){return(e=m_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const y_e={},v_e=Object.freeze(Object.defineProperty({__proto__:null,default:y_e},Symbol.toStringTag,{value:"Module"})),Ree=sue(v_e);var mk={},Fr={},yk,Fq;function Kh(){if(Fq)return yk;Fq=1,yk=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},yk}var G1={exports:{}},Uq;function _s(){return Uq||(Uq=1,typeof Object.create=="function"?G1.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G1.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),G1.exports}var Hq;function El(){if(Hq)return Fr;Hq=1;var t=Kh(),e=_s();Fr.inherits=e;function r(b,x){return(b.charCodeAt(x)&64512)!==55296||x<0||x+1>=b.length?!1:(b.charCodeAt(x+1)&64512)===56320}function n(b,x){if(Array.isArray(b))return b.slice();if(!b)return[];var I=[];if(typeof b=="string")if(x){if(x==="hex")for(b=b.replace(/[^a-z0-9]+/ig,""),b.length%2!==0&&(b="0"+b),T=0;T<b.length;T+=2)I.push(parseInt(b[T]+b[T+1],16))}else for(var C=0,T=0;T<b.length;T++){var j=b.charCodeAt(T);j<128?I[C++]=j:j<2048?(I[C++]=j>>6|192,I[C++]=j&63|128):r(b,T)?(j=65536+((j&1023)<<10)+(b.charCodeAt(++T)&1023),I[C++]=j>>18|240,I[C++]=j>>12&63|128,I[C++]=j>>6&63|128,I[C++]=j&63|128):(I[C++]=j>>12|224,I[C++]=j>>6&63|128,I[C++]=j&63|128)}else for(T=0;T<b.length;T++)I[T]=b[T]|0;return I}Fr.toArray=n;function i(b){for(var x="",I=0;I<b.length;I++)x+=s(b[I].toString(16));return x}Fr.toHex=i;function o(b){var x=b>>>24|b>>>8&65280|b<<8&16711680|(b&255)<<24;return x>>>0}Fr.htonl=o;function a(b,x){for(var I="",C=0;C<b.length;C++){var T=b[C];x==="little"&&(T=o(T)),I+=l(T.toString(16))}return I}Fr.toHex32=a;function s(b){return b.length===1?"0"+b:b}Fr.zero2=s;function l(b){return b.length===7?"0"+b:b.length===6?"00"+b:b.length===5?"000"+b:b.length===4?"0000"+b:b.length===3?"00000"+b:b.length===2?"000000"+b:b.length===1?"0000000"+b:b}Fr.zero8=l;function c(b,x,I,C){var T=I-x;t(T%4===0);for(var j=new Array(T/4),O=0,k=x;O<j.length;O++,k+=4){var E;C==="big"?E=b[k]<<24|b[k+1]<<16|b[k+2]<<8|b[k+3]:E=b[k+3]<<24|b[k+2]<<16|b[k+1]<<8|b[k],j[O]=E>>>0}return j}Fr.join32=c;function u(b,x){for(var I=new Array(b.length*4),C=0,T=0;C<b.length;C++,T+=4){var j=b[C];x==="big"?(I[T]=j>>>24,I[T+1]=j>>>16&255,I[T+2]=j>>>8&255,I[T+3]=j&255):(I[T+3]=j>>>24,I[T+2]=j>>>16&255,I[T+1]=j>>>8&255,I[T]=j&255)}return I}Fr.split32=u;function f(b,x){return b>>>x|b<<32-x}Fr.rotr32=f;function h(b,x){return b<<x|b>>>32-x}Fr.rotl32=h;function p(b,x){return b+x>>>0}Fr.sum32=p;function y(b,x,I){return b+x+I>>>0}Fr.sum32_3=y;function m(b,x,I,C){return b+x+I+C>>>0}Fr.sum32_4=m;function v(b,x,I,C,T){return b+x+I+C+T>>>0}Fr.sum32_5=v;function w(b,x,I,C){var T=b[x],j=b[x+1],O=C+j>>>0,k=(O<C?1:0)+I+T;b[x]=k>>>0,b[x+1]=O}Fr.sum64=w;function A(b,x,I,C){var T=x+C>>>0,j=(T<x?1:0)+b+I;return j>>>0}Fr.sum64_hi=A;function _(b,x,I,C){var T=x+C;return T>>>0}Fr.sum64_lo=_;function D(b,x,I,C,T,j,O,k){var E=0,M=x;M=M+C>>>0,E+=M<x?1:0,M=M+j>>>0,E+=M<j?1:0,M=M+k>>>0,E+=M<k?1:0;var H=b+I+T+O+E;return H>>>0}Fr.sum64_4_hi=D;function P(b,x,I,C,T,j,O,k){var E=x+C+j+k;return E>>>0}Fr.sum64_4_lo=P;function U(b,x,I,C,T,j,O,k,E,M){var H=0,q=x;q=q+C>>>0,H+=q<x?1:0,q=q+j>>>0,H+=q<j?1:0,q=q+k>>>0,H+=q<k?1:0,q=q+M>>>0,H+=q<M?1:0;var W=b+I+T+O+E+H;return W>>>0}Fr.sum64_5_hi=U;function F(b,x,I,C,T,j,O,k,E,M){var H=x+C+j+k+M;return H>>>0}Fr.sum64_5_lo=F;function N(b,x,I){var C=x<<32-I|b>>>I;return C>>>0}Fr.rotr64_hi=N;function L(b,x,I){var C=b<<32-I|x>>>I;return C>>>0}Fr.rotr64_lo=L;function B(b,x,I){return b>>>I}Fr.shr64_hi=B;function R(b,x,I){var C=b<<32-I|x>>>I;return C>>>0}return Fr.shr64_lo=R,Fr}var vk={},qq;function ub(){if(qq)return vk;qq=1;var t=El(),e=Kh();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return vk.BlockHash=r,r.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var s=0;s<i.length;s+=this._delta32)this._update(i,s,s+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,a=o-(i+this.padLength)%o,s=new Array(a+this.padLength);s[0]=128;for(var l=1;l<a;l++)s[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)s[l++]=0;s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=i>>>24&255,s[l++]=i>>>16&255,s[l++]=i>>>8&255,s[l++]=i&255}else for(s[l++]=i&255,s[l++]=i>>>8&255,s[l++]=i>>>16&255,s[l++]=i>>>24&255,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,c=8;c<this.padLength;c++)s[l++]=0;return s},vk}var ud={},Ms={},zq;function Lee(){if(zq)return Ms;zq=1;var t=El(),e=t.rotr32;function r(u,f,h,p){if(u===0)return n(f,h,p);if(u===1||u===3)return o(f,h,p);if(u===2)return i(f,h,p)}Ms.ft_1=r;function n(u,f,h){return u&f^~u&h}Ms.ch32=n;function i(u,f,h){return u&f^u&h^f&h}Ms.maj32=i;function o(u,f,h){return u^f^h}Ms.p32=o;function a(u){return e(u,2)^e(u,13)^e(u,22)}Ms.s0_256=a;function s(u){return e(u,6)^e(u,11)^e(u,25)}Ms.s1_256=s;function l(u){return e(u,7)^e(u,18)^u>>>3}Ms.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return Ms.g1_256=c,Ms}var wk,Wq;function w_e(){if(Wq)return wk;Wq=1;var t=El(),e=ub(),r=Lee(),n=t.rotl32,i=t.sum32,o=t.sum32_5,a=r.ft_1,s=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,s),wk=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,h){for(var p=this.W,y=0;y<16;y++)p[y]=f[h+y];for(;y<p.length;y++)p[y]=n(p[y-3]^p[y-8]^p[y-14]^p[y-16],1);var m=this.h[0],v=this.h[1],w=this.h[2],A=this.h[3],_=this.h[4];for(y=0;y<p.length;y++){var D=~~(y/20),P=o(n(m,5),a(D,v,w,A),_,p[y],l[D]);_=A,A=w,w=n(v,30),v=m,m=P}this.h[0]=i(this.h[0],m),this.h[1]=i(this.h[1],v),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],A),this.h[4]=i(this.h[4],_)},c.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},wk}var bk,Kq;function Dee(){if(Kq)return bk;Kq=1;var t=El(),e=ub(),r=Lee(),n=Kh(),i=t.sum32,o=t.sum32_4,a=t.sum32_5,s=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,f=r.g0_256,h=r.g1_256,p=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(m,p),bk=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(w,A){for(var _=this.W,D=0;D<16;D++)_[D]=w[A+D];for(;D<_.length;D++)_[D]=o(h(_[D-2]),_[D-7],f(_[D-15]),_[D-16]);var P=this.h[0],U=this.h[1],F=this.h[2],N=this.h[3],L=this.h[4],B=this.h[5],R=this.h[6],b=this.h[7];for(n(this.k.length===_.length),D=0;D<_.length;D++){var x=a(b,u(L),s(L,B,R),this.k[D],_[D]),I=i(c(P),l(P,U,F));b=R,R=B,B=L,L=i(N,x),N=F,F=U,U=P,P=i(x,I)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],U),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],L),this.h[5]=i(this.h[5],B),this.h[6]=i(this.h[6],R),this.h[7]=i(this.h[7],b)},m.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},bk}var xk,Vq;function b_e(){if(Vq)return xk;Vq=1;var t=El(),e=Dee();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),xk=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},xk}var Ek,Gq;function Bee(){if(Gq)return Ek;Gq=1;var t=El(),e=ub(),r=Kh(),n=t.rotr64_hi,i=t.rotr64_lo,o=t.shr64_hi,a=t.shr64_lo,s=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,h=t.sum64_5_hi,p=t.sum64_5_lo,y=e.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}t.inherits(v,y),Ek=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(I,C){for(var T=this.W,j=0;j<32;j++)T[j]=I[C+j];for(;j<T.length;j+=2){var O=R(T[j-4],T[j-3]),k=b(T[j-4],T[j-3]),E=T[j-14],M=T[j-13],H=L(T[j-30],T[j-29]),q=B(T[j-30],T[j-29]),W=T[j-32],V=T[j-31];T[j]=u(O,k,E,M,H,q,W,V),T[j+1]=f(O,k,E,M,H,q,W,V)}},v.prototype._update=function(I,C){this._prepareBlock(I,C);var T=this.W,j=this.h[0],O=this.h[1],k=this.h[2],E=this.h[3],M=this.h[4],H=this.h[5],q=this.h[6],W=this.h[7],V=this.h[8],Q=this.h[9],te=this.h[10],X=this.h[11],Z=this.h[12],ae=this.h[13],he=this.h[14],se=this.h[15];r(this.k.length===T.length);for(var ne=0;ne<T.length;ne+=2){var oe=he,fe=se,pe=F(V,Q),xe=N(V,Q),Se=w(V,Q,te,X,Z),ce=A(V,Q,te,X,Z,ae),Oe=this.k[ne],ke=this.k[ne+1],ve=T[ne],We=T[ne+1],Ze=h(oe,fe,pe,xe,Se,ce,Oe,ke,ve,We),Ye=p(oe,fe,pe,xe,Se,ce,Oe,ke,ve,We);oe=P(j,O),fe=U(j,O),pe=_(j,O,k,E,M),xe=D(j,O,k,E,M,H);var jt=l(oe,fe,pe,xe),re=c(oe,fe,pe,xe);he=Z,se=ae,Z=te,ae=X,te=V,X=Q,V=l(q,W,Ze,Ye),Q=c(W,W,Ze,Ye),q=M,W=H,M=k,H=E,k=j,E=O,j=l(Ze,Ye,jt,re),O=c(Ze,Ye,jt,re)}s(this.h,0,j,O),s(this.h,2,k,E),s(this.h,4,M,H),s(this.h,6,q,W),s(this.h,8,V,Q),s(this.h,10,te,X),s(this.h,12,Z,ae),s(this.h,14,he,se)},v.prototype._digest=function(I){return I==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(x,I,C,T,j){var O=x&C^~x&j;return O<0&&(O+=4294967296),O}function A(x,I,C,T,j,O){var k=I&T^~I&O;return k<0&&(k+=4294967296),k}function _(x,I,C,T,j){var O=x&C^x&j^C&j;return O<0&&(O+=4294967296),O}function D(x,I,C,T,j,O){var k=I&T^I&O^T&O;return k<0&&(k+=4294967296),k}function P(x,I){var C=n(x,I,28),T=n(I,x,2),j=n(I,x,7),O=C^T^j;return O<0&&(O+=4294967296),O}function U(x,I){var C=i(x,I,28),T=i(I,x,2),j=i(I,x,7),O=C^T^j;return O<0&&(O+=4294967296),O}function F(x,I){var C=n(x,I,14),T=n(x,I,18),j=n(I,x,9),O=C^T^j;return O<0&&(O+=4294967296),O}function N(x,I){var C=i(x,I,14),T=i(x,I,18),j=i(I,x,9),O=C^T^j;return O<0&&(O+=4294967296),O}function L(x,I){var C=n(x,I,1),T=n(x,I,8),j=o(x,I,7),O=C^T^j;return O<0&&(O+=4294967296),O}function B(x,I){var C=i(x,I,1),T=i(x,I,8),j=a(x,I,7),O=C^T^j;return O<0&&(O+=4294967296),O}function R(x,I){var C=n(x,I,19),T=n(I,x,29),j=o(x,I,6),O=C^T^j;return O<0&&(O+=4294967296),O}function b(x,I){var C=i(x,I,19),T=i(I,x,29),j=a(x,I,6),O=C^T^j;return O<0&&(O+=4294967296),O}return Ek}var Sk,Yq;function x_e(){if(Yq)return Sk;Yq=1;var t=El(),e=Bee();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Sk=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Sk}var Jq;function E_e(){return Jq||(Jq=1,ud.sha1=w_e(),ud.sha224=b_e(),ud.sha256=Dee(),ud.sha384=x_e(),ud.sha512=Bee()),ud}var _k={},Qq;function S_e(){if(Qq)return _k;Qq=1;var t=El(),e=ub(),r=t.rotl32,n=t.sum32,i=t.sum32_3,o=t.sum32_4,a=e.BlockHash;function s(){if(!(this instanceof s))return new s;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(s,a),_k.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(v,w){for(var A=this.h[0],_=this.h[1],D=this.h[2],P=this.h[3],U=this.h[4],F=A,N=_,L=D,B=P,R=U,b=0;b<80;b++){var x=n(r(o(A,l(b,_,D,P),v[f[b]+w],c(b)),p[b]),U);A=U,U=P,P=r(D,10),D=_,_=x,x=n(r(o(F,l(79-b,N,L,B),v[h[b]+w],u(b)),y[b]),R),F=R,R=B,B=r(L,10),L=N,N=x}x=i(this.h[1],D,B),this.h[1]=i(this.h[2],P,R),this.h[2]=i(this.h[3],U,F),this.h[3]=i(this.h[4],A,N),this.h[4]=i(this.h[0],_,L),this.h[0]=x},s.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(m,v,w,A){return m<=15?v^w^A:m<=31?v&w|~v&A:m<=47?(v|~w)^A:m<=63?v&A|w&~A:v^(w|~A)}function c(m){return m<=15?0:m<=31?1518500249:m<=47?1859775393:m<=63?2400959708:2840853838}function u(m){return m<=15?1352829926:m<=31?1548603684:m<=47?1836072691:m<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return _k}var Ak,Xq;function __e(){if(Xq)return Ak;Xq=1;var t=El(),e=Kh();function r(n,i,o){if(!(this instanceof r))return new r(n,i,o);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,o))}return Ak=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,o){return this.inner.update(i,o),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Ak}var Zq;function wR(){return Zq||(Zq=1,(function(t){var e=t;e.utils=El(),e.common=ub(),e.sha=E_e(),e.ripemd=S_e(),e.hmac=__e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(mk)),mk}var Ck,ez;function A_e(){return ez||(ez=1,Ck=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),Ck}var Ok,tz;function jee(){return tz||(tz=1,Ok=Object),Ok}var Ik,rz;function C_e(){return rz||(rz=1,Ik=Error),Ik}var Pk,nz;function O_e(){return nz||(nz=1,Pk=EvalError),Pk}var kk,iz;function I_e(){return iz||(iz=1,kk=RangeError),kk}var Tk,oz;function P_e(){return oz||(oz=1,Tk=ReferenceError),Tk}var Mk,az;function $ee(){return az||(az=1,Mk=SyntaxError),Mk}var Nk,sz;function RS(){return sz||(sz=1,Nk=TypeError),Nk}var Rk,lz;function k_e(){return lz||(lz=1,Rk=URIError),Rk}var Lk,cz;function T_e(){return cz||(cz=1,Lk=Math.abs),Lk}var Dk,uz;function M_e(){return uz||(uz=1,Dk=Math.floor),Dk}var Bk,fz;function N_e(){return fz||(fz=1,Bk=Math.max),Bk}var jk,dz;function R_e(){return dz||(dz=1,jk=Math.min),jk}var $k,hz;function L_e(){return hz||(hz=1,$k=Math.pow),$k}var Fk,pz;function D_e(){return pz||(pz=1,Fk=Math.round),Fk}var Uk,gz;function B_e(){return gz||(gz=1,Uk=Number.isNaN||function(e){return e!==e}),Uk}var Hk,mz;function j_e(){if(mz)return Hk;mz=1;var t=B_e();return Hk=function(r){return t(r)||r===0?r:r<0?-1:1},Hk}var qk,yz;function $_e(){return yz||(yz=1,qk=Object.getOwnPropertyDescriptor),qk}var zk,vz;function LS(){if(vz)return zk;vz=1;var t=$_e();if(t)try{t([],"length")}catch{t=null}return zk=t,zk}var Wk,wz;function DS(){if(wz)return Wk;wz=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Wk=t,Wk}var Kk,bz;function F_e(){if(bz)return Kk;bz=1;var t=typeof Symbol<"u"&&Symbol,e=A_e();return Kk=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Kk}var Vk,xz;function Fee(){return xz||(xz=1,Vk=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Vk}var Gk,Ez;function Uee(){if(Ez)return Gk;Ez=1;var t=jee();return Gk=t.getPrototypeOf||null,Gk}var Yk,Sz;function U_e(){if(Sz)return Yk;Sz=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var h=0;h<c.length;h+=1)u[h+l.length]=c[h];return u},o=function(l,c){for(var u=[],f=c,h=0;f<l.length;f+=1,h+=1)u[h]=l[f];return u},a=function(s,l){for(var c="",u=0;u<s.length;u+=1)c+=s[u],u+1<s.length&&(c+=l);return c};return Yk=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=o(arguments,1),f,h=function(){if(this instanceof f){var w=c.apply(this,i(u,arguments));return Object(w)===w?w:this}return c.apply(l,i(u,arguments))},p=r(0,c.length-u.length),y=[],m=0;m<p;m++)y[m]="$"+m;if(f=Function("binder","return function ("+a(y,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var v=function(){};v.prototype=c.prototype,f.prototype=new v,v.prototype=null}return f},Yk}var Jk,_z;function fb(){if(_z)return Jk;_z=1;var t=U_e();return Jk=Function.prototype.bind||t,Jk}var Qk,Az;function bR(){return Az||(Az=1,Qk=Function.prototype.call),Qk}var Xk,Cz;function xR(){return Cz||(Cz=1,Xk=Function.prototype.apply),Xk}var Zk,Oz;function H_e(){return Oz||(Oz=1,Zk=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zk}var e4,Iz;function Hee(){if(Iz)return e4;Iz=1;var t=fb(),e=xR(),r=bR(),n=H_e();return e4=n||t.call(r,e),e4}var t4,Pz;function ER(){if(Pz)return t4;Pz=1;var t=fb(),e=RS(),r=bR(),n=Hee();return t4=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return n(t,r,o)},t4}var r4,kz;function q_e(){if(kz)return r4;kz=1;var t=ER(),e=LS(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return r4=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,r4}var n4,Tz;function z_e(){if(Tz)return n4;Tz=1;var t=Fee(),e=Uee(),r=q_e();return n4=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,n4}var i4,Mz;function W_e(){if(Mz)return i4;Mz=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=fb();return i4=r.call(t,e),i4}var o4,Nz;function qee(){if(Nz)return o4;Nz=1;var t,e=jee(),r=C_e(),n=O_e(),i=I_e(),o=P_e(),a=$ee(),s=RS(),l=k_e(),c=T_e(),u=M_e(),f=N_e(),h=R_e(),p=L_e(),y=D_e(),m=j_e(),v=Function,w=function(Z){try{return v('"use strict"; return ('+Z+").constructor;")()}catch{}},A=LS(),_=DS(),D=function(){throw new s},P=A?(function(){try{return arguments.callee,D}catch{try{return A(arguments,"callee").get}catch{return D}}})():D,U=F_e()(),F=z_e(),N=Uee(),L=Fee(),B=xR(),R=bR(),b={},x=typeof Uint8Array>"u"||!F?t:F(Uint8Array),I={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":U&&F?F([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":U&&F?F(F([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!U||!F?t:F(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!U||!F?t:F(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":U&&F?F(""[Symbol.iterator]()):t,"%Symbol%":U?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":P,"%TypedArray%":x,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":B,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":N,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":f,"%Math.min%":h,"%Math.pow%":p,"%Math.round%":y,"%Math.sign%":m,"%Reflect.getPrototypeOf%":L};if(F)try{null.error}catch(Z){var C=F(F(Z));I["%Error.prototype%"]=C}var T=function Z(ae){var he;if(ae==="%AsyncFunction%")he=w("async function () {}");else if(ae==="%GeneratorFunction%")he=w("function* () {}");else if(ae==="%AsyncGeneratorFunction%")he=w("async function* () {}");else if(ae==="%AsyncGenerator%"){var se=Z("%AsyncGeneratorFunction%");se&&(he=se.prototype)}else if(ae==="%AsyncIteratorPrototype%"){var ne=Z("%AsyncGenerator%");ne&&F&&(he=F(ne.prototype))}return I[ae]=he,he},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=fb(),k=W_e(),E=O.call(R,Array.prototype.concat),M=O.call(B,Array.prototype.splice),H=O.call(R,String.prototype.replace),q=O.call(R,String.prototype.slice),W=O.call(R,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,te=function(ae){var he=q(ae,0,1),se=q(ae,-1);if(he==="%"&&se!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&he!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var ne=[];return H(ae,V,function(oe,fe,pe,xe){ne[ne.length]=pe?H(xe,Q,"$1"):fe||oe}),ne},X=function(ae,he){var se=ae,ne;if(k(j,se)&&(ne=j[se],se="%"+ne[0]+"%"),k(I,se)){var oe=I[se];if(oe===b&&(oe=T(se)),typeof oe>"u"&&!he)throw new s("intrinsic "+ae+" exists, but is not available. Please file an issue!");return{alias:ne,name:se,value:oe}}throw new a("intrinsic "+ae+" does not exist!")};return o4=function(ae,he){if(typeof ae!="string"||ae.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof he!="boolean")throw new s('"allowMissing" argument must be a boolean');if(W(/^%?[^%]*%?$/,ae)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var se=te(ae),ne=se.length>0?se[0]:"",oe=X("%"+ne+"%",he),fe=oe.name,pe=oe.value,xe=!1,Se=oe.alias;Se&&(ne=Se[0],M(se,E([0,1],Se)));for(var ce=1,Oe=!0;ce<se.length;ce+=1){var ke=se[ce],ve=q(ke,0,1),We=q(ke,-1);if((ve==='"'||ve==="'"||ve==="`"||We==='"'||We==="'"||We==="`")&&ve!==We)throw new a("property names with quotes must have matching quotes");if((ke==="constructor"||!Oe)&&(xe=!0),ne+="."+ke,fe="%"+ne+"%",k(I,fe))pe=I[fe];else if(pe!=null){if(!(ke in pe)){if(!he)throw new s("base intrinsic for "+ae+" exists, but the property is not available.");return}if(A&&ce+1>=se.length){var Ze=A(pe,ke);Oe=!!Ze,Oe&&"get"in Ze&&!("originalValue"in Ze.get)?pe=Ze.get:pe=pe[ke]}else Oe=k(pe,ke),pe=pe[ke];Oe&&!xe&&(I[fe]=pe)}}return pe},o4}var a4,Rz;function K_e(){if(Rz)return a4;Rz=1;var t=qee(),e=ER(),r=e([t("%String.prototype.indexOf%")]);return a4=function(i,o){var a=t(i,!!o);return typeof a=="function"&&r(i,".prototype.")>-1?e([a]):a},a4}var s4={exports:{}},l4,Lz;function V_e(){if(Lz)return l4;Lz=1;var t=DS(),e=$ee(),r=RS(),n=LS();return l4=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,h=!!n&&n(o,a);if(t)t(o,a,{configurable:u===null&&h?h.configurable:!u,enumerable:l===null&&h?h.enumerable:!l,value:s,writable:c===null&&h?h.writable:!c});else if(f||!l&&!c&&!u)o[a]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},l4}var c4,Dz;function G_e(){if(Dz)return c4;Dz=1;var t=DS(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},c4=e,c4}var u4,Bz;function Y_e(){if(Bz)return u4;Bz=1;var t=qee(),e=V_e(),r=G_e()(),n=LS(),i=RS(),o=t("%Math.floor%");return u4=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in s&&n){var h=n(s,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(f=!1)}return(u||f||!c)&&(r?e(s,"length",l,!0,!0):e(s,"length",l)),s},u4}var f4,jz;function J_e(){if(jz)return f4;jz=1;var t=fb(),e=xR(),r=Hee();return f4=function(){return r(t,e,arguments)},f4}var $z;function Q_e(){return $z||($z=1,(function(t){var e=Y_e(),r=DS(),n=ER(),i=J_e();t.exports=function(a){var s=n(arguments),l=a.length-(arguments.length-1);return e(s,1+(l>0?l:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i})(s4)),s4.exports}var d4,Fz;function zee(){if(Fz)return d4;Fz=1;var t=Object.prototype.toString;return d4=function(r){var n=t.call(r),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&t.call(r.callee)==="[object Function]"),i},d4}var h4,Uz;function X_e(){if(Uz)return h4;Uz=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=zee(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(h){var p=h.constructor;return p&&p.prototype===h},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=(function(){if(typeof window>"u")return!1;for(var h in window)try{if(!c["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{l(window[h])}catch{return!0}}catch{return!0}return!1})(),f=function(h){if(typeof window>"u"||!u)return l(h);try{return l(h)}catch{return!1}};t=function(p){var y=p!==null&&typeof p=="object",m=r.call(p)==="[object Function]",v=n(p),w=y&&r.call(p)==="[object String]",A=[];if(!y&&!m&&!v)throw new TypeError("Object.keys called on a non-object");var _=a&&m;if(w&&p.length>0&&!e.call(p,0))for(var D=0;D<p.length;++D)A.push(String(D));if(v&&p.length>0)for(var P=0;P<p.length;++P)A.push(String(P));else for(var U in p)!(_&&U==="prototype")&&e.call(p,U)&&A.push(String(U));if(o)for(var F=f(p),N=0;N<s.length;++N)!(F&&s[N]==="constructor")&&e.call(p,s[N])&&A.push(s[N]);return A}}return h4=t,h4}var p4,Hz;function Z_e(){if(Hz)return p4;Hz=1;var t=Array.prototype.slice,e=zee(),r=Object.keys,n=r?function(a){return r(a)}:X_e(),i=Object.keys;return n.shim=function(){if(Object.keys){var a=(function(){var s=Object.keys(arguments);return s&&s.length===arguments.length})(1,2);a||(Object.keys=function(l){return e(l)?i(t.call(l)):i(l)})}else Object.keys=n;return Object.keys||n},p4=n,p4}var g4={};const eAe="6.6.1",tAe={version:eAe};var m4={},s2={exports:{}},rAe=s2.exports,qz;function jc(){return qz||(qz=1,(function(t){(function(e,r){function n(R,b){if(!R)throw new Error(b||"Assertion failed")}function i(R,b){R.super_=b;var x=function(){};x.prototype=b.prototype,R.prototype=new x,R.prototype.constructor=R}function o(R,b,x){if(o.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((b==="le"||b==="be")&&(x=b,b=10),this._init(R||0,b||10,x||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Ree.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,x){return b.cmp(x)>0?b:x},o.min=function(b,x){return b.cmp(x)<0?b:x},o.prototype._init=function(b,x,I){if(typeof b=="number")return this._initNumber(b,x,I);if(typeof b=="object")return this._initArray(b,x,I);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),b=b.toString().replace(/\s+/g,"");var C=0;b[0]==="-"&&(C++,this.negative=1),C<b.length&&(x===16?this._parseHex(b,C,I):(this._parseBase(b,x,C),I==="le"&&this._initArray(this.toArray(),x,I)))},o.prototype._initNumber=function(b,x,I){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),x,I)},o.prototype._initArray=function(b,x,I){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T,j,O=0;if(I==="be")for(C=b.length-1,T=0;C>=0;C-=3)j=b[C]|b[C-1]<<8|b[C-2]<<16,this.words[T]|=j<<O&67108863,this.words[T+1]=j>>>26-O&67108863,O+=24,O>=26&&(O-=26,T++);else if(I==="le")for(C=0,T=0;C<b.length;C+=3)j=b[C]|b[C+1]<<8|b[C+2]<<16,this.words[T]|=j<<O&67108863,this.words[T+1]=j>>>26-O&67108863,O+=24,O>=26&&(O-=26,T++);return this.strip()};function s(R,b){var x=R.charCodeAt(b);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function l(R,b,x){var I=s(R,x);return x-1>=b&&(I|=s(R,x-1)<<4),I}o.prototype._parseHex=function(b,x,I){this.length=Math.ceil((b.length-x)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T=0,j=0,O;if(I==="be")for(C=b.length-1;C>=x;C-=2)O=l(b,x,C)<<T,this.words[j]|=O&67108863,T>=18?(T-=18,j+=1,this.words[j]|=O>>>26):T+=8;else{var k=b.length-x;for(C=k%2===0?x+1:x;C<b.length;C+=2)O=l(b,x,C)<<T,this.words[j]|=O&67108863,T>=18?(T-=18,j+=1,this.words[j]|=O>>>26):T+=8}this.strip()};function c(R,b,x,I){for(var C=0,T=Math.min(R.length,x),j=b;j<T;j++){var O=R.charCodeAt(j)-48;C*=I,O>=49?C+=O-49+10:O>=17?C+=O-17+10:C+=O}return C}o.prototype._parseBase=function(b,x,I){this.words=[0],this.length=1;for(var C=0,T=1;T<=67108863;T*=x)C++;C--,T=T/x|0;for(var j=b.length-I,O=j%C,k=Math.min(j,j-O)+I,E=0,M=I;M<k;M+=C)E=c(b,M,M+C,x),this.imuln(T),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(O!==0){var H=1;for(E=c(b,M,b.length,x),M=0;M<O;M++)H*=x;this.imuln(H),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this.strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var x=0;x<this.length;x++)b.words[x]=this.words[x];b.length=this.length,b.negative=this.negative,b.red=this.red},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,x){b=b||10,x=x|0||1;var I;if(b===16||b==="hex"){I="";for(var C=0,T=0,j=0;j<this.length;j++){var O=this.words[j],k=((O<<C|T)&16777215).toString(16);T=O>>>24-C&16777215,C+=2,C>=26&&(C-=26,j--),T!==0||j!==this.length-1?I=u[6-k.length]+k+I:I=k+I}for(T!==0&&(I=T.toString(16)+I);I.length%x!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(b===(b|0)&&b>=2&&b<=36){var E=f[b],M=h[b];I="";var H=this.clone();for(H.negative=0;!H.isZero();){var q=H.modn(M).toString(b);H=H.idivn(M),H.isZero()?I=q+I:I=u[E-q.length]+q+I}for(this.isZero()&&(I="0"+I);I.length%x!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(b,x){return n(typeof a<"u"),this.toArrayLike(a,b,x)},o.prototype.toArray=function(b,x){return this.toArrayLike(Array,b,x)},o.prototype.toArrayLike=function(b,x,I){var C=this.byteLength(),T=I||Math.max(1,C);n(C<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0"),this.strip();var j=x==="le",O=new b(T),k,E,M=this.clone();if(j){for(E=0;!M.isZero();E++)k=M.andln(255),M.iushrn(8),O[E]=k;for(;E<T;E++)O[E]=0}else{for(E=0;E<T-C;E++)O[E]=0;for(E=0;!M.isZero();E++)k=M.andln(255),M.iushrn(8),O[T-E-1]=k}return O},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var x=b,I=0;return x>=4096&&(I+=13,x>>>=13),x>=64&&(I+=7,x>>>=7),x>=8&&(I+=4,x>>>=4),x>=2&&(I+=2,x>>>=2),I+x},o.prototype._zeroBits=function(b){if(b===0)return 26;var x=b,I=0;return(x&8191)===0&&(I+=13,x>>>=13),(x&127)===0&&(I+=7,x>>>=7),(x&15)===0&&(I+=4,x>>>=4),(x&3)===0&&(I+=2,x>>>=2),(x&1)===0&&I++,I},o.prototype.bitLength=function(){var b=this.words[this.length-1],x=this._countBits(b);return(this.length-1)*26+x};function p(R){for(var b=new Array(R.bitLength()),x=0;x<b.length;x++){var I=x/26|0,C=x%26;b[x]=(R.words[I]&1<<C)>>>C}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,x=0;x<this.length;x++){var I=this._zeroBits(this.words[x]);if(b+=I,I!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var x=0;x<b.length;x++)this.words[x]=this.words[x]|b.words[x];return this.strip()},o.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var x;this.length>b.length?x=b:x=this;for(var I=0;I<x.length;I++)this.words[I]=this.words[I]&b.words[I];return this.length=x.length,this.strip()},o.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var x,I;this.length>b.length?(x=this,I=b):(x=b,I=this);for(var C=0;C<I.length;C++)this.words[C]=x.words[C]^I.words[C];if(this!==x)for(;C<x.length;C++)this.words[C]=x.words[C];return this.length=x.length,this.strip()},o.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var x=Math.ceil(b/26)|0,I=b%26;this._expand(x),I>0&&x--;for(var C=0;C<x;C++)this.words[C]=~this.words[C]&67108863;return I>0&&(this.words[C]=~this.words[C]&67108863>>26-I),this.strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,x){n(typeof b=="number"&&b>=0);var I=b/26|0,C=b%26;return this._expand(I+1),x?this.words[I]=this.words[I]|1<<C:this.words[I]=this.words[I]&~(1<<C),this.strip()},o.prototype.iadd=function(b){var x;if(this.negative!==0&&b.negative===0)return this.negative=0,x=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,x=this.isub(b),b.negative=1,x._normSign();var I,C;this.length>b.length?(I=this,C=b):(I=b,C=this);for(var T=0,j=0;j<C.length;j++)x=(I.words[j]|0)+(C.words[j]|0)+T,this.words[j]=x&67108863,T=x>>>26;for(;T!==0&&j<I.length;j++)x=(I.words[j]|0)+T,this.words[j]=x&67108863,T=x>>>26;if(this.length=I.length,T!==0)this.words[this.length]=T,this.length++;else if(I!==this)for(;j<I.length;j++)this.words[j]=I.words[j];return this},o.prototype.add=function(b){var x;return b.negative!==0&&this.negative===0?(b.negative=0,x=this.sub(b),b.negative^=1,x):b.negative===0&&this.negative!==0?(this.negative=0,x=b.sub(this),this.negative=1,x):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var x=this.iadd(b);return b.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var I=this.cmp(b);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,T;I>0?(C=this,T=b):(C=b,T=this);for(var j=0,O=0;O<T.length;O++)x=(C.words[O]|0)-(T.words[O]|0)+j,j=x>>26,this.words[O]=x&67108863;for(;j!==0&&O<C.length;O++)x=(C.words[O]|0)+j,j=x>>26,this.words[O]=x&67108863;if(j===0&&O<C.length&&C!==this)for(;O<C.length;O++)this.words[O]=C.words[O];return this.length=Math.max(this.length,O),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function y(R,b,x){x.negative=b.negative^R.negative;var I=R.length+b.length|0;x.length=I,I=I-1|0;var C=R.words[0]|0,T=b.words[0]|0,j=C*T,O=j&67108863,k=j/67108864|0;x.words[0]=O;for(var E=1;E<I;E++){for(var M=k>>>26,H=k&67108863,q=Math.min(E,b.length-1),W=Math.max(0,E-R.length+1);W<=q;W++){var V=E-W|0;C=R.words[V]|0,T=b.words[W]|0,j=C*T+H,M+=j/67108864|0,H=j&67108863}x.words[E]=H|0,k=M|0}return k!==0?x.words[E]=k|0:x.length--,x.strip()}var m=function(b,x,I){var C=b.words,T=x.words,j=I.words,O=0,k,E,M,H=C[0]|0,q=H&8191,W=H>>>13,V=C[1]|0,Q=V&8191,te=V>>>13,X=C[2]|0,Z=X&8191,ae=X>>>13,he=C[3]|0,se=he&8191,ne=he>>>13,oe=C[4]|0,fe=oe&8191,pe=oe>>>13,xe=C[5]|0,Se=xe&8191,ce=xe>>>13,Oe=C[6]|0,ke=Oe&8191,ve=Oe>>>13,We=C[7]|0,Ze=We&8191,Ye=We>>>13,jt=C[8]|0,re=jt&8191,K=jt>>>13,J=C[9]|0,ue=J&8191,we=J>>>13,Le=T[0]|0,Ce=Le&8191,tt=Le>>>13,Ot=T[1]|0,ft=Ot&8191,ct=Ot>>>13,It=T[2]|0,$t=It&8191,mr=It>>>13,on=T[3]|0,Gt=on&8191,or=on>>>13,qa=T[4]|0,at=qa&8191,Rt=qa>>>13,le=T[5]|0,de=le&8191,je=le>>>13,Ke=T[6]|0,Ve=Ke&8191,Ft=Ke>>>13,zr=T[7]|0,Yt=zr&8191,Xt=zr>>>13,In=T[8]|0,Ar=In&8191,Or=In>>>13,To=T[9]|0,Wr=To&8191,yr=To>>>13;I.negative=b.negative^x.negative,I.length=19,k=Math.imul(q,Ce),E=Math.imul(q,tt),E=E+Math.imul(W,Ce)|0,M=Math.imul(W,tt);var no=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(no>>>26)|0,no&=67108863,k=Math.imul(Q,Ce),E=Math.imul(Q,tt),E=E+Math.imul(te,Ce)|0,M=Math.imul(te,tt),k=k+Math.imul(q,ft)|0,E=E+Math.imul(q,ct)|0,E=E+Math.imul(W,ft)|0,M=M+Math.imul(W,ct)|0;var ia=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(ia>>>26)|0,ia&=67108863,k=Math.imul(Z,Ce),E=Math.imul(Z,tt),E=E+Math.imul(ae,Ce)|0,M=Math.imul(ae,tt),k=k+Math.imul(Q,ft)|0,E=E+Math.imul(Q,ct)|0,E=E+Math.imul(te,ft)|0,M=M+Math.imul(te,ct)|0,k=k+Math.imul(q,$t)|0,E=E+Math.imul(q,mr)|0,E=E+Math.imul(W,$t)|0,M=M+Math.imul(W,mr)|0;var Mo=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,k=Math.imul(se,Ce),E=Math.imul(se,tt),E=E+Math.imul(ne,Ce)|0,M=Math.imul(ne,tt),k=k+Math.imul(Z,ft)|0,E=E+Math.imul(Z,ct)|0,E=E+Math.imul(ae,ft)|0,M=M+Math.imul(ae,ct)|0,k=k+Math.imul(Q,$t)|0,E=E+Math.imul(Q,mr)|0,E=E+Math.imul(te,$t)|0,M=M+Math.imul(te,mr)|0,k=k+Math.imul(q,Gt)|0,E=E+Math.imul(q,or)|0,E=E+Math.imul(W,Gt)|0,M=M+Math.imul(W,or)|0;var mi=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(mi>>>26)|0,mi&=67108863,k=Math.imul(fe,Ce),E=Math.imul(fe,tt),E=E+Math.imul(pe,Ce)|0,M=Math.imul(pe,tt),k=k+Math.imul(se,ft)|0,E=E+Math.imul(se,ct)|0,E=E+Math.imul(ne,ft)|0,M=M+Math.imul(ne,ct)|0,k=k+Math.imul(Z,$t)|0,E=E+Math.imul(Z,mr)|0,E=E+Math.imul(ae,$t)|0,M=M+Math.imul(ae,mr)|0,k=k+Math.imul(Q,Gt)|0,E=E+Math.imul(Q,or)|0,E=E+Math.imul(te,Gt)|0,M=M+Math.imul(te,or)|0,k=k+Math.imul(q,at)|0,E=E+Math.imul(q,Rt)|0,E=E+Math.imul(W,at)|0,M=M+Math.imul(W,Rt)|0;var np=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(np>>>26)|0,np&=67108863,k=Math.imul(Se,Ce),E=Math.imul(Se,tt),E=E+Math.imul(ce,Ce)|0,M=Math.imul(ce,tt),k=k+Math.imul(fe,ft)|0,E=E+Math.imul(fe,ct)|0,E=E+Math.imul(pe,ft)|0,M=M+Math.imul(pe,ct)|0,k=k+Math.imul(se,$t)|0,E=E+Math.imul(se,mr)|0,E=E+Math.imul(ne,$t)|0,M=M+Math.imul(ne,mr)|0,k=k+Math.imul(Z,Gt)|0,E=E+Math.imul(Z,or)|0,E=E+Math.imul(ae,Gt)|0,M=M+Math.imul(ae,or)|0,k=k+Math.imul(Q,at)|0,E=E+Math.imul(Q,Rt)|0,E=E+Math.imul(te,at)|0,M=M+Math.imul(te,Rt)|0,k=k+Math.imul(q,de)|0,E=E+Math.imul(q,je)|0,E=E+Math.imul(W,de)|0,M=M+Math.imul(W,je)|0;var ip=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(ip>>>26)|0,ip&=67108863,k=Math.imul(ke,Ce),E=Math.imul(ke,tt),E=E+Math.imul(ve,Ce)|0,M=Math.imul(ve,tt),k=k+Math.imul(Se,ft)|0,E=E+Math.imul(Se,ct)|0,E=E+Math.imul(ce,ft)|0,M=M+Math.imul(ce,ct)|0,k=k+Math.imul(fe,$t)|0,E=E+Math.imul(fe,mr)|0,E=E+Math.imul(pe,$t)|0,M=M+Math.imul(pe,mr)|0,k=k+Math.imul(se,Gt)|0,E=E+Math.imul(se,or)|0,E=E+Math.imul(ne,Gt)|0,M=M+Math.imul(ne,or)|0,k=k+Math.imul(Z,at)|0,E=E+Math.imul(Z,Rt)|0,E=E+Math.imul(ae,at)|0,M=M+Math.imul(ae,Rt)|0,k=k+Math.imul(Q,de)|0,E=E+Math.imul(Q,je)|0,E=E+Math.imul(te,de)|0,M=M+Math.imul(te,je)|0,k=k+Math.imul(q,Ve)|0,E=E+Math.imul(q,Ft)|0,E=E+Math.imul(W,Ve)|0,M=M+Math.imul(W,Ft)|0;var op=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(op>>>26)|0,op&=67108863,k=Math.imul(Ze,Ce),E=Math.imul(Ze,tt),E=E+Math.imul(Ye,Ce)|0,M=Math.imul(Ye,tt),k=k+Math.imul(ke,ft)|0,E=E+Math.imul(ke,ct)|0,E=E+Math.imul(ve,ft)|0,M=M+Math.imul(ve,ct)|0,k=k+Math.imul(Se,$t)|0,E=E+Math.imul(Se,mr)|0,E=E+Math.imul(ce,$t)|0,M=M+Math.imul(ce,mr)|0,k=k+Math.imul(fe,Gt)|0,E=E+Math.imul(fe,or)|0,E=E+Math.imul(pe,Gt)|0,M=M+Math.imul(pe,or)|0,k=k+Math.imul(se,at)|0,E=E+Math.imul(se,Rt)|0,E=E+Math.imul(ne,at)|0,M=M+Math.imul(ne,Rt)|0,k=k+Math.imul(Z,de)|0,E=E+Math.imul(Z,je)|0,E=E+Math.imul(ae,de)|0,M=M+Math.imul(ae,je)|0,k=k+Math.imul(Q,Ve)|0,E=E+Math.imul(Q,Ft)|0,E=E+Math.imul(te,Ve)|0,M=M+Math.imul(te,Ft)|0,k=k+Math.imul(q,Yt)|0,E=E+Math.imul(q,Xt)|0,E=E+Math.imul(W,Yt)|0,M=M+Math.imul(W,Xt)|0;var wm=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(wm>>>26)|0,wm&=67108863,k=Math.imul(re,Ce),E=Math.imul(re,tt),E=E+Math.imul(K,Ce)|0,M=Math.imul(K,tt),k=k+Math.imul(Ze,ft)|0,E=E+Math.imul(Ze,ct)|0,E=E+Math.imul(Ye,ft)|0,M=M+Math.imul(Ye,ct)|0,k=k+Math.imul(ke,$t)|0,E=E+Math.imul(ke,mr)|0,E=E+Math.imul(ve,$t)|0,M=M+Math.imul(ve,mr)|0,k=k+Math.imul(Se,Gt)|0,E=E+Math.imul(Se,or)|0,E=E+Math.imul(ce,Gt)|0,M=M+Math.imul(ce,or)|0,k=k+Math.imul(fe,at)|0,E=E+Math.imul(fe,Rt)|0,E=E+Math.imul(pe,at)|0,M=M+Math.imul(pe,Rt)|0,k=k+Math.imul(se,de)|0,E=E+Math.imul(se,je)|0,E=E+Math.imul(ne,de)|0,M=M+Math.imul(ne,je)|0,k=k+Math.imul(Z,Ve)|0,E=E+Math.imul(Z,Ft)|0,E=E+Math.imul(ae,Ve)|0,M=M+Math.imul(ae,Ft)|0,k=k+Math.imul(Q,Yt)|0,E=E+Math.imul(Q,Xt)|0,E=E+Math.imul(te,Yt)|0,M=M+Math.imul(te,Xt)|0,k=k+Math.imul(q,Ar)|0,E=E+Math.imul(q,Or)|0,E=E+Math.imul(W,Ar)|0,M=M+Math.imul(W,Or)|0;var bm=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(bm>>>26)|0,bm&=67108863,k=Math.imul(ue,Ce),E=Math.imul(ue,tt),E=E+Math.imul(we,Ce)|0,M=Math.imul(we,tt),k=k+Math.imul(re,ft)|0,E=E+Math.imul(re,ct)|0,E=E+Math.imul(K,ft)|0,M=M+Math.imul(K,ct)|0,k=k+Math.imul(Ze,$t)|0,E=E+Math.imul(Ze,mr)|0,E=E+Math.imul(Ye,$t)|0,M=M+Math.imul(Ye,mr)|0,k=k+Math.imul(ke,Gt)|0,E=E+Math.imul(ke,or)|0,E=E+Math.imul(ve,Gt)|0,M=M+Math.imul(ve,or)|0,k=k+Math.imul(Se,at)|0,E=E+Math.imul(Se,Rt)|0,E=E+Math.imul(ce,at)|0,M=M+Math.imul(ce,Rt)|0,k=k+Math.imul(fe,de)|0,E=E+Math.imul(fe,je)|0,E=E+Math.imul(pe,de)|0,M=M+Math.imul(pe,je)|0,k=k+Math.imul(se,Ve)|0,E=E+Math.imul(se,Ft)|0,E=E+Math.imul(ne,Ve)|0,M=M+Math.imul(ne,Ft)|0,k=k+Math.imul(Z,Yt)|0,E=E+Math.imul(Z,Xt)|0,E=E+Math.imul(ae,Yt)|0,M=M+Math.imul(ae,Xt)|0,k=k+Math.imul(Q,Ar)|0,E=E+Math.imul(Q,Or)|0,E=E+Math.imul(te,Ar)|0,M=M+Math.imul(te,Or)|0,k=k+Math.imul(q,Wr)|0,E=E+Math.imul(q,yr)|0,E=E+Math.imul(W,Wr)|0,M=M+Math.imul(W,yr)|0;var en=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(en>>>26)|0,en&=67108863,k=Math.imul(ue,ft),E=Math.imul(ue,ct),E=E+Math.imul(we,ft)|0,M=Math.imul(we,ct),k=k+Math.imul(re,$t)|0,E=E+Math.imul(re,mr)|0,E=E+Math.imul(K,$t)|0,M=M+Math.imul(K,mr)|0,k=k+Math.imul(Ze,Gt)|0,E=E+Math.imul(Ze,or)|0,E=E+Math.imul(Ye,Gt)|0,M=M+Math.imul(Ye,or)|0,k=k+Math.imul(ke,at)|0,E=E+Math.imul(ke,Rt)|0,E=E+Math.imul(ve,at)|0,M=M+Math.imul(ve,Rt)|0,k=k+Math.imul(Se,de)|0,E=E+Math.imul(Se,je)|0,E=E+Math.imul(ce,de)|0,M=M+Math.imul(ce,je)|0,k=k+Math.imul(fe,Ve)|0,E=E+Math.imul(fe,Ft)|0,E=E+Math.imul(pe,Ve)|0,M=M+Math.imul(pe,Ft)|0,k=k+Math.imul(se,Yt)|0,E=E+Math.imul(se,Xt)|0,E=E+Math.imul(ne,Yt)|0,M=M+Math.imul(ne,Xt)|0,k=k+Math.imul(Z,Ar)|0,E=E+Math.imul(Z,Or)|0,E=E+Math.imul(ae,Ar)|0,M=M+Math.imul(ae,Or)|0,k=k+Math.imul(Q,Wr)|0,E=E+Math.imul(Q,yr)|0,E=E+Math.imul(te,Wr)|0,M=M+Math.imul(te,yr)|0;var xm=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(xm>>>26)|0,xm&=67108863,k=Math.imul(ue,$t),E=Math.imul(ue,mr),E=E+Math.imul(we,$t)|0,M=Math.imul(we,mr),k=k+Math.imul(re,Gt)|0,E=E+Math.imul(re,or)|0,E=E+Math.imul(K,Gt)|0,M=M+Math.imul(K,or)|0,k=k+Math.imul(Ze,at)|0,E=E+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ye,at)|0,M=M+Math.imul(Ye,Rt)|0,k=k+Math.imul(ke,de)|0,E=E+Math.imul(ke,je)|0,E=E+Math.imul(ve,de)|0,M=M+Math.imul(ve,je)|0,k=k+Math.imul(Se,Ve)|0,E=E+Math.imul(Se,Ft)|0,E=E+Math.imul(ce,Ve)|0,M=M+Math.imul(ce,Ft)|0,k=k+Math.imul(fe,Yt)|0,E=E+Math.imul(fe,Xt)|0,E=E+Math.imul(pe,Yt)|0,M=M+Math.imul(pe,Xt)|0,k=k+Math.imul(se,Ar)|0,E=E+Math.imul(se,Or)|0,E=E+Math.imul(ne,Ar)|0,M=M+Math.imul(ne,Or)|0,k=k+Math.imul(Z,Wr)|0,E=E+Math.imul(Z,yr)|0,E=E+Math.imul(ae,Wr)|0,M=M+Math.imul(ae,yr)|0;var Jf=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(Jf>>>26)|0,Jf&=67108863,k=Math.imul(ue,Gt),E=Math.imul(ue,or),E=E+Math.imul(we,Gt)|0,M=Math.imul(we,or),k=k+Math.imul(re,at)|0,E=E+Math.imul(re,Rt)|0,E=E+Math.imul(K,at)|0,M=M+Math.imul(K,Rt)|0,k=k+Math.imul(Ze,de)|0,E=E+Math.imul(Ze,je)|0,E=E+Math.imul(Ye,de)|0,M=M+Math.imul(Ye,je)|0,k=k+Math.imul(ke,Ve)|0,E=E+Math.imul(ke,Ft)|0,E=E+Math.imul(ve,Ve)|0,M=M+Math.imul(ve,Ft)|0,k=k+Math.imul(Se,Yt)|0,E=E+Math.imul(Se,Xt)|0,E=E+Math.imul(ce,Yt)|0,M=M+Math.imul(ce,Xt)|0,k=k+Math.imul(fe,Ar)|0,E=E+Math.imul(fe,Or)|0,E=E+Math.imul(pe,Ar)|0,M=M+Math.imul(pe,Or)|0,k=k+Math.imul(se,Wr)|0,E=E+Math.imul(se,yr)|0,E=E+Math.imul(ne,Wr)|0,M=M+Math.imul(ne,yr)|0;var ap=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(ap>>>26)|0,ap&=67108863,k=Math.imul(ue,at),E=Math.imul(ue,Rt),E=E+Math.imul(we,at)|0,M=Math.imul(we,Rt),k=k+Math.imul(re,de)|0,E=E+Math.imul(re,je)|0,E=E+Math.imul(K,de)|0,M=M+Math.imul(K,je)|0,k=k+Math.imul(Ze,Ve)|0,E=E+Math.imul(Ze,Ft)|0,E=E+Math.imul(Ye,Ve)|0,M=M+Math.imul(Ye,Ft)|0,k=k+Math.imul(ke,Yt)|0,E=E+Math.imul(ke,Xt)|0,E=E+Math.imul(ve,Yt)|0,M=M+Math.imul(ve,Xt)|0,k=k+Math.imul(Se,Ar)|0,E=E+Math.imul(Se,Or)|0,E=E+Math.imul(ce,Ar)|0,M=M+Math.imul(ce,Or)|0,k=k+Math.imul(fe,Wr)|0,E=E+Math.imul(fe,yr)|0,E=E+Math.imul(pe,Wr)|0,M=M+Math.imul(pe,yr)|0;var qc=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(qc>>>26)|0,qc&=67108863,k=Math.imul(ue,de),E=Math.imul(ue,je),E=E+Math.imul(we,de)|0,M=Math.imul(we,je),k=k+Math.imul(re,Ve)|0,E=E+Math.imul(re,Ft)|0,E=E+Math.imul(K,Ve)|0,M=M+Math.imul(K,Ft)|0,k=k+Math.imul(Ze,Yt)|0,E=E+Math.imul(Ze,Xt)|0,E=E+Math.imul(Ye,Yt)|0,M=M+Math.imul(Ye,Xt)|0,k=k+Math.imul(ke,Ar)|0,E=E+Math.imul(ke,Or)|0,E=E+Math.imul(ve,Ar)|0,M=M+Math.imul(ve,Or)|0,k=k+Math.imul(Se,Wr)|0,E=E+Math.imul(Se,yr)|0,E=E+Math.imul(ce,Wr)|0,M=M+Math.imul(ce,yr)|0;var Em=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(Em>>>26)|0,Em&=67108863,k=Math.imul(ue,Ve),E=Math.imul(ue,Ft),E=E+Math.imul(we,Ve)|0,M=Math.imul(we,Ft),k=k+Math.imul(re,Yt)|0,E=E+Math.imul(re,Xt)|0,E=E+Math.imul(K,Yt)|0,M=M+Math.imul(K,Xt)|0,k=k+Math.imul(Ze,Ar)|0,E=E+Math.imul(Ze,Or)|0,E=E+Math.imul(Ye,Ar)|0,M=M+Math.imul(Ye,Or)|0,k=k+Math.imul(ke,Wr)|0,E=E+Math.imul(ke,yr)|0,E=E+Math.imul(ve,Wr)|0,M=M+Math.imul(ve,yr)|0;var sp=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(sp>>>26)|0,sp&=67108863,k=Math.imul(ue,Yt),E=Math.imul(ue,Xt),E=E+Math.imul(we,Yt)|0,M=Math.imul(we,Xt),k=k+Math.imul(re,Ar)|0,E=E+Math.imul(re,Or)|0,E=E+Math.imul(K,Ar)|0,M=M+Math.imul(K,Or)|0,k=k+Math.imul(Ze,Wr)|0,E=E+Math.imul(Ze,yr)|0,E=E+Math.imul(Ye,Wr)|0,M=M+Math.imul(Ye,yr)|0;var zc=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(zc>>>26)|0,zc&=67108863,k=Math.imul(ue,Ar),E=Math.imul(ue,Or),E=E+Math.imul(we,Ar)|0,M=Math.imul(we,Or),k=k+Math.imul(re,Wr)|0,E=E+Math.imul(re,yr)|0,E=E+Math.imul(K,Wr)|0,M=M+Math.imul(K,yr)|0;var io=(O+k|0)+((E&8191)<<13)|0;O=(M+(E>>>13)|0)+(io>>>26)|0,io&=67108863,k=Math.imul(ue,Wr),E=Math.imul(ue,yr),E=E+Math.imul(we,Wr)|0,M=Math.imul(we,yr);var Sm=(O+k|0)+((E&8191)<<13)|0;return O=(M+(E>>>13)|0)+(Sm>>>26)|0,Sm&=67108863,j[0]=no,j[1]=ia,j[2]=Mo,j[3]=mi,j[4]=np,j[5]=ip,j[6]=op,j[7]=wm,j[8]=bm,j[9]=en,j[10]=xm,j[11]=Jf,j[12]=ap,j[13]=qc,j[14]=Em,j[15]=sp,j[16]=zc,j[17]=io,j[18]=Sm,O!==0&&(j[19]=O,I.length++),I};Math.imul||(m=y);function v(R,b,x){x.negative=b.negative^R.negative,x.length=R.length+b.length;for(var I=0,C=0,T=0;T<x.length-1;T++){var j=C;C=0;for(var O=I&67108863,k=Math.min(T,b.length-1),E=Math.max(0,T-R.length+1);E<=k;E++){var M=T-E,H=R.words[M]|0,q=b.words[E]|0,W=H*q,V=W&67108863;j=j+(W/67108864|0)|0,V=V+O|0,O=V&67108863,j=j+(V>>>26)|0,C+=j>>>26,j&=67108863}x.words[T]=O,I=j,j=C}return I!==0?x.words[T]=I:x.length--,x.strip()}function w(R,b,x){var I=new A;return I.mulp(R,b,x)}o.prototype.mulTo=function(b,x){var I,C=this.length+b.length;return this.length===10&&b.length===10?I=m(this,b,x):C<63?I=y(this,b,x):C<1024?I=v(this,b,x):I=w(this,b,x),I};function A(R,b){this.x=R,this.y=b}A.prototype.makeRBT=function(b){for(var x=new Array(b),I=o.prototype._countBits(b)-1,C=0;C<b;C++)x[C]=this.revBin(C,I,b);return x},A.prototype.revBin=function(b,x,I){if(b===0||b===I-1)return b;for(var C=0,T=0;T<x;T++)C|=(b&1)<<x-T-1,b>>=1;return C},A.prototype.permute=function(b,x,I,C,T,j){for(var O=0;O<j;O++)C[O]=x[b[O]],T[O]=I[b[O]]},A.prototype.transform=function(b,x,I,C,T,j){this.permute(j,b,x,I,C,T);for(var O=1;O<T;O<<=1)for(var k=O<<1,E=Math.cos(2*Math.PI/k),M=Math.sin(2*Math.PI/k),H=0;H<T;H+=k)for(var q=E,W=M,V=0;V<O;V++){var Q=I[H+V],te=C[H+V],X=I[H+V+O],Z=C[H+V+O],ae=q*X-W*Z;Z=q*Z+W*X,X=ae,I[H+V]=Q+X,C[H+V]=te+Z,I[H+V+O]=Q-X,C[H+V+O]=te-Z,V!==k&&(ae=E*q-M*W,W=E*W+M*q,q=ae)}},A.prototype.guessLen13b=function(b,x){var I=Math.max(x,b)|1,C=I&1,T=0;for(I=I/2|0;I;I=I>>>1)T++;return 1<<T+1+C},A.prototype.conjugate=function(b,x,I){if(!(I<=1))for(var C=0;C<I/2;C++){var T=b[C];b[C]=b[I-C-1],b[I-C-1]=T,T=x[C],x[C]=-x[I-C-1],x[I-C-1]=-T}},A.prototype.normalize13b=function(b,x){for(var I=0,C=0;C<x/2;C++){var T=Math.round(b[2*C+1]/x)*8192+Math.round(b[2*C]/x)+I;b[C]=T&67108863,T<67108864?I=0:I=T/67108864|0}return b},A.prototype.convert13b=function(b,x,I,C){for(var T=0,j=0;j<x;j++)T=T+(b[j]|0),I[2*j]=T&8191,T=T>>>13,I[2*j+1]=T&8191,T=T>>>13;for(j=2*x;j<C;++j)I[j]=0;n(T===0),n((T&-8192)===0)},A.prototype.stub=function(b){for(var x=new Array(b),I=0;I<b;I++)x[I]=0;return x},A.prototype.mulp=function(b,x,I){var C=2*this.guessLen13b(b.length,x.length),T=this.makeRBT(C),j=this.stub(C),O=new Array(C),k=new Array(C),E=new Array(C),M=new Array(C),H=new Array(C),q=new Array(C),W=I.words;W.length=C,this.convert13b(b.words,b.length,O,C),this.convert13b(x.words,x.length,M,C),this.transform(O,j,k,E,C,T),this.transform(M,j,H,q,C,T);for(var V=0;V<C;V++){var Q=k[V]*H[V]-E[V]*q[V];E[V]=k[V]*q[V]+E[V]*H[V],k[V]=Q}return this.conjugate(k,E,C),this.transform(k,E,W,j,C,T),this.conjugate(W,j,C),this.normalize13b(W,C),I.negative=b.negative^x.negative,I.length=b.length+x.length,I.strip()},o.prototype.mul=function(b){var x=new o(null);return x.words=new Array(this.length+b.length),this.mulTo(b,x)},o.prototype.mulf=function(b){var x=new o(null);return x.words=new Array(this.length+b.length),w(this,b,x)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var x=0,I=0;I<this.length;I++){var C=(this.words[I]|0)*b,T=(C&67108863)+(x&67108863);x>>=26,x+=C/67108864|0,x+=T>>>26,this.words[I]=T&67108863}return x!==0&&(this.words[I]=x,this.length++),this.length=b===0?1:this.length,this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var x=p(b);if(x.length===0)return new o(1);for(var I=this,C=0;C<x.length&&x[C]===0;C++,I=I.sqr());if(++C<x.length)for(var T=I.sqr();C<x.length;C++,T=T.sqr())x[C]!==0&&(I=I.mul(T));return I},o.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var x=b%26,I=(b-x)/26,C=67108863>>>26-x<<26-x,T;if(x!==0){var j=0;for(T=0;T<this.length;T++){var O=this.words[T]&C,k=(this.words[T]|0)-O<<x;this.words[T]=k|j,j=O>>>26-x}j&&(this.words[T]=j,this.length++)}if(I!==0){for(T=this.length-1;T>=0;T--)this.words[T+I]=this.words[T];for(T=0;T<I;T++)this.words[T]=0;this.length+=I}return this.strip()},o.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,x,I){n(typeof b=="number"&&b>=0);var C;x?C=(x-x%26)/26:C=0;var T=b%26,j=Math.min((b-T)/26,this.length),O=67108863^67108863>>>T<<T,k=I;if(C-=j,C=Math.max(0,C),k){for(var E=0;E<j;E++)k.words[E]=this.words[E];k.length=j}if(j!==0)if(this.length>j)for(this.length-=j,E=0;E<this.length;E++)this.words[E]=this.words[E+j];else this.words[0]=0,this.length=1;var M=0;for(E=this.length-1;E>=0&&(M!==0||E>=C);E--){var H=this.words[E]|0;this.words[E]=M<<26-T|H>>>T,M=H&O}return k&&M!==0&&(k.words[k.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(b,x,I){return n(this.negative===0),this.iushrn(b,x,I)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var x=b%26,I=(b-x)/26,C=1<<x;if(this.length<=I)return!1;var T=this.words[I];return!!(T&C)},o.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var x=b%26,I=(b-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(x!==0&&I++,this.length=Math.min(I,this.length),x!==0){var C=67108863^67108863>>>x<<x;this.words[this.length-1]&=C}return this.strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this.strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,x,I){var C=b.length+I,T;this._expand(C);var j,O=0;for(T=0;T<b.length;T++){j=(this.words[T+I]|0)+O;var k=(b.words[T]|0)*x;j-=k&67108863,O=(j>>26)-(k/67108864|0),this.words[T+I]=j&67108863}for(;T<this.length-I;T++)j=(this.words[T+I]|0)+O,O=j>>26,this.words[T+I]=j&67108863;if(O===0)return this.strip();for(n(O===-1),O=0,T=0;T<this.length;T++)j=-(this.words[T]|0)+O,O=j>>26,this.words[T]=j&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(b,x){var I=this.length-b.length,C=this.clone(),T=b,j=T.words[T.length-1]|0,O=this._countBits(j);I=26-O,I!==0&&(T=T.ushln(I),C.iushln(I),j=T.words[T.length-1]|0);var k=C.length-T.length,E;if(x!=="mod"){E=new o(null),E.length=k+1,E.words=new Array(E.length);for(var M=0;M<E.length;M++)E.words[M]=0}var H=C.clone()._ishlnsubmul(T,1,k);H.negative===0&&(C=H,E&&(E.words[k]=1));for(var q=k-1;q>=0;q--){var W=(C.words[T.length+q]|0)*67108864+(C.words[T.length+q-1]|0);for(W=Math.min(W/j|0,67108863),C._ishlnsubmul(T,W,q);C.negative!==0;)W--,C.negative=0,C._ishlnsubmul(T,1,q),C.isZero()||(C.negative^=1);E&&(E.words[q]=W)}return E&&E.strip(),C.strip(),x!=="div"&&I!==0&&C.iushrn(I),{div:E||null,mod:C}},o.prototype.divmod=function(b,x,I){if(n(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var C,T,j;return this.negative!==0&&b.negative===0?(j=this.neg().divmod(b,x),x!=="mod"&&(C=j.div.neg()),x!=="div"&&(T=j.mod.neg(),I&&T.negative!==0&&T.iadd(b)),{div:C,mod:T}):this.negative===0&&b.negative!==0?(j=this.divmod(b.neg(),x),x!=="mod"&&(C=j.div.neg()),{div:C,mod:j.mod}):(this.negative&b.negative)!==0?(j=this.neg().divmod(b.neg(),x),x!=="div"&&(T=j.mod.neg(),I&&T.negative!==0&&T.isub(b)),{div:j.div,mod:T}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?x==="div"?{div:this.divn(b.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modn(b.words[0]))}:this._wordDiv(b,x)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var x=this.divmod(b);if(x.mod.isZero())return x.div;var I=x.div.negative!==0?x.mod.isub(b):x.mod,C=b.ushrn(1),T=b.andln(1),j=I.cmp(C);return j<0||T===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modn=function(b){n(b<=67108863);for(var x=(1<<26)%b,I=0,C=this.length-1;C>=0;C--)I=(x*I+(this.words[C]|0))%b;return I},o.prototype.idivn=function(b){n(b<=67108863);for(var x=0,I=this.length-1;I>=0;I--){var C=(this.words[I]|0)+x*67108864;this.words[I]=C/b|0,x=C%b}return this.strip()},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var x=this,I=b.clone();x.negative!==0?x=x.umod(b):x=x.clone();for(var C=new o(1),T=new o(0),j=new o(0),O=new o(1),k=0;x.isEven()&&I.isEven();)x.iushrn(1),I.iushrn(1),++k;for(var E=I.clone(),M=x.clone();!x.isZero();){for(var H=0,q=1;(x.words[0]&q)===0&&H<26;++H,q<<=1);if(H>0)for(x.iushrn(H);H-- >0;)(C.isOdd()||T.isOdd())&&(C.iadd(E),T.isub(M)),C.iushrn(1),T.iushrn(1);for(var W=0,V=1;(I.words[0]&V)===0&&W<26;++W,V<<=1);if(W>0)for(I.iushrn(W);W-- >0;)(j.isOdd()||O.isOdd())&&(j.iadd(E),O.isub(M)),j.iushrn(1),O.iushrn(1);x.cmp(I)>=0?(x.isub(I),C.isub(j),T.isub(O)):(I.isub(x),j.isub(C),O.isub(T))}return{a:j,b:O,gcd:I.iushln(k)}},o.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var x=this,I=b.clone();x.negative!==0?x=x.umod(b):x=x.clone();for(var C=new o(1),T=new o(0),j=I.clone();x.cmpn(1)>0&&I.cmpn(1)>0;){for(var O=0,k=1;(x.words[0]&k)===0&&O<26;++O,k<<=1);if(O>0)for(x.iushrn(O);O-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);for(var E=0,M=1;(I.words[0]&M)===0&&E<26;++E,M<<=1);if(E>0)for(I.iushrn(E);E-- >0;)T.isOdd()&&T.iadd(j),T.iushrn(1);x.cmp(I)>=0?(x.isub(I),C.isub(T)):(I.isub(x),T.isub(C))}var H;return x.cmpn(1)===0?H=C:H=T,H.cmpn(0)<0&&H.iadd(b),H},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var x=this.clone(),I=b.clone();x.negative=0,I.negative=0;for(var C=0;x.isEven()&&I.isEven();C++)x.iushrn(1),I.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;I.isEven();)I.iushrn(1);var T=x.cmp(I);if(T<0){var j=x;x=I,I=j}else if(T===0||I.cmpn(1)===0)break;x.isub(I)}while(!0);return I.iushln(C)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){n(typeof b=="number");var x=b%26,I=(b-x)/26,C=1<<x;if(this.length<=I)return this._expand(I+1),this.words[I]|=C,this;for(var T=C,j=I;T!==0&&j<this.length;j++){var O=this.words[j]|0;O+=T,T=O>>>26,O&=67108863,this.words[j]=O}return T!==0&&(this.words[j]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var x=b<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this.strip();var I;if(this.length>1)I=1;else{x&&(b=-b),n(b<=67108863,"Number is too big");var C=this.words[0]|0;I=C===b?0:C<b?-1:1}return this.negative!==0?-I|0:I},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var x=this.ucmp(b);return this.negative!==0?-x|0:x},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var x=0,I=this.length-1;I>=0;I--){var C=this.words[I]|0,T=b.words[I]|0;if(C!==T){C<T?x=-1:C>T&&(x=1);break}}return x},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new L(b)},o.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var _={k256:null,p224:null,p192:null,p25519:null};function D(R,b){this.name=R,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},D.prototype.ireduce=function(b){var x=b,I;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),I=x.bitLength();while(I>this.n);var C=I<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},D.prototype.split=function(b,x){b.iushrn(this.n,0,x)},D.prototype.imulK=function(b){return b.imul(this.k)};function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,D),P.prototype.split=function(b,x){for(var I=4194303,C=Math.min(b.length,9),T=0;T<C;T++)x.words[T]=b.words[T];if(x.length=C,b.length<=9){b.words[0]=0,b.length=1;return}var j=b.words[9];for(x.words[x.length++]=j&I,T=10;T<b.length;T++){var O=b.words[T]|0;b.words[T-10]=(O&I)<<4|j>>>22,j=O}j>>>=22,b.words[T-10]=j,j===0&&b.length>10?b.length-=10:b.length-=9},P.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var x=0,I=0;I<b.length;I++){var C=b.words[I]|0;x+=C*977,b.words[I]=x&67108863,x=C*64+(x/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function U(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,D);function F(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,D);function N(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(N,D),N.prototype.imulK=function(b){for(var x=0,I=0;I<b.length;I++){var C=(b.words[I]|0)*19+x,T=C&67108863;C>>>=26,b.words[I]=T,x=C}return x!==0&&(b.words[b.length++]=x),b},o._prime=function(b){if(_[b])return _[b];var x;if(b==="k256")x=new P;else if(b==="p224")x=new U;else if(b==="p192")x=new F;else if(b==="p25519")x=new N;else throw new Error("Unknown prime "+b);return _[b]=x,x};function L(R){if(typeof R=="string"){var b=o._prime(R);this.m=b.p,this.prime=b}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}L.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},L.prototype._verify2=function(b,x){n((b.negative|x.negative)===0,"red works only with positives"),n(b.red&&b.red===x.red,"red works only with red numbers")},L.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},L.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},L.prototype.add=function(b,x){this._verify2(b,x);var I=b.add(x);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},L.prototype.iadd=function(b,x){this._verify2(b,x);var I=b.iadd(x);return I.cmp(this.m)>=0&&I.isub(this.m),I},L.prototype.sub=function(b,x){this._verify2(b,x);var I=b.sub(x);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},L.prototype.isub=function(b,x){this._verify2(b,x);var I=b.isub(x);return I.cmpn(0)<0&&I.iadd(this.m),I},L.prototype.shl=function(b,x){return this._verify1(b),this.imod(b.ushln(x))},L.prototype.imul=function(b,x){return this._verify2(b,x),this.imod(b.imul(x))},L.prototype.mul=function(b,x){return this._verify2(b,x),this.imod(b.mul(x))},L.prototype.isqr=function(b){return this.imul(b,b.clone())},L.prototype.sqr=function(b){return this.mul(b,b)},L.prototype.sqrt=function(b){if(b.isZero())return b.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var I=this.m.add(new o(1)).iushrn(2);return this.pow(b,I)}for(var C=this.m.subn(1),T=0;!C.isZero()&&C.andln(1)===0;)T++,C.iushrn(1);n(!C.isZero());var j=new o(1).toRed(this),O=j.redNeg(),k=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new o(2*E*E).toRed(this);this.pow(E,k).cmp(O)!==0;)E.redIAdd(O);for(var M=this.pow(E,C),H=this.pow(b,C.addn(1).iushrn(1)),q=this.pow(b,C),W=T;q.cmp(j)!==0;){for(var V=q,Q=0;V.cmp(j)!==0;Q++)V=V.redSqr();n(Q<W);var te=this.pow(M,new o(1).iushln(W-Q-1));H=H.redMul(te),M=te.redSqr(),q=q.redMul(M),W=Q}return H},L.prototype.invm=function(b){var x=b._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},L.prototype.pow=function(b,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return b.clone();var I=4,C=new Array(1<<I);C[0]=new o(1).toRed(this),C[1]=b;for(var T=2;T<C.length;T++)C[T]=this.mul(C[T-1],b);var j=C[0],O=0,k=0,E=x.bitLength()%26;for(E===0&&(E=26),T=x.length-1;T>=0;T--){for(var M=x.words[T],H=E-1;H>=0;H--){var q=M>>H&1;if(j!==C[0]&&(j=this.sqr(j)),q===0&&O===0){k=0;continue}O<<=1,O|=q,k++,!(k!==I&&(T!==0||H!==0))&&(j=this.mul(j,C[O]),k=0,O=0)}E=26}return j},L.prototype.convertTo=function(b){var x=b.umod(this.m);return x===b?x.clone():x},L.prototype.convertFrom=function(b){var x=b.clone();return x.red=null,x},o.mont=function(b){return new B(b)};function B(R){L.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(B,L),B.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},B.prototype.convertFrom=function(b){var x=this.imod(b.mul(this.rinv));return x.red=null,x},B.prototype.imul=function(b,x){if(b.isZero()||x.isZero())return b.words[0]=0,b.length=1,b;var I=b.imul(x),C=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=I.isub(C).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(b,x){if(b.isZero()||x.isZero())return new o(0)._forceRed(this);var I=b.mul(x),C=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=I.isub(C).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(b){var x=this.imod(b._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,rAe)})(s2)),s2.exports}var y4={},zz;function Wee(){return zz||(zz=1,(function(t){var e=t;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var s=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)s[l]=o[l]|0;return s}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)s.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var c=o.charCodeAt(l),u=c>>8,f=c&255;u?s.push(u,f):s.push(f)}return s}e.toArray=r;function n(o){return o.length===1?"0"+o:o}e.zero2=n;function i(o){for(var a="",s=0;s<o.length;s++)a+=n(o[s].toString(16));return a}e.toHex=i,e.encode=function(a,s){return s==="hex"?i(a):a}})(y4)),y4}var Wz;function Ha(){return Wz||(Wz=1,(function(t){var e=t,r=jc(),n=Kh(),i=Wee();e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(u,f,h){var p=new Array(Math.max(u.bitLength(),h)+1),y;for(y=0;y<p.length;y+=1)p[y]=0;var m=1<<f+1,v=u.clone();for(y=0;y<p.length;y++){var w,A=v.andln(m-1);v.isOdd()?(A>(m>>1)-1?w=(m>>1)-A:w=A,v.isubn(w)):w=0,p[y]=w,v.iushrn(1)}return p}e.getNAF=o;function a(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var p=0,y=0,m;u.cmpn(-p)>0||f.cmpn(-y)>0;){var v=u.andln(3)+p&3,w=f.andln(3)+y&3;v===3&&(v=-1),w===3&&(w=-1);var A;(v&1)===0?A=0:(m=u.andln(7)+p&7,(m===3||m===5)&&w===2?A=-v:A=v),h[0].push(A);var _;(w&1)===0?_=0:(m=f.andln(7)+y&7,(m===3||m===5)&&v===2?_=-w:_=w),h[1].push(_),2*p===A+1&&(p=1-p),2*y===_+1&&(y=1-y),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=a;function s(u,f,h){var p="_"+f;u.prototype[f]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}e.cachedProperty=s;function l(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=l;function c(u){return new r(u,"hex","le")}e.intFromLE=c})(m4)),m4}var Y1={exports:{}},Kz;function Kee(){if(Kz)return Y1.exports;Kz=1;var t;Y1.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(n){this.rand=n}if(Y1.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var o=new Uint8Array(i),a=0;a<o.length;a++)o[a]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Ree;if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return Y1.exports}var v4={},w4,Vz;function BS(){if(Vz)return w4;Vz=1;var t=jc(),e=Ha(),r=e.getNAF,n=e.getJSF,i=e.assert;function o(s,l){this.type=s,this.p=new t(l.p,16),this.red=l.prime?t.red(l.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=l.n&&new t(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}w4=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(l,c){i(l.precomputed);var u=l._getDoubles(),f=r(c,1,this._bitLength),h=(1<<u.step+1)-(u.step%2===0?2:1);h/=3;var p=[],y,m;for(y=0;y<f.length;y+=u.step){m=0;for(var v=y+u.step-1;v>=y;v--)m=(m<<1)+f[v];p.push(m)}for(var w=this.jpoint(null,null,null),A=this.jpoint(null,null,null),_=h;_>0;_--){for(y=0;y<p.length;y++)m=p[y],m===_?A=A.mixedAdd(u.points[y]):m===-_&&(A=A.mixedAdd(u.points[y].neg()));w=w.add(A)}return w.toP()},o.prototype._wnafMul=function(l,c){var u=4,f=l._getNAFPoints(u);u=f.wnd;for(var h=f.points,p=r(c,u,this._bitLength),y=this.jpoint(null,null,null),m=p.length-1;m>=0;m--){for(var v=0;m>=0&&p[m]===0;m--)v++;if(m>=0&&v++,y=y.dblp(v),m<0)break;var w=p[m];i(w!==0),l.type==="affine"?w>0?y=y.mixedAdd(h[w-1>>1]):y=y.mixedAdd(h[-w-1>>1].neg()):w>0?y=y.add(h[w-1>>1]):y=y.add(h[-w-1>>1].neg())}return l.type==="affine"?y.toP():y},o.prototype._wnafMulAdd=function(l,c,u,f,h){var p=this._wnafT1,y=this._wnafT2,m=this._wnafT3,v=0,w,A,_;for(w=0;w<f;w++){_=c[w];var D=_._getNAFPoints(l);p[w]=D.wnd,y[w]=D.points}for(w=f-1;w>=1;w-=2){var P=w-1,U=w;if(p[P]!==1||p[U]!==1){m[P]=r(u[P],p[P],this._bitLength),m[U]=r(u[U],p[U],this._bitLength),v=Math.max(m[P].length,v),v=Math.max(m[U].length,v);continue}var F=[c[P],null,null,c[U]];c[P].y.cmp(c[U].y)===0?(F[1]=c[P].add(c[U]),F[2]=c[P].toJ().mixedAdd(c[U].neg())):c[P].y.cmp(c[U].y.redNeg())===0?(F[1]=c[P].toJ().mixedAdd(c[U]),F[2]=c[P].add(c[U].neg())):(F[1]=c[P].toJ().mixedAdd(c[U]),F[2]=c[P].toJ().mixedAdd(c[U].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],L=n(u[P],u[U]);for(v=Math.max(L[0].length,v),m[P]=new Array(v),m[U]=new Array(v),A=0;A<v;A++){var B=L[0][A]|0,R=L[1][A]|0;m[P][A]=N[(B+1)*3+(R+1)],m[U][A]=0,y[P]=F}}var b=this.jpoint(null,null,null),x=this._wnafT4;for(w=v;w>=0;w--){for(var I=0;w>=0;){var C=!0;for(A=0;A<f;A++)x[A]=m[A][w]|0,x[A]!==0&&(C=!1);if(!C)break;I++,w--}if(w>=0&&I++,b=b.dblp(I),w<0)break;for(A=0;A<f;A++){var T=x[A];T!==0&&(T>0?_=y[A][T-1>>1]:T<0&&(_=y[A][-T-1>>1].neg()),_.type==="affine"?b=b.mixedAdd(_):b=b.add(_))}}for(w=0;w<f;w++)y[w]=null;return h?b:b.toP()};function a(s,l){this.curve=s,this.type=l,this.precomputed=null}return o.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(l,c){l=e.toArray(l,c);var u=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1===2*u){l[0]===6?i(l[l.length-1]%2===0):l[0]===7&&i(l[l.length-1]%2===1);var f=this.point(l.slice(1,1+u),l.slice(1+u,1+2*u));return f}else if((l[0]===2||l[0]===3)&&l.length-1===u)return this.pointFromX(l.slice(1,1+u),l[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(l){return this.encode(l,!0)},a.prototype._encode=function(l){var c=this.curve.p.byteLength(),u=this.getX().toArray("be",c);return l?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",c))},a.prototype.encode=function(l,c){return e.encode(this._encode(c),l)},a.prototype.precompute=function(l){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,l),c.beta=this._getBeta(),this.precomputed=c,this},a.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((l.bitLength()+1)/c.step):!1},a.prototype._getDoubles=function(l,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,h=0;h<c;h+=l){for(var p=0;p<l;p++)f=f.dbl();u.push(f)}return{step:l,points:u}},a.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],u=(1<<l)-1,f=u===1?null:this.dbl(),h=1;h<u;h++)c[h]=c[h-1].add(f);return{wnd:l,points:c}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(l){for(var c=this,u=0;u<l;u++)c=c.dbl();return c},w4}var b4,Gz;function nAe(){if(Gz)return b4;Gz=1;var t=Ha(),e=jc(),r=_s(),n=BS(),i=t.assert;function o(l){n.call(this,"short",l),this.a=new e(l.a,16).toRed(this.red),this.b=new e(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(o,n),b4=o,o.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,f;if(c.beta)u=new e(c.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);u=h[0].cmp(h[1])<0?h[0]:h[1],u=u.toRed(this.red)}if(c.lambda)f=new e(c.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(u))===0?f=p[0]:(f=p[1],i(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}var y;return c.basis?y=c.basis.map(function(m){return{a:new e(m.a,16),b:new e(m.b,16)}}):y=this._getEndoBasis(f),{beta:u,lambda:f,basis:y}}},o.prototype._getEndoRoots=function(c){var u=c===this.p?this.red:e.mont(c),f=new e(2).toRed(u).redInvm(),h=f.redNeg(),p=new e(3).toRed(u).redNeg().redSqrt().redMul(f),y=h.redAdd(p).fromRed(),m=h.redSub(p).fromRed();return[y,m]},o.prototype._getEndoBasis=function(c){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=c,h=this.n.clone(),p=new e(1),y=new e(0),m=new e(0),v=new e(1),w,A,_,D,P,U,F,N=0,L,B;f.cmpn(0)!==0;){var R=h.div(f);L=h.sub(R.mul(f)),B=m.sub(R.mul(p));var b=v.sub(R.mul(y));if(!_&&L.cmp(u)<0)w=F.neg(),A=p,_=L.neg(),D=B;else if(_&&++N===2)break;F=L,h=f,f=L,m=p,p=B,v=y,y=b}P=L.neg(),U=B;var x=_.sqr().add(D.sqr()),I=P.sqr().add(U.sqr());return I.cmp(x)>=0&&(P=w,U=A),_.negative&&(_=_.neg(),D=D.neg()),P.negative&&(P=P.neg(),U=U.neg()),[{a:_,b:D},{a:P,b:U}]},o.prototype._endoSplit=function(c){var u=this.endo.basis,f=u[0],h=u[1],p=h.b.mul(c).divRound(this.n),y=f.b.neg().mul(c).divRound(this.n),m=p.mul(f.a),v=y.mul(h.a),w=p.mul(f.b),A=y.mul(h.b),_=c.sub(m).sub(v),D=w.add(A).neg();return{k1:_,k2:D}},o.prototype.pointFromX=function(c,u){c=new e(c,16),c.red||(c=c.toRed(this.red));var f=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),h=f.redSqrt();if(h.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var p=h.fromRed().isOdd();return(u&&!p||!u&&p)&&(h=h.redNeg()),this.point(c,h)},o.prototype.validate=function(c){if(c.inf)return!0;var u=c.x,f=c.y,h=this.a.redMul(u),p=u.redSqr().redMul(u).redIAdd(h).redIAdd(this.b);return f.redSqr().redISub(p).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(c,u,f){for(var h=this._endoWnafT1,p=this._endoWnafT2,y=0;y<c.length;y++){var m=this._endoSplit(u[y]),v=c[y],w=v._getBeta();m.k1.negative&&(m.k1.ineg(),v=v.neg(!0)),m.k2.negative&&(m.k2.ineg(),w=w.neg(!0)),h[y*2]=v,h[y*2+1]=w,p[y*2]=m.k1,p[y*2+1]=m.k2}for(var A=this._wnafMulAdd(1,h,p,y*2,f),_=0;_<y*2;_++)h[_]=null,p[_]=null;return A};function a(l,c,u,f){n.BasePoint.call(this,l,"affine"),c===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(c,16),this.y=new e(u,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(a,n.BasePoint),o.prototype.point=function(c,u,f){return new a(this,c,u,f)},o.prototype.pointFromJSON=function(c,u){return a.fromJSON(this,c,u)},a.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var f=this.curve,h=function(p){return f.point(p.x.redMul(f.endo.beta),p.y)};c.beta=u,u.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(h)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(h)}}}return u}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(c,u,f){typeof u=="string"&&(u=JSON.parse(u));var h=c.point(u[0],u[1],f);if(!u[2])return h;function p(m){return c.point(m[0],m[1],f)}var y=u[2];return h.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[h].concat(y.doubles.points.map(p))},naf:y.naf&&{wnd:y.naf.wnd,points:[h].concat(y.naf.points.map(p))}},h},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var u=this.y.redSub(c.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(c.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(c.x),h=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,h)},a.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),h=c.redInvm(),p=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(h),y=p.redSqr().redISub(this.x.redAdd(this.x)),m=p.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(c){return c=new e(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},a.prototype.mulAdd=function(c,u,f){var h=[this,u],p=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(h,p):this.curve._wnafMulAdd(1,h,p,2)},a.prototype.jmulAdd=function(c,u,f){var h=[this,u],p=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(h,p,!0):this.curve._wnafMulAdd(1,h,p,2,!0)},a.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},a.prototype.neg=function(c){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var f=this.precomputed,h=function(p){return p.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(h)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(h)}}}return u},a.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function s(l,c,u,f){n.BasePoint.call(this,l,"jacobian"),c===null&&u===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(c,16),this.y=new e(u,16),this.z=new e(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(s,n.BasePoint),o.prototype.jpoint=function(c,u,f){return new s(this,c,u,f)},s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),u=c.redSqr(),f=this.x.redMul(u),h=this.y.redMul(u).redMul(c);return this.curve.point(f,h)},s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var u=c.z.redSqr(),f=this.z.redSqr(),h=this.x.redMul(u),p=c.x.redMul(f),y=this.y.redMul(u.redMul(c.z)),m=c.y.redMul(f.redMul(this.z)),v=h.redSub(p),w=y.redSub(m);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),_=A.redMul(v),D=h.redMul(A),P=w.redSqr().redIAdd(_).redISub(D).redISub(D),U=w.redMul(D.redISub(P)).redISub(y.redMul(_)),F=this.z.redMul(c.z).redMul(v);return this.curve.jpoint(P,U,F)},s.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var u=this.z.redSqr(),f=this.x,h=c.x.redMul(u),p=this.y,y=c.y.redMul(u).redMul(this.z),m=f.redSub(h),v=p.redSub(y);if(m.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=m.redSqr(),A=w.redMul(m),_=f.redMul(w),D=v.redSqr().redIAdd(A).redISub(_).redISub(_),P=v.redMul(_.redISub(D)).redISub(p.redMul(A)),U=this.z.redMul(m);return this.curve.jpoint(D,P,U)},s.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<c;u++)f=f.dbl();return f}var h=this.curve.a,p=this.curve.tinv,y=this.x,m=this.y,v=this.z,w=v.redSqr().redSqr(),A=m.redAdd(m);for(u=0;u<c;u++){var _=y.redSqr(),D=A.redSqr(),P=D.redSqr(),U=_.redAdd(_).redIAdd(_).redIAdd(h.redMul(w)),F=y.redMul(D),N=U.redSqr().redISub(F.redAdd(F)),L=F.redISub(N),B=U.redMul(L);B=B.redIAdd(B).redISub(P);var R=A.redMul(v);u+1<c&&(w=w.redMul(P)),y=N,v=R,A=B}return this.curve.jpoint(y,A.redMul(p),v)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function(){var c,u,f;if(this.zOne){var h=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(h).redISub(y);m=m.redIAdd(m);var v=h.redAdd(h).redIAdd(h),w=v.redSqr().redISub(m).redISub(m),A=y.redIAdd(y);A=A.redIAdd(A),A=A.redIAdd(A),c=w,u=v.redMul(m.redISub(w)).redISub(A),f=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),D=this.y.redSqr(),P=D.redSqr(),U=this.x.redAdd(D).redSqr().redISub(_).redISub(P);U=U.redIAdd(U);var F=_.redAdd(_).redIAdd(_),N=F.redSqr(),L=P.redIAdd(P);L=L.redIAdd(L),L=L.redIAdd(L),c=N.redISub(U).redISub(U),u=F.redMul(U.redISub(c)).redISub(L),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(c,u,f)},s.prototype._threeDbl=function(){var c,u,f;if(this.zOne){var h=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),m=this.x.redAdd(p).redSqr().redISub(h).redISub(y);m=m.redIAdd(m);var v=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),w=v.redSqr().redISub(m).redISub(m);c=w;var A=y.redIAdd(y);A=A.redIAdd(A),A=A.redIAdd(A),u=v.redMul(m.redISub(w)).redISub(A),f=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),D=this.y.redSqr(),P=this.x.redMul(D),U=this.x.redSub(_).redMul(this.x.redAdd(_));U=U.redAdd(U).redIAdd(U);var F=P.redIAdd(P);F=F.redIAdd(F);var N=F.redAdd(F);c=U.redSqr().redISub(N),f=this.y.redAdd(this.z).redSqr().redISub(D).redISub(_);var L=D.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),u=U.redMul(F.redISub(c)).redISub(L)}return this.curve.jpoint(c,u,f)},s.prototype._dbl=function(){var c=this.curve.a,u=this.x,f=this.y,h=this.z,p=h.redSqr().redSqr(),y=u.redSqr(),m=f.redSqr(),v=y.redAdd(y).redIAdd(y).redIAdd(c.redMul(p)),w=u.redAdd(u);w=w.redIAdd(w);var A=w.redMul(m),_=v.redSqr().redISub(A.redAdd(A)),D=A.redISub(_),P=m.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var U=v.redMul(D).redISub(P),F=f.redAdd(f).redMul(h);return this.curve.jpoint(_,U,F)},s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),h=u.redSqr(),p=c.redAdd(c).redIAdd(c),y=p.redSqr(),m=this.x.redAdd(u).redSqr().redISub(c).redISub(h);m=m.redIAdd(m),m=m.redAdd(m).redIAdd(m),m=m.redISub(y);var v=m.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var A=p.redIAdd(m).redSqr().redISub(y).redISub(v).redISub(w),_=u.redMul(A);_=_.redIAdd(_),_=_.redIAdd(_);var D=this.x.redMul(v).redISub(_);D=D.redIAdd(D),D=D.redIAdd(D);var P=this.y.redMul(A.redMul(w.redISub(A)).redISub(m.redMul(v)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var U=this.z.redAdd(m).redSqr().redISub(f).redISub(v);return this.curve.jpoint(D,P,U)},s.prototype.mul=function(c,u){return c=new e(c,u),this.curve._wnafMul(this,c)},s.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var u=this.z.redSqr(),f=c.z.redSqr();if(this.x.redMul(f).redISub(c.x.redMul(u)).cmpn(0)!==0)return!1;var h=u.redMul(this.z),p=f.redMul(c.z);return this.y.redMul(p).redISub(c.y.redMul(h)).cmpn(0)===0},s.prototype.eqXToP=function(c){var u=this.z.redSqr(),f=c.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var h=c.clone(),p=this.curve.redN.redMul(u);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(p),this.x.cmp(f)===0)return!0}},s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},b4}var x4,Yz;function iAe(){if(Yz)return x4;Yz=1;var t=jc(),e=_s(),r=BS(),n=Ha();function i(a){r.call(this,"mont",a),this.a=new t(a.a,16).toRed(this.red),this.b=new t(a.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,r),x4=i,i.prototype.validate=function(s){var l=s.normalize().x,c=l.redSqr(),u=c.redMul(l).redAdd(c.redMul(this.a)).redAdd(l),f=u.redSqrt();return f.redSqr().cmp(u)===0};function o(a,s,l){r.BasePoint.call(this,a,"projective"),s===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(s,16),this.z=new t(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,r.BasePoint),i.prototype.decodePoint=function(s,l){return this.point(n.toArray(s,l),1)},i.prototype.point=function(s,l){return new o(this,s,l)},i.prototype.pointFromJSON=function(s){return o.fromJSON(this,s)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(s,l){return new o(s,l[0],l[1]||s.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var s=this.x.redAdd(this.z),l=s.redSqr(),c=this.x.redSub(this.z),u=c.redSqr(),f=l.redSub(u),h=l.redMul(u),p=f.redMul(u.redAdd(this.curve.a24.redMul(f)));return this.curve.point(h,p)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(s,l){var c=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=s.x.redAdd(s.z),h=s.x.redSub(s.z),p=h.redMul(c),y=f.redMul(u),m=l.z.redMul(p.redAdd(y).redSqr()),v=l.x.redMul(p.redISub(y).redSqr());return this.curve.point(m,v)},o.prototype.mul=function(s){for(var l=s.clone(),c=this,u=this.curve.point(null,null),f=this,h=[];l.cmpn(0)!==0;l.iushrn(1))h.push(l.andln(1));for(var p=h.length-1;p>=0;p--)h[p]===0?(c=c.diffAdd(u,f),u=u.dbl()):(u=c.diffAdd(u,f),c=c.dbl());return u},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(s){return this.getX().cmp(s.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},x4}var E4,Jz;function oAe(){if(Jz)return E4;Jz=1;var t=Ha(),e=jc(),r=_s(),n=BS(),i=t.assert;function o(s){this.twisted=(s.a|0)!==1,this.mOneA=this.twisted&&(s.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",s),this.a=new e(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(s.c|0)===1}r(o,n),E4=o,o.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},o.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},o.prototype.jpoint=function(l,c,u,f){return this.point(l,c,u,f)},o.prototype.pointFromX=function(l,c){l=new e(l,16),l.red||(l=l.toRed(this.red));var u=l.redSqr(),f=this.c2.redSub(this.a.redMul(u)),h=this.one.redSub(this.c2.redMul(this.d).redMul(u)),p=f.redMul(h.redInvm()),y=p.redSqrt();if(y.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var m=y.fromRed().isOdd();return(c&&!m||!c&&m)&&(y=y.redNeg()),this.point(l,y)},o.prototype.pointFromY=function(l,c){l=new e(l,16),l.red||(l=l.toRed(this.red));var u=l.redSqr(),f=u.redSub(this.c2),h=u.redMul(this.d).redMul(this.c2).redSub(this.a),p=f.redMul(h.redInvm());if(p.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,l)}var y=p.redSqrt();if(y.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==c&&(y=y.redNeg()),this.point(y,l)},o.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var c=l.x.redSqr(),u=l.y.redSqr(),f=c.redMul(this.a).redAdd(u),h=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(u)));return f.cmp(h)===0};function a(s,l,c,u,f){n.BasePoint.call(this,s,"projective"),l===null&&c===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(l,16),this.y=new e(c,16),this.z=u?new e(u,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(a,n.BasePoint),o.prototype.pointFromJSON=function(l){return a.fromJSON(this,l)},o.prototype.point=function(l,c,u,f){return new a(this,l,c,u,f)},a.fromJSON=function(l,c){return new a(l,c[0],c[1],c[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var l=this.x.redSqr(),c=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(l),h=this.x.redAdd(this.y).redSqr().redISub(l).redISub(c),p=f.redAdd(c),y=p.redSub(u),m=f.redSub(c),v=h.redMul(y),w=p.redMul(m),A=h.redMul(m),_=y.redMul(p);return this.curve.point(v,w,_,A)},a.prototype._projDbl=function(){var l=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),u=this.y.redSqr(),f,h,p,y,m,v;if(this.curve.twisted){y=this.curve._mulA(c);var w=y.redAdd(u);this.zOne?(f=l.redSub(c).redSub(u).redMul(w.redSub(this.curve.two)),h=w.redMul(y.redSub(u)),p=w.redSqr().redSub(w).redSub(w)):(m=this.z.redSqr(),v=w.redSub(m).redISub(m),f=l.redSub(c).redISub(u).redMul(v),h=w.redMul(y.redSub(u)),p=w.redMul(v))}else y=c.redAdd(u),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(l.redISub(y)).redMul(v),h=this.curve._mulC(y).redMul(c.redISub(u)),p=y.redMul(v);return this.curve.point(f,h,p)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(l){var c=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),u=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),f=this.t.redMul(this.curve.dd).redMul(l.t),h=this.z.redMul(l.z.redAdd(l.z)),p=u.redSub(c),y=h.redSub(f),m=h.redAdd(f),v=u.redAdd(c),w=p.redMul(y),A=m.redMul(v),_=p.redMul(v),D=y.redMul(m);return this.curve.point(w,A,D,_)},a.prototype._projAdd=function(l){var c=this.z.redMul(l.z),u=c.redSqr(),f=this.x.redMul(l.x),h=this.y.redMul(l.y),p=this.curve.d.redMul(f).redMul(h),y=u.redSub(p),m=u.redAdd(p),v=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(f).redISub(h),w=c.redMul(y).redMul(v),A,_;return this.curve.twisted?(A=c.redMul(m).redMul(h.redSub(this.curve._mulA(f))),_=y.redMul(m)):(A=c.redMul(m).redMul(h.redSub(f)),_=this.curve._mulC(y).redMul(m)),this.curve.point(w,A,_)},a.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},a.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},a.prototype.mulAdd=function(l,c,u){return this.curve._wnafMulAdd(1,[this,c],[l,u],2,!1)},a.prototype.jmulAdd=function(l,c,u){return this.curve._wnafMulAdd(1,[this,c],[l,u],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},a.prototype.eqXToP=function(l){var c=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var u=l.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(f),this.x.cmp(c)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add,E4}var Qz;function Vee(){return Qz||(Qz=1,(function(t){var e=t;e.base=BS(),e.short=nAe(),e.mont=iAe(),e.edwards=oAe()})(v4)),v4}var S4={},_4,Xz;function aAe(){return Xz||(Xz=1,_4={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),_4}var Zz;function SR(){return Zz||(Zz=1,(function(t){var e=t,r=wR(),n=Vee(),i=Ha(),o=i.assert;function a(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function s(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=aAe()}catch{l=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(S4)),S4}var A4,eW;function sAe(){if(eW)return A4;eW=1;var t=wR(),e=Wee(),r=Kh();function n(i){if(!(this instanceof n))return new n(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(i.entropy,i.entropyEnc||"hex"),a=e.toArray(i.nonce,i.nonceEnc||"hex"),s=e.toArray(i.pers,i.persEnc||"hex");r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,a,s)}return A4=n,n.prototype._init=function(o,a,s){var l=o.concat(a).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},n.prototype._update=function(o){var a=this._hmac().update(this.V).update([0]);o&&(a=a.update(o)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(o,a,s,l){typeof a!="string"&&(l=s,s=a,a=null),o=e.toArray(o,a),s=e.toArray(s,l),r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(s||[])),this._reseed=1},n.prototype.generate=function(o,a,s,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(l=s,s=a,a=null),s&&(s=e.toArray(s,l||"hex"),this._update(s));for(var c=[];c.length<o;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var u=c.slice(0,o);return this._update(s),this._reseed++,e.encode(u,a)},A4}var C4,tW;function lAe(){if(tW)return C4;tW=1;var t=jc(),e=Ha(),r=e.assert;function n(i,o){this.ec=i,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return C4=n,n.fromPublic=function(o,a,s){return a instanceof n?a:new n(o,{pub:a,pubEnc:s})},n.fromPrivate=function(o,a,s){return a instanceof n?a:new n(o,{priv:a,privEnc:s})},n.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},n.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(o,a){this.priv=new t(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(o,a){if(o.x||o.y){this.ec.curve.type==="mont"?r(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,a)},n.prototype.derive=function(o){return o.validate()||r(o.validate(),"public point not validated"),o.mul(this.priv).getX()},n.prototype.sign=function(o,a,s){return this.ec.sign(o,this,a,s)},n.prototype.verify=function(o,a,s){return this.ec.verify(o,a,this,void 0,s)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},C4}var O4,rW;function cAe(){if(rW)return O4;rW=1;var t=jc(),e=Ha(),r=e.assert;function n(l,c){if(l instanceof n)return l;this._importDER(l,c)||(r(l.r&&l.s,"Signature without r or s"),this.r=new t(l.r,16),this.s=new t(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}O4=n;function i(){this.place=0}function o(l,c){var u=l[c.place++];if(!(u&128))return u;var f=u&15;if(f===0||f>4||l[c.place]===0)return!1;for(var h=0,p=0,y=c.place;p<f;p++,y++)h<<=8,h|=l[y],h>>>=0;return h<=127?!1:(c.place=y,h)}function a(l){for(var c=0,u=l.length-1;!l[c]&&!(l[c+1]&128)&&c<u;)c++;return c===0?l:l.slice(c)}n.prototype._importDER=function(c,u){c=e.toArray(c,u);var f=new i;if(c[f.place++]!==48)return!1;var h=o(c,f);if(h===!1||h+f.place!==c.length||c[f.place++]!==2)return!1;var p=o(c,f);if(p===!1||(c[f.place]&128)!==0)return!1;var y=c.slice(f.place,p+f.place);if(f.place+=p,c[f.place++]!==2)return!1;var m=o(c,f);if(m===!1||c.length!==m+f.place||(c[f.place]&128)!==0)return!1;var v=c.slice(f.place,m+f.place);if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new t(y),this.s=new t(v),this.recoveryParam=null,!0};function s(l,c){if(c<128){l.push(c);return}var u=1+(Math.log(c)/Math.LN2>>>3);for(l.push(u|128);--u;)l.push(c>>>(u<<3)&255);l.push(c)}return n.prototype.toDER=function(c){var u=this.r.toArray(),f=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),f[0]&128&&(f=[0].concat(f)),u=a(u),f=a(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var h=[2];s(h,u.length),h=h.concat(u),h.push(2),s(h,f.length);var p=h.concat(f),y=[48];return s(y,p.length),y=y.concat(p),e.encode(y,c)},O4}var I4,nW;function uAe(){if(nW)return I4;nW=1;var t=jc(),e=sAe(),r=Ha(),n=SR(),i=Kee(),o=r.assert,a=lAe(),s=cAe();function l(c){if(!(this instanceof l))return new l(c);typeof c=="string"&&(o(Object.prototype.hasOwnProperty.call(n,c),"Unknown curve "+c),c=n[c]),c instanceof n.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}return I4=l,l.prototype.keyPair=function(u){return new a(this,u)},l.prototype.keyFromPrivate=function(u,f){return a.fromPrivate(this,u,f)},l.prototype.keyFromPublic=function(u,f){return a.fromPublic(this,u,f)},l.prototype.genKeyPair=function(u){u||(u={});for(var f=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||i(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),p=this.n.sub(new t(2));;){var y=new t(f.generate(h));if(!(y.cmp(p)>0))return y.iaddn(1),this.keyFromPrivate(y)}},l.prototype._truncateToN=function(u,f,h){var p;if(t.isBN(u)||typeof u=="number")u=new t(u,16),p=u.byteLength();else if(typeof u=="object")p=u.length,u=new t(u,16);else{var y=u.toString();p=y.length+1>>>1,u=new t(y,16)}typeof h!="number"&&(h=p*8);var m=h-this.n.bitLength();return m>0&&(u=u.ushrn(m)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},l.prototype.sign=function(u,f,h,p){if(typeof h=="object"&&(p=h,h=null),p||(p={}),typeof u!="string"&&typeof u!="number"&&!t.isBN(u)){o(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o(u.length>>>0===u.length);for(var y=0;y<u.length;y++)o((u[y]&255)===u[y])}f=this.keyFromPrivate(f,h),u=this._truncateToN(u,!1,p.msgBitLength),o(!u.isNeg(),"Can not sign a negative message");var m=this.n.byteLength(),v=f.getPrivate().toArray("be",m),w=u.toArray("be",m);o(new t(w).eq(u),"Can not sign message");for(var A=new e({hash:this.hash,entropy:v,nonce:w,pers:p.pers,persEnc:p.persEnc||"utf8"}),_=this.n.sub(new t(1)),D=0;;D++){var P=p.k?p.k(D):new t(A.generate(this.n.byteLength()));if(P=this._truncateToN(P,!0),!(P.cmpn(1)<=0||P.cmp(_)>=0)){var U=this.g.mul(P);if(!U.isInfinity()){var F=U.getX(),N=F.umod(this.n);if(N.cmpn(0)!==0){var L=P.invm(this.n).mul(N.mul(f.getPrivate()).iadd(u));if(L=L.umod(this.n),L.cmpn(0)!==0){var B=(U.getY().isOdd()?1:0)|(F.cmp(N)!==0?2:0);return p.canonical&&L.cmp(this.nh)>0&&(L=this.n.sub(L),B^=1),new s({r:N,s:L,recoveryParam:B})}}}}}},l.prototype.verify=function(u,f,h,p,y){y||(y={}),u=this._truncateToN(u,!1,y.msgBitLength),h=this.keyFromPublic(h,p),f=new s(f,"hex");var m=f.r,v=f.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var w=v.invm(this.n),A=w.mul(u).umod(this.n),_=w.mul(m).umod(this.n),D;return this.curve._maxwellTrick?(D=this.g.jmulAdd(A,h.getPublic(),_),D.isInfinity()?!1:D.eqXToP(m)):(D=this.g.mulAdd(A,h.getPublic(),_),D.isInfinity()?!1:D.getX().umod(this.n).cmp(m)===0)},l.prototype.recoverPubKey=function(c,u,f,h){o((3&f)===f,"The recovery param is more than two bits"),u=new s(u,h);var p=this.n,y=new t(c),m=u.r,v=u.s,w=f&1,A=f>>1;if(m.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?m=this.curve.pointFromX(m.add(this.curve.n),w):m=this.curve.pointFromX(m,w);var _=u.r.invm(p),D=p.sub(y).mul(_).umod(p),P=v.mul(_).umod(p);return this.g.mulAdd(D,m,P)},l.prototype.getKeyRecoveryParam=function(c,u,f,h){if(u=new s(u,h),u.recoveryParam!==null)return u.recoveryParam;for(var p=0;p<4;p++){var y;try{y=this.recoverPubKey(c,u,p)}catch{continue}if(y.eq(f))return p}throw new Error("Unable to find valid recovery factor")},I4}var P4,iW;function fAe(){if(iW)return P4;iW=1;var t=Ha(),e=t.assert,r=t.parseBytes,n=t.cachedProperty;function i(o,a){this.eddsa=o,this._secret=r(a.secret),o.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=r(a.pub)}return i.fromPublic=function(a,s){return s instanceof i?s:new i(a,{pub:s})},i.fromSecret=function(a,s){return s instanceof i?s:new i(a,{secret:s})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var a=this.eddsa,s=this.hash(),l=a.encodingLength-1,c=s.slice(0,a.encodingLength);return c[0]&=248,c[l]&=127,c[l]|=64,c}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(a){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},i.prototype.verify=function(a,s){return this.eddsa.verify(a,s,this)},i.prototype.getSecret=function(a){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),a)},i.prototype.getPublic=function(a){return t.encode(this.pubBytes(),a)},P4=i,P4}var k4,oW;function dAe(){if(oW)return k4;oW=1;var t=jc(),e=Ha(),r=e.assert,n=e.cachedProperty,i=e.parseBytes;function o(a,s){this.eddsa=a,typeof s!="object"&&(s=i(s)),Array.isArray(s)&&(r(s.length===a.encodingLength*2,"Signature has invalid size"),s={R:s.slice(0,a.encodingLength),S:s.slice(a.encodingLength)}),r(s.R&&s.S,"Signature without R or S"),a.isPoint(s.R)&&(this._R=s.R),s.S instanceof t&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}return n(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},k4=o,k4}var T4,aW;function hAe(){if(aW)return T4;aW=1;var t=wR(),e=SR(),r=Ha(),n=r.assert,i=r.parseBytes,o=fAe(),a=dAe();function s(l){if(n(l==="ed25519","only tested with ed25519 so far"),!(this instanceof s))return new s(l);l=e[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=t.sha512}return T4=s,s.prototype.sign=function(c,u){c=i(c);var f=this.keyFromSecret(u),h=this.hashInt(f.messagePrefix(),c),p=this.g.mul(h),y=this.encodePoint(p),m=this.hashInt(y,f.pubBytes(),c).mul(f.priv()),v=h.add(m).umod(this.curve.n);return this.makeSignature({R:p,S:v,Rencoded:y})},s.prototype.verify=function(c,u,f){if(c=i(c),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var h=this.keyFromPublic(f),p=this.hashInt(u.Rencoded(),h.pubBytes(),c),y=this.g.mul(u.S()),m=u.R().add(h.pub().mul(p));return m.eq(y)},s.prototype.hashInt=function(){for(var c=this.hash(),u=0;u<arguments.length;u++)c.update(arguments[u]);return r.intFromLE(c.digest()).umod(this.curve.n)},s.prototype.keyFromPublic=function(c){return o.fromPublic(this,c)},s.prototype.keyFromSecret=function(c){return o.fromSecret(this,c)},s.prototype.makeSignature=function(c){return c instanceof a?c:new a(this,c)},s.prototype.encodePoint=function(c){var u=c.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=c.getX().isOdd()?128:0,u},s.prototype.decodePoint=function(c){c=r.parseBytes(c);var u=c.length-1,f=c.slice(0,u).concat(c[u]&-129),h=(c[u]&128)!==0,p=r.intFromLE(f);return this.curve.pointFromY(p,h)},s.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},s.prototype.decodeInt=function(c){return r.intFromLE(c)},s.prototype.isPoint=function(c){return c instanceof this.pointClass},T4}var sW;function pAe(){return sW||(sW=1,(function(t){var e=t;e.version=tAe.version,e.utils=Ha(),e.rand=Kee(),e.curve=Vee(),e.curves=SR(),e.ec=uAe(),e.eddsa=hAe()})(g4)),g4}var jS=pAe();const lt={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},ki={POPUP:"popup",REDIRECT:"redirect"};var M4,lW;function gAe(){if(lW)return M4;lW=1;var t=function(A){return e(A)&&!r(A)};function e(w){return!!w&&typeof w=="object"}function r(w){var A=Object.prototype.toString.call(w);return A==="[object RegExp]"||A==="[object Date]"||o(w)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function o(w){return w.$$typeof===i}function a(w){return Array.isArray(w)?[]:{}}function s(w,A){return A.clone!==!1&&A.isMergeableObject(w)?m(a(w),w,A):w}function l(w,A,_){return w.concat(A).map(function(D){return s(D,_)})}function c(w,A){if(!A.customMerge)return m;var _=A.customMerge(w);return typeof _=="function"?_:m}function u(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(A){return Object.propertyIsEnumerable.call(w,A)}):[]}function f(w){return Object.keys(w).concat(u(w))}function h(w,A){try{return A in w}catch{return!1}}function p(w,A){return h(w,A)&&!(Object.hasOwnProperty.call(w,A)&&Object.propertyIsEnumerable.call(w,A))}function y(w,A,_){var D={};return _.isMergeableObject(w)&&f(w).forEach(function(P){D[P]=s(w[P],_)}),f(A).forEach(function(P){p(w,P)||(h(w,P)&&_.isMergeableObject(A[P])?D[P]=c(P,_)(w[P],A[P],_):D[P]=s(A[P],_))}),D}function m(w,A,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=s;var D=Array.isArray(A),P=Array.isArray(w),U=D===P;return U?D?_.arrayMerge(w,A,_):y(w,A,_):s(A,_)}m.all=function(A,_){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(D,P){return m(D,P,_)},{})};var v=m;return M4=v,M4}var mAe=gAe();const Br=fr(mAe);var l2={exports:{}},yAe=l2.exports,cW;function vAe(){return cW||(cW=1,(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(yAe,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},a=null;function s(m,v){var w=m[v];if(typeof w.bind=="function")return w.bind(m);try{return Function.prototype.bind.call(w,m)}catch{return function(){return Function.prototype.apply.apply(w,[m,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(m){return m==="debug"&&(m="log"),typeof console===r?!1:m==="trace"&&n?l:console[m]!==void 0?s(console,m):console.log!==void 0?s(console,"log"):e}function u(){for(var m=this.getLevel(),v=0;v<i.length;v++){var w=i[v];this[w]=v<m?e:this.methodFactory(w,m,this.name)}if(this.log=this.debug,typeof console===r&&m<this.levels.SILENT)return"No console available for logging"}function f(m){return function(){typeof console!==r&&(u.call(this),this[m].apply(this,arguments))}}function h(m,v,w){return c(m)||f.apply(this,arguments)}function p(m,v){var w=this,A,_,D,P="loglevel";typeof m=="string"?P+=":"+m:typeof m=="symbol"&&(P=void 0);function U(R){var b=(i[R]||"silent").toUpperCase();if(!(typeof window===r||!P)){try{window.localStorage[P]=b;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+b+";"}catch{}}}function F(){var R;if(!(typeof window===r||!P)){try{R=window.localStorage[P]}catch{}if(typeof R===r)try{var b=window.document.cookie,x=encodeURIComponent(P),I=b.indexOf(x+"=");I!==-1&&(R=/^([^;]+)/.exec(b.slice(I+x.length+1))[1])}catch{}return w.levels[R]===void 0&&(R=void 0),R}}function N(){if(!(typeof window===r||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function L(R){var b=R;if(typeof b=="string"&&w.levels[b.toUpperCase()]!==void 0&&(b=w.levels[b.toUpperCase()]),typeof b=="number"&&b>=0&&b<=w.levels.SILENT)return b;throw new TypeError("log.setLevel() called with invalid level: "+R)}w.name=m,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=v||h,w.getLevel=function(){return D??_??A},w.setLevel=function(R,b){return D=L(R),b!==!1&&U(D),u.call(w)},w.setDefaultLevel=function(R){_=L(R),F()||w.setLevel(R,!1)},w.resetLevel=function(){D=null,N(),u.call(w)},w.enableAll=function(R){w.setLevel(w.levels.TRACE,R)},w.disableAll=function(R){w.setLevel(w.levels.SILENT,R)},w.rebuild=function(){if(a!==w&&(A=L(a.getLevel())),u.call(w),a===w)for(var R in o)o[R].rebuild()},A=L(a?a.getLevel():"WARN");var B=F();B!=null&&(D=L(B)),u.call(w)}a=new p,a.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var w=o[v];return w||(w=o[v]=new p(v,a.methodFactory)),w};var y=typeof window!==r?window.log:void 0;return a.noConflict=function(){return typeof window!==r&&window.log===a&&(window.log=y),a},a.getLoggers=function(){return o},a.default=a,a})})(l2)),l2.exports}var $S=vAe();const As=fr($S),WE=As.getLogger("http-helpers");WE.setLevel($S.levels.INFO);let wAe="torus-default";const bAe="x-api-key";async function FS(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function US(){const t={};return t[bAe]=wAe,t}function HS(t){WE.info(`Response: ${t.status} ${t.statusText}`),WE.info(`Url: ${t.url}`)}function xAe(t){const e=t.headers.get("x-web3-correlation-id");e&&WE.info(`Request tracing with traceID = ${e}`)}const EAe=async(t,e)=>{let r=null;try{const n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},Vh=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=be(be({},n.headers),US())),e.method="GET";const i=Br(n,e),o=await FS(t,i);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw HS(o),o},SAe=(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),US())),r.method="POST";const o=Br(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),EAe(n.timeout||6e4,FS(t,o).then(a=>{if(n.logTracingHeader&&xAe(a),a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw HS(a),a}))},_Ae=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),US())),r.method="PATCH";const o=Br(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await FS(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw HS(a),a},AAe=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),US())),r.method="PUT";const o=Br(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await FS(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw HS(a),a};var N4={exports:{}},J1={},Q1={},uW;function CAe(){if(uW)return Q1;uW=1,Object.defineProperty(Q1,"__esModule",{value:!0});function t(e){var r=4,n=e.length,i=n%r;if(!i)return e;var o=n,a=r-i,s=n+a,l=Buffer.alloc(s);for(l.write(e);a--;)l.write("=",o++);return l.toString()}return Q1.default=t,Q1}var fW;function OAe(){if(fW)return J1;fW=1,Object.defineProperty(J1,"__esModule",{value:!0});var t=CAe();function e(s,l){return l===void 0&&(l="utf8"),Buffer.isBuffer(s)?i(s.toString("base64")):i(Buffer.from(s,l).toString("base64"))}function r(s,l){return l===void 0&&(l="utf8"),Buffer.from(n(s),"base64").toString(l)}function n(s){return s=s.toString(),t.default(s).replace(/\-/g,"+").replace(/_/g,"/")}function i(s){return s.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o(s){return Buffer.from(n(s),"base64")}var a=e;return a.encode=e,a.decode=r,a.toBase64=n,a.fromBase64=i,a.toBuffer=o,J1.default=a,J1}var dW;function IAe(){return dW||(dW=1,(function(t){t.exports=OAe().default,t.exports.default=t.exports})(N4)),N4.exports}var PAe=IAe();const Rf=fr(PAe),kAe={AmazonBot:"amazonbot","Amazon Silk":"amazon_silk","Android Browser":"android",BaiduSpider:"baiduspider",Bada:"bada",BingCrawler:"bingcrawler",Brave:"brave",BlackBerry:"blackberry","ChatGPT-User":"chatgpt_user",Chrome:"chrome",ClaudeBot:"claudebot",Chromium:"chromium",Diffbot:"diffbot",DuckDuckBot:"duckduckbot",DuckDuckGo:"duckduckgo",Electron:"electron",Epiphany:"epiphany",FacebookExternalHit:"facebookexternalhit",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot",GPTBot:"gptbot","Internet Explorer":"ie",InternetArchiveCrawler:"internetarchivecrawler","K-Meleon":"k_meleon",LibreWolf:"librewolf",Linespider:"linespider",Maxthon:"maxthon","Meta-ExternalAds":"meta_externalads","Meta-ExternalAgent":"meta_externalagent","Meta-ExternalFetcher":"meta_externalfetcher","Meta-WebIndexer":"meta_webindexer","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver","OAI-SearchBot":"oai_searchbot",Omgilibot:"omgilibot",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PerplexityBot:"perplexitybot","Perplexity-User":"perplexity_user",PhantomJS:"phantomjs",PingdomBot:"pingdombot",Puffin:"puffin",QQ:"qq",QQLite:"qqlite",QupZilla:"qupzilla",Roku:"roku",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SlackBot:"slackbot",SeaMonkey:"seamonkey",Sleipnir:"sleipnir","Sogou Browser":"sogou",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat",YahooSlurp:"yahooslurp","Yandex Browser":"yandex",YandexBot:"yandexbot",YouBot:"youbot"},Gee={amazonbot:"AmazonBot",amazon_silk:"Amazon Silk",android:"Android Browser",baiduspider:"BaiduSpider",bada:"Bada",bingcrawler:"BingCrawler",blackberry:"BlackBerry",brave:"Brave",chatgpt_user:"ChatGPT-User",chrome:"Chrome",claudebot:"ClaudeBot",chromium:"Chromium",diffbot:"Diffbot",duckduckbot:"DuckDuckBot",duckduckgo:"DuckDuckGo",edge:"Microsoft Edge",electron:"Electron",epiphany:"Epiphany",facebookexternalhit:"FacebookExternalHit",firefox:"Firefox",focus:"Focus",generic:"Generic",google_search:"Google Search",googlebot:"Googlebot",gptbot:"GPTBot",ie:"Internet Explorer",internetarchivecrawler:"InternetArchiveCrawler",k_meleon:"K-Meleon",librewolf:"LibreWolf",linespider:"Linespider",maxthon:"Maxthon",meta_externalads:"Meta-ExternalAds",meta_externalagent:"Meta-ExternalAgent",meta_externalfetcher:"Meta-ExternalFetcher",meta_webindexer:"Meta-WebIndexer",mz:"MZ Browser",naver:"NAVER Whale Browser",oai_searchbot:"OAI-SearchBot",omgilibot:"Omgilibot",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",perplexitybot:"PerplexityBot",perplexity_user:"Perplexity-User",phantomjs:"PhantomJS",pingdombot:"PingdomBot",puffin:"Puffin",qq:"QQ Browser",qqlite:"QQ Browser Lite",qupzilla:"QupZilla",roku:"Roku",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",slackbot:"SlackBot",sleipnir:"Sleipnir",sogou:"Sogou Browser",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yahooslurp:"YahooSlurp",yandex:"Yandex Browser",yandexbot:"YandexBot",youbot:"YouBot"},Ht={bot:"bot",desktop:"desktop",mobile:"mobile",tablet:"tablet",tv:"tv"},Si={Android:"Android",Bada:"Bada",BlackBerry:"BlackBerry",ChromeOS:"Chrome OS",HarmonyOS:"HarmonyOS",iOS:"iOS",Linux:"Linux",MacOS:"macOS",PlayStation4:"PlayStation 4",Roku:"Roku",Tizen:"Tizen",WebOS:"WebOS",Windows:"Windows",WindowsPhone:"Windows Phone"},Au={Blink:"Blink",EdgeHTML:"EdgeHTML",Gecko:"Gecko",Presto:"Presto",Trident:"Trident",WebKit:"WebKit"};class Ne{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(o=>parseInt(o,10)||0);r.push(0);const n=r[0],i=r[1];if(n===10)switch(i){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}switch(n){case 11:return"Big Sur";case 12:return"Monterey";case 13:return"Ventura";case 14:return"Sonoma";case 15:return"Sequoia";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=Ne.getVersionPrecision(e),o=Ne.getVersionPrecision(r);let a=Math.max(i,o),s=0;const l=Ne.map([e,r],c=>{const u=a-Ne.getVersionPrecision(c),f=c+new Array(u+1).join(".0");return Ne.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const o=e[n];if(r(o,n))return o}}static assign(e,...r){const n=e;let i,o;if(Object.assign)return Object.assign(e,...r);for(i=0,o=r.length;i<o;i+=1){const a=r[i];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{n[l]=a[l]})}return e}static getBrowserAlias(e){return kAe[e]}static getBrowserTypeByAlias(e){return Gee[e]||""}}const qt=/version\/(\d+(\.?_?\d+)+)/i,TAe=[{test:[/gptbot/i],describe(t){const e={name:"GPTBot"},r=Ne.getFirstMatch(/gptbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/chatgpt-user/i],describe(t){const e={name:"ChatGPT-User"},r=Ne.getFirstMatch(/chatgpt-user\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/oai-searchbot/i],describe(t){const e={name:"OAI-SearchBot"},r=Ne.getFirstMatch(/oai-searchbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe(t){const e={name:"ClaudeBot"},r=Ne.getFirstMatch(/(?:claudebot|claude-web|claude-user|claude-searchbot)\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/omgilibot/i,/webzio-extended/i],describe(t){const e={name:"Omgilibot"},r=Ne.getFirstMatch(/(?:omgilibot|webzio-extended)\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/diffbot/i],describe(t){const e={name:"Diffbot"},r=Ne.getFirstMatch(/diffbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/perplexitybot/i],describe(t){const e={name:"PerplexityBot"},r=Ne.getFirstMatch(/perplexitybot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/perplexity-user/i],describe(t){const e={name:"Perplexity-User"},r=Ne.getFirstMatch(/perplexity-user\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/youbot/i],describe(t){const e={name:"YouBot"},r=Ne.getFirstMatch(/youbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/meta-webindexer/i],describe(t){const e={name:"Meta-WebIndexer"},r=Ne.getFirstMatch(/meta-webindexer\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/meta-externalads/i],describe(t){const e={name:"Meta-ExternalAds"},r=Ne.getFirstMatch(/meta-externalads\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/meta-externalagent/i],describe(t){const e={name:"Meta-ExternalAgent"},r=Ne.getFirstMatch(/meta-externalagent\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/meta-externalfetcher/i],describe(t){const e={name:"Meta-ExternalFetcher"},r=Ne.getFirstMatch(/meta-externalfetcher\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=Ne.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/linespider/i],describe(t){const e={name:"Linespider"},r=Ne.getFirstMatch(/(?:linespider)(?:-[-\w]+)?[\s/](\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/amazonbot/i],describe(t){const e={name:"AmazonBot"},r=Ne.getFirstMatch(/amazonbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/bingbot/i],describe(t){const e={name:"BingCrawler"},r=Ne.getFirstMatch(/bingbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/baiduspider/i],describe(t){const e={name:"BaiduSpider"},r=Ne.getFirstMatch(/baiduspider\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/duckduckbot/i],describe(t){const e={name:"DuckDuckBot"},r=Ne.getFirstMatch(/duckduckbot\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/ia_archiver/i],describe(t){const e={name:"InternetArchiveCrawler"},r=Ne.getFirstMatch(/ia_archiver\/(\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe(){return{name:"FacebookExternalHit"}}},{test:[/slackbot/i,/slack-imgProxy/i],describe(t){const e={name:"SlackBot"},r=Ne.getFirstMatch(/(?:slackbot|slack-imgproxy)(?:-[-\w]+)?[\s/](\d+(\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/yahoo!?[\s/]*slurp/i],describe(){return{name:"YahooSlurp"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe(){return{name:"YandexBot"}}},{test:[/pingdom/i],describe(){return{name:"PingdomBot"}}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=Ne.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=Ne.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=Ne.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=Ne.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=Ne.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=Ne.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=Ne.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Ne.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=Ne.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=Ne.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=Ne.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=Ne.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=Ne.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=Ne.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=Ne.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=Ne.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=Ne.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=Ne.getFirstMatch(qt,t)||Ne.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=Ne.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=Ne.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=Ne.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/librewolf/i],describe(t){const e={name:"LibreWolf"},r=Ne.getFirstMatch(/(?:librewolf)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=Ne.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=Ne.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sogoumobilebrowser/i,/metasr/i,/se 2\.[x]/i],describe(t){const e={name:"Sogou Browser"},r=Ne.getFirstMatch(/(?:sogoumobilebrowser)[\s/](\d+(\.?_?\d+)+)/i,t),n=Ne.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),i=Ne.getFirstMatch(/se ([\d.]+)x/i,t),o=r||n||i;return o&&(e.version=o),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=Ne.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.hasBrand("DuckDuckGo")?!0:t.test(/\sDdg\/[\d.]+$/i)},describe(t,e){const r={name:"DuckDuckGo"};if(e){const i=e.getBrandVersion("DuckDuckGo");if(i)return r.version=i,r}const n=Ne.getFirstMatch(/\sDdg\/([\d.]+)$/i,t);return n&&(r.version=n),r}},{test(t){return t.hasBrand("Brave")},describe(t,e){const r={name:"Brave"};if(e){const n=e.getBrandVersion("Brave");if(n)return r.version=n,r}return r}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=Ne.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=Ne.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=Ne.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=Ne.getFirstMatch(qt,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:Ne.getFirstMatch(i,t),version:Ne.getSecondMatch(i,t)}}}],MAe=[{test:[/Roku\/DVP/],describe(t){const e=Ne.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Si.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Ne.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Si.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Ne.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Ne.getWindowsVersionName(e);return{name:Si.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Si.iOS},r=Ne.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=Ne.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Ne.getMacOSVersionName(e),n={name:Si.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Ne.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Si.iOS,version:e}}},{test:[/OpenHarmony/i],describe(t){const e=Ne.getFirstMatch(/OpenHarmony\s+(\d+(\.\d+)*)/i,t);return{name:Si.HarmonyOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=Ne.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Ne.getAndroidVersionName(e),n={name:Si.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Ne.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Si.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Ne.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Ne.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Ne.getFirstMatch(/\bbb(\d+)/i,t);return{name:Si.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Ne.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Si.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Ne.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Si.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Si.Linux}}},{test:[/CrOS/],describe(){return{name:Si.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Ne.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Si.PlayStation4,version:e}}}],NAe=[{test:[/googlebot/i],describe(){return{type:Ht.bot,vendor:"Google"}}},{test:[/linespider/i],describe(){return{type:Ht.bot,vendor:"Line"}}},{test:[/amazonbot/i],describe(){return{type:Ht.bot,vendor:"Amazon"}}},{test:[/gptbot/i],describe(){return{type:Ht.bot,vendor:"OpenAI"}}},{test:[/chatgpt-user/i],describe(){return{type:Ht.bot,vendor:"OpenAI"}}},{test:[/oai-searchbot/i],describe(){return{type:Ht.bot,vendor:"OpenAI"}}},{test:[/baiduspider/i],describe(){return{type:Ht.bot,vendor:"Baidu"}}},{test:[/bingbot/i],describe(){return{type:Ht.bot,vendor:"Bing"}}},{test:[/duckduckbot/i],describe(){return{type:Ht.bot,vendor:"DuckDuckGo"}}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe(){return{type:Ht.bot,vendor:"Anthropic"}}},{test:[/omgilibot/i,/webzio-extended/i],describe(){return{type:Ht.bot,vendor:"Webz.io"}}},{test:[/diffbot/i],describe(){return{type:Ht.bot,vendor:"Diffbot"}}},{test:[/perplexitybot/i],describe(){return{type:Ht.bot,vendor:"Perplexity AI"}}},{test:[/perplexity-user/i],describe(){return{type:Ht.bot,vendor:"Perplexity AI"}}},{test:[/youbot/i],describe(){return{type:Ht.bot,vendor:"You.com"}}},{test:[/ia_archiver/i],describe(){return{type:Ht.bot,vendor:"Internet Archive"}}},{test:[/meta-webindexer/i],describe(){return{type:Ht.bot,vendor:"Meta"}}},{test:[/meta-externalads/i],describe(){return{type:Ht.bot,vendor:"Meta"}}},{test:[/meta-externalagent/i],describe(){return{type:Ht.bot,vendor:"Meta"}}},{test:[/meta-externalfetcher/i],describe(){return{type:Ht.bot,vendor:"Meta"}}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe(){return{type:Ht.bot,vendor:"Meta"}}},{test:[/slackbot/i,/slack-imgProxy/i],describe(){return{type:Ht.bot,vendor:"Slack"}}},{test:[/yahoo/i],describe(){return{type:Ht.bot,vendor:"Yahoo"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe(){return{type:Ht.bot,vendor:"Yandex"}}},{test:[/pingdom/i],describe(){return{type:Ht.bot,vendor:"Pingdom"}}},{test:[/huawei/i],describe(t){const e=Ne.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Ht.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Ht.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Ht.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Ht.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Ht.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Ht.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Ht.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=Ne.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ht.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Ht.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=Ne.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),r={type:Ht.mobile,vendor:"Nokia"};return e&&(r.model=e),r}},{test:[/[^-]mobi/i],describe(){return{type:Ht.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Ht.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Ht.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Ht.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Ht.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Ht.mobile}}},{test:[/smart-?tv|smarttv/i],describe(){return{type:Ht.tv}}},{test:[/netcast/i],describe(){return{type:Ht.tv}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Ht.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Ht.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Ht.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Ht.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Ht.tv}}}],RAe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Au.Blink};const r=Ne.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Au.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Au.Trident},r=Ne.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Au.Presto},r=Ne.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Au.Gecko},r=Ne.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Au.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Au.WebKit},r=Ne.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class hW{constructor(e,r=!1,n=null){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e;let i=!1;typeof r=="boolean"?(i=r,this._hints=n):r!=null&&typeof r=="object"?this._hints=r:this._hints=null,this.parsedResult={},i!==!0&&this.parse()}getHints(){return this._hints}hasBrand(e){if(!this._hints||!Array.isArray(this._hints.brands))return!1;const r=e.toLowerCase();return this._hints.brands.some(n=>n.brand&&n.brand.toLowerCase()===r)}getBrandVersion(e){if(!this._hints||!Array.isArray(this._hints.brands))return;const r=e.toLowerCase(),n=this._hints.brands.find(i=>i.brand&&i.brand.toLowerCase()===r);return n?n.version:void 0}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ne.find(TAe,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA(),this)),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ne.find(MAe,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=Ne.find(NAe,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ne.find(RAe,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ne.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let o=0;if(Object.keys(e).forEach(s=>{const l=e[s];typeof l=="string"?(i[s]=l,o+=1):typeof l=="object"&&(r[s]=l,n+=1)}),n>0){const s=Object.keys(r),l=Ne.find(s,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=Ne.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(o>0){const s=Object.keys(i),l=Ne.find(s,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=Ne.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(Ne.compareVersions(o,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/bowser-js/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class iv{static getParser(e,r=!1,n=null){if(typeof e!="string")throw new Error("UserAgent should be a string");return new hW(e,r,n)}static parse(e,r=null){return new hW(e,r).getResult()}static get BROWSER_MAP(){return Gee}static get ENGINE_MAP(){return Au}static get OS_MAP(){return Si}static get PLATFORMS_MAP(){return Ht}}var zd=As.getLogger("customauth");const Yee={[lt.APPLE]:"apple",[lt.GITHUB]:"github",[lt.LINKEDIN]:"linkedin",[lt.TWITTER]:"twitter",[lt.LINE]:"line",[lt.EMAIL_PASSWORDLESS]:"email",[lt.SMS_PASSWORDLESS]:"sms"},Jee=t=>t.href.endsWith("/")?t.href:`${t.href}/`,_R=()=>Math.random().toString(36).slice(2),LAe={webWorkerSupport:!1};function R4(t,e){return e?t:t.toLowerCase()}const aw=(t,e,r,n=!0)=>{const{name:i,sub:o}=t;if(r)return R4(t[r],n);switch(e){case lt.EMAIL_PASSWORDLESS:case lt.SMS_PASSWORDLESS:case lt.AUTHENTICATOR:return R4(i,n);case lt.GITHUB:case lt.TWITTER:case lt.APPLE:case lt.LINKEDIN:case lt.LINE:case lt.WECHAT:case lt.KAKAO:case lt.FARCASTER:case lt.CUSTOM:return R4(o,n);default:throw new Error("Invalid login type to get auth connection id")}};function p8(t){let e;try{e=window[t];const r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(r){const n=r;return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function Qee(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,s=Math.abs((i-r)/2/a+t),l=Math.abs((o-n)/2/a+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/a},width=${r/a},top=${l},left=${s}`}function ov(t){const{baseURL:e,query:r,hash:n}=t,i=new URL(e);if(r&&Object.keys(r).forEach(o=>{i.searchParams.append(o,r[o])}),n){const o=new URL(ov({baseURL:e,query:n})).searchParams.toString();i.hash=o}return i.toString()}const AR=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${(e==null?void 0:e.message)||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},DAe=t=>JSON.parse(Rf.decode(t));function BAe(){const e=iv.getParser(navigator.userAgent).getPlatform();return e.type===iv.PLATFORMS_MAP.tablet||e.type===iv.PLATFORMS_MAP.mobile}function CR(t){return(t===lt.FACEBOOK||t===lt.LINE)&&BAe()?1e3*30:1e3*1}function OR(t){const[e,r]=t.split(".");return{header:JSON.parse(Rf.decode(e)),payload:JSON.parse(Rf.decode(r))}}var X1={exports:{}},pW;function db(){if(pW)return X1.exports;pW=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,U,F){return Function.prototype.apply.call(P,U,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:r=function(P){return Object.getOwnPropertyNames(P)};function n(D){console&&console.warn&&console.warn(D)}var i=Number.isNaN||function(P){return P!==P};function o(){o.init.call(this)}X1.exports=o,X1.exports.once=w,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");a=D}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function l(D){return D._maxListeners===void 0?o.defaultMaxListeners:D._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(P){for(var U=[],F=1;F<arguments.length;F++)U.push(arguments[F]);var N=P==="error",L=this._events;if(L!==void 0)N=N&&L.error===void 0;else if(!N)return!1;if(N){var B;if(U.length>0&&(B=U[0]),B instanceof Error)throw B;var R=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw R.context=B,R}var b=L[P];if(b===void 0)return!1;if(typeof b=="function")e(b,this,U);else for(var x=b.length,I=y(b,x),F=0;F<x;++F)e(I[F],this,U);return!0};function c(D,P,U,F){var N,L,B;if(s(U),L=D._events,L===void 0?(L=D._events=Object.create(null),D._eventsCount=0):(L.newListener!==void 0&&(D.emit("newListener",P,U.listener?U.listener:U),L=D._events),B=L[P]),B===void 0)B=L[P]=U,++D._eventsCount;else if(typeof B=="function"?B=L[P]=F?[U,B]:[B,U]:F?B.unshift(U):B.push(U),N=l(D),N>0&&B.length>N&&!B.warned){B.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=D,R.type=P,R.count=B.length,n(R)}return D}o.prototype.addListener=function(P,U){return c(this,P,U,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(P,U){return c(this,P,U,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(D,P,U){var F={fired:!1,wrapFn:void 0,target:D,type:P,listener:U},N=u.bind(F);return N.listener=U,F.wrapFn=N,N}o.prototype.once=function(P,U){return s(U),this.on(P,f(this,P,U)),this},o.prototype.prependOnceListener=function(P,U){return s(U),this.prependListener(P,f(this,P,U)),this},o.prototype.removeListener=function(P,U){var F,N,L,B,R;if(s(U),N=this._events,N===void 0)return this;if(F=N[P],F===void 0)return this;if(F===U||F.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete N[P],N.removeListener&&this.emit("removeListener",P,F.listener||U));else if(typeof F!="function"){for(L=-1,B=F.length-1;B>=0;B--)if(F[B]===U||F[B].listener===U){R=F[B].listener,L=B;break}if(L<0)return this;L===0?F.shift():m(F,L),F.length===1&&(N[P]=F[0]),N.removeListener!==void 0&&this.emit("removeListener",P,R||U)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(P){var U,F,N;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[P]),this;if(arguments.length===0){var L=Object.keys(F),B;for(N=0;N<L.length;++N)B=L[N],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=F[P],typeof U=="function")this.removeListener(P,U);else if(U!==void 0)for(N=U.length-1;N>=0;N--)this.removeListener(P,U[N]);return this};function h(D,P,U){var F=D._events;if(F===void 0)return[];var N=F[P];return N===void 0?[]:typeof N=="function"?U?[N.listener||N]:[N]:U?v(N):y(N,N.length)}o.prototype.listeners=function(P){return h(this,P,!0)},o.prototype.rawListeners=function(P){return h(this,P,!1)},o.listenerCount=function(D,P){return typeof D.listenerCount=="function"?D.listenerCount(P):p.call(D,P)},o.prototype.listenerCount=p;function p(D){var P=this._events;if(P!==void 0){var U=P[D];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(D,P){for(var U=new Array(P),F=0;F<P;++F)U[F]=D[F];return U}function m(D,P){for(;P+1<D.length;P++)D[P]=D[P+1];D.pop()}function v(D){for(var P=new Array(D.length),U=0;U<P.length;++U)P[U]=D[U].listener||D[U];return P}function w(D,P){return new Promise(function(U,F){function N(B){D.removeListener(P,L),F(B)}function L(){typeof D.removeListener=="function"&&D.removeListener("error",N),U([].slice.call(arguments))}_(D,P,L,{once:!0}),P!=="error"&&A(D,N,{once:!0})})}function A(D,P,U){typeof D.on=="function"&&_(D,"error",P,U)}function _(D,P,U,F){if(typeof D.on=="function")F.once?D.once(P,U):D.on(P,U);else if(typeof D.addEventListener=="function")D.addEventListener(P,function N(L){F.once&&D.removeEventListener(P,N),U(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return X1.exports}var hb=db();const bFe=fr(hb);let qS=class extends hb.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4}){super(),Pe(this,"url",void 0),Pe(this,"target",void 0),Pe(this,"features",void 0),Pe(this,"window",void 0),Pe(this,"windowTimer",void 0),Pe(this,"iClosedWindow",void 0),Pe(this,"timeout",void 0),this.url=e,this.target=r||"_blank",this.features=n||Qee(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};const jAe=["access_token","id_token"];class $c{constructor(e){Pe(this,"nonce",_R()),Pe(this,"finalURL",void 0),Pe(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(Rf.encode(JSON.stringify(be(be({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const r=new qS({url:this.finalURL,features:e.popupFeatures,timeout:CR(this.params.authConnection)});if(this.params.uxMode===ki.REDIRECT)r.redirect(e.locationReplaceOnRedirect);else{const{RedundantAdaptiveBroadcastChannel:n}=await Rr(async()=>{const{RedundantAdaptiveBroadcastChannel:i}=await import("./index-CCUVFOcZ.js");return{RedundantAdaptiveBroadcastChannel:i}},[]);return new Promise((i,o)=>{let a;const s=async l=>{try{const{error:c,data:u}=l,f=u||{},{instanceParams:h,hashParams:{access_token:p,id_token:y}}=f,m=vR(f.hashParams,jAe);if(c){zd.error(l),o(new Error(`Error: ${c}. Info: ${JSON.stringify(l.data||{})}`));return}l.data&&h.authConnectionId===this.params.authConnectionId&&(zd.info(l.data),!this.params.redirectToOpener&&a&&await a.postMessage({success:!0}),i(be(be({accessToken:p,idToken:y||""},m),{},{state:h})))}catch(c){zd.error(c),o(c)}};if(!this.params.redirectToOpener)a=new n(`redirect_channel_${this.nonce}`,LAe),a.addEventListener("message",async l=>{await s(l),a.close(),r.close()});else{const l=async c=>{if(!c.data)return;const u=c.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",l),s(u),r.close())};window.addEventListener("message",l)}try{r.open()}catch(l){zd.error(l),o(l);return}r.once("close",()=>{a&&a.close(),o(new Error("user closed popup"))})})}return null}}class $Ae extends $c{constructor(e){super(e),Pe(this,"RESPONSE_TYPE","token"),Pe(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=Br({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},r);Object.keys(n).forEach(i=>{const o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:r}=e,n=await Vh("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${r}`}}),{id:i,avatar:o,email:a="",username:s="",discriminator:l=""}=n;return{profileImage:o===null?`https://cdn.discordapp.com/embed/avatars/${Number(l)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${o}.png?size=2048`,name:`${s}#${l}`,email:a,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class FAe extends $c{constructor(e){super(e),Pe(this,"RESPONSE_TYPE","token"),Pe(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=Br({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},r);Object.keys(n).forEach(i=>{const o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:r}=e,n=await Vh("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${r}`}}),{name:i="",id:o,picture:a,email:s=""}=n;return{email:s,name:i,profileImage:a.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o}}}class UAe extends $c{constructor(e){super(e),Pe(this,"RESPONSE_TYPE","token id_token"),Pe(this,"SCOPE","profile email openid"),Pe(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=Br({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(n).forEach(i=>{const o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:r}=e,n=await Vh("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${r}`}}),{picture:i="",email:o="",name:a=""}=n;return{email:o,name:a,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o.toLowerCase()}}}class HAe extends $c{constructor(e){super(e),Pe(this,"SCOPE","openid profile email"),Pe(this,"RESPONSE_TYPE","token id_token"),Pe(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,r=AR(e);r.pathname+=r.pathname.endsWith("/")?"authorize":"/authorize";const n=JSON.parse(JSON.stringify(this.params.jwtParams));delete n.domain;const i=Br({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:Yee[this.params.authConnection],nonce:this.nonce},n);Object.keys(i).forEach(o=>{const a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){const{idToken:r,accessToken:n}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(r){const l=OR(r).payload,{name:c,email:u,picture:f}=l;return{profileImage:f,name:c,email:u,userId:aw(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(n)try{const l=new URL(i),c=await Vh(`${Jee(l)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:u,name:f,email:h}=c;return{email:h,name:f,profileImage:u,userId:aw(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(l){As.warn(l,"Unable to get userinfo from endpoint")}throw new Error("Access/id token not available")}}class qAe extends $c{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const r=Br({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(ov({baseURL:this.params.redirect_uri,query:null,hash:r}))}async getUserInfo(e){const{idToken:r,accessToken:n}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(r){const l=OR(r).payload,{name:c,email:u,picture:f}=l;return{profileImage:f,name:c,email:u,userId:aw(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(n)try{const l=new URL(i),c=await Vh(`${Jee(l)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:u,name:f,email:h}=c;return{email:h,name:f,profileImage:u,userId:aw(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(l){As.warn(l,"Unable to get userinfo from endpoint")}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:r,access_token:n}=this.params.jwtParams,i=new qS({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===ki.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:r,accessToken:n});return null}}const g8=t=>t.padStart(64,"0").slice(0,64);let zAe=class{constructor(){Pe(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=g8(this.sessionId)}request({method:e="GET",url:r,data:n={},headers:i={}}){const o={headers:i};switch(e){case"GET":return Vh(r,o);case"POST":return SAe(r,n,o);case"PUT":return AAe(r,n,o);case"PATCH":return _Ae(r,n,o)}throw new Error("Invalid method type")}};const WAe="https://api.web3auth.io/session-service",KE=new jS.ec("secp256k1"),Zo=globalThis.crypto||globalThis.msCrypto||{},Hu=Zo.subtle||Zo.webkitSubtle,KAe=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),VAe=Buffer.alloc(32,0);function Af(t,e){if(!t)throw new Error(e||"Assertion failed")}function GAe(t){return Buffer.isBuffer(t)&&t.length===32}function IR(t){return GAe(t)?t.compare(VAe)>0&&t.compare(KAe)<0:!1}function YAe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function av(t){if(typeof Zo.getRandomValues>"u")return Buffer.from(Zo.randomBytes(t));const e=new Uint8Array(t);return Zo.getRandomValues(e),Buffer.from(e)}async function Xee(t){if(!Zo.createHash){const n=await Hu.digest("SHA-512",t);return new Uint8Array(n)}const r=Zo.createHash("sha512").update(t).digest();return new Uint8Array(r)}function Zee(t){return async function(e,r,n){if(Hu&&Hu[t]&&Hu.importKey){const i={name:"AES-CBC"},o=await Hu.importKey("raw",r,i,!1,[t]),a={name:"AES-CBC",iv:e},s=await Hu[t](a,o,n);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&Zo.createCipheriv){const i=Zo.createCipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}else if(t==="decrypt"&&Zo.createDecipheriv){const i=Zo.createDecipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}throw new Error(`Unsupported operation: ${t}`)}}const JAe=Zee("encrypt"),QAe=Zee("decrypt");async function ete(t,e){if(!Zo.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},o=await Hu.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),a=await Hu.sign("HMAC",o,e);return Buffer.from(new Uint8Array(a))}const r=Zo.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function XAe(t,e,r){const n=await ete(t,e);return YAe(n,r)}const ZAe=function(){let t=av(32);for(;!IR(t);)t=av(32);return t},r0=function(t){return PR(t),Buffer.from(KE.keyFromPrivate(t).getPublic("array"))},L4=async function(t,e){return PR(t),Af(e.length>0,"Message should not be empty"),Af(e.length<=32,"Message is too long"),Buffer.from(KE.sign(e,t,{canonical:!0}).toDER())},eCe=function(t){Af(t.length===65||t.length===33,"Bad public key: expected 65 or 33 bytes, got "+t.length),t.length===65&&Af(t[0]===4,"Bad public key: expected first byte 4, got "+t[0]),t.length===33&&Af(t[0]===2||t[0]===3,"Bad public key: expected first byte 2 or 3, got "+t[0])},PR=function(t){Af(Buffer.isBuffer(t),"Bad private key: expected Buffer"),Af(t.length===32,"Bad private key: expected 32 bytes, got "+t.length),Af(IR(t),"Bad private key: out of range")},tte=async function(t,e,r){PR(t),eCe(e);const n=KE.keyFromPrivate(t),i=KE.keyFromPublic(e),o=n.derive(i.getPublic());return r?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},tCe=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||av(32);for(;!IR(n);)n=r.ephemPrivateKey||av(32);const i=r0(n),o=await tte(n,t,r.padding),a=await Xee(o),s=r.iv||av(16),l=a.slice(0,32),c=a.slice(32),f=await JAe(s,Buffer.from(l),e),h=Buffer.concat([s,i,f]),p=await ete(Buffer.from(c),h);return{iv:s,ephemPublicKey:i,ciphertext:f,mac:p}},rte=async function(t,e,r){const n=await tte(t,e.ephemPublicKey,r),i=await Xee(n),o=i.slice(0,32),a=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),l=await XAe(Buffer.from(a),s,e.mac);if(!l&&!r)return rte(t,e,!0);if(!l&&r===!0)throw new Error("bad MAC after trying padded");const c=await QAe(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(c))};var Z1={},D4,gW;function rCe(){if(gW)return D4;gW=1;var t,e,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function i(p){throw{name:"SyntaxError",message:p,at:t,text:n}}function o(p){return p&&p!==e&&i("Expected '"+p+"' instead of '"+e+"'"),e=n.charAt(t),t+=1,e}function a(){var p,y="";for(e==="-"&&(y="-",o("-"));e>="0"&&e<="9";)y+=e,o();if(e===".")for(y+=".";o()&&e>="0"&&e<="9";)y+=e;if(e==="e"||e==="E")for(y+=e,o(),(e==="-"||e==="+")&&(y+=e,o());e>="0"&&e<="9";)y+=e,o();return p=Number(y),isFinite(p)||i("Bad number"),p}function s(){var p,y,m="",v;if(e==='"')for(;o();){if(e==='"')return o(),m;if(e==="\\")if(o(),e==="u"){for(v=0,y=0;y<4&&(p=parseInt(o(),16),!!isFinite(p));y+=1)v=v*16+p;m+=String.fromCharCode(v)}else if(typeof r[e]=="string")m+=r[e];else break;else m+=e}i("Bad string")}function l(){for(;e&&e<=" ";)o()}function c(){switch(e){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:i("Unexpected '"+e+"'")}}function u(){var p=[];if(e==="["){if(o("["),l(),e==="]")return o("]"),p;for(;e;){if(p.push(h()),l(),e==="]")return o("]"),p;o(","),l()}}i("Bad array")}function f(){var p,y={};if(e==="{"){if(o("{"),l(),e==="}")return o("}"),y;for(;e;){if(p=s(),l(),o(":"),Object.prototype.hasOwnProperty.call(y,p)&&i('Duplicate key "'+p+'"'),y[p]=h(),l(),e==="}")return o("}"),y;o(","),l()}}i("Bad object")}function h(){switch(l(),e){case"{":return f();case"[":return u();case'"':return s();case"-":return a();default:return e>="0"&&e<="9"?a():c()}}return D4=function(p,y){var m;return n=p,t=0,e=" ",m=h(),l(),e&&i("Syntax error"),typeof y=="function"?(function v(w,A){var _,D,P=w[A];if(P&&typeof P=="object")for(_ in h)Object.prototype.hasOwnProperty.call(P,_)&&(D=v(P,_),typeof D>"u"?delete P[_]:P[_]=D);return y.call(w,A,P)})({"":m},""):m},D4}var B4,mW;function nCe(){if(mW)return B4;mW=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function o(s){return t.lastIndex=0,t.test(s)?'"'+s.replace(t,function(l){var c=n[l];return typeof c=="string"?c:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function a(s,l){var c,u,f,h,p=e,y,m=l[s];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(s)),typeof i=="function"&&(m=i.call(l,s,m)),typeof m){case"string":return o(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(e+=r,y=[],Object.prototype.toString.apply(m)==="[object Array]"){for(h=m.length,c=0;c<h;c+=1)y[c]=a(c,m)||"null";return f=y.length===0?"[]":e?`[
`+e+y.join(`,
`+e)+`
`+p+"]":"["+y.join(",")+"]",e=p,f}if(i&&typeof i=="object")for(h=i.length,c=0;c<h;c+=1)u=i[c],typeof u=="string"&&(f=a(u,m),f&&y.push(o(u)+(e?": ":":")+f));else for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(f=a(u,m),f&&y.push(o(u)+(e?": ":":")+f));return f=y.length===0?"{}":e?`{
`+e+y.join(`,
`+e)+`
`+p+"}":"{"+y.join(",")+"}",e=p,f}}return B4=function(s,l,c){var u;if(e="",r="",typeof c=="number")for(u=0;u<c;u+=1)r+=" ";else typeof c=="string"&&(r=c);if(i=l,l&&typeof l!="function"&&(typeof l!="object"||typeof l.length!="number"))throw new Error("JSON.stringify");return a("",{"":s})},B4}var yW;function iCe(){return yW||(yW=1,Z1.parse=rCe(),Z1.stringify=nCe()),Z1}var j4,vW;function oCe(){if(vW)return j4;vW=1;var t={}.toString;return j4=Array.isArray||function(e){return t.call(e)=="[object Array]"},j4}var $4,wW;function aCe(){if(wW)return $4;wW=1;var t=(typeof JSON<"u"?JSON:iCe()).stringify,e=oCe(),r=Z_e(),n=Q_e(),i=K_e(),o=i("Array.prototype.join"),a=i("Array.prototype.indexOf"),s=i("Array.prototype.splice"),l=i("Array.prototype.sort"),c=function(h,p){for(var y="",m=0;m<h;m+=1)y+=p;return y},u=function(f,h,p){return p};return $4=function(h){var p=arguments.length>1?arguments[1]:void 0,y=p&&p.space||"";typeof y=="number"&&(y=c(y," "));var m=!!p&&typeof p.cycles=="boolean"&&p.cycles,v=p&&p.replacer?n(p.replacer):u;if(p&&typeof p.collapseEmpty<"u"&&typeof p.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var w=!!p&&p.collapseEmpty,A=typeof p=="function"?p:p&&p.cmp,_=A&&function(P){var U=A.length>2&&function(N){return P[N]};return function(F,N){return A({key:F,value:P[F]},{key:N,value:P[N]},U?{__proto__:null,get:U}:void 0)}},D=[];return(function P(U,F,N,L){var B=y?`
`+c(L,y):"",R=y?": ":":";if(N&&N.toJSON&&typeof N.toJSON=="function"&&(N=N.toJSON()),N=v(U,F,N),N!==void 0){if(typeof N!="object"||N===null)return t(N);var b=function(k,E){return w&&k.length===0?E:(E==="[]"?"[":"{")+o(k,",")+B+(E==="[]"?"]":"}")};if(e(N)){for(var T=[],x=0;x<N.length;x++){var I=P(N,x,N[x],L+1)||t(null);T[T.length]=B+y+I}return b(T,"[]")}if(a(D,N)!==-1){if(m)return t("__cycle__");throw new TypeError("Converting circular structure to JSON")}else D[D.length]=N;for(var C=l(r(N),_&&_(N)),T=[],x=0;x<C.length;x++){var F=C[x],j=P(N,F,N[F],L+1);if(j){var O=t(F)+R+j;T[T.length]=B+y+O}}return s(D,a(D,N),1),b(T,"{}")}})({"":h},"",h,0)},$4}var sCe=aCe();const nte=fr(sCe),ex=BigInt(2**32-1),bW=BigInt(32);function lCe(t,e=!1){return e?{h:Number(t&ex),l:Number(t>>bW&ex)}:{h:Number(t>>bW&ex)|0,l:Number(t&ex)|0}}function cCe(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l:s}=lCe(t[o],e);[n[o],i[o]]=[a,s]}return[n,i]}const SFe=(t,e,r)=>t>>>r,_Fe=(t,e,r)=>t<<32-r|e>>>r,AFe=(t,e,r)=>t>>>r|e<<32-r,CFe=(t,e,r)=>t<<32-r|e>>>r,OFe=(t,e,r)=>t<<64-r|e>>>r-32,IFe=(t,e,r)=>t>>>r-32|e<<64-r,uCe=(t,e,r)=>t<<r|e>>>32-r,fCe=(t,e,r)=>e<<r|t>>>32-r,dCe=(t,e,r)=>e<<r-32|t>>>64-r,hCe=(t,e,r)=>t<<r-32|e>>>64-r;function PFe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const kFe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),TFe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,MFe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),NFe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,RFe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),LFe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Np=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pCe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function VE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Mh(t,...e){if(!pCe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function DFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");VE(t.outputLen),VE(t.blockLen)}function xW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gCe(t,e){Mh(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function mCe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ite(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function BFe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function jFe(t,e){return t<<32-e|t>>>e}const yCe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function vCe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function wCe(t){for(let e=0;e<t.length;e++)t[e]=vCe(t[e]);return t}const EW=yCe?t=>t:wCe,ote=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $Fe(t){if(Mh(t),ote)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=bCe[t[r]];return e}const Ml={_0:48,_9:57,A:65,F:70,a:97,f:102};function SW(t){if(t>=Ml._0&&t<=Ml._9)return t-Ml._0;if(t>=Ml.A&&t<=Ml.F)return t-(Ml.A-10);if(t>=Ml.a&&t<=Ml.f)return t-(Ml.a-10)}function FFe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(ote)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=SW(t.charCodeAt(o)),s=SW(t.charCodeAt(o+1));if(a===void 0||s===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=a*16+s}return n}function xCe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ate(t){return typeof t=="string"&&(t=xCe(t)),Mh(t),t}function UFe(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Mh(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const o=t[n];r.set(o,i),i+=o.length}return r}let ECe=class{};function SCe(t){const e=n=>t().update(ate(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function qFe(t=32){if(Np&&typeof Np.getRandomValues=="function")return Np.getRandomValues(new Uint8Array(t));if(Np&&typeof Np.randomBytes=="function")return Uint8Array.from(Np.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const _Ce=BigInt(0),gy=BigInt(1),ACe=BigInt(2),CCe=BigInt(7),OCe=BigInt(256),ICe=BigInt(113),ste=[],lte=[],cte=[];for(let t=0,e=gy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ste.push(2*(5*n+r)),lte.push((t+1)*(t+2)/2%64);let i=_Ce;for(let o=0;o<7;o++)e=(e<<gy^(e>>CCe)*ICe)%OCe,e&ACe&&(i^=gy<<(gy<<BigInt(o))-gy);cte.push(i)}const ute=cCe(cte,!0),PCe=ute[0],kCe=ute[1],_W=(t,e,r)=>r>32?dCe(t,e,r):uCe(t,e,r),AW=(t,e,r)=>r>32?hCe(t,e,r):fCe(t,e,r);function TCe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,l=(a+2)%10,c=r[l],u=r[l+1],f=_W(c,u,1)^r[s],h=AW(c,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=f,t[a+p+1]^=h}let i=t[2],o=t[3];for(let a=0;a<24;a++){const s=lte[a],l=_W(i,o,s),c=AW(i,o,s),u=ste[a];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=PCe[n],t[1]^=kCe[n]}ite(r)}let MCe=class fte extends ECe{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,VE(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=mCe(this.state)}clone(){return this._cloneInto()}keccak(){EW(this.state32),TCe(this.state32,this.rounds),EW(this.state32),this.posOut=0,this.pos=0}update(e){xW(this),e=ate(e),Mh(e);const{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){xW(this,!1),Mh(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return VE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gCe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ite(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new fte(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const NCe=(t,e,r)=>SCe(()=>new MCe(e,t,r)),CW=NCe(1,136,256/8),RCe=Mh;function LCe(t){return e=>(RCe(e),t(e))}const DCe=(()=>{const t=LCe(CW);return t.create=CW.create,t})();function F4(t){return Buffer.from(DCe(t))}const BCe=new jS.ec("secp256k1");function jCe(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function $Ce(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function U4(t,e){const r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await tCe(r0(Buffer.from(t,"hex")),n),o=$Ce(i);return JSON.stringify(o)}async function FCe(t,e){const r=JSON.parse(e),n=jCe(r),i=BCe.keyFromPrivate(t),a=(await rte(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(a)}const UCe=86400;let HCe=class extends zAe{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:o}={}){super(),Pe(this,"sessionServerBaseUrl",WAe),Pe(this,"sessionNamespace",void 0),Pe(this,"allowedOrigin",void 0),Pe(this,"sessionTime",UCe),Pe(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=g8(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return g8(ZAe().toString("hex"))}async createSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=r0(n).toString("hex"),o=await U4(this.sessionId,e),a=(await L4(n,F4(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const n={key:r0(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const o=await FCe(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=r0(n).toString("hex"),o=await U4(this.sessionId,e),a=(await L4(n,F4(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:r})}async invalidateSession(e={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),n=r0(r).toString("hex"),i=await U4(this.sessionId,{}),o=(await L4(r,F4(Buffer.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:e}),this.sessionId="",!0}};async function qCe(t,e){try{return await new HCe({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(r){throw As.error("fetch data from storage server error",r),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class zCe extends $c{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const r=new URL(e),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=Br({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},n);Object.keys(i).forEach(o=>{const a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e,r){const{idToken:n,extraParams:i}=e,{sessionId:o}=JSON.parse(Rf.decode(i))||{};if(!o)throw new Error("sessionId not found");const{verifier_id:a,signature:s,clientDataJSON:l,authenticatorData:c,publicKey:u,challenge:f,rpOrigin:h,rpId:p,credId:y,transports:m,username:v}=await qCe(o,r);if(s!==n)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:a,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:l,authenticatorData:c,publicKey:u,challenge:f,rpOrigin:h,rpId:p,credId:y,transports:m,username:v}}}}const WCe=["event","origin","result"];class KCe extends $c{constructor(e){super(e),Pe(this,"RESPONSE_TYPE","token"),Pe(this,"SCOPE","profile"),Pe(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,r=AR(e||"https://oauth.telegram.org/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));n.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const i=Br({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(i).forEach(o=>{const a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){const{idToken:r}=e,n=DAe(r),{photo_url:i="",first_name:o="",last_name:a="",id:s}=n;return{email:"",name:`${o} ${a}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:s.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const r=new qS({url:this.finalURL,features:e.popupFeatures,timeout:CR(this.params.authConnection)});if(this.params.uxMode===ki.REDIRECT)r.redirect(e.locationReplaceOnRedirect);else return new Promise((n,i)=>{const o=async s=>{try{const l=JSON.parse(s)||{},{event:c,origin:u,result:f}=l,h=vR(l,WCe),y=new URL(u).searchParams.get("state");c&&c==="auth_result"&&n(be(be({accessToken:""},h),{},{idToken:Rf.encode(JSON.stringify(f))||"",state:Rf.decode(y)}))}catch(l){zd.error(l),i(l)}},a=async s=>{if(!s.data)throw new Error("Invalid data received");if(this.finalURL.origin!==s.origin)throw new Error("Invalid origin received");const l=s.data;if(typeof l!="string")throw new Error("Invalid data type received");const{event:c}=JSON.parse(l)||{};c&&c!=="auth_result"&&zd.info("Invalid event received"),window.removeEventListener("message",a),o(l),r.close()};window.addEventListener("message",a);try{r.open()}catch(s){zd.error(s),i(s);return}r.once("close",()=>{i(new Error("user closed popup"))})});return null}}class VCe extends $c{constructor(e){super(e),Pe(this,"RESPONSE_TYPE","token"),Pe(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=Br({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},r);Object.keys(n).forEach(i=>{const o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:r}=e,n=await Vh("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${r}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:o="",email:a="",id:s}]=n.data||[];return{profileImage:i,name:o,email:a,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const m8={code:"code"};class GCe extends $c{constructor(e){super(e),Pe(this,"SCOPE","openid profile email"),Pe(this,"RESPONSE_TYPE","token id_token"),Pe(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},r=AR(e||"https://passwordless.web3auth.io/v7");r.pathname+=r.pathname.endsWith("/")?"authorize":"/authorize";const n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete n.domain,this.params.customState=be(be({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=Br({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:Yee[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(n==null?void 0:n.flow_type)||m8.code},n);Object.keys(i).forEach(o=>{const a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){const{idToken:r}=e,n=OR(r).payload,{name:i,email:o,picture:a}=n;return{profileImage:a,name:i,email:o,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const YCe=t=>{const{authConnectionId:e,authConnection:r,clientId:n,jwtParams:i}=t;if(!e||!r||!n)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:o,login_hint:a,id_token:s,access_token:l}=i||{};switch(r){case lt.GOOGLE:return new UAe(t);case lt.TELEGRAM:return new KCe(t);case lt.FACEBOOK:return new FAe(t);case lt.TWITCH:return new VCe(t);case lt.DISCORD:return new $Ae(t);case lt.EMAIL_PASSWORDLESS:case lt.SMS_PASSWORDLESS:if(!a)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new GCe(t);case lt.APPLE:case lt.GITHUB:case lt.LINKEDIN:case lt.TWITTER:case lt.LINE:case lt.CUSTOM:case lt.REDDIT:case lt.WECHAT:case lt.KAKAO:case lt.FARCASTER:case lt.AUTHENTICATOR:if(s||l)return new qAe(t);if(!o)throw new Error("Invalid params for jwt login. Missing domain");return new HAe(t);case lt.PASSKEYS:return new zCe(t);default:throw new Error("Unsupported login type")}},kR=async t=>{const e=t instanceof Error,r=typeof t=="string",n=t&&typeof t=="object"&&"status"in t&&"type"in t;let i;if(n){const o=t,a=o.headers.get("content-type");if(a.includes("application/json")){const s=await o.json();i=new Error((s==null?void 0:s.error)||(s==null?void 0:s.message)||JSON.stringify(s))}else a.includes("text/plain")?i=new Error(await o.text()):i=new Error(`${o.status} ${o.type.toString()} ${o.statusText}`)}else r?i=new Error(t):e?i=t:i=new Error("Unknown error");return i},Pc=As.getLogger("auth");Pc.setLevel("error");const Qr={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},qu={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Qr.MAINNET+"",Qr.TESTNET+"",Qr.CYAN+"",Qr.AQUA+"",Qr.CELESTE+"";Qr.AQUA+"",qu.SAPPHIRE_MAINNET,Qr.CELESTE+"",qu.SAPPHIRE_MAINNET,Qr.CYAN+"",qu.SAPPHIRE_MAINNET,Qr.MAINNET+"",qu.SAPPHIRE_MAINNET,Qr.TESTNET+"",qu.SAPPHIRE_DEVNET;Qr.MAINNET+"",Qr.TESTNET+"",Qr.CYAN+"",Qr.AQUA+"",Qr.CELESTE+"";const JCe={[qu.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[qu.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Qr.MAINNET]:"https://api.web3auth.io/signer-service",[Qr.TESTNET]:"https://api.web3auth.io/signer-service",[Qr.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Qr.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Qr.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};Qr.MAINNET+"",Qr.TESTNET+"",Qr.CYAN+"",Qr.AQUA+"",Qr.CELESTE+"";const dte="https://api.web3auth.io/session-service",hte="https://session.web3auth.io",sw=As.getLogger("http-helpers");sw.setLevel($S.levels.INFO);let QCe="torus-default";const XCe="x-api-key";function ZCe(t){sw.setLevel(t)}async function zS(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function WS(){const t={};return t[XCe]=QCe,t}function KS(t){sw.info(`Response: ${t.status} ${t.statusText}`),sw.info(`Url: ${t.url}`)}function eOe(t){const e=t.headers.get("x-web3-correlation-id");e&&sw.info(`Request tracing with traceID = ${e}`)}const tOe=async(t,e)=>{let r=null;try{const n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},TR=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=be(be({},n.headers),WS())),e.method="GET";const i=Br(n,e),o=await zS(t,i);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw KS(o),o},VS=(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),WS())),r.method="POST";const o=Br(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),tOe(n.timeout||6e4,zS(t,o).then(a=>{if(n.logTracingHeader&&eOe(a),a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KS(a),a}))},rOe=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),WS())),r.method="PATCH";const o=Br(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await zS(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KS(a),a},nOe=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),WS())),r.method="PUT";const o=Br(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await zS(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KS(a),a},y8=t=>t.padStart(64,"0").slice(0,64);class iOe{constructor(){Pe(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=y8(this.sessionId)}request({method:e="GET",url:r,data:n={},headers:i={}}){const o={headers:i};switch(e){case"GET":return TR(r,o);case"POST":return VS(r,n,o);case"PUT":return nOe(r,n,o);case"PATCH":return rOe(r,n,o)}throw new Error("Invalid method type")}}const oOe="https://api.web3auth.io/session-service",GE=new jS.ec("secp256k1"),ea=globalThis.crypto||globalThis.msCrypto||{},zu=ea.subtle||ea.webkitSubtle,aOe=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),sOe=Buffer.alloc(32,0);function Cf(t,e){if(!t)throw new Error(e||"Assertion failed")}function lOe(t){return Buffer.isBuffer(t)&&t.length===32}function MR(t){return lOe(t)?t.compare(sOe)>0&&t.compare(aOe)<0:!1}function cOe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function sv(t){if(typeof ea.getRandomValues>"u")return Buffer.from(ea.randomBytes(t));const e=new Uint8Array(t);return ea.getRandomValues(e),Buffer.from(e)}async function pte(t){if(!ea.createHash){const n=await zu.digest("SHA-512",t);return new Uint8Array(n)}const r=ea.createHash("sha512").update(t).digest();return new Uint8Array(r)}function gte(t){return async function(e,r,n){if(zu&&zu[t]&&zu.importKey){const i={name:"AES-CBC"},o=await zu.importKey("raw",r,i,!1,[t]),a={name:"AES-CBC",iv:e},s=await zu[t](a,o,n);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&ea.createCipheriv){const i=ea.createCipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}else if(t==="decrypt"&&ea.createDecipheriv){const i=ea.createDecipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}throw new Error(`Unsupported operation: ${t}`)}}const uOe=gte("encrypt"),fOe=gte("decrypt");async function mte(t,e){if(!ea.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},o=await zu.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),a=await zu.sign("HMAC",o,e);return Buffer.from(new Uint8Array(a))}const r=ea.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function dOe(t,e,r){const n=await mte(t,e);return cOe(n,r)}const hOe=function(){let t=sv(32);for(;!MR(t);)t=sv(32);return t},bf=function(t){return NR(t),Buffer.from(GE.keyFromPrivate(t).getPublic("array"))},c2=async function(t,e){return NR(t),Cf(e.length>0,"Message should not be empty"),Cf(e.length<=32,"Message is too long"),Buffer.from(GE.sign(e,t,{canonical:!0}).toDER())},pOe=function(t){Cf(t.length===65||t.length===33,"Bad public key: expected 65 or 33 bytes, got "+t.length),t.length===65&&Cf(t[0]===4,"Bad public key: expected first byte 4, got "+t[0]),t.length===33&&Cf(t[0]===2||t[0]===3,"Bad public key: expected first byte 2 or 3, got "+t[0])},NR=function(t){Cf(Buffer.isBuffer(t),"Bad private key: expected Buffer"),Cf(t.length===32,"Bad private key: expected 32 bytes, got "+t.length),Cf(MR(t),"Bad private key: out of range")},yte=async function(t,e,r){NR(t),pOe(e);const n=GE.keyFromPrivate(t),i=GE.keyFromPublic(e),o=n.derive(i.getPublic());return r?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},gOe=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||sv(32);for(;!MR(n);)n=r.ephemPrivateKey||sv(32);const i=bf(n),o=await yte(n,t,r.padding),a=await pte(o),s=r.iv||sv(16),l=a.slice(0,32),c=a.slice(32),f=await uOe(s,Buffer.from(l),e),h=Buffer.concat([s,i,f]),p=await mte(Buffer.from(c),h);return{iv:s,ephemPublicKey:i,ciphertext:f,mac:p}},vte=async function(t,e,r){const n=await yte(t,e.ephemPublicKey,r),i=await pte(n),o=i.slice(0,32),a=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),l=await dOe(Buffer.from(a),s,e.mac);if(!l&&!r)return vte(t,e,!0);if(!l&&r===!0)throw new Error("bad MAC after trying padded");const c=await fOe(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(c))},tx=BigInt(2**32-1),OW=BigInt(32);function mOe(t,e=!1){return e?{h:Number(t&tx),l:Number(t>>OW&tx)}:{h:Number(t>>OW&tx)|0,l:Number(t&tx)|0}}function yOe(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l:s}=mOe(t[o],e);[n[o],i[o]]=[a,s]}return[n,i]}const vOe=(t,e,r)=>t<<r|e>>>32-r,wOe=(t,e,r)=>e<<r|t>>>32-r,bOe=(t,e,r)=>e<<r-32|t>>>64-r,xOe=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EOe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function IW(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lw(t,...e){if(!EOe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SOe(t,e){lw(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function _Oe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function wte(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const AOe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function COe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function OOe(t){for(let e=0;e<t.length;e++)t[e]=COe(t[e]);return t}const kW=AOe?t=>t:OOe;function IOe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function bte(t){return typeof t=="string"&&(t=IOe(t)),lw(t),t}let POe=class{};function kOe(t){const e=n=>t().update(bte(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const TOe=BigInt(0),my=BigInt(1),MOe=BigInt(2),NOe=BigInt(7),ROe=BigInt(256),LOe=BigInt(113),xte=[],Ete=[],Ste=[];for(let t=0,e=my,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xte.push(2*(5*n+r)),Ete.push((t+1)*(t+2)/2%64);let i=TOe;for(let o=0;o<7;o++)e=(e<<my^(e>>NOe)*LOe)%ROe,e&MOe&&(i^=my<<(my<<BigInt(o))-my);Ste.push(i)}const _te=yOe(Ste,!0),DOe=_te[0],BOe=_te[1],TW=(t,e,r)=>r>32?bOe(t,e,r):vOe(t,e,r),MW=(t,e,r)=>r>32?xOe(t,e,r):wOe(t,e,r);function jOe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,l=(a+2)%10,c=r[l],u=r[l+1],f=TW(c,u,1)^r[s],h=MW(c,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=f,t[a+p+1]^=h}let i=t[2],o=t[3];for(let a=0;a<24;a++){const s=Ete[a],l=TW(i,o,s),c=MW(i,o,s),u=xte[a];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=DOe[n],t[1]^=BOe[n]}wte(r)}let $Oe=class Ate extends POe{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,IW(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=_Oe(this.state)}clone(){return this._cloneInto()}keccak(){kW(this.state32),jOe(this.state32,this.rounds),kW(this.state32),this.posOut=0,this.pos=0}update(e){PW(this),e=bte(e),lw(e);const{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){PW(this,!1),lw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return IW(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(SOe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,wte(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new Ate(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const FOe=(t,e,r)=>kOe(()=>new $Oe(e,t,r)),NW=FOe(1,136,256/8),UOe=lw;function HOe(t){return e=>(UOe(e),t(e))}const qOe=(()=>{const t=HOe(NW);return t.create=NW.create,t})();function E0(t){return Buffer.from(qOe(t))}const zOe=new jS.ec("secp256k1");function WOe(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function KOe(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function u2(t,e){const r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await gOe(bf(Buffer.from(t,"hex")),n),o=KOe(i);return JSON.stringify(o)}async function Cte(t,e){const r=JSON.parse(e),n=WOe(r),i=zOe.keyFromPrivate(t),a=(await vte(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(a)}const VOe=86400;class rx extends iOe{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:o}={}){super(),Pe(this,"sessionServerBaseUrl",oOe),Pe(this,"sessionNamespace",void 0),Pe(this,"allowedOrigin",void 0),Pe(this,"sessionTime",VOe),Pe(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=y8(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return y8(hOe().toString("hex"))}async createSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=bf(n).toString("hex"),o=await u2(this.sessionId,e),a=(await c2(n,E0(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const n={key:bf(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const o=await Cte(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=bf(n).toString("hex"),o=await u2(this.sessionId,e),a=(await c2(n,E0(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:r})}async invalidateSession(e={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),n=bf(r).toString("hex"),i=await u2(this.sessionId,{}),o=(await c2(r,E0(Buffer.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:e}),this.sessionId="",!0}}const GOe=Qr,YOe=qu,f2=be(be({},YOe),GOe),JOe={OTHER:"other"},Rp={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},Cu={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Ds={DEFAULT:"default",IFRAME:"iframe"},uu={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},RW="auth-iframe",QOe="http://localhost:3000",XOe="https://staging-auth.web3auth.io",ZOe="https://develop-auth.web3auth.io",eIe="https://auth.web3auth.io",tIe="http://localhost:5173",rIe="https://staging-account.web3auth.io",nIe="https://develop-account.web3auth.io",iIe="https://account.web3auth.io",oIe=1e3*10,v8={light:"light",dark:"dark"},Ote=Rf;function YE(t){return Ote.decode(t)}function nx(t){return Ote.encode(JSON.stringify(t))}const aIe=t=>{const e=window.document.createElement("template"),r=t.trim();return e.innerHTML=r,e.content.firstChild};function sIe(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}const ix=new Map;function lIe(t){return t===v8.light?"light":t===v8.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}class cIe{constructor({sdkUrl:e,whiteLabel:r}){Pe(this,"sdkUrl",void 0),Pe(this,"whiteLabel",void 0),Pe(this,"initialized",!1),Pe(this,"loginCallbackSuccess",null),Pe(this,"loginCallbackFailed",null),Pe(this,"embedNonce",_R()),this.sdkUrl=e,this.whiteLabel=r}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return ix.get(this.embedNonce)}registerAuthServiceIframe(e){ix.set(this.embedNonce,e)}cleanup(){const e=ix.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),ix.delete(this.embedNonce))}async init({network:e,clientId:r}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const n=new URL(this.sdkUrl);n.pathname.endsWith("/")?n.pathname+="frame":n.pathname+="/frame";const i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),n.hash=i.toString();const o=lIe(this.whiteLabel.mode||v8.light),a=aIe(`<iframe
        id="${RW}-${this.embedNonce}"
        class="${RW}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${n.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(a),new Promise((s,l)=>{try{window.document.body.appendChild(a);const c=u=>{var f,h,p;if(u.origin!==this.targetOrigin)return;const{data:y}=u,{type:m,nonce:v}=y;if(v!==this.embedNonce)return;const w=y.data;switch(m){case uu.SETUP_COMPLETE:(f=this.getAuthServiceIframe())===null||f===void 0||(f=f.contentWindow)===null||f===void 0||f.postMessage({type:uu.INIT_DAPP,data:{network:e,clientId:r}},this.targetOrigin),this.initialized=!0,s();break;case uu.LOGIN_FAILED:(h=this.loginCallbackFailed)===null||h===void 0||h.call(this,(w==null?void 0:w.error)||"Login failed, reason: unknown");break;case uu.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case uu.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case uu.LOGIN_SUCCESS:Pc.info("LOGIN_SUCCESS",w),this.getAuthServiceIframe().style.display="none",w!=null&&w.sessionId&&((p=this.loginCallbackSuccess)===null||p===void 0||p.call(this,w));break;default:Pc.warn(`Unknown message type: ${m}`);break}};window.addEventListener("message",c)}catch(c){l(c)}})}postLoginInitiatedMessage(e,r){var n;if(!this.initialized)throw new Error("Iframe not initialized");return(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:uu.LOGIN_INITIATED,data:{loginConfig:e,nonce:r}},this.targetOrigin),new Promise((i,o)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=o})}postLoginCancelledMessage(e){var r;if(!this.initialized)throw new Error("Iframe not initialized");(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:uu.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}function uIe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function fIe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var dIe=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ite=(function(t){dIe(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),uIe(o,i.prototype),fIe(o),o}return e})(Error);class Pte extends Ite{constructor(e,r){super(r),Pe(this,"code",void 0),Pe(this,"message",void 0),this.code=e,this.message=r||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class uc extends Pte{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,r=""){return new uc(e,`${uc.messages[e]}, ${r}`)}static invalidParams(e=""){return uc.fromCode(5001,e)}static notInitialized(e=""){return uc.fromCode(5002,e)}}Pe(uc,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class $r extends Pte{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,r=""){return new $r(e,`${$r.messages[e]}, ${r}`)}static invalidLoginParams(e=""){return $r.fromCode(5111,e)}static userNotLoggedIn(e=""){return $r.fromCode(5112,e)}static popupClosed(e=""){return $r.fromCode(5113,e)}static loginFailed(e=""){return $r.fromCode(5114,e)}static popupBlocked(e=""){return $r.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return $r.fromCode(5116,e)}static mfaNotEnabled(e=""){return $r.fromCode(5117,e)}}Pe($r,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const hIe="https://api.web3auth.io/session-service",pIe="https://session.web3auth.io",wl=Object.create(null);wl.open="0";wl.close="1";wl.ping="2";wl.pong="3";wl.message="4";wl.upgrade="5";wl.noop="6";const d2=Object.create(null);Object.keys(wl).forEach(t=>{d2[wl[t]]=t});const w8={type:"error",data:"parser error"},kte=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tte=typeof ArrayBuffer=="function",Mte=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,RR=({type:t,data:e},r,n)=>kte&&e instanceof Blob?r?n(e):LW(e,n):Tte&&(e instanceof ArrayBuffer||Mte(e))?r?n(e):LW(new Blob([e]),n):n(wl[t]+(e||"")),LW=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function DW(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let H4;function gIe(t,e){if(kte&&t.data instanceof Blob)return t.data.arrayBuffer().then(DW).then(e);if(Tte&&(t.data instanceof ArrayBuffer||Mte(t.data)))return e(DW(t.data));RR(t,!1,r=>{H4||(H4=new TextEncoder),e(H4.encode(r))})}const BW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$y=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<BW.length;t++)$y[BW.charCodeAt(t)]=t;const mIe=t=>{let e=t.length*.75,r=t.length,n,i=0,o,a,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<r;n+=4)o=$y[t.charCodeAt(n)],a=$y[t.charCodeAt(n+1)],s=$y[t.charCodeAt(n+2)],l=$y[t.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},yIe=typeof ArrayBuffer=="function",LR=(t,e)=>{if(typeof t!="string")return{type:"message",data:Nte(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:vIe(t.substring(1),e)}:d2[r]?t.length>1?{type:d2[r],data:t.substring(1)}:{type:d2[r]}:w8},vIe=(t,e)=>{if(yIe){const r=mIe(t);return Nte(r,e)}else return{base64:!0,data:t}},Nte=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Rte="",wIe=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,a)=>{RR(o,!1,s=>{n[a]=s,++i===r&&e(n.join(Rte))})})},bIe=(t,e)=>{const r=t.split(Rte),n=[];for(let i=0;i<r.length;i++){const o=LR(r[i],e);if(n.push(o),o.type==="error")break}return n};function xIe(){return new TransformStream({transform(t,e){gIe(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let q4;function ox(t){return t.reduce((e,r)=>e+r.length,0)}function ax(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function EIe(t,e){q4||(q4=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(n===0){if(ox(r)<1)break;const l=ax(r,1);o=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(ox(r)<2)break;const l=ax(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(ox(r)<8)break;const l=ax(r,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(w8);break}i=u*Math.pow(2,32)+c.getUint32(4),n=3}else{if(ox(r)<i)break;const l=ax(r,i);s.enqueue(LR(o?l:q4.decode(l),e)),n=0}if(i===0||i>t){s.enqueue(w8);break}}}})}const Lte=4;function Mn(t){if(t)return SIe(t)}function SIe(t){for(var e in Mn.prototype)t[e]=Mn.prototype[e];return t}Mn.prototype.on=Mn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Mn.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Mn.prototype.off=Mn.prototype.removeListener=Mn.prototype.removeAllListeners=Mn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Mn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Mn.prototype.emitReserved=Mn.prototype.emit;Mn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Mn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const GS=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Da=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_Ie="arraybuffer";function Dte(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const AIe=Da.setTimeout,CIe=Da.clearTimeout;function YS(t,e){e.useNativeTimers?(t.setTimeoutFn=AIe.bind(Da),t.clearTimeoutFn=CIe.bind(Da)):(t.setTimeoutFn=Da.setTimeout.bind(Da),t.clearTimeoutFn=Da.clearTimeout.bind(Da))}const OIe=1.33;function IIe(t){return typeof t=="string"?PIe(t):Math.ceil((t.byteLength||t.size)*OIe)}function PIe(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Bte(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kIe(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function TIe(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class MIe extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class DR extends Mn{constructor(e){super(),this.writable=!1,YS(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new MIe(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=LR(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=kIe(e);return r.length?"?"+r:""}}class NIe extends DR{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};bIe(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,wIe(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Bte()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let jte=!1;try{jte=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const RIe=jte;function LIe(){}class DIe extends NIe{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let S0=class h2 extends Mn{constructor(e,r,n){super(),this.createRequest=e,YS(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Dte(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=h2.requestsCount++,h2.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=LIe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete h2.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};S0.requestsCount=0;S0.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jW);else if(typeof addEventListener=="function"){const t="onpagehide"in Da?"pagehide":"unload";addEventListener(t,jW,!1)}}function jW(){for(let t in S0.requests)S0.requests.hasOwnProperty(t)&&S0.requests[t].abort()}const BIe=(function(){const t=$te({xdomain:!1});return t&&t.responseType!==null})();class jIe extends DIe{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=BIe&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new S0($te,this.uri(),e)}}function $te(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||RIe))return new XMLHttpRequest}catch{}if(!e)try{return new Da[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Fte=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $Ie extends DR{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Fte?{}:Dte(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;RR(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&GS(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Bte()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const z4=Da.WebSocket||Da.MozWebSocket;class FIe extends $Ie{createSocket(e,r,n){return Fte?new z4(e,r,n):r?new z4(e,r):new z4(e)}doWrite(e,r){this.ws.send(r)}}class UIe extends DR{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=EIe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=xIe();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{n.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&GS(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const HIe={websocket:FIe,webtransport:UIe,polling:jIe},qIe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zIe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function b8(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=qIe.exec(t||""),o={},a=14;for(;a--;)o[zIe[a]]=i[a]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=WIe(o,o.path),o.queryKey=KIe(o,o.query),o}function WIe(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function KIe(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}const x8=typeof addEventListener=="function"&&typeof removeEventListener=="function",p2=[];x8&&addEventListener("offline",()=>{p2.forEach(t=>t())},!1);class Of extends Mn{constructor(e,r){if(super(),this.binaryType=_Ie,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=b8(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=b8(r.host).host);YS(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=TIe(this.opts.query)),x8&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},p2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Lte,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Of.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Of.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=IIe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,GS(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Of.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),x8&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=p2.indexOf(this._offlineEventListener);n!==-1&&p2.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Of.protocol=Lte;class VIe extends Of{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Of.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Of.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,u(),r.close(),r=null)}const a=f=>{const h=new Error("probe error: "+f);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function s(){a("transport closed")}function l(){a("socket closed")}function c(f){r&&f.name!==r.name&&o()}const u=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};r.once("open",i),r.once("error",a),r.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let GIe=class extends VIe{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>HIe[i]).filter(i=>!!i)),super(e,n)}};function YIe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=b8(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const JIe=typeof ArrayBuffer=="function",QIe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ute=Object.prototype.toString,XIe=typeof Blob=="function"||typeof Blob<"u"&&Ute.call(Blob)==="[object BlobConstructor]",ZIe=typeof File=="function"||typeof File<"u"&&Ute.call(File)==="[object FileConstructor]";function BR(t){return JIe&&(t instanceof ArrayBuffer||QIe(t))||XIe&&t instanceof Blob||ZIe&&t instanceof File}function g2(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(g2(t[r]))return!0;return!1}if(BR(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return g2(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&g2(t[r]))return!0;return!1}function ePe(t){const e=[],r=t.data,n=t;return n.data=E8(r,e),n.attachments=e.length,{packet:n,buffers:e}}function E8(t,e){if(!t)return t;if(BR(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=E8(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=E8(t[n],e));return r}return t}function tPe(t,e){return t.data=S8(t.data,e),delete t.attachments,t}function S8(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=S8(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=S8(t[r],e));return t}const rPe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var dr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(dr||(dr={}));class nPe{constructor(e){this.replacer=e}encode(e){return(e.type===dr.EVENT||e.type===dr.ACK)&&g2(e)?this.encodeAsBinary({type:e.type===dr.EVENT?dr.BINARY_EVENT:dr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===dr.BINARY_EVENT||e.type===dr.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=ePe(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class jR extends Mn{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===dr.BINARY_EVENT;n||r.type===dr.BINARY_ACK?(r.type=n?dr.EVENT:dr.ACK,this.reconstructor=new iPe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(BR(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(dr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===dr.BINARY_EVENT||n.type===dr.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(o,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(jR.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case dr.CONNECT:return $W(r);case dr.DISCONNECT:return r===void 0;case dr.CONNECT_ERROR:return typeof r=="string"||$W(r);case dr.EVENT:case dr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&rPe.indexOf(r[0])===-1);case dr.ACK:case dr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iPe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=tPe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $W(t){return Object.prototype.toString.call(t)==="[object Object]"}const oPe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jR,Encoder:nPe,get PacketType(){return dr}},Symbol.toStringTag,{value:"Module"}));function us(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const aPe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hte extends Mn{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[us(e,"open",this.onopen.bind(this)),us(e,"packet",this.onpacket.bind(this)),us(e,"error",this.onerror.bind(this)),us(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,o;if(aPe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:dr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),a.id=u}const s=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},i),a=(...s)=>{this.io.clearTimeoutFn(o),r.apply(this,s)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(a,s)=>a?i(a):n(s);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:dr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case dr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dr.EVENT:case dr.BINARY_EVENT:this.onevent(e);break;case dr.ACK:case dr.BINARY_ACK:this.onack(e);break;case dr.DISCONNECT:this.ondisconnect();break;case dr.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:dr.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function dm(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}dm.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};dm.prototype.reset=function(){this.attempts=0};dm.prototype.setMin=function(t){this.ms=t};dm.prototype.setMax=function(t){this.max=t};dm.prototype.setJitter=function(t){this.jitter=t};class _8 extends Mn{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,YS(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new dm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||oPe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new GIe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=us(r,"open",function(){n.onopen(),e&&e()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},a=us(r,"error",o);if(this._timeout!==!1){const s=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(us(e,"ping",this.onping.bind(this)),us(e,"data",this.ondata.bind(this)),us(e,"error",this.onerror.bind(this)),us(e,"close",this.onclose.bind(this)),us(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){GS(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Hte(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yy={};function lv(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=YIe(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,a=yy[i]&&o in yy[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return s?l=new _8(n,e):(yy[i]||(yy[i]=new _8(n,e)),l=yy[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(lv,{Manager:_8,Socket:Hte,io:lv,connect:lv});var oi=As.getLogger("SecurePubSub");class qte{constructor(e={}){Pe(this,"options",void 0),Pe(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||hIe,this.options.socketUrl=e.socketUrl||pIe,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?oi.enableAll():oi.disableAll()}static setLogLevel(e){oi.setLevel(e),ZCe(e)}async publish(e,r){if(!this.isValidTopic(e))throw oi.error("Invalid topic"),new Error("Invalid topic");const n=E0(Buffer.from(e,"utf8")),i=await u2(n.toString("hex"),r),o=await c2(n,E0(Buffer.from(i,"utf8"))),a={key:bf(n).toString("hex"),data:i,signature:o.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return VS(`${this.options.serverUrl}/v2/channel/set`,a)}async subscribe(e){let r=!0;const n=E0(Buffer.from(e,"utf8")),i=bf(n).toString("hex"),o=this.getSocketConnection();o.connected?(oi.debug("already connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):o.once("connect",()=>{oi.debug("connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const a=()=>{o.once("connect",async()=>{oi.debug("connected with socket using reconnect"),r&&o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{r||document.removeEventListener("visibilitychange",s),!o.connected&&document.visibilityState==="visible"&&a()},l=()=>{oi.debug("socket disconnected",r),r?(oi.error("socket disconnected unexpectedly, reconnecting socket"),a()):o.removeListener("disconnect",l)};o.on("disconnect",l);const c=new Promise((u,f)=>{const h=async p=>{try{const y=await Cte(n.toString("hex"),p);oi.info("got data",y),u(y)}catch(y){oi.error(y),f(y)}finally{r=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",s)}};oi.info("listening to",`${i}_success`),o.once(`${i}_success`,h)});return typeof document<"u"&&document.addEventListener("visibilitychange",s),c}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=lv(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],oi.error("connect error",r)}),e.on("connect",async()=>{const{engine:r}=e.io;oi.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{oi.debug("upgraded",r.transport.name)}),r.once("close",n=>{oi.debug("connection closed",n)})}),e.on("error",r=>{oi.error("socket errored",r),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}class sPe extends hb.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4,sessionSocketUrl:o,sessionServerUrl:a}){super(),Pe(this,"url",void 0),Pe(this,"target",void 0),Pe(this,"features",void 0),Pe(this,"window",void 0),Pe(this,"windowTimer",void 0),Pe(this,"iClosedWindow",void 0),Pe(this,"timeout",void 0),Pe(this,"sessionSocketUrl",void 0),Pe(this,"sessionServerUrl",void 0),this.url=e,this.target=r||"_blank",this.features=n||Qee(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=a||dte,this.sessionSocketUrl=o||hte,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw $r.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const r=new qte({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),n=await r.subscribe(e);this.close(),r.cleanup();const i=JSON.parse(n);return i.error?{error:i.error,state:i.state}:i.data}}const A8="10.8.0";function lPe(t=!1){const e={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});const n=r.get("b64Params");if(n)try{const a=JSON.parse(YE(n));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){Pc.error(a)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});const o=i.get("b64Params");if(o)try{const a=JSON.parse(YE(o));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){Pc.error(a)}if(t){const a=new URL(window.location.origin+window.location.pathname);r.size!==0&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),a.search=r.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),a.hash=i.toString()),window.history.replaceState(be(be({},window.history.state),{},{as:a.href,url:a.href}),"",a.href)}return e}class zte{constructor(){Pe(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,r){this.store.set(e,r)}removeItem(e){this.store.delete(e)}}class Wte{constructor(e,r){Pe(this,"storage",void 0),Pe(this,"_storeKey",void 0),this.storage=r,this._storeKey=e;try{r.getItem(e)||this.resetStore()}catch{}}static getInstance(e,r="local"){if(!this.instanceMap.has(e)){let n;r==="local"&&p8("localStorage")?n=window.localStorage:r==="session"&&p8("sessionStorage")?n=window.sessionStorage:n=new zte,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,r){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=r,this.storage.setItem(this._storeKey,JSON.stringify(n))}}Pe(Wte,"instanceMap",new Map);class cPe{constructor(e){if(Pe(this,"state",{}),Pe(this,"options",void 0),Pe(this,"sessionManager",void 0),Pe(this,"currentStorage",void 0),Pe(this,"_storageBaseKey","auth_store"),Pe(this,"dappState",void 0),Pe(this,"addVersionInUrls",!0),Pe(this,"authProvider",void 0),Pe(this,"authProviderPromise",void 0),!e.clientId)throw uc.invalidParams("clientId is required");e.network||(e.network=f2.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=Cu.PRODUCTION),e.sdkMode||(e.sdkMode=Ds.DEFAULT),(e.buildEnv===Cu.DEVELOPMENT||e.buildEnv===Cu.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===Cu.DEVELOPMENT?(e.sdkUrl=QOe,e.dashboardUrl=tIe):e.buildEnv===Cu.STAGING?(e.sdkUrl=XOe,e.dashboardUrl=rIe):e.buildEnv===Cu.TESTING?(e.sdkUrl=ZOe,e.dashboardUrl=nIe):(e.sdkUrl=eIe,e.dashboardUrl=iIe)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=ki.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=dte),e.sessionSocketUrl||(e.sessionSocketUrl=hte),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${A8.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${A8.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=lPe(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const r=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=Wte.getInstance(r,this.options.storage);const n=this.currentStorage.get("sessionId");if(this.sessionManager=new rx({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n,allowedOrigin:this.options.sdkUrl}),(this.options.network===f2.TESTNET||this.options.network===f2.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==Cu.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,$r.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===Ds.IFRAME&&(this.authProvider=new cIe({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw $r.invalidLoginParams("AuthConnection is required");const r=be({},e),n={actionType:Rp.LOGIN,options:this.options,params:r},i=await this.authHandler(`${this.baseUrl}/start`,n,CR(e.authConnection));if(this.options.uxMode===ki.REDIRECT)return null;if(i.error)throw this.dappState=i.state,$r.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,r){var n;if(this.options.sdkMode!==Ds.IFRAME)throw $r.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(n=this.authProvider)!==null&&n!==void 0&&n.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const i=await this.authProvider.postLoginInitiatedMessage({actionType:Rp.LOGIN,params:e,options:this.options},r);if(i.error)throw $r.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var r;if(this.options.sdkMode!==Ds.IFRAME)throw $r.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((r=this.authProvider)!==null&&r!==void 0&&r.initialized))throw uc.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw $r.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var r;if(!this.sessionId)throw $r.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw $r.mfaAlreadyEnabled();const n={actionType:Rp.ENABLE_MFA,options:be(be({},this.options),{},{sdkMode:Ds.DEFAULT}),params:be(be({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n,oIe);if(this.options.uxMode===ki.REDIRECT)return null;if(i.error)throw this.dappState=i.state,$r.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((r=this.state.userInfo)===null||r===void 0)&&r.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw $r.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw $r.mfaNotEnabled();const r={dappUrl:`${window.location.origin}${window.location.pathname}`},n=rx.generateRandomSessionKey(),i={actionType:Rp.MANAGE_MFA,options:be(be({},this.options),{},{uxMode:ki.REDIRECT,sdkMode:Ds.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:be(be(be({},r),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:nx({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,i,i.options.sessionTime,!0);const o={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},a=ov({baseURL:`${this.baseUrl}/start`,hash:{b64Params:nx(o)}});window.open(a,"_blank")}async manageSocialFactor(e,r){if(!this.sessionId)throw $r.userNotLoggedIn();const n={actionType:e,options:be(be({},this.options),{},{sdkMode:Ds.DEFAULT}),params:be({},r),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==ki.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw $r.userNotLoggedIn();const r={actionType:Rp.ADD_AUTHENTICATOR_FACTOR,options:be(be({},this.options),{},{sdkMode:Ds.DEFAULT}),params:be(be({},e),{},{authConnection:lt.AUTHENTICATOR}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==ki.REDIRECT)return!n.error}async addPasskeyFactor(e){if(!this.sessionId)throw $r.userNotLoggedIn();const r={actionType:Rp.ADD_PASSKEY_FACTOR,options:be(be({},this.options),{},{sdkMode:Ds.DEFAULT}),params:be(be({},e),{},{authConnection:lt.PASSKEYS}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==ki.REDIRECT)return!n.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw $r.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,r,n=600,i=!1){if(!this.sessionManager)throw uc.notInitialized();const a=new rx({sessionServerBaseUrl:r.options.storageServerUrl,sessionNamespace:r.options.sessionNamespace,sessionTime:n,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(r)));r.options.uxMode===ki.REDIRECT&&!i&&await a}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Pc.error("authorization failed",e),{}}}updateState(e){this.state=be(be({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,r,n=1e3*10){const i=rx.generateRandomSessionKey();await this.createLoginSession(i,r);const o={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===ki.REDIRECT){const l=ov({baseURL:e,hash:{b64Params:nx(o)}});window.location.href=l;return}const a=ov({baseURL:e,hash:{b64Params:nx(o)}}),s=new sPe({url:a,timeout:n,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((l,c)=>{s.on("close",()=>{c($r.popupClosed())}),s.listenOnChannel(i).then(l).catch(c);try{s.open()}catch(u){c(u)}})}}var W4={exports:{}},K4={exports:{}},V4,FW;function mn(){if(FW)return V4;FW=1;class t extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let i=0;i<r.length;i++)n+=`    ${r[i].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return V4={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,r){return e.includes(r)},ArrayPrototypeIndexOf(e,r){return e.indexOf(r)},ArrayPrototypeJoin(e,r){return e.join(r)},ArrayPrototypeMap(e,r){return e.map(r)},ArrayPrototypePop(e,r){return e.pop(r)},ArrayPrototypePush(e,r){return e.push(r)},ArrayPrototypeSlice(e,r,n){return e.slice(r,n)},Error,FunctionPrototypeCall(e,r,...n){return e.call(r,...n)},FunctionPrototypeSymbolHasInstance(e,r){return Function.prototype[Symbol.hasInstance].call(e,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,r){return Object.defineProperties(e,r)},ObjectDefineProperty(e,r,n){return Object.defineProperty(e,r,n)},ObjectGetOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,r){return Object.setPrototypeOf(e,r)},Promise,PromisePrototypeCatch(e,r){return e.catch(r)},PromisePrototypeThen(e,r,n){return e.then(r,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,r){return e.test(r)},SafeSet:Set,String,StringPrototypeSlice(e,r,n){return e.slice(r,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,r,n){return e.set(r,n)},Boolean,Uint8Array},V4}var G4={exports:{}},Y4,UW;function Kte(){return UW||(UW=1,Y4={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),Y4}var J4,HW;function to(){if(HW)return J4;HW=1;const{format:t,inspect:e}=Kte(),{AggregateError:r}=mn(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(v,w){if(!v)throw new l.ERR_INTERNAL_ASSERTION(w)}function u(v){let w="",A=v.length;const _=v[0]==="-"?1:0;for(;A>=_+4;A-=3)w=`_${v.slice(A-3,A)}${w}`;return`${v.slice(0,A)}${w}`}function f(v,w,A){if(typeof w=="function")return c(w.length<=A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${w.length}).`),w(...A);const _=(w.match(/%[dfijoOs]/g)||[]).length;return c(_===A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${_}).`),A.length===0?w:t(w,...A)}function h(v,w,A){A||(A=Error);class _ extends A{constructor(...P){super(f(v,w,P))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(_.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),_.prototype.code=v,_.prototype[i]=!0,l[v]=_}function p(v){const w=s+v.name;return Object.defineProperty(v,"name",{value:w}),v}function y(v,w){if(v&&w&&v!==w){if(Array.isArray(w.errors))return w.errors.push(v),w;const A=new n([w,v],w.message);return A.code=w.code,A}return v||w}class m extends Error{constructor(w="The operation was aborted",A=void 0){if(A!==void 0&&typeof A!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",A);super(w,A),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(v,w,A)=>{c(typeof v=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let _="The ";v.endsWith(" argument")?_+=`${v} `:_+=`"${v}" ${v.includes(".")?"property":"argument"} `,_+="must be ";const D=[],P=[],U=[];for(const N of w)c(typeof N=="string","All expected entries have to be of type string"),o.includes(N)?D.push(N.toLowerCase()):a.test(N)?P.push(N):(c(N!=="object",'The value "object" should be written as "Object"'),U.push(N));if(P.length>0){const N=D.indexOf("object");N!==-1&&(D.splice(D,N,1),P.push("Object"))}if(D.length>0){switch(D.length){case 1:_+=`of type ${D[0]}`;break;case 2:_+=`one of type ${D[0]} or ${D[1]}`;break;default:{const N=D.pop();_+=`one of type ${D.join(", ")}, or ${N}`}}(P.length>0||U.length>0)&&(_+=" or ")}if(P.length>0){switch(P.length){case 1:_+=`an instance of ${P[0]}`;break;case 2:_+=`an instance of ${P[0]} or ${P[1]}`;break;default:{const N=P.pop();_+=`an instance of ${P.join(", ")}, or ${N}`}}U.length>0&&(_+=" or ")}switch(U.length){case 0:break;case 1:U[0].toLowerCase()!==U[0]&&(_+="an "),_+=`${U[0]}`;break;case 2:_+=`one of ${U[0]} or ${U[1]}`;break;default:{const N=U.pop();_+=`one of ${U.join(", ")}, or ${N}`}}if(A==null)_+=`. Received ${A}`;else if(typeof A=="function"&&A.name)_+=`. Received function ${A.name}`;else if(typeof A=="object"){var F;if((F=A.constructor)!==null&&F!==void 0&&F.name)_+=`. Received an instance of ${A.constructor.name}`;else{const N=e(A,{depth:-1});_+=`. Received ${N}`}}else{let N=e(A,{colors:!1});N.length>25&&(N=`${N.slice(0,25)}...`),_+=`. Received type ${typeof A} (${N})`}return _},TypeError),h("ERR_INVALID_ARG_VALUE",(v,w,A="is invalid")=>{let _=e(w);return _.length>128&&(_=_.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${A}. Received ${_}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(v,w,A)=>{var _;const D=A!=null&&(_=A.constructor)!==null&&_!==void 0&&_.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${v} to be returned from the "${w}" function but got ${D}.`},TypeError),h("ERR_MISSING_ARGS",(...v)=>{c(v.length>0,"At least one arg needs to be specified");let w;const A=v.length;switch(v=(Array.isArray(v)?v:[v]).map(_=>`"${_}"`).join(" or "),A){case 1:w+=`The ${v[0]} argument`;break;case 2:w+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const _=v.pop();w+=`The ${v.join(", ")}, and ${_} arguments`}break}return`${w} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(v,w,A)=>{c(w,'Missing "range" argument');let _;if(Number.isInteger(A)&&Math.abs(A)>2**32)_=u(String(A));else if(typeof A=="bigint"){_=String(A);const D=BigInt(2)**BigInt(32);(A>D||A<-D)&&(_=u(_)),_+="n"}else _=e(A);return`The value of "${v}" is out of range. It must be ${w}. Received ${_}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),J4={AbortError:m,aggregateTwoErrors:p(y),hideStackFrames:p,codes:l},J4}var vy={exports:{}},qW;function cw(){if(qW)return vy.exports;qW=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return vy.exports=t,vy.exports.AbortSignal=e,vy.exports.default=t,vy.exports}var zW;function _o(){return zW||(zW=1,(function(t){const e=Rc(),{format:r,inspect:n}=Kte(),{codes:{ERR_INVALID_ARG_TYPE:i}}=to(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:s}=mn(),l=globalThis.AbortSignal||cw().AbortSignal,c=globalThis.AbortController||cw().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,h=typeof f<"u"?function(v){return v instanceof f}:function(v){return!1},p=(m,v)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new i(v,"AbortSignal",m)},y=(m,v)=>{if(typeof m!="function")throw new i(v,"Function",m)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(m){let v=!1;return function(...w){v||(v=!0,m.apply(this,w))}},createDeferredPromise:function(){let m,v;return{promise:new Promise((A,_)=>{m=A,v=_}),resolve:m,reject:v}},promisify(m){return new Promise((v,w)=>{m((A,..._)=>A?w(A):v(..._))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(m){return m instanceof u},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:h,deprecate(m,v){return m},addAbortListener:db().addAbortListener||function(v,w){if(v===void 0)throw new i("signal","AbortSignal",v);p(v,"signal"),y(w,"listener");let A;return v.aborted?queueMicrotask(()=>w()):(v.addEventListener("abort",w,{__proto__:null,once:!0,[o]:!0}),A=()=>{v.removeEventListener("abort",w)}),{__proto__:null,[s](){var _;(_=A)===null||_===void 0||_()}}},AbortSignalAny:l.any||function(v){if(v.length===1)return v[0];const w=new c,A=()=>w.abort();return v.forEach(_=>{p(_,"signals"),_.addEventListener("abort",A,{once:!0})}),w.signal.addEventListener("abort",()=>{v.forEach(_=>_.removeEventListener("abort",A))},{once:!0}),w.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(G4)),G4.exports}var sx={},Q4,WW;function pb(){if(WW)return Q4;WW=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:u,String:f,StringPrototypeToUpperCase:h,StringPrototypeTrim:p}=mn(),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:_}}=to(),{normalizeEncoding:D}=_o(),{isAsyncFunction:P,isArrayBufferView:U}=_o().types,F={};function N(ce){return ce===(ce|0)}function L(ce){return ce===ce>>>0}const B=/^[0-7]+$/,R="must be a 32-bit unsigned integer or an octal string";function b(ce,Oe,ke){if(typeof ce>"u"&&(ce=ke),typeof ce=="string"){if(u(B,ce)===null)throw new w(Oe,ce,R);ce=l(ce,8)}return C(ce,Oe),ce}const x=y((ce,Oe,ke=s,ve=a)=>{if(typeof ce!="number")throw new v(Oe,"number",ce);if(!i(ce))throw new A(Oe,"an integer",ce);if(ce<ke||ce>ve)throw new A(Oe,`>= ${ke} && <= ${ve}`,ce)}),I=y((ce,Oe,ke=-2147483648,ve=2147483647)=>{if(typeof ce!="number")throw new v(Oe,"number",ce);if(!i(ce))throw new A(Oe,"an integer",ce);if(ce<ke||ce>ve)throw new A(Oe,`>= ${ke} && <= ${ve}`,ce)}),C=y((ce,Oe,ke=!1)=>{if(typeof ce!="number")throw new v(Oe,"number",ce);if(!i(ce))throw new A(Oe,"an integer",ce);const ve=ke?1:0,We=4294967295;if(ce<ve||ce>We)throw new A(Oe,`>= ${ve} && <= ${We}`,ce)});function T(ce,Oe){if(typeof ce!="string")throw new v(Oe,"string",ce)}function j(ce,Oe,ke=void 0,ve){if(typeof ce!="number")throw new v(Oe,"number",ce);if(ke!=null&&ce<ke||ve!=null&&ce>ve||(ke!=null||ve!=null)&&o(ce))throw new A(Oe,`${ke!=null?`>= ${ke}`:""}${ke!=null&&ve!=null?" && ":""}${ve!=null?`<= ${ve}`:""}`,ce)}const O=y((ce,Oe,ke)=>{if(!e(ke,ce)){const We="must be one of: "+r(n(ke,Ze=>typeof Ze=="string"?`'${Ze}'`:f(Ze)),", ");throw new w(Oe,ce,We)}});function k(ce,Oe){if(typeof ce!="boolean")throw new v(Oe,"boolean",ce)}function E(ce,Oe,ke){return ce==null||!c(ce,Oe)?ke:ce[Oe]}const M=y((ce,Oe,ke=null)=>{const ve=E(ke,"allowArray",!1),We=E(ke,"allowFunction",!1);if(!E(ke,"nullable",!1)&&ce===null||!ve&&t(ce)||typeof ce!="object"&&(!We||typeof ce!="function"))throw new v(Oe,"Object",ce)}),H=y((ce,Oe)=>{if(ce!=null&&typeof ce!="object"&&typeof ce!="function")throw new v(Oe,"a dictionary",ce)}),q=y((ce,Oe,ke=0)=>{if(!t(ce))throw new v(Oe,"Array",ce);if(ce.length<ke){const ve=`must be longer than ${ke}`;throw new w(Oe,ce,ve)}});function W(ce,Oe){q(ce,Oe);for(let ke=0;ke<ce.length;ke++)T(ce[ke],`${Oe}[${ke}]`)}function V(ce,Oe){q(ce,Oe);for(let ke=0;ke<ce.length;ke++)k(ce[ke],`${Oe}[${ke}]`)}function Q(ce,Oe){q(ce,Oe);for(let ke=0;ke<ce.length;ke++){const ve=ce[ke],We=`${Oe}[${ke}]`;if(ve==null)throw new v(We,"AbortSignal",ve);he(ve,We)}}function te(ce,Oe="signal"){if(T(ce,Oe),F[ce]===void 0)throw F[h(ce)]!==void 0?new _(ce+" (signals must use all capital letters)"):new _(ce)}const X=y((ce,Oe="buffer")=>{if(!U(ce))throw new v(Oe,["Buffer","TypedArray","DataView"],ce)});function Z(ce,Oe){const ke=D(Oe),ve=ce.length;if(ke==="hex"&&ve%2!==0)throw new w("encoding",Oe,`is invalid for data of length ${ve}`)}function ae(ce,Oe="Port",ke=!0){if(typeof ce!="number"&&typeof ce!="string"||typeof ce=="string"&&p(ce).length===0||+ce!==+ce>>>0||ce>65535||ce===0&&!ke)throw new m(Oe,ce,ke);return ce|0}const he=y((ce,Oe)=>{if(ce!==void 0&&(ce===null||typeof ce!="object"||!("aborted"in ce)))throw new v(Oe,"AbortSignal",ce)}),se=y((ce,Oe)=>{if(typeof ce!="function")throw new v(Oe,"Function",ce)}),ne=y((ce,Oe)=>{if(typeof ce!="function"||P(ce))throw new v(Oe,"Function",ce)}),oe=y((ce,Oe)=>{if(ce!==void 0)throw new v(Oe,"undefined",ce)});function fe(ce,Oe,ke){if(!e(ke,ce))throw new v(Oe,`('${r(ke,"|")}')`,ce)}const pe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function xe(ce,Oe){if(typeof ce>"u"||!u(pe,ce))throw new w(Oe,ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Se(ce){if(typeof ce=="string")return xe(ce,"hints"),ce;if(t(ce)){const Oe=ce.length;let ke="";if(Oe===0)return ke;for(let ve=0;ve<Oe;ve++){const We=ce[ve];xe(We,"hints"),ke+=We,ve!==Oe-1&&(ke+=", ")}return ke}throw new w("hints",ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Q4={isInt32:N,isUint32:L,parseFileMode:b,validateArray:q,validateStringArray:W,validateBooleanArray:V,validateAbortSignalArray:Q,validateBoolean:k,validateBuffer:X,validateDictionary:H,validateEncoding:Z,validateFunction:se,validateInt32:I,validateInteger:x,validateNumber:j,validateObject:M,validateOneOf:O,validatePlainFunction:ne,validatePort:ae,validateSignalName:te,validateString:T,validateUint32:C,validateUndefined:oe,validateUnion:fe,validateAbortSignal:he,validateLinkHeaderValue:Se},Q4}var lx={exports:{}},X4={exports:{}},KW;function Gh(){if(KW)return X4.exports;KW=1;var t=X4.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(m){if(e===setTimeout)return setTimeout(m,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(m,0);try{return e(m,0)}catch{try{return e.call(null,m,0)}catch{return e.call(this,m,0)}}}function a(m){if(r===clearTimeout)return clearTimeout(m);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(m);try{return r(m)}catch{try{return r.call(null,m)}catch{return r.call(this,m)}}}var s=[],l=!1,c,u=-1;function f(){!l||!c||(l=!1,c.length?s=c.concat(s):u=-1,s.length&&h())}function h(){if(!l){var m=o(f);l=!0;for(var v=s.length;v;){for(c=s,s=[];++u<v;)c&&c[u].run();u=-1,v=s.length}c=null,l=!1,a(m)}}t.nextTick=function(m){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];s.push(new p(m,v)),s.length===1&&!l&&o(h)};function p(m,v){this.fun=m,this.array=v}p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function y(){}return t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(m){return[]},t.binding=function(m){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(m){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},X4.exports}var Z4,VW;function Fc(){if(VW)return Z4;VW=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=mn(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),c=r("nodejs.webstream.controllerErrorFunction");function u(E,M=!1){var H;return!!(E&&typeof E.pipe=="function"&&typeof E.on=="function"&&(!M||typeof E.pause=="function"&&typeof E.resume=="function")&&(!E._writableState||((H=E._readableState)===null||H===void 0?void 0:H.readable)!==!1)&&(!E._writableState||E._readableState))}function f(E){var M;return!!(E&&typeof E.write=="function"&&typeof E.on=="function"&&(!E._readableState||((M=E._writableState)===null||M===void 0?void 0:M.writable)!==!1))}function h(E){return!!(E&&typeof E.pipe=="function"&&E._readableState&&typeof E.on=="function"&&typeof E.write=="function")}function p(E){return E&&(E._readableState||E._writableState||typeof E.write=="function"&&typeof E.on=="function"||typeof E.pipe=="function"&&typeof E.on=="function")}function y(E){return!!(E&&!p(E)&&typeof E.pipeThrough=="function"&&typeof E.getReader=="function"&&typeof E.cancel=="function")}function m(E){return!!(E&&!p(E)&&typeof E.getWriter=="function"&&typeof E.abort=="function")}function v(E){return!!(E&&!p(E)&&typeof E.readable=="object"&&typeof E.writable=="object")}function w(E){return y(E)||m(E)||v(E)}function A(E,M){return E==null?!1:M===!0?typeof E[t]=="function":M===!1?typeof E[e]=="function":typeof E[t]=="function"||typeof E[e]=="function"}function _(E){if(!p(E))return null;const M=E._writableState,H=E._readableState,q=M||H;return!!(E.destroyed||E[n]||q!=null&&q.destroyed)}function D(E){if(!f(E))return null;if(E.writableEnded===!0)return!0;const M=E._writableState;return M!=null&&M.errored?!1:typeof(M==null?void 0:M.ended)!="boolean"?null:M.ended}function P(E,M){if(!f(E))return null;if(E.writableFinished===!0)return!0;const H=E._writableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.finished)!="boolean"?null:!!(H.finished||M===!1&&H.ended===!0&&H.length===0)}function U(E){if(!u(E))return null;if(E.readableEnded===!0)return!0;const M=E._readableState;return!M||M.errored?!1:typeof(M==null?void 0:M.ended)!="boolean"?null:M.ended}function F(E,M){if(!u(E))return null;const H=E._readableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.endEmitted)!="boolean"?null:!!(H.endEmitted||M===!1&&H.ended===!0&&H.length===0)}function N(E){return E&&E[o]!=null?E[o]:typeof(E==null?void 0:E.readable)!="boolean"?null:_(E)?!1:u(E)&&E.readable&&!F(E)}function L(E){return E&&E[a]!=null?E[a]:typeof(E==null?void 0:E.writable)!="boolean"?null:_(E)?!1:f(E)&&E.writable&&!D(E)}function B(E,M){return p(E)?_(E)?!0:!((M==null?void 0:M.readable)!==!1&&N(E)||(M==null?void 0:M.writable)!==!1&&L(E)):null}function R(E){var M,H;return p(E)?E.writableErrored?E.writableErrored:(M=(H=E._writableState)===null||H===void 0?void 0:H.errored)!==null&&M!==void 0?M:null:null}function b(E){var M,H;return p(E)?E.readableErrored?E.readableErrored:(M=(H=E._readableState)===null||H===void 0?void 0:H.errored)!==null&&M!==void 0?M:null:null}function x(E){if(!p(E))return null;if(typeof E.closed=="boolean")return E.closed;const M=E._writableState,H=E._readableState;return typeof(M==null?void 0:M.closed)=="boolean"||typeof(H==null?void 0:H.closed)=="boolean"?(M==null?void 0:M.closed)||(H==null?void 0:H.closed):typeof E._closed=="boolean"&&I(E)?E._closed:null}function I(E){return typeof E._closed=="boolean"&&typeof E._defaultKeepAlive=="boolean"&&typeof E._removedConnection=="boolean"&&typeof E._removedContLen=="boolean"}function C(E){return typeof E._sent100=="boolean"&&I(E)}function T(E){var M;return typeof E._consuming=="boolean"&&typeof E._dumped=="boolean"&&((M=E.req)===null||M===void 0?void 0:M.upgradeOrConnect)===void 0}function j(E){if(!p(E))return null;const M=E._writableState,H=E._readableState,q=M||H;return!q&&C(E)||!!(q&&q.autoDestroy&&q.emitClose&&q.closed===!1)}function O(E){var M;return!!(E&&((M=E[s])!==null&&M!==void 0?M:E.readableDidRead||E.readableAborted))}function k(E){var M,H,q,W,V,Q,te,X,Z,ae;return!!(E&&((M=(H=(q=(W=(V=(Q=E[i])!==null&&Q!==void 0?Q:E.readableErrored)!==null&&V!==void 0?V:E.writableErrored)!==null&&W!==void 0?W:(te=E._readableState)===null||te===void 0?void 0:te.errorEmitted)!==null&&q!==void 0?q:(X=E._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&H!==void 0?H:(Z=E._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&M!==void 0?M:!((ae=E._writableState)===null||ae===void 0)&&ae.errored))}return Z4={isDestroyed:_,kIsDestroyed:n,isDisturbed:O,kIsDisturbed:s,isErrored:k,kIsErrored:i,isReadable:N,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:a,isClosed:x,isDuplexNodeStream:h,isFinished:B,isIterable:A,isReadableNodeStream:u,isReadableStream:y,isReadableEnded:U,isReadableFinished:F,isReadableErrored:b,isNodeStream:p,isWebStream:w,isWritable:L,isWritableNodeStream:f,isWritableStream:m,isWritableEnded:D,isWritableFinished:P,isWritableErrored:R,isServerRequest:T,isServerResponse:C,willEmitClose:j,isTransformStream:v},Z4}var GW;function Vf(){if(GW)return lx.exports;GW=1;const t=Gh(),{AbortError:e,codes:r}=to(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:a}=_o(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:u}=pb(),{Promise:f,PromisePrototypeThen:h,SymbolDispose:p}=mn(),{isClosed:y,isReadable:m,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:A,isReadableErrored:_,isWritable:D,isWritableNodeStream:P,isWritableStream:U,isWritableFinished:F,isWritableErrored:N,isNodeStream:L,willEmitClose:B,kIsClosedPromise:R}=Fc();let b;function x(O){return O.setHeader&&typeof O.abort=="function"}const I=()=>{};function C(O,k,E){var M,H;if(arguments.length===2?(E=k,k=o):k==null?k=o:c(k,"options"),l(E,"callback"),s(k.signal,"options.signal"),E=a(E),w(O)||U(O))return T(O,k,E);if(!L(O))throw new n("stream",["ReadableStream","WritableStream","Stream"],O);const q=(M=k.readable)!==null&&M!==void 0?M:v(O),W=(H=k.writable)!==null&&H!==void 0?H:P(O),V=O._writableState,Q=O._readableState,te=()=>{O.writable||ae()};let X=B(O)&&v(O)===q&&P(O)===W,Z=F(O,!1);const ae=()=>{Z=!0,O.destroyed&&(X=!1),!(X&&(!O.readable||q))&&(!q||he)&&E.call(O)};let he=A(O,!1);const se=()=>{he=!0,O.destroyed&&(X=!1),!(X&&(!O.writable||W))&&(!W||Z)&&E.call(O)},ne=ce=>{E.call(O,ce)};let oe=y(O);const fe=()=>{oe=!0;const ce=N(O)||_(O);if(ce&&typeof ce!="boolean")return E.call(O,ce);if(q&&!he&&v(O,!0)&&!A(O,!1))return E.call(O,new i);if(W&&!Z&&!F(O,!1))return E.call(O,new i);E.call(O)},pe=()=>{oe=!0;const ce=N(O)||_(O);if(ce&&typeof ce!="boolean")return E.call(O,ce);E.call(O)},xe=()=>{O.req.on("finish",ae)};x(O)?(O.on("complete",ae),X||O.on("abort",fe),O.req?xe():O.on("request",xe)):W&&!V&&(O.on("end",te),O.on("close",te)),!X&&typeof O.aborted=="boolean"&&O.on("aborted",fe),O.on("end",se),O.on("finish",ae),k.error!==!1&&O.on("error",ne),O.on("close",fe),oe?t.nextTick(fe):V!=null&&V.errorEmitted||Q!=null&&Q.errorEmitted?X||t.nextTick(pe):(!q&&(!X||m(O))&&(Z||D(O)===!1)||!W&&(!X||D(O))&&(he||m(O)===!1)||Q&&O.req&&O.aborted)&&t.nextTick(pe);const Se=()=>{E=I,O.removeListener("aborted",fe),O.removeListener("complete",ae),O.removeListener("abort",fe),O.removeListener("request",xe),O.req&&O.req.removeListener("finish",ae),O.removeListener("end",te),O.removeListener("close",te),O.removeListener("finish",ae),O.removeListener("end",se),O.removeListener("error",ne),O.removeListener("close",fe)};if(k.signal&&!oe){const ce=()=>{const Oe=E;Se(),Oe.call(O,new e(void 0,{cause:k.signal.reason}))};if(k.signal.aborted)t.nextTick(ce);else{b=b||_o().addAbortListener;const Oe=b(k.signal,ce),ke=E;E=a((...ve)=>{Oe[p](),ke.apply(O,ve)})}}return Se}function T(O,k,E){let M=!1,H=I;if(k.signal)if(H=()=>{M=!0,E.call(O,new e(void 0,{cause:k.signal.reason}))},k.signal.aborted)t.nextTick(H);else{b=b||_o().addAbortListener;const W=b(k.signal,H),V=E;E=a((...Q)=>{W[p](),V.apply(O,Q)})}const q=(...W)=>{M||t.nextTick(()=>E.apply(O,W))};return h(O[R].promise,q,q),I}function j(O,k){var E;let M=!1;return k===null&&(k=o),(E=k)!==null&&E!==void 0&&E.cleanup&&(u(k.cleanup,"cleanup"),M=k.cleanup),new f((H,q)=>{const W=C(O,k,V=>{M&&W(),V?q(V):H()})})}return lx.exports=C,lx.exports.finished=j,lx.exports}var eT,YW;function hm(){if(YW)return eT;YW=1;const t=Gh(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=to(),{Symbol:i}=mn(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=Fc(),c=i("kDestroy"),u=i("kConstruct");function f(B,R,b){B&&(B.stack,R&&!R.errored&&(R.errored=B),b&&!b.errored&&(b.errored=B))}function h(B,R){const b=this._readableState,x=this._writableState,I=x||b;return x!=null&&x.destroyed||b!=null&&b.destroyed?(typeof R=="function"&&R(),this):(f(B,x,b),x&&(x.destroyed=!0),b&&(b.destroyed=!0),I.constructed?p(this,B,R):this.once(c,function(C){p(this,e(C,B),R)}),this)}function p(B,R,b){let x=!1;function I(C){if(x)return;x=!0;const T=B._readableState,j=B._writableState;f(C,j,T),j&&(j.closed=!0),T&&(T.closed=!0),typeof b=="function"&&b(C),C?t.nextTick(y,B,C):t.nextTick(m,B)}try{B._destroy(R||null,I)}catch(C){I(C)}}function y(B,R){v(B,R),m(B)}function m(B){const R=B._readableState,b=B._writableState;b&&(b.closeEmitted=!0),R&&(R.closeEmitted=!0),(b!=null&&b.emitClose||R!=null&&R.emitClose)&&B.emit("close")}function v(B,R){const b=B._readableState,x=B._writableState;x!=null&&x.errorEmitted||b!=null&&b.errorEmitted||(x&&(x.errorEmitted=!0),b&&(b.errorEmitted=!0),B.emit("error",R))}function w(){const B=this._readableState,R=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),R&&(R.constructed=!0,R.destroyed=!1,R.closed=!1,R.closeEmitted=!1,R.errored=null,R.errorEmitted=!1,R.finalCalled=!1,R.prefinished=!1,R.ended=R.writable===!1,R.ending=R.writable===!1,R.finished=R.writable===!1)}function A(B,R,b){const x=B._readableState,I=B._writableState;if(I!=null&&I.destroyed||x!=null&&x.destroyed)return this;x!=null&&x.autoDestroy||I!=null&&I.autoDestroy?B.destroy(R):R&&(R.stack,I&&!I.errored&&(I.errored=R),x&&!x.errored&&(x.errored=R),b?t.nextTick(v,B,R):v(B,R))}function _(B,R){if(typeof B._construct!="function")return;const b=B._readableState,x=B._writableState;b&&(b.constructed=!1),x&&(x.constructed=!1),B.once(u,R),!(B.listenerCount(u)>1)&&t.nextTick(D,B)}function D(B){let R=!1;function b(x){if(R){A(B,x??new r);return}R=!0;const I=B._readableState,C=B._writableState,T=C||I;I&&(I.constructed=!0),C&&(C.constructed=!0),T.destroyed?B.emit(c,x):x?A(B,x,!0):t.nextTick(P,B)}try{B._construct(x=>{t.nextTick(b,x)})}catch(x){t.nextTick(b,x)}}function P(B){B.emit(u)}function U(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function F(B){B.emit("close")}function N(B,R){B.emit("error",R),t.nextTick(F,B)}function L(B,R){!B||a(B)||(!R&&!s(B)&&(R=new n),l(B)?(B.socket=null,B.destroy(R)):U(B)?B.abort():U(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(R):typeof B.close=="function"?B.close():R?t.nextTick(N,B,R):t.nextTick(F,B),B.destroyed||(B[o]=!0))}return eT={construct:_,destroyer:L,destroy:h,undestroy:w,errorOrDestroy:A},eT}var tT,JW;function $R(){if(JW)return tT;JW=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=mn(),{EventEmitter:r}=db();function n(o){r.call(this,o)}e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(o,a){const s=this;function l(m){o.writable&&o.write(m)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}o.on("drain",c),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",f),s.on("close",h));let u=!1;function f(){u||(u=!0,o.end())}function h(){u||(u=!0,typeof o.destroy=="function"&&o.destroy())}function p(m){y(),r.listenerCount(this,"error")===0&&this.emit("error",m)}i(s,"error",p),i(o,"error",p);function y(){s.removeListener("data",l),o.removeListener("drain",c),s.removeListener("end",f),s.removeListener("close",h),s.removeListener("error",p),o.removeListener("error",p),s.removeListener("end",y),s.removeListener("close",y),o.removeListener("close",y)}return s.on("end",y),s.on("close",y),o.on("close",y),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):t(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return tT={Stream:n,prependListener:i},tT}var rT={exports:{}},QW;function JS(){return QW||(QW=1,(function(t){const{SymbolDispose:e}=mn(),{AbortError:r,codes:n}=to(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=Fc(),s=Vf(),{ERR_INVALID_ARG_TYPE:l}=n;let c;const u=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new l(h,"AbortSignal",f)};t.exports.addAbortSignal=function(h,p){if(u(h,"signal"),!i(p)&&!o(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(h,p)},t.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const p=i(h)?()=>{h.destroy(new r(void 0,{cause:f.reason}))}:()=>{h[a](new r(void 0,{cause:f.reason}))};if(f.aborted)p();else{c=c||_o().addAbortListener;const y=c(f,p);s(h,y[e])}return h}})(rT)),rT.exports}var nT,XW;function uPe(){if(XW)return nT;XW=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=mn(),{Buffer:i}=Rc(),{inspect:o}=_o();return nT=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,u=0;for(;c;)r(l,c.data,u),u+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const u=c.slice(0,s);return this.head.data=c.slice(s),u}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[e](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,u=0;do{const f=c.data;if(s>f.length)l+=f,s-=f.length;else{s===f.length?(l+=f,++u,c.next?this.head=c.next:this.head=this.tail=null):(l+=t(f,0,s),this.head=c,c.data=t(f,s));break}++u}while((c=c.next)!==null);return this.length-=u,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let u=this.head,f=0;do{const h=u.data;if(s>h.length)r(l,h,c-s),s-=h.length;else{s===h.length?(r(l,h,c-s),++f,u.next?this.head=u.next:this.head=this.tail=null):(r(l,new n(h.buffer,h.byteOffset,s),c-s),this.head=u,u.data=h.slice(s));break}++f}while((u=u.next)!==null);return this.length-=f,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},nT}var iT,ZW;function QS(){if(ZW)return iT;ZW=1;const{MathFloor:t,NumberIsInteger:e}=mn(),{validateInteger:r}=pb(),{ERR_INVALID_ARG_VALUE:n}=to().codes;let i=16*1024,o=16;function a(u,f,h){return u.highWaterMark!=null?u.highWaterMark:f?u[h]:null}function s(u){return u?o:i}function l(u,f){r(f,"value",0),u?o=f:i=f}function c(u,f,h,p){const y=a(f,p,h);if(y!=null){if(!e(y)||y<0){const m=p?`options.${h}`:"options.highWaterMark";throw new n(m,y)}return t(y)}return s(u.objectMode)}return iT={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},iT}var oT={},cx={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var eK;function fPe(){return eK||(eK=1,(function(t,e){var r=Rc(),n=r.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(a,s,l){return n(a,s,l)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(cx,cx.exports)),cx.exports}var tK;function dPe(){if(tK)return oT;tK=1;var t=fPe().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var A;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(A)return;w=(""+w).toLowerCase(),A=!0}}function n(w){var A=r(w);if(typeof A!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return A||w}oT.StringDecoder=i;function i(w){this.encoding=n(w);var A;switch(this.encoding){case"utf16le":this.text=f,this.end=h,A=4;break;case"utf8":this.fillLast=l,A=4;break;case"base64":this.text=p,this.end=y,A=3;break;default:this.write=m,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(A)}i.prototype.write=function(w){if(w.length===0)return"";var A,_;if(this.lastNeed){if(A=this.fillLast(w),A===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<w.length?A?A+this.text(w,_):this.text(w,_):A||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function o(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,A,_){var D=A.length-1;if(D<_)return 0;var P=o(A[D]);return P>=0?(P>0&&(w.lastNeed=P-1),P):--D<_||P===-2?0:(P=o(A[D]),P>=0?(P>0&&(w.lastNeed=P-2),P):--D<_||P===-2?0:(P=o(A[D]),P>=0?(P>0&&(P===2?P=0:w.lastNeed=P-3),P):0))}function s(w,A,_){if((A[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return w.lastNeed=2,""}}function l(w){var A=this.lastTotal-this.lastNeed,_=s(this,w);if(_!==void 0)return _;if(this.lastNeed<=w.length)return w.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,A,0,w.length),this.lastNeed-=w.length}function c(w,A){var _=a(this,w,A);if(!this.lastNeed)return w.toString("utf8",A);this.lastTotal=_;var D=w.length-(_-this.lastNeed);return w.copy(this.lastChar,0,D),w.toString("utf8",A,D)}function u(w){var A=w&&w.length?this.write(w):"";return this.lastNeed?A+"":A}function f(w,A){if((w.length-A)%2===0){var _=w.toString("utf16le",A);if(_){var D=_.charCodeAt(_.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",A,w.length-1)}function h(w){var A=w&&w.length?this.write(w):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,_)}return A}function p(w,A){var _=(w.length-A)%3;return _===0?w.toString("base64",A):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",A,w.length-_))}function y(w){var A=w&&w.length?this.write(w):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function m(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}return oT}var aT,rK;function Vte(){if(rK)return aT;rK=1;const t=Gh(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=mn(),{Buffer:i}=Rc(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=to().codes;function s(l,c,u){let f;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...u,read(){this.push(c),this.push(null)}});let h;if(c&&c[r])h=!0,f=c[r]();else if(c&&c[n])h=!1,f=c[n]();else throw new o("iterable",["Iterable"],c);const p=new l({objectMode:!0,highWaterMark:1,...u});let y=!1;p._read=function(){y||(y=!0,v())},p._destroy=function(w,A){e(m(w),()=>t.nextTick(A,w),_=>t.nextTick(A,_||w))};async function m(w){const A=w!=null,_=typeof f.throw=="function";if(A&&_){const{value:D,done:P}=await f.throw(w);if(await D,P)return}if(typeof f.return=="function"){const{value:D}=await f.return();await D}}async function v(){for(;;){try{const{value:w,done:A}=h?await f.next():f.next();if(A)p.push(null);else{const _=w&&typeof w.then=="function"?await w:w;if(_===null)throw y=!1,new a;if(p.push(_))continue;y=!1}}catch(w){p.destroy(w)}break}}return p}return aT=s,aT}var sT,nK;function XS(){if(nK)return sT;nK=1;const t=Gh(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:u,SymbolAsyncIterator:f,Symbol:h}=mn();sT=ve,ve.ReadableState=ke;const{EventEmitter:p}=db(),{Stream:y,prependListener:m}=$R(),{Buffer:v}=Rc(),{addAbortSignal:w}=JS(),A=Vf();let _=_o().debuglog("stream",le=>{_=le});const D=uPe(),P=hm(),{getHighWaterMark:U,getDefaultHighWaterMark:F}=QS(),{aggregateTwoErrors:N,codes:{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:R,ERR_STREAM_PUSH_AFTER_EOF:b,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:x},AbortError:I}=to(),{validateObject:C}=pb(),T=h("kPaused"),{StringDecoder:j}=dPe(),O=Vte();s(ve.prototype,y.prototype),s(ve,y);const k=()=>{},{errorOrDestroy:E}=P,M=1,H=2,q=4,W=8,V=16,Q=32,te=64,X=128,Z=256,ae=512,he=1024,se=2048,ne=4096,oe=8192,fe=16384,pe=32768,xe=65536,Se=1<<17,ce=1<<18;function Oe(le){return{enumerable:!1,get(){return(this.state&le)!==0},set(de){de?this.state|=le:this.state&=~le}}}o(ke.prototype,{objectMode:Oe(M),ended:Oe(H),endEmitted:Oe(q),reading:Oe(W),constructed:Oe(V),sync:Oe(Q),needReadable:Oe(te),emittedReadable:Oe(X),readableListening:Oe(Z),resumeScheduled:Oe(ae),errorEmitted:Oe(he),emitClose:Oe(se),autoDestroy:Oe(ne),destroyed:Oe(oe),closed:Oe(fe),closeEmitted:Oe(pe),multiAwaitDrain:Oe(xe),readingMore:Oe(Se),dataEmitted:Oe(ce)});function ke(le,de,je){typeof je!="boolean"&&(je=de instanceof kc()),this.state=se|ne|V|Q,le&&le.objectMode&&(this.state|=M),je&&le&&le.readableObjectMode&&(this.state|=M),this.highWaterMark=le?U(this,le,"readableHighWaterMark",je):F(!1),this.buffer=new D,this.length=0,this.pipes=[],this.flowing=null,this[T]=null,le&&le.emitClose===!1&&(this.state&=~se),le&&le.autoDestroy===!1&&(this.state&=~ne),this.errored=null,this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,le&&le.encoding&&(this.decoder=new j(le.encoding),this.encoding=le.encoding)}function ve(le){if(!(this instanceof ve))return new ve(le);const de=this instanceof kc();this._readableState=new ke(le,this,de),le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.construct=="function"&&(this._construct=le.construct),le.signal&&!de&&w(le.signal,this)),y.call(this,le),P.construct(this,()=>{this._readableState.needReadable&&we(this,this._readableState)})}ve.prototype.destroy=P.destroy,ve.prototype._undestroy=P.undestroy,ve.prototype._destroy=function(le,de){de(le)},ve.prototype[p.captureRejectionSymbol]=function(le){this.destroy(le)},ve.prototype[u]=function(){let le;return this.destroyed||(le=this.readableEnded?null:new I,this.destroy(le)),new l((de,je)=>A(this,Ke=>Ke&&Ke!==le?je(Ke):de(null)))},ve.prototype.push=function(le,de){return We(this,le,de,!1)},ve.prototype.unshift=function(le,de){return We(this,le,de,!0)};function We(le,de,je,Ke){_("readableAddChunk",de);const Ve=le._readableState;let Ft;if((Ve.state&M)===0&&(typeof de=="string"?(je=je||Ve.defaultEncoding,Ve.encoding!==je&&(Ke&&Ve.encoding?de=v.from(de,je).toString(Ve.encoding):(de=v.from(de,je),je=""))):de instanceof v?je="":y._isUint8Array(de)?(de=y._uint8ArrayToBuffer(de),je=""):de!=null&&(Ft=new L("chunk",["string","Buffer","Uint8Array"],de))),Ft)E(le,Ft);else if(de===null)Ve.state&=~W,K(le,Ve);else if((Ve.state&M)!==0||de&&de.length>0)if(Ke)if((Ve.state&q)!==0)E(le,new x);else{if(Ve.destroyed||Ve.errored)return!1;Ze(le,Ve,de,!0)}else if(Ve.ended)E(le,new b);else{if(Ve.destroyed||Ve.errored)return!1;Ve.state&=~W,Ve.decoder&&!je?(de=Ve.decoder.write(de),Ve.objectMode||de.length!==0?Ze(le,Ve,de,!1):we(le,Ve)):Ze(le,Ve,de,!1)}else Ke||(Ve.state&=~W,we(le,Ve));return!Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function Ze(le,de,je,Ke){de.flowing&&de.length===0&&!de.sync&&le.listenerCount("data")>0?((de.state&xe)!==0?de.awaitDrainWriters.clear():de.awaitDrainWriters=null,de.dataEmitted=!0,le.emit("data",je)):(de.length+=de.objectMode?1:je.length,Ke?de.buffer.unshift(je):de.buffer.push(je),(de.state&te)!==0&&J(le)),we(le,de)}ve.prototype.isPaused=function(){const le=this._readableState;return le[T]===!0||le.flowing===!1},ve.prototype.setEncoding=function(le){const de=new j(le);this._readableState.decoder=de,this._readableState.encoding=this._readableState.decoder.encoding;const je=this._readableState.buffer;let Ke="";for(const Ve of je)Ke+=de.write(Ve);return je.clear(),Ke!==""&&je.push(Ke),this._readableState.length=Ke.length,this};const Ye=1073741824;function jt(le){if(le>Ye)throw new R("size","<= 1GiB",le);return le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++,le}function re(le,de){return le<=0||de.length===0&&de.ended?0:(de.state&M)!==0?1:n(le)?de.flowing&&de.length?de.buffer.first().length:de.length:le<=de.length?le:de.ended?de.length:0}ve.prototype.read=function(le){_("read",le),le===void 0?le=NaN:r(le)||(le=i(le,10));const de=this._readableState,je=le;if(le>de.highWaterMark&&(de.highWaterMark=jt(le)),le!==0&&(de.state&=~X),le===0&&de.needReadable&&((de.highWaterMark!==0?de.length>=de.highWaterMark:de.length>0)||de.ended))return _("read: emitReadable",de.length,de.ended),de.length===0&&de.ended?Gt(this):J(this),null;if(le=re(le,de),le===0&&de.ended)return de.length===0&&Gt(this),null;let Ke=(de.state&te)!==0;if(_("need readable",Ke),(de.length===0||de.length-le<de.highWaterMark)&&(Ke=!0,_("length less than watermark",Ke)),de.ended||de.reading||de.destroyed||de.errored||!de.constructed)Ke=!1,_("reading, ended or constructing",Ke);else if(Ke){_("do read"),de.state|=W|Q,de.length===0&&(de.state|=te);try{this._read(de.highWaterMark)}catch(Ft){E(this,Ft)}de.state&=~Q,de.reading||(le=re(je,de))}let Ve;return le>0?Ve=on(le,de):Ve=null,Ve===null?(de.needReadable=de.length<=de.highWaterMark,le=0):(de.length-=le,de.multiAwaitDrain?de.awaitDrainWriters.clear():de.awaitDrainWriters=null),de.length===0&&(de.ended||(de.needReadable=!0),je!==le&&de.ended&&Gt(this)),Ve!==null&&!de.errorEmitted&&!de.closeEmitted&&(de.dataEmitted=!0,this.emit("data",Ve)),Ve};function K(le,de){if(_("onEofChunk"),!de.ended){if(de.decoder){const je=de.decoder.end();je&&je.length&&(de.buffer.push(je),de.length+=de.objectMode?1:je.length)}de.ended=!0,de.sync?J(le):(de.needReadable=!1,de.emittedReadable=!0,ue(le))}}function J(le){const de=le._readableState;_("emitReadable",de.needReadable,de.emittedReadable),de.needReadable=!1,de.emittedReadable||(_("emitReadable",de.flowing),de.emittedReadable=!0,t.nextTick(ue,le))}function ue(le){const de=le._readableState;_("emitReadable_",de.destroyed,de.length,de.ended),!de.destroyed&&!de.errored&&(de.length||de.ended)&&(le.emit("readable"),de.emittedReadable=!1),de.needReadable=!de.flowing&&!de.ended&&de.length<=de.highWaterMark,It(le)}function we(le,de){!de.readingMore&&de.constructed&&(de.readingMore=!0,t.nextTick(Le,le,de))}function Le(le,de){for(;!de.reading&&!de.ended&&(de.length<de.highWaterMark||de.flowing&&de.length===0);){const je=de.length;if(_("maybeReadMore read 0"),le.read(0),je===de.length)break}de.readingMore=!1}ve.prototype._read=function(le){throw new B("_read()")},ve.prototype.pipe=function(le,de){const je=this,Ke=this._readableState;Ke.pipes.length===1&&(Ke.multiAwaitDrain||(Ke.multiAwaitDrain=!0,Ke.awaitDrainWriters=new c(Ke.awaitDrainWriters?[Ke.awaitDrainWriters]:[]))),Ke.pipes.push(le),_("pipe count=%d opts=%j",Ke.pipes.length,de);const Ft=(!de||de.end!==!1)&&le!==t.stdout&&le!==t.stderr?Yt:ia;Ke.endEmitted?t.nextTick(Ft):je.once("end",Ft),le.on("unpipe",zr);function zr(Mo,mi){_("onunpipe"),Mo===je&&mi&&mi.hasUnpiped===!1&&(mi.hasUnpiped=!0,Ar())}function Yt(){_("onend"),le.end()}let Xt,In=!1;function Ar(){_("cleanup"),le.removeListener("close",yr),le.removeListener("finish",no),Xt&&le.removeListener("drain",Xt),le.removeListener("error",Wr),le.removeListener("unpipe",zr),je.removeListener("end",Yt),je.removeListener("end",ia),je.removeListener("data",To),In=!0,Xt&&Ke.awaitDrainWriters&&(!le._writableState||le._writableState.needDrain)&&Xt()}function Or(){In||(Ke.pipes.length===1&&Ke.pipes[0]===le?(_("false write response, pause",0),Ke.awaitDrainWriters=le,Ke.multiAwaitDrain=!1):Ke.pipes.length>1&&Ke.pipes.includes(le)&&(_("false write response, pause",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.add(le)),je.pause()),Xt||(Xt=Ce(je,le),le.on("drain",Xt))}je.on("data",To);function To(Mo){_("ondata");const mi=le.write(Mo);_("dest.write",mi),mi===!1&&Or()}function Wr(Mo){if(_("onerror",Mo),ia(),le.removeListener("error",Wr),le.listenerCount("error")===0){const mi=le._writableState||le._readableState;mi&&!mi.errorEmitted?E(le,Mo):le.emit("error",Mo)}}m(le,"error",Wr);function yr(){le.removeListener("finish",no),ia()}le.once("close",yr);function no(){_("onfinish"),le.removeListener("close",yr),ia()}le.once("finish",no);function ia(){_("unpipe"),je.unpipe(le)}return le.emit("pipe",je),le.writableNeedDrain===!0?Or():Ke.flowing||(_("pipe resume"),je.resume()),le};function Ce(le,de){return function(){const Ke=le._readableState;Ke.awaitDrainWriters===de?(_("pipeOnDrain",1),Ke.awaitDrainWriters=null):Ke.multiAwaitDrain&&(_("pipeOnDrain",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.delete(de)),(!Ke.awaitDrainWriters||Ke.awaitDrainWriters.size===0)&&le.listenerCount("data")&&le.resume()}}ve.prototype.unpipe=function(le){const de=this._readableState,je={hasUnpiped:!1};if(de.pipes.length===0)return this;if(!le){const Ve=de.pipes;de.pipes=[],this.pause();for(let Ft=0;Ft<Ve.length;Ft++)Ve[Ft].emit("unpipe",this,{hasUnpiped:!1});return this}const Ke=e(de.pipes,le);return Ke===-1?this:(de.pipes.splice(Ke,1),de.pipes.length===0&&this.pause(),le.emit("unpipe",this,je),this)},ve.prototype.on=function(le,de){const je=y.prototype.on.call(this,le,de),Ke=this._readableState;return le==="data"?(Ke.readableListening=this.listenerCount("readable")>0,Ke.flowing!==!1&&this.resume()):le==="readable"&&!Ke.endEmitted&&!Ke.readableListening&&(Ke.readableListening=Ke.needReadable=!0,Ke.flowing=!1,Ke.emittedReadable=!1,_("on readable",Ke.length,Ke.reading),Ke.length?J(this):Ke.reading||t.nextTick(Ot,this)),je},ve.prototype.addListener=ve.prototype.on,ve.prototype.removeListener=function(le,de){const je=y.prototype.removeListener.call(this,le,de);return le==="readable"&&t.nextTick(tt,this),je},ve.prototype.off=ve.prototype.removeListener,ve.prototype.removeAllListeners=function(le){const de=y.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&t.nextTick(tt,this),de};function tt(le){const de=le._readableState;de.readableListening=le.listenerCount("readable")>0,de.resumeScheduled&&de[T]===!1?de.flowing=!0:le.listenerCount("data")>0?le.resume():de.readableListening||(de.flowing=null)}function Ot(le){_("readable nexttick read 0"),le.read(0)}ve.prototype.resume=function(){const le=this._readableState;return le.flowing||(_("resume"),le.flowing=!le.readableListening,ft(this,le)),le[T]=!1,this};function ft(le,de){de.resumeScheduled||(de.resumeScheduled=!0,t.nextTick(ct,le,de))}function ct(le,de){_("resume",de.reading),de.reading||le.read(0),de.resumeScheduled=!1,le.emit("resume"),It(le),de.flowing&&!de.reading&&le.read(0)}ve.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this};function It(le){const de=le._readableState;for(_("flow",de.flowing);de.flowing&&le.read()!==null;);}ve.prototype.wrap=function(le){let de=!1;le.on("data",Ke=>{!this.push(Ke)&&le.pause&&(de=!0,le.pause())}),le.on("end",()=>{this.push(null)}),le.on("error",Ke=>{E(this,Ke)}),le.on("close",()=>{this.destroy()}),le.on("destroy",()=>{this.destroy()}),this._read=()=>{de&&le.resume&&(de=!1,le.resume())};const je=a(le);for(let Ke=1;Ke<je.length;Ke++){const Ve=je[Ke];this[Ve]===void 0&&typeof le[Ve]=="function"&&(this[Ve]=le[Ve].bind(le))}return this},ve.prototype[f]=function(){return $t(this)},ve.prototype.iterator=function(le){return le!==void 0&&C(le,"options"),$t(this,le)};function $t(le,de){typeof le.read!="function"&&(le=ve.wrap(le,{objectMode:!0}));const je=mr(le,de);return je.stream=le,je}async function*mr(le,de){let je=k;function Ke(zr){this===le?(je(),je=k):je=zr}le.on("readable",Ke);let Ve;const Ft=A(le,{writable:!1},zr=>{Ve=zr?N(Ve,zr):null,je(),je=k});try{for(;;){const zr=le.destroyed?null:le.read();if(zr!==null)yield zr;else{if(Ve)throw Ve;if(Ve===null)return;await new l(Ke)}}}catch(zr){throw Ve=N(Ve,zr),Ve}finally{(Ve||(de==null?void 0:de.destroyOnReturn)!==!1)&&(Ve===void 0||le._readableState.autoDestroy)?P.destroyer(le,null):(le.off("readable",Ke),Ft())}}o(ve.prototype,{readable:{__proto__:null,get(){const le=this._readableState;return!!le&&le.readable!==!1&&!le.destroyed&&!le.errorEmitted&&!le.endEmitted},set(le){this._readableState&&(this._readableState.readable=!!le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(le){this._readableState&&(this._readableState.destroyed=le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(ke.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[T]!==!1},set(le){this[T]=!!le}}}),ve._fromList=on;function on(le,de){if(de.length===0)return null;let je;return de.objectMode?je=de.buffer.shift():!le||le>=de.length?(de.decoder?je=de.buffer.join(""):de.buffer.length===1?je=de.buffer.first():je=de.buffer.concat(de.length),de.buffer.clear()):je=de.buffer.consume(le,de.decoder),je}function Gt(le){const de=le._readableState;_("endReadable",de.endEmitted),de.endEmitted||(de.ended=!0,t.nextTick(or,de,le))}function or(le,de){if(_("endReadableNT",le.endEmitted,le.length),!le.errored&&!le.closeEmitted&&!le.endEmitted&&le.length===0){if(le.endEmitted=!0,de.emit("end"),de.writable&&de.allowHalfOpen===!1)t.nextTick(qa,de);else if(le.autoDestroy){const je=de._writableState;(!je||je.autoDestroy&&(je.finished||je.writable===!1))&&de.destroy()}}}function qa(le){le.writable&&!le.writableEnded&&!le.destroyed&&le.end()}ve.from=function(le,de){return O(ve,le,de)};let at;function Rt(){return at===void 0&&(at={}),at}return ve.fromWeb=function(le,de){return Rt().newStreamReadableFromReadableStream(le,de)},ve.toWeb=function(le,de){return Rt().newReadableStreamFromStreamReadable(le,de)},ve.wrap=function(le,de){var je,Ke;return new ve({objectMode:(je=(Ke=le.readableObjectMode)!==null&&Ke!==void 0?Ke:le.objectMode)!==null&&je!==void 0?je:!0,...de,destroy(Ve,Ft){P.destroyer(le,Ve),Ft(Ve)}}).wrap(le)},sT}var lT,iK;function FR(){if(iK)return lT;iK=1;const t=Gh(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=mn();lT=C,C.WritableState=x;const{EventEmitter:u}=db(),f=$R().Stream,{Buffer:h}=Rc(),p=hm(),{addAbortSignal:y}=JS(),{getHighWaterMark:m,getDefaultHighWaterMark:v}=QS(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:P,ERR_STREAM_ALREADY_FINISHED:U,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:N,ERR_UNKNOWN_ENCODING:L}=to().codes,{errorOrDestroy:B}=p;a(C.prototype,f.prototype),a(C,f);function R(){}const b=l("kOnFinished");function x(ne,oe,fe){typeof fe!="boolean"&&(fe=oe instanceof kc()),this.objectMode=!!(ne&&ne.objectMode),fe&&(this.objectMode=this.objectMode||!!(ne&&ne.writableObjectMode)),this.highWaterMark=ne?m(this,ne,"writableHighWaterMark",fe):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const pe=!!(ne&&ne.decodeStrings===!1);this.decodeStrings=!pe,this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,oe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ne||ne.emitClose!==!1,this.autoDestroy=!ne||ne.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[b]=[]}function I(ne){ne.buffered=[],ne.bufferedIndex=0,ne.allBuffers=!0,ne.allNoop=!0}x.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(x.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function C(ne){const oe=this instanceof kc();if(!oe&&!n(C,this))return new C(ne);this._writableState=new x(ne,this,oe),ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final),typeof ne.construct=="function"&&(this._construct=ne.construct),ne.signal&&y(ne.signal,this)),f.call(this,ne),p.construct(this,()=>{const fe=this._writableState;fe.writing||W(this,fe),X(this,fe)})}i(C,c,{__proto__:null,value:function(ne){return n(this,ne)?!0:this!==C?!1:ne&&ne._writableState instanceof x}}),C.prototype.pipe=function(){B(this,new D)};function T(ne,oe,fe,pe){const xe=ne._writableState;if(typeof fe=="function")pe=fe,fe=xe.defaultEncoding;else{if(!fe)fe=xe.defaultEncoding;else if(fe!=="buffer"&&!h.isEncoding(fe))throw new L(fe);typeof pe!="function"&&(pe=R)}if(oe===null)throw new F;if(!xe.objectMode)if(typeof oe=="string")xe.decodeStrings!==!1&&(oe=h.from(oe,fe),fe="buffer");else if(oe instanceof h)fe="buffer";else if(f._isUint8Array(oe))oe=f._uint8ArrayToBuffer(oe),fe="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],oe);let Se;return xe.ending?Se=new N:xe.destroyed&&(Se=new P("write")),Se?(t.nextTick(pe,Se),B(ne,Se,!0),Se):(xe.pendingcb++,j(ne,xe,oe,fe,pe))}C.prototype.write=function(ne,oe,fe){return T(this,ne,oe,fe)===!0},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const ne=this._writableState;ne.corked&&(ne.corked--,ne.writing||W(this,ne))},C.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=s(oe)),!h.isEncoding(oe))throw new L(oe);return this._writableState.defaultEncoding=oe,this};function j(ne,oe,fe,pe,xe){const Se=oe.objectMode?1:fe.length;oe.length+=Se;const ce=oe.length<oe.highWaterMark;return ce||(oe.needDrain=!0),oe.writing||oe.corked||oe.errored||!oe.constructed?(oe.buffered.push({chunk:fe,encoding:pe,callback:xe}),oe.allBuffers&&pe!=="buffer"&&(oe.allBuffers=!1),oe.allNoop&&xe!==R&&(oe.allNoop=!1)):(oe.writelen=Se,oe.writecb=xe,oe.writing=!0,oe.sync=!0,ne._write(fe,pe,oe.onwrite),oe.sync=!1),ce&&!oe.errored&&!oe.destroyed}function O(ne,oe,fe,pe,xe,Se,ce){oe.writelen=pe,oe.writecb=ce,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new P("write")):fe?ne._writev(xe,oe.onwrite):ne._write(xe,Se,oe.onwrite),oe.sync=!1}function k(ne,oe,fe,pe){--oe.pendingcb,pe(fe),q(oe),B(ne,fe)}function E(ne,oe){const fe=ne._writableState,pe=fe.sync,xe=fe.writecb;if(typeof xe!="function"){B(ne,new _);return}fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0,oe?(oe.stack,fe.errored||(fe.errored=oe),ne._readableState&&!ne._readableState.errored&&(ne._readableState.errored=oe),pe?t.nextTick(k,ne,fe,oe,xe):k(ne,fe,oe,xe)):(fe.buffered.length>fe.bufferedIndex&&W(ne,fe),pe?fe.afterWriteTickInfo!==null&&fe.afterWriteTickInfo.cb===xe?fe.afterWriteTickInfo.count++:(fe.afterWriteTickInfo={count:1,cb:xe,stream:ne,state:fe},t.nextTick(M,fe.afterWriteTickInfo)):H(ne,fe,1,xe))}function M({stream:ne,state:oe,count:fe,cb:pe}){return oe.afterWriteTickInfo=null,H(ne,oe,fe,pe)}function H(ne,oe,fe,pe){for(!oe.ending&&!ne.destroyed&&oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ne.emit("drain"));fe-- >0;)oe.pendingcb--,pe();oe.destroyed&&q(oe),X(ne,oe)}function q(ne){if(ne.writing)return;for(let xe=ne.bufferedIndex;xe<ne.buffered.length;++xe){var oe;const{chunk:Se,callback:ce}=ne.buffered[xe],Oe=ne.objectMode?1:Se.length;ne.length-=Oe,ce((oe=ne.errored)!==null&&oe!==void 0?oe:new P("write"))}const fe=ne[b].splice(0);for(let xe=0;xe<fe.length;xe++){var pe;fe[xe]((pe=ne.errored)!==null&&pe!==void 0?pe:new P("end"))}I(ne)}function W(ne,oe){if(oe.corked||oe.bufferProcessing||oe.destroyed||!oe.constructed)return;const{buffered:fe,bufferedIndex:pe,objectMode:xe}=oe,Se=fe.length-pe;if(!Se)return;let ce=pe;if(oe.bufferProcessing=!0,Se>1&&ne._writev){oe.pendingcb-=Se-1;const Oe=oe.allNoop?R:ve=>{for(let We=ce;We<fe.length;++We)fe[We].callback(ve)},ke=oe.allNoop&&ce===0?fe:e(fe,ce);ke.allBuffers=oe.allBuffers,O(ne,oe,!0,oe.length,ke,"",Oe),I(oe)}else{do{const{chunk:Oe,encoding:ke,callback:ve}=fe[ce];fe[ce++]=null;const We=xe?1:Oe.length;O(ne,oe,!1,We,Oe,ke,ve)}while(ce<fe.length&&!oe.writing);ce===fe.length?I(oe):ce>256?(fe.splice(0,ce),oe.bufferedIndex=0):oe.bufferedIndex=ce}oe.bufferProcessing=!1}C.prototype._write=function(ne,oe,fe){if(this._writev)this._writev([{chunk:ne,encoding:oe}],fe);else throw new A("_write()")},C.prototype._writev=null,C.prototype.end=function(ne,oe,fe){const pe=this._writableState;typeof ne=="function"?(fe=ne,ne=null,oe=null):typeof oe=="function"&&(fe=oe,oe=null);let xe;if(ne!=null){const Se=T(this,ne,oe);Se instanceof r&&(xe=Se)}return pe.corked&&(pe.corked=1,this.uncork()),xe||(!pe.errored&&!pe.ending?(pe.ending=!0,X(this,pe,!0),pe.ended=!0):pe.finished?xe=new U("end"):pe.destroyed&&(xe=new P("end"))),typeof fe=="function"&&(xe||pe.finished?t.nextTick(fe,xe):pe[b].push(fe)),this};function V(ne){return ne.ending&&!ne.destroyed&&ne.constructed&&ne.length===0&&!ne.errored&&ne.buffered.length===0&&!ne.finished&&!ne.writing&&!ne.errorEmitted&&!ne.closeEmitted}function Q(ne,oe){let fe=!1;function pe(xe){if(fe){B(ne,xe??_());return}if(fe=!0,oe.pendingcb--,xe){const Se=oe[b].splice(0);for(let ce=0;ce<Se.length;ce++)Se[ce](xe);B(ne,xe,oe.sync)}else V(oe)&&(oe.prefinished=!0,ne.emit("prefinish"),oe.pendingcb++,t.nextTick(Z,ne,oe))}oe.sync=!0,oe.pendingcb++;try{ne._final(pe)}catch(xe){pe(xe)}oe.sync=!1}function te(ne,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ne._final=="function"&&!oe.destroyed?(oe.finalCalled=!0,Q(ne,oe)):(oe.prefinished=!0,ne.emit("prefinish")))}function X(ne,oe,fe){V(oe)&&(te(ne,oe),oe.pendingcb===0&&(fe?(oe.pendingcb++,t.nextTick((pe,xe)=>{V(xe)?Z(pe,xe):xe.pendingcb--},ne,oe)):V(oe)&&(oe.pendingcb++,Z(ne,oe))))}function Z(ne,oe){oe.pendingcb--,oe.finished=!0;const fe=oe[b].splice(0);for(let pe=0;pe<fe.length;pe++)fe[pe]();if(ne.emit("finish"),oe.autoDestroy){const pe=ne._readableState;(!pe||pe.autoDestroy&&(pe.endEmitted||pe.readable===!1))&&ne.destroy()}}o(C.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ne){this._writableState&&(this._writableState.destroyed=ne)}},writable:{__proto__:null,get(){const ne=this._writableState;return!!ne&&ne.writable!==!1&&!ne.destroyed&&!ne.errored&&!ne.ending&&!ne.ended},set(ne){this._writableState&&(this._writableState.writable=!!ne)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ne=this._writableState;return ne?!ne.destroyed&&!ne.ending&&ne.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ae=p.destroy;C.prototype.destroy=function(ne,oe){const fe=this._writableState;return!fe.destroyed&&(fe.bufferedIndex<fe.buffered.length||fe[b].length)&&t.nextTick(q,fe),ae.call(this,ne,oe),this},C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(ne,oe){oe(ne)},C.prototype[u.captureRejectionSymbol]=function(ne){this.destroy(ne)};let he;function se(){return he===void 0&&(he={}),he}return C.fromWeb=function(ne,oe){return se().newStreamWritableFromWritableStream(ne,oe)},C.toWeb=function(ne){return se().newWritableStreamFromStreamWritable(ne)},lT}var cT,oK;function hPe(){if(oK)return cT;oK=1;const t=Gh(),e=Rc(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:u}=Fc(),f=Vf(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:y}}=to(),{destroyer:m}=hm(),v=kc(),w=XS(),A=FR(),{createDeferredPromise:_}=_o(),D=Vte(),P=globalThis.Blob||e.Blob,U=typeof P<"u"?function(x){return x instanceof P}:function(x){return!1},F=globalThis.AbortController||cw().AbortController,{FunctionPrototypeCall:N}=mn();class L extends v{constructor(x){super(x),(x==null?void 0:x.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(x==null?void 0:x.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}cT=function b(x,I){if(l(x))return x;if(a(x))return R({readable:x});if(s(x))return R({writable:x});if(o(x))return R({writable:!1,readable:!1});if(c(x))return R({readable:w.fromWeb(x)});if(u(x))return R({writable:A.fromWeb(x)});if(typeof x=="function"){const{value:T,write:j,final:O,destroy:k}=B(x);if(i(T))return D(L,T,{objectMode:!0,write:j,final:O,destroy:k});const E=T==null?void 0:T.then;if(typeof E=="function"){let M;const H=N(E,T,q=>{if(q!=null)throw new y("nully","body",q)},q=>{m(M,q)});return M=new L({objectMode:!0,readable:!1,write:j,final(q){O(async()=>{try{await H,t.nextTick(q,null)}catch(W){t.nextTick(q,W)}})},destroy:k})}throw new y("Iterable, AsyncIterable or AsyncFunction",I,T)}if(U(x))return b(x.arrayBuffer());if(i(x))return D(L,x,{objectMode:!0,writable:!1});if(c(x==null?void 0:x.readable)&&u(x==null?void 0:x.writable))return L.fromWeb(x);if(typeof(x==null?void 0:x.writable)=="object"||typeof(x==null?void 0:x.readable)=="object"){const T=x!=null&&x.readable?a(x==null?void 0:x.readable)?x==null?void 0:x.readable:b(x.readable):void 0,j=x!=null&&x.writable?s(x==null?void 0:x.writable)?x==null?void 0:x.writable:b(x.writable):void 0;return R({readable:T,writable:j})}const C=x==null?void 0:x.then;if(typeof C=="function"){let T;return N(C,x,j=>{j!=null&&T.push(j),T.push(null)},j=>{m(T,j)}),T=new L({objectMode:!0,writable:!1,read(){}})}throw new p(I,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],x)};function B(b){let{promise:x,resolve:I}=_();const C=new F,T=C.signal;return{value:b((async function*(){for(;;){const O=x;x=null;const{chunk:k,done:E,cb:M}=await O;if(t.nextTick(M),E)return;if(T.aborted)throw new h(void 0,{cause:T.reason});({promise:x,resolve:I}=_()),yield k}})(),{signal:T}),write(O,k,E){const M=I;I=null,M({chunk:O,done:!1,cb:E})},final(O){const k=I;I=null,k({done:!0,cb:O})},destroy(O,k){C.abort(),k(O)}}}function R(b){const x=b.readable&&typeof b.readable.read!="function"?w.wrap(b.readable):b.readable,I=b.writable;let C=!!r(x),T=!!n(I),j,O,k,E,M;function H(q){const W=E;E=null,W?W(q):q&&M.destroy(q)}return M=new L({readableObjectMode:!!(x!=null&&x.readableObjectMode),writableObjectMode:!!(I!=null&&I.writableObjectMode),readable:C,writable:T}),T&&(f(I,q=>{T=!1,q&&m(x,q),H(q)}),M._write=function(q,W,V){I.write(q,W)?V():j=V},M._final=function(q){I.end(),O=q},I.on("drain",function(){if(j){const q=j;j=null,q()}}),I.on("finish",function(){if(O){const q=O;O=null,q()}})),C&&(f(x,q=>{C=!1,q&&m(x,q),H(q)}),x.on("readable",function(){if(k){const q=k;k=null,q()}}),x.on("end",function(){M.push(null)}),M._read=function(){for(;;){const q=x.read();if(q===null){k=M._read;return}if(!M.push(q))return}}),M._destroy=function(q,W){!q&&E!==null&&(q=new h),k=null,j=null,O=null,E===null?W(q):(E=W,m(I,q),m(x,q))},M}return cT}var uT,aK;function kc(){if(aK)return uT;aK=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=mn();uT=a;const i=XS(),o=FR();n(a.prototype,i.prototype),n(a,i);{const u=r(o.prototype);for(let f=0;f<u.length;f++){const h=u[f];a.prototype[h]||(a.prototype[h]=o.prototype[h])}}function a(u){if(!(this instanceof a))return new a(u);i.call(this,u),o.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(a.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(u,f){return l().newStreamDuplexFromReadableWritablePair(u,f)},a.toWeb=function(u){return l().newReadableWritablePairFromDuplex(u)};let c;return a.from=function(u){return c||(c=hPe()),c(u,"body")},uT}var fT,sK;function Gte(){if(sK)return fT;sK=1;const{ObjectSetPrototypeOf:t,Symbol:e}=mn();fT=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=to().codes,n=kc(),{getHighWaterMark:i}=QS();t(a.prototype,n.prototype),t(a,n);const o=e("kCallback");function a(c){if(!(this instanceof a))return new a(c);const u=c?i(this,c,"readableHighWaterMark",!0):null;u===0&&(c={...c,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:c.writableHighWaterMark||0}),n.call(this,c),this._readableState.sync=!1,this[o]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((u,f)=>{if(u){c?c(u):this.destroy(u);return}f!=null&&this.push(f),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(c,u,f){throw new r("_transform()")},a.prototype._write=function(c,u,f){const h=this._readableState,p=this._writableState,y=h.length;this._transform(c,u,(m,v)=>{if(m){f(m);return}v!=null&&this.push(v),p.ended||y===h.length||h.length<h.highWaterMark?f():this[o]=f})},a.prototype._read=function(){if(this[o]){const c=this[o];this[o]=null,c()}},fT}var dT,lK;function Yte(){if(lK)return dT;lK=1;const{ObjectSetPrototypeOf:t}=mn();dT=r;const e=Gte();t(r.prototype,e.prototype),t(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},dT}var hT,cK;function UR(){if(cK)return hT;cK=1;const t=Gh(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=mn(),o=Vf(),{once:a}=_o(),s=hm(),l=kc(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=to(),{validateFunction:v,validateAbortSignal:w}=pb(),{isIterable:A,isReadable:_,isReadableNodeStream:D,isNodeStream:P,isTransformStream:U,isWebStream:F,isReadableStream:N,isReadableFinished:L}=Fc(),B=globalThis.AbortController||cw().AbortController;let R,b,x;function I(q,W,V){let Q=!1;q.on("close",()=>{Q=!0});const te=o(q,{readable:W,writable:V},X=>{Q=!X});return{destroy:X=>{Q||(Q=!0,s.destroyer(q,X||new p("pipe")))},cleanup:te}}function C(q){return v(q[q.length-1],"streams[stream.length - 1]"),q.pop()}function T(q){if(A(q))return q;if(D(q))return j(q);throw new u("val",["Readable","Iterable","AsyncIterable"],q)}async function*j(q){b||(b=XS()),yield*b.prototype[n].call(q)}async function O(q,W,V,{end:Q}){let te,X=null;const Z=se=>{if(se&&(te=se),X){const ne=X;X=null,ne()}},ae=()=>new r((se,ne)=>{te?ne(te):X=()=>{te?ne(te):se()}});W.on("drain",Z);const he=o(W,{readable:!1},Z);try{W.writableNeedDrain&&await ae();for await(const se of q)W.write(se)||await ae();Q&&(W.end(),await ae()),V()}catch(se){V(te!==se?c(te,se):se)}finally{he(),W.off("drain",Z)}}async function k(q,W,V,{end:Q}){U(W)&&(W=W.writable);const te=W.getWriter();try{for await(const X of q)await te.ready,te.write(X).catch(()=>{});await te.ready,Q&&await te.close(),V()}catch(X){try{await te.abort(X),V(X)}catch(Z){V(Z)}}}function E(...q){return M(q,a(C(q)))}function M(q,W,V){if(q.length===1&&e(q[0])&&(q=q[0]),q.length<2)throw new h("streams");const Q=new B,te=Q.signal,X=V==null?void 0:V.signal,Z=[];w(X,"options.signal");function ae(){xe(new m)}x=x||_o().addAbortListener;let he;X&&(he=x(X,ae));let se,ne;const oe=[];let fe=0;function pe(ke){xe(ke,--fe===0)}function xe(ke,ve){var We;if(ke&&(!se||se.code==="ERR_STREAM_PREMATURE_CLOSE")&&(se=ke),!(!se&&!ve)){for(;oe.length;)oe.shift()(se);(We=he)===null||We===void 0||We[i](),Q.abort(),ve&&(se||Z.forEach(Ze=>Ze()),t.nextTick(W,se,ne))}}let Se;for(let ke=0;ke<q.length;ke++){const ve=q[ke],We=ke<q.length-1,Ze=ke>0,Ye=We||(V==null?void 0:V.end)!==!1,jt=ke===q.length-1;if(P(ve)){let re=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&pe(K)};if(Ye){const{destroy:K,cleanup:J}=I(ve,We,Ze);oe.push(K),_(ve)&&jt&&Z.push(J)}ve.on("error",re),_(ve)&&jt&&Z.push(()=>{ve.removeListener("error",re)})}if(ke===0)if(typeof ve=="function"){if(Se=ve({signal:te}),!A(Se))throw new f("Iterable, AsyncIterable or Stream","source",Se)}else A(ve)||D(ve)||U(ve)?Se=ve:Se=l.from(ve);else if(typeof ve=="function"){if(U(Se)){var ce;Se=T((ce=Se)===null||ce===void 0?void 0:ce.readable)}else Se=T(Se);if(Se=ve(Se,{signal:te}),We){if(!A(Se,!0))throw new f("AsyncIterable",`transform[${ke-1}]`,Se)}else{var Oe;R||(R=Yte());const re=new R({objectMode:!0}),K=(Oe=Se)===null||Oe===void 0?void 0:Oe.then;if(typeof K=="function")fe++,K.call(Se,we=>{ne=we,we!=null&&re.write(we),Ye&&re.end(),t.nextTick(pe)},we=>{re.destroy(we),t.nextTick(pe,we)});else if(A(Se,!0))fe++,O(Se,re,pe,{end:Ye});else if(N(Se)||U(Se)){const we=Se.readable||Se;fe++,O(we,re,pe,{end:Ye})}else throw new f("AsyncIterable or Promise","destination",Se);Se=re;const{destroy:J,cleanup:ue}=I(Se,!1,!0);oe.push(J),jt&&Z.push(ue)}}else if(P(ve)){if(D(Se)){fe+=2;const re=H(Se,ve,pe,{end:Ye});_(ve)&&jt&&Z.push(re)}else if(U(Se)||N(Se)){const re=Se.readable||Se;fe++,O(re,ve,pe,{end:Ye})}else if(A(Se))fe++,O(Se,ve,pe,{end:Ye});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Se);Se=ve}else if(F(ve)){if(D(Se))fe++,k(T(Se),ve,pe,{end:Ye});else if(N(Se)||A(Se))fe++,k(Se,ve,pe,{end:Ye});else if(U(Se))fe++,k(Se.readable,ve,pe,{end:Ye});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Se);Se=ve}else Se=l.from(ve)}return(te!=null&&te.aborted||X!=null&&X.aborted)&&t.nextTick(ae),Se}function H(q,W,V,{end:Q}){let te=!1;if(W.on("close",()=>{te||V(new y)}),q.pipe(W,{end:!1}),Q){let X=function(){te=!0,W.end()};L(q)?t.nextTick(X):q.once("end",X)}else V();return o(q,{readable:!0,writable:!1},X=>{const Z=q._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&Z&&Z.ended&&!Z.errored&&!Z.errorEmitted?q.once("end",V).once("error",V):V(X)}),o(W,{readable:!1,writable:!0},V)}return hT={pipelineImpl:M,pipeline:E},hT}var pT,uK;function Jte(){if(uK)return pT;uK=1;const{pipeline:t}=UR(),e=kc(),{destroyer:r}=hm(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Fc(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:h}}=to(),p=Vf();return pT=function(...m){if(m.length===0)throw new h("streams");if(m.length===1)return e.from(m[0]);const v=[...m];if(typeof m[0]=="function"&&(m[0]=e.from(m[0])),typeof m[m.length-1]=="function"){const R=m.length-1;m[R]=e.from(m[R])}for(let R=0;R<m.length;++R)if(!(!n(m[R])&&!a(m[R]))){if(R<m.length-1&&!(i(m[R])||c(m[R])||s(m[R])))throw new f(`streams[${R}]`,v[R],"must be readable");if(R>0&&!(o(m[R])||l(m[R])||s(m[R])))throw new f(`streams[${R}]`,v[R],"must be writable")}let w,A,_,D,P;function U(R){const b=D;D=null,b?b(R):R?P.destroy(R):!B&&!L&&P.destroy()}const F=m[0],N=t(m,U),L=!!(o(F)||l(F)||s(F)),B=!!(i(N)||c(N)||s(N));if(P=new e({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(N!=null&&N.readableObjectMode),writable:L,readable:B}),L){if(n(F))P._write=function(b,x,I){F.write(b,x)?I():w=I},P._final=function(b){F.end(),A=b},F.on("drain",function(){if(w){const b=w;w=null,b()}});else if(a(F)){const x=(s(F)?F.writable:F).getWriter();P._write=async function(I,C,T){try{await x.ready,x.write(I).catch(()=>{}),T()}catch(j){T(j)}},P._final=async function(I){try{await x.ready,x.close().catch(()=>{}),A=I}catch(C){I(C)}}}const R=s(N)?N.readable:N;p(R,()=>{if(A){const b=A;A=null,b()}})}if(B){if(n(N))N.on("readable",function(){if(_){const R=_;_=null,R()}}),N.on("end",function(){P.push(null)}),P._read=function(){for(;;){const R=N.read();if(R===null){_=P._read;return}if(!P.push(R))return}};else if(a(N)){const b=(s(N)?N.readable:N).getReader();P._read=async function(){for(;;)try{const{value:x,done:I}=await b.read();if(!P.push(x))return;if(I){P.push(null);return}}catch{return}}}}return P._destroy=function(R,b){!R&&D!==null&&(R=new u),_=null,w=null,A=null,D===null?b(R):(D=b,n(N)&&r(N,R))},P},pT}var fK;function pPe(){if(fK)return sx;fK=1;const t=globalThis.AbortController||cw().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=to(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=pb(),c=mn().Symbol("kWeak"),u=mn().Symbol("kResistStopPropagation"),{finished:f}=Vf(),h=Jte(),{addAbortSignalNoValidate:p}=JS(),{isWritable:y,isNodeStream:m}=Fc(),{deprecate:v}=_o(),{ArrayPrototypePush:w,Boolean:A,MathFloor:_,Number:D,NumberIsNaN:P,Promise:U,PromiseReject:F,PromiseResolve:N,PromisePrototypeThen:L,Symbol:B}=mn(),R=B("kEmpty"),b=B("kEof");function x(X,Z){if(Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),m(X)&&!y(X))throw new e("stream",X,"must be writable");const ae=h(this,X);return Z!=null&&Z.signal&&p(Z.signal,ae),ae}function I(X,Z){if(typeof X!="function")throw new r("fn",["Function","AsyncFunction"],X);Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal");let ae=1;(Z==null?void 0:Z.concurrency)!=null&&(ae=_(Z.concurrency));let he=ae-1;return(Z==null?void 0:Z.highWaterMark)!=null&&(he=_(Z.highWaterMark)),s(ae,"options.concurrency",1),s(he,"options.highWaterMark",0),he+=ae,(async function*(){const ne=_o().AbortSignalAny([Z==null?void 0:Z.signal].filter(A)),oe=this,fe=[],pe={signal:ne};let xe,Se,ce=!1,Oe=0;function ke(){ce=!0,ve()}function ve(){Oe-=1,We()}function We(){Se&&!ce&&Oe<ae&&fe.length<he&&(Se(),Se=null)}async function Ze(){try{for await(let Ye of oe){if(ce)return;if(ne.aborted)throw new o;try{if(Ye=X(Ye,pe),Ye===R)continue;Ye=N(Ye)}catch(jt){Ye=F(jt)}Oe+=1,L(Ye,ve,ke),fe.push(Ye),xe&&(xe(),xe=null),!ce&&(fe.length>=he||Oe>=ae)&&await new U(jt=>{Se=jt})}fe.push(b)}catch(Ye){const jt=F(Ye);L(jt,ve,ke),fe.push(jt)}finally{ce=!0,xe&&(xe(),xe=null)}}Ze();try{for(;;){for(;fe.length>0;){const Ye=await fe[0];if(Ye===b)return;if(ne.aborted)throw new o;Ye!==R&&(yield Ye),fe.shift(),We()}await new U(Ye=>{xe=Ye})}}finally{ce=!0,Se&&(Se(),Se=null)}}).call(this)}function C(X=void 0){return X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal"),(async function*(){let ae=0;for await(const se of this){var he;if(X!=null&&(he=X.signal)!==null&&he!==void 0&&he.aborted)throw new o({cause:X.signal.reason});yield[ae++,se]}}).call(this)}async function T(X,Z=void 0){for await(const ae of E.call(this,X,Z))return!0;return!1}async function j(X,Z=void 0){if(typeof X!="function")throw new r("fn",["Function","AsyncFunction"],X);return!await T.call(this,async(...ae)=>!await X(...ae),Z)}async function O(X,Z){for await(const ae of E.call(this,X,Z))return ae}async function k(X,Z){if(typeof X!="function")throw new r("fn",["Function","AsyncFunction"],X);async function ae(he,se){return await X(he,se),R}for await(const he of I.call(this,ae,Z));}function E(X,Z){if(typeof X!="function")throw new r("fn",["Function","AsyncFunction"],X);async function ae(he,se){return await X(he,se)?he:R}return I.call(this,ae,Z)}class M extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function H(X,Z,ae){var he;if(typeof X!="function")throw new r("reducer",["Function","AsyncFunction"],X);ae!=null&&l(ae,"options"),(ae==null?void 0:ae.signal)!=null&&a(ae.signal,"options.signal");let se=arguments.length>1;if(ae!=null&&(he=ae.signal)!==null&&he!==void 0&&he.aborted){const xe=new o(void 0,{cause:ae.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(xe)),xe}const ne=new t,oe=ne.signal;if(ae!=null&&ae.signal){const xe={once:!0,[c]:this,[u]:!0};ae.signal.addEventListener("abort",()=>ne.abort(),xe)}let fe=!1;try{for await(const xe of this){var pe;if(fe=!0,ae!=null&&(pe=ae.signal)!==null&&pe!==void 0&&pe.aborted)throw new o;se?Z=await X(Z,xe,{signal:oe}):(Z=xe,se=!0)}if(!fe&&!se)throw new M}finally{ne.abort()}return Z}async function q(X){X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal");const Z=[];for await(const he of this){var ae;if(X!=null&&(ae=X.signal)!==null&&ae!==void 0&&ae.aborted)throw new o(void 0,{cause:X.signal.reason});w(Z,he)}return Z}function W(X,Z){const ae=I.call(this,X,Z);return(async function*(){for await(const se of ae)yield*se}).call(this)}function V(X){if(X=D(X),P(X))return 0;if(X<0)throw new i("number",">= 0",X);return X}function Q(X,Z=void 0){return Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),X=V(X),(async function*(){var he;if(Z!=null&&(he=Z.signal)!==null&&he!==void 0&&he.aborted)throw new o;for await(const ne of this){var se;if(Z!=null&&(se=Z.signal)!==null&&se!==void 0&&se.aborted)throw new o;X--<=0&&(yield ne)}}).call(this)}function te(X,Z=void 0){return Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),X=V(X),(async function*(){var he;if(Z!=null&&(he=Z.signal)!==null&&he!==void 0&&he.aborted)throw new o;for await(const ne of this){var se;if(Z!=null&&(se=Z.signal)!==null&&se!==void 0&&se.aborted)throw new o;if(X-- >0&&(yield ne),X<=0)return}}).call(this)}return sx.streamReturningOperators={asIndexedPairs:v(C,"readable.asIndexedPairs will be removed in a future version."),drop:Q,filter:E,flatMap:W,map:I,take:te,compose:x},sx.promiseReturningOperators={every:j,forEach:k,reduce:H,toArray:q,some:T,find:O},sx}var gT,dK;function Qte(){if(dK)return gT;dK=1;const{ArrayPrototypePop:t,Promise:e}=mn(),{isIterable:r,isNodeStream:n,isWebStream:i}=Fc(),{pipelineImpl:o}=UR(),{finished:a}=Vf();Xte();function s(...l){return new e((c,u)=>{let f,h;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!i(p)){const y=t(l);f=y.signal,h=y.end}o(l,(y,m)=>{y?u(y):c(m)},{signal:f,end:h})})}return gT={finished:a,pipeline:s},gT}var hK;function Xte(){if(hK)return K4.exports;hK=1;const{Buffer:t}=Rc(),{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=mn(),{promisify:{custom:i}}=_o(),{streamReturningOperators:o,promiseReturningOperators:a}=pPe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=to(),l=Jte(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:u}=QS(),{pipeline:f}=UR(),{destroyer:h}=hm(),p=Vf(),y=Qte(),m=Fc(),v=K4.exports=$R().Stream;v.isDestroyed=m.isDestroyed,v.isDisturbed=m.isDisturbed,v.isErrored=m.isErrored,v.isReadable=m.isReadable,v.isWritable=m.isWritable,v.Readable=XS();for(const A of r(o)){let D=function(...P){if(new.target)throw s();return v.Readable.from(n(_,this,P))};const _=o[A];e(D,"name",{__proto__:null,value:_.name}),e(D,"length",{__proto__:null,value:_.length}),e(v.Readable.prototype,A,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}for(const A of r(a)){let D=function(...P){if(new.target)throw s();return n(_,this,P)};const _=a[A];e(D,"name",{__proto__:null,value:_.name}),e(D,"length",{__proto__:null,value:_.length}),e(v.Readable.prototype,A,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}v.Writable=FR(),v.Duplex=kc(),v.Transform=Gte(),v.PassThrough=Yte(),v.pipeline=f;const{addAbortSignal:w}=JS();return v.addAbortSignal=w,v.finished=p,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=c,v.getDefaultHighWaterMark=u,e(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return y}}),e(f,i,{__proto__:null,enumerable:!0,get(){return y.pipeline}}),e(p,i,{__proto__:null,enumerable:!0,get(){return y.finished}}),v.Stream=v,v._isUint8Array=function(_){return _ instanceof Uint8Array},v._uint8ArrayToBuffer=function(_){return t.from(_.buffer,_.byteOffset,_.byteLength)},K4.exports}var pK;function gPe(){return pK||(pK=1,(function(t){const e=Xte(),r=Qte(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(W4)),W4.exports}var GFe=gPe();function gK(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function mPe(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let pm=class extends hb.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")gK(o,this,r);else{const a=o.length,s=mPe(o);for(let l=0;l<a;l+=1)gK(s[l],this,r)}return!0}};class wy extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Pe(this,"code",void 0),Pe(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return nte({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const Yn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},mK={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var Zte=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const yK=Yn.rpc.internal,yPe="Unspecified error message. This is a bug, please report it.",vPe="Unspecified server error.";function ere(t){return Number.isInteger(t)}function vK(t){return typeof t=="string"&&t.length>0}function JE(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function wPe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function bPe(t){return t>=-32099&&t<=-32e3}function tre(t){const e=t;return!(!e||!ere(e.code)||!vK(e.message)||e.stack&&!vK(e.stack))}function gb(t,e=yPe){if(ere(t)){const r=t.toString();if(Zte(mK,r))return mK[r].message;if(bPe(t))return vPe}return e}const xPe={code:yK,message:gb(yK)};function C8(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function wK(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{const n=t[r];return C8(n)&&(e[r]=n),e},{})}function rre(t){return Array.isArray(t)?t.map(e=>C8(e)?e:JE(e)?wK(e):null):JE(t)?wK(t):C8(t)?t:null}function EPe(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(tre(t))return t;const r=rre(t);return be(be({},e),{},{data:{cause:r}})}function O8(t,{fallbackError:e=xPe,shouldIncludeStack:r=!0}={}){if(!tre(e))throw new Error("Must provide fallback error with integer number code and string message.");const n=EPe(t,e);return r||delete n.stack,n}function SPe(t){return JE(t)&&Zte(t,"cause")&&JE(t.cause)}var _Pe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function APe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function CPe(t,e){if(e!=="[Circular]")return e}class HR extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');SPe(n)?(super(r,{cause:n.cause}),Pe(this,"cause",void 0),Pe(this,"code",void 0),Pe(this,"data",void 0),_Pe(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),Pe(this,"cause",void 0),Pe(this,"code",void 0),Pe(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n==null?void 0:n.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,wPe(this.data)&&(e.data.cause=rre(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return nte(this.serialize(),{replacer:CPe,space:2})}}class nre extends HR{constructor(e,r,n){if(!APe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function ire(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function pa(t,e){const[r,n]=ire(e);return new HR(t,r??gb(t),n)}function by(t,e){const[r,n]=ire(e);return new nre(t,r??gb(t),n)}const If={parse:t=>pa(Yn.rpc.parse,t),invalidRequest:t=>pa(Yn.rpc.invalidRequest,t),invalidParams:t=>pa(Yn.rpc.invalidParams,t),methodNotFound:t=>pa(Yn.rpc.methodNotFound,t),internal:t=>pa(Yn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return pa(e,t)},invalidInput:t=>pa(Yn.rpc.invalidInput,t),resourceNotFound:t=>pa(Yn.rpc.resourceNotFound,t),resourceUnavailable:t=>pa(Yn.rpc.resourceUnavailable,t),transactionRejected:t=>pa(Yn.rpc.transactionRejected,t),methodNotSupported:t=>pa(Yn.rpc.methodNotSupported,t),limitExceeded:t=>pa(Yn.rpc.limitExceeded,t)},bK={userRejectedRequest:t=>by(Yn.provider.userRejectedRequest,t),unauthorized:t=>by(Yn.provider.unauthorized,t),unsupportedMethod:t=>by(Yn.provider.unsupportedMethod,t),disconnected:t=>by(Yn.provider.disconnected,t),chainDisconnected:t=>by(Yn.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new nre(e,r,n)}};function JFe(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}function OPe(t){return async(e,r,n,i)=>{let o;const a=new Promise(u=>{o=u});let s=null,l=!1;const c=async()=>{l=!0,n(u=>{s=u,o()}),await a};try{await t(e,r,c),l?(await a,s(null)):i(null)}catch(u){const f=u;s?s(f):i(f)}}}function I8(t){const{message:e="",code:r=-32603,stack:n="Stack trace is not available.",data:i=""}=t,o=parseInt((r==null?void 0:r.toString())||"-32603");return{message:e||(t==null?void 0:t.toString())||gb(o),code:o,stack:n,data:i||e||(t==null?void 0:t.toString())}}class Us extends pm{constructor(){super(),Pe(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){const i=[];let o=null,a=!1;for(const s of n)if([o,a]=await Us._runMiddleware(e,r,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const a=l=>{const c=l||r.error;c&&(typeof c=="object"&&Object.keys(c).includes("stack")===!1&&(c.stack="Stack trace is not available."),Pc.error(c),r.error=O8(c,{shouldIncludeStack:!0,fallbackError:I8(c)})),o([c,!0])},s=l=>{r.error?a(r.error):(l&&(typeof l!="function"&&a(new wy({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(l)),o([null,!1]))};try{n(e,r,s,a)}catch(l){a(l)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new wy({code:-32603,message:"Response has no error or result for request"});if(!n)throw new wy({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,a,s]=await Us._runAllMiddleware(e,r,this._middleware);return a?(await Us._runReturnHandlers(s),i(o)):n(async l=>{try{await Us._runReturnHandlers(s)}catch(c){return l(c)}return l()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,o)=>{i&&o===void 0?n(i):r(o)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const a=new wy({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){const a=new wy({code:-32603,message:"method must be string"});return r(a,{id:e.id,jsonrpc:"2.0",error:a})}const n=be({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),Pc.error(o),i.error=O8(o,{shouldIncludeStack:!0,fallbackError:I8(o)}))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await Us._runAllMiddleware(e,r,this._middleware);if(Us._checkForCompletion(e,r,i),await Us._runReturnHandlers(o),n)throw n}}function IPe(t){const e=new Us;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function PPe(t){const e=new pm;return e.sendAsync=async r=>{const n=await t.handle(r);if(n.error){var i,o;typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available."),Pc.error(n.error);const a=O8(n.error,{fallbackError:I8(n.error),shouldIncludeStack:!0}),s=(i=a==null?void 0:a.code)!==null&&i!==void 0?i:Yn.rpc.internal;throw new HR(s,(o=a==null?void 0:a.message)!==null&&o!==void 0?o:gb(s),a==null?void 0:a.data)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{const n=be(be({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}class kPe extends pm{constructor({config:e={},state:r={}}){super(),Pe(this,"defaultConfig",{}),Pe(this,"defaultState",{}),Pe(this,"disabled",!1),Pe(this,"name","BaseController"),Pe(this,"initialConfig",void 0),Pe(this,"initialState",void 0),Pe(this,"internalConfig",this.defaultConfig),Pe(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,r=!1){this.internalState=be(r?{}:be({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const TPe=()=>!0,MPe=["newListener","removeListener"],NPe=t=>!MPe.includes(t);function RPe(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function LPe(t,e){let n={}.eventFilter||TPe;if(typeof n=="string"&&n==="skipInternal"&&(n=NPe),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=s=>{if(i===s)return;const l=i;i=s,l.eventNames().filter(n).forEach(u=>{RPe(l,u).forEach(f=>{s.on(u,f)})}),l.removeAllListeners()};return new Proxy({},{get:(s,l)=>l==="setTarget"?o:i[l],set:(s,l,c)=>l==="setTarget"?(o=c,!0):(i[l]=c,!0),has:(s,l)=>l[0]==="_"?!1:l in i})}const DPe={BOTTOM_LEFT:"bottom-left"},xK={MODAL:"modal",AUTO_APPROVE:"auto-approve"};var BPe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mT=Math.ceil,wa=Math.floor,mo="[BigNumber Error] ",EK=mo+"Number primitive has more than 15 significant digits: ",Xa=1e14,Vt=14,yT=9007199254740991,vT=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],fu=1e7,Wn=1e9;function ore(t){var e,r,n,i=A.prototype={constructor:A,toString:null,valueOf:null},o=new A(1),a=20,s=4,l=-7,c=21,u=-1e7,f=1e7,h=!1,p=1,y=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},v="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function A(N,L){var B,R,b,x,I,C,T,j,O=this;if(!(O instanceof A))return new A(N,L);if(L==null){if(N&&N._isBigNumber===!0){O.s=N.s,!N.c||N.e>f?O.c=O.e=null:N.e<u?O.c=[O.e=0]:(O.e=N.e,O.c=N.c.slice());return}if((C=typeof N=="number")&&N*0==0){if(O.s=1/N<0?(N=-N,-1):1,N===~~N){for(x=0,I=N;I>=10;I/=10,x++);x>f?O.c=O.e=null:(O.e=x,O.c=[N]);return}j=String(N)}else{if(!BPe.test(j=String(N)))return n(O,j,C);O.s=j.charCodeAt(0)==45?(j=j.slice(1),-1):1}(x=j.indexOf("."))>-1&&(j=j.replace(".","")),(I=j.search(/e/i))>0?(x<0&&(x=I),x+=+j.slice(I+1),j=j.substring(0,I)):x<0&&(x=j.length)}else{if(dn(L,2,v.length,"Base"),L==10&&w)return O=new A(N),U(O,a+O.e+1,s);if(j=String(N),C=typeof N=="number"){if(N*0!=0)return n(O,j,C,L);if(O.s=1/N<0?(j=j.slice(1),-1):1,A.DEBUG&&j.replace(/^0\.0*|\./,"").length>15)throw Error(EK+N)}else O.s=j.charCodeAt(0)===45?(j=j.slice(1),-1):1;for(B=v.slice(0,L),x=I=0,T=j.length;I<T;I++)if(B.indexOf(R=j.charAt(I))<0){if(R=="."){if(I>x){x=T;continue}}else if(!b&&(j==j.toUpperCase()&&(j=j.toLowerCase())||j==j.toLowerCase()&&(j=j.toUpperCase()))){b=!0,I=-1,x=0;continue}return n(O,String(N),C,L)}C=!1,j=r(j,L,10,O.s),(x=j.indexOf("."))>-1?j=j.replace(".",""):x=j.length}for(I=0;j.charCodeAt(I)===48;I++);for(T=j.length;j.charCodeAt(--T)===48;);if(j=j.slice(I,++T)){if(T-=I,C&&A.DEBUG&&T>15&&(N>yT||N!==wa(N)))throw Error(EK+O.s*N);if((x=x-I-1)>f)O.c=O.e=null;else if(x<u)O.c=[O.e=0];else{if(O.e=x,O.c=[],I=(x+1)%Vt,x<0&&(I+=Vt),I<T){for(I&&O.c.push(+j.slice(0,I)),T-=Vt;I<T;)O.c.push(+j.slice(I,I+=Vt));I=Vt-(j=j.slice(I)).length}else I-=T;for(;I--;j+="0");O.c.push(+j)}}else O.c=[O.e=0]}A.clone=ore,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(N){var L,B;if(N!=null)if(typeof N=="object"){if(N.hasOwnProperty(L="DECIMAL_PLACES")&&(B=N[L],dn(B,0,Wn,L),a=B),N.hasOwnProperty(L="ROUNDING_MODE")&&(B=N[L],dn(B,0,8,L),s=B),N.hasOwnProperty(L="EXPONENTIAL_AT")&&(B=N[L],B&&B.pop?(dn(B[0],-Wn,0,L),dn(B[1],0,Wn,L),l=B[0],c=B[1]):(dn(B,-Wn,Wn,L),l=-(c=B<0?-B:B))),N.hasOwnProperty(L="RANGE"))if(B=N[L],B&&B.pop)dn(B[0],-Wn,-1,L),dn(B[1],1,Wn,L),u=B[0],f=B[1];else if(dn(B,-Wn,Wn,L),B)u=-(f=B<0?-B:B);else throw Error(mo+L+" cannot be zero: "+B);if(N.hasOwnProperty(L="CRYPTO"))if(B=N[L],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=B;else throw h=!B,Error(mo+"crypto unavailable");else h=B;else throw Error(mo+L+" not true or false: "+B);if(N.hasOwnProperty(L="MODULO_MODE")&&(B=N[L],dn(B,0,9,L),p=B),N.hasOwnProperty(L="POW_PRECISION")&&(B=N[L],dn(B,0,Wn,L),y=B),N.hasOwnProperty(L="FORMAT"))if(B=N[L],typeof B=="object")m=B;else throw Error(mo+L+" not an object: "+B);if(N.hasOwnProperty(L="ALPHABET"))if(B=N[L],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))w=B.slice(0,10)=="0123456789",v=B;else throw Error(mo+L+" invalid: "+B)}else throw Error(mo+"Object expected: "+N);return{DECIMAL_PLACES:a,ROUNDING_MODE:s,EXPONENTIAL_AT:[l,c],RANGE:[u,f],CRYPTO:h,MODULO_MODE:p,POW_PRECISION:y,FORMAT:m,ALPHABET:v}},A.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var L,B,R=N.c,b=N.e,x=N.s;e:if({}.toString.call(R)=="[object Array]"){if((x===1||x===-1)&&b>=-Wn&&b<=Wn&&b===wa(b)){if(R[0]===0){if(b===0&&R.length===1)return!0;break e}if(L=(b+1)%Vt,L<1&&(L+=Vt),String(R[0]).length==L){for(L=0;L<R.length;L++)if(B=R[L],B<0||B>=Xa||B!==wa(B))break e;if(B!==0)return!0}}}else if(R===null&&b===null&&(x===null||x===1||x===-1))return!0;throw Error(mo+"Invalid BigNumber: "+N)},A.maximum=A.max=function(){return D(arguments,-1)},A.minimum=A.min=function(){return D(arguments,1)},A.random=(function(){var N=9007199254740992,L=Math.random()*N&2097151?function(){return wa(Math.random()*N)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var R,b,x,I,C,T=0,j=[],O=new A(o);if(B==null?B=a:dn(B,0,Wn),I=mT(B/Vt),h)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(I*=2));T<I;)C=R[T]*131072+(R[T+1]>>>11),C>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),R[T]=b[0],R[T+1]=b[1]):(j.push(C%1e14),T+=2);T=I/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(I*=7);T<I;)C=(R[T]&31)*281474976710656+R[T+1]*1099511627776+R[T+2]*4294967296+R[T+3]*16777216+(R[T+4]<<16)+(R[T+5]<<8)+R[T+6],C>=9e15?crypto.randomBytes(7).copy(R,T):(j.push(C%1e14),T+=7);T=I/7}else throw h=!1,Error(mo+"crypto unavailable");if(!h)for(;T<I;)C=L(),C<9e15&&(j[T++]=C%1e14);for(I=j[--T],B%=Vt,I&&B&&(C=vT[Vt-B],j[T]=wa(I/C)*C);j[T]===0;j.pop(),T--);if(T<0)j=[x=0];else{for(x=-1;j[0]===0;j.splice(0,1),x-=Vt);for(T=1,C=j[0];C>=10;C/=10,T++);T<Vt&&(x-=Vt-T)}return O.e=x,O.c=j,O}})(),A.sum=function(){for(var N=1,L=arguments,B=new A(L[0]);N<L.length;)B=B.plus(L[N++]);return B},r=(function(){var N="0123456789";function L(B,R,b,x){for(var I,C=[0],T,j=0,O=B.length;j<O;){for(T=C.length;T--;C[T]*=R);for(C[0]+=x.indexOf(B.charAt(j++)),I=0;I<C.length;I++)C[I]>b-1&&(C[I+1]==null&&(C[I+1]=0),C[I+1]+=C[I]/b|0,C[I]%=b)}return C.reverse()}return function(B,R,b,x,I){var C,T,j,O,k,E,M,H,q=B.indexOf("."),W=a,V=s;for(q>=0&&(O=y,y=0,B=B.replace(".",""),H=new A(R),E=H.pow(B.length-q),y=O,H.c=L(Nl(ga(E.c),E.e,"0"),10,b,N),H.e=H.c.length),M=L(B,R,b,I?(C=v,N):(C=N,v)),j=O=M.length;M[--O]==0;M.pop());if(!M[0])return C.charAt(0);if(q<0?--j:(E.c=M,E.e=j,E.s=x,E=e(E,H,W,V,b),M=E.c,k=E.r,j=E.e),T=j+W+1,q=M[T],O=b/2,k=k||T<0||M[T+1]!=null,k=V<4?(q!=null||k)&&(V==0||V==(E.s<0?3:2)):q>O||q==O&&(V==4||k||V==6&&M[T-1]&1||V==(E.s<0?8:7)),T<1||!M[0])B=k?Nl(C.charAt(1),-W,C.charAt(0)):C.charAt(0);else{if(M.length=T,k)for(--b;++M[--T]>b;)M[T]=0,T||(++j,M=[1].concat(M));for(O=M.length;!M[--O];);for(q=0,B="";q<=O;B+=C.charAt(M[q++]));B=Nl(B,j,C.charAt(0))}return B}})(),e=(function(){function N(R,b,x){var I,C,T,j,O=0,k=R.length,E=b%fu,M=b/fu|0;for(R=R.slice();k--;)T=R[k]%fu,j=R[k]/fu|0,I=M*T+j*E,C=E*T+I%fu*fu+O,O=(C/x|0)+(I/fu|0)+M*j,R[k]=C%x;return O&&(R=[O].concat(R)),R}function L(R,b,x,I){var C,T;if(x!=I)T=x>I?1:-1;else for(C=T=0;C<x;C++)if(R[C]!=b[C]){T=R[C]>b[C]?1:-1;break}return T}function B(R,b,x,I){for(var C=0;x--;)R[x]-=C,C=R[x]<b[x]?1:0,R[x]=C*I+R[x]-b[x];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,b,x,I,C){var T,j,O,k,E,M,H,q,W,V,Q,te,X,Z,ae,he,se,ne=R.s==b.s?1:-1,oe=R.c,fe=b.c;if(!oe||!oe[0]||!fe||!fe[0])return new A(!R.s||!b.s||(oe?fe&&oe[0]==fe[0]:!fe)?NaN:oe&&oe[0]==0||!fe?ne*0:ne/0);for(q=new A(ne),W=q.c=[],j=R.e-b.e,ne=x+j+1,C||(C=Xa,j=ba(R.e/Vt)-ba(b.e/Vt),ne=ne/Vt|0),O=0;fe[O]==(oe[O]||0);O++);if(fe[O]>(oe[O]||0)&&j--,ne<0)W.push(1),k=!0;else{for(Z=oe.length,he=fe.length,O=0,ne+=2,E=wa(C/(fe[0]+1)),E>1&&(fe=N(fe,E,C),oe=N(oe,E,C),he=fe.length,Z=oe.length),X=he,V=oe.slice(0,he),Q=V.length;Q<he;V[Q++]=0);se=fe.slice(),se=[0].concat(se),ae=fe[0],fe[1]>=C/2&&ae++;do{if(E=0,T=L(fe,V,he,Q),T<0){if(te=V[0],he!=Q&&(te=te*C+(V[1]||0)),E=wa(te/ae),E>1)for(E>=C&&(E=C-1),M=N(fe,E,C),H=M.length,Q=V.length;L(M,V,H,Q)==1;)E--,B(M,he<H?se:fe,H,C),H=M.length,T=1;else E==0&&(T=E=1),M=fe.slice(),H=M.length;if(H<Q&&(M=[0].concat(M)),B(V,M,Q,C),Q=V.length,T==-1)for(;L(fe,V,he,Q)<1;)E++,B(V,he<Q?se:fe,Q,C),Q=V.length}else T===0&&(E++,V=[0]);W[O++]=E,V[0]?V[Q++]=oe[X]||0:(V=[oe[X]],Q=1)}while((X++<Z||V[0]!=null)&&ne--);k=V[0]!=null,W[0]||W.splice(0,1)}if(C==Xa){for(O=1,ne=W[0];ne>=10;ne/=10,O++);U(q,x+(q.e=O+j*Vt-1)+1,I,k)}else q.e=j,q.r=+k;return q}})();function _(N,L,B,R){var b,x,I,C,T;if(B==null?B=s:dn(B,0,8),!N.c)return N.toString();if(b=N.c[0],I=N.e,L==null)T=ga(N.c),T=R==1||R==2&&(I<=l||I>=c)?fx(T,I):Nl(T,I,"0");else if(N=U(new A(N),L,B),x=N.e,T=ga(N.c),C=T.length,R==1||R==2&&(L<=x||x<=l)){for(;C<L;T+="0",C++);T=fx(T,x)}else if(L-=I+(R===2&&x>I),T=Nl(T,x,"0"),x+1>C){if(--L>0)for(T+=".";L--;T+="0");}else if(L+=x-C,L>0)for(x+1==C&&(T+=".");L--;T+="0");return N.s<0&&b?"-"+T:T}function D(N,L){for(var B,R,b=1,x=new A(N[0]);b<N.length;b++)R=new A(N[b]),(!R.s||(B=fd(x,R))===L||B===0&&x.s===L)&&(x=R);return x}function P(N,L,B){for(var R=1,b=L.length;!L[--b];L.pop());for(b=L[0];b>=10;b/=10,R++);return(B=R+B*Vt-1)>f?N.c=N.e=null:B<u?N.c=[N.e=0]:(N.e=B,N.c=L),N}n=(function(){var N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,B=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(x,I,C,T){var j,O=C?I:I.replace(b,"");if(R.test(O))x.s=isNaN(O)?null:O<0?-1:1;else{if(!C&&(O=O.replace(N,function(k,E,M){return j=(M=M.toLowerCase())=="x"?16:M=="b"?2:8,!T||T==j?E:k}),T&&(j=T,O=O.replace(L,"$1").replace(B,"0.$1")),I!=O))return new A(O,j);if(A.DEBUG)throw Error(mo+"Not a"+(T?" base "+T:"")+" number: "+I);x.s=null}x.c=x.e=null}})();function U(N,L,B,R){var b,x,I,C,T,j,O,k=N.c,E=vT;if(k){e:{for(b=1,C=k[0];C>=10;C/=10,b++);if(x=L-b,x<0)x+=Vt,I=L,T=k[j=0],O=wa(T/E[b-I-1]%10);else if(j=mT((x+1)/Vt),j>=k.length)if(R){for(;k.length<=j;k.push(0));T=O=0,b=1,x%=Vt,I=x-Vt+1}else break e;else{for(T=C=k[j],b=1;C>=10;C/=10,b++);x%=Vt,I=x-Vt+b,O=I<0?0:wa(T/E[b-I-1]%10)}if(R=R||L<0||k[j+1]!=null||(I<0?T:T%E[b-I-1]),R=B<4?(O||R)&&(B==0||B==(N.s<0?3:2)):O>5||O==5&&(B==4||R||B==6&&(x>0?I>0?T/E[b-I]:0:k[j-1])%10&1||B==(N.s<0?8:7)),L<1||!k[0])return k.length=0,R?(L-=N.e+1,k[0]=E[(Vt-L%Vt)%Vt],N.e=-L||0):k[0]=N.e=0,N;if(x==0?(k.length=j,C=1,j--):(k.length=j+1,C=E[Vt-x],k[j]=I>0?wa(T/E[b-I]%E[I])*C:0),R)for(;;)if(j==0){for(x=1,I=k[0];I>=10;I/=10,x++);for(I=k[0]+=C,C=1;I>=10;I/=10,C++);x!=C&&(N.e++,k[0]==Xa&&(k[0]=1));break}else{if(k[j]+=C,k[j]!=Xa)break;k[j--]=0,C=1}for(x=k.length;k[--x]===0;k.pop());}N.e>f?N.c=N.e=null:N.e<u&&(N.c=[N.e=0])}return N}function F(N){var L,B=N.e;return B===null?N.toString():(L=ga(N.c),L=B<=l||B>=c?fx(L,B):Nl(L,B,"0"),N.s<0?"-"+L:L)}return i.absoluteValue=i.abs=function(){var N=new A(this);return N.s<0&&(N.s=1),N},i.comparedTo=function(N,L){return fd(this,new A(N,L))},i.decimalPlaces=i.dp=function(N,L){var B,R,b,x=this;if(N!=null)return dn(N,0,Wn),L==null?L=s:dn(L,0,8),U(new A(x),N+x.e+1,L);if(!(B=x.c))return null;if(R=((b=B.length-1)-ba(this.e/Vt))*Vt,b=B[b])for(;b%10==0;b/=10,R--);return R<0&&(R=0),R},i.dividedBy=i.div=function(N,L){return e(this,new A(N,L),a,s)},i.dividedToIntegerBy=i.idiv=function(N,L){return e(this,new A(N,L),0,1)},i.exponentiatedBy=i.pow=function(N,L){var B,R,b,x,I,C,T,j,O,k=this;if(N=new A(N),N.c&&!N.isInteger())throw Error(mo+"Exponent not an integer: "+F(N));if(L!=null&&(L=new A(L)),C=N.e>14,!k.c||!k.c[0]||k.c[0]==1&&!k.e&&k.c.length==1||!N.c||!N.c[0])return O=new A(Math.pow(+F(k),C?N.s*(2-ux(N)):+F(N))),L?O.mod(L):O;if(T=N.s<0,L){if(L.c?!L.c[0]:!L.s)return new A(NaN);R=!T&&k.isInteger()&&L.isInteger(),R&&(k=k.mod(L))}else{if(N.e>9&&(k.e>0||k.e<-1||(k.e==0?k.c[0]>1||C&&k.c[1]>=24e7:k.c[0]<8e13||C&&k.c[0]<=9999975e7)))return x=k.s<0&&ux(N)?-0:0,k.e>-1&&(x=1/x),new A(T?1/x:x);y&&(x=mT(y/Vt+2))}for(C?(B=new A(.5),T&&(N.s=1),j=ux(N)):(b=Math.abs(+F(N)),j=b%2),O=new A(o);;){if(j){if(O=O.times(k),!O.c)break;x?O.c.length>x&&(O.c.length=x):R&&(O=O.mod(L))}if(b){if(b=wa(b/2),b===0)break;j=b%2}else if(N=N.times(B),U(N,N.e+1,1),N.e>14)j=ux(N);else{if(b=+F(N),b===0)break;j=b%2}k=k.times(k),x?k.c&&k.c.length>x&&(k.c.length=x):R&&(k=k.mod(L))}return R?O:(T&&(O=o.div(O)),L?O.mod(L):x?U(O,y,s,I):O)},i.integerValue=function(N){var L=new A(this);return N==null?N=s:dn(N,0,8),U(L,L.e+1,N)},i.isEqualTo=i.eq=function(N,L){return fd(this,new A(N,L))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(N,L){return fd(this,new A(N,L))>0},i.isGreaterThanOrEqualTo=i.gte=function(N,L){return(L=fd(this,new A(N,L)))===1||L===0},i.isInteger=function(){return!!this.c&&ba(this.e/Vt)>this.c.length-2},i.isLessThan=i.lt=function(N,L){return fd(this,new A(N,L))<0},i.isLessThanOrEqualTo=i.lte=function(N,L){return(L=fd(this,new A(N,L)))===-1||L===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(N,L){var B,R,b,x,I=this,C=I.s;if(N=new A(N,L),L=N.s,!C||!L)return new A(NaN);if(C!=L)return N.s=-L,I.plus(N);var T=I.e/Vt,j=N.e/Vt,O=I.c,k=N.c;if(!T||!j){if(!O||!k)return O?(N.s=-L,N):new A(k?I:NaN);if(!O[0]||!k[0])return k[0]?(N.s=-L,N):new A(O[0]?I:s==3?-0:0)}if(T=ba(T),j=ba(j),O=O.slice(),C=T-j){for((x=C<0)?(C=-C,b=O):(j=T,b=k),b.reverse(),L=C;L--;b.push(0));b.reverse()}else for(R=(x=(C=O.length)<(L=k.length))?C:L,C=L=0;L<R;L++)if(O[L]!=k[L]){x=O[L]<k[L];break}if(x&&(b=O,O=k,k=b,N.s=-N.s),L=(R=k.length)-(B=O.length),L>0)for(;L--;O[B++]=0);for(L=Xa-1;R>C;){if(O[--R]<k[R]){for(B=R;B&&!O[--B];O[B]=L);--O[B],O[R]+=Xa}O[R]-=k[R]}for(;O[0]==0;O.splice(0,1),--j);return O[0]?P(N,O,j):(N.s=s==3?-1:1,N.c=[N.e=0],N)},i.modulo=i.mod=function(N,L){var B,R,b=this;return N=new A(N,L),!b.c||!N.s||N.c&&!N.c[0]?new A(NaN):!N.c||b.c&&!b.c[0]?new A(b):(p==9?(R=N.s,N.s=1,B=e(b,N,0,3),N.s=R,B.s*=R):B=e(b,N,0,p),N=b.minus(B.times(N)),!N.c[0]&&p==1&&(N.s=b.s),N)},i.multipliedBy=i.times=function(N,L){var B,R,b,x,I,C,T,j,O,k,E,M,H,q,W,V=this,Q=V.c,te=(N=new A(N,L)).c;if(!Q||!te||!Q[0]||!te[0])return!V.s||!N.s||Q&&!Q[0]&&!te||te&&!te[0]&&!Q?N.c=N.e=N.s=null:(N.s*=V.s,!Q||!te?N.c=N.e=null:(N.c=[0],N.e=0)),N;for(R=ba(V.e/Vt)+ba(N.e/Vt),N.s*=V.s,T=Q.length,k=te.length,T<k&&(H=Q,Q=te,te=H,b=T,T=k,k=b),b=T+k,H=[];b--;H.push(0));for(q=Xa,W=fu,b=k;--b>=0;){for(B=0,E=te[b]%W,M=te[b]/W|0,I=T,x=b+I;x>b;)j=Q[--I]%W,O=Q[I]/W|0,C=M*j+O*E,j=E*j+C%W*W+H[x]+B,B=(j/q|0)+(C/W|0)+M*O,H[x--]=j%q;H[x]=B}return B?++R:H.splice(0,1),P(N,H,R)},i.negated=function(){var N=new A(this);return N.s=-N.s||null,N},i.plus=function(N,L){var B,R=this,b=R.s;if(N=new A(N,L),L=N.s,!b||!L)return new A(NaN);if(b!=L)return N.s=-L,R.minus(N);var x=R.e/Vt,I=N.e/Vt,C=R.c,T=N.c;if(!x||!I){if(!C||!T)return new A(b/0);if(!C[0]||!T[0])return T[0]?N:new A(C[0]?R:b*0)}if(x=ba(x),I=ba(I),C=C.slice(),b=x-I){for(b>0?(I=x,B=T):(b=-b,B=C),B.reverse();b--;B.push(0));B.reverse()}for(b=C.length,L=T.length,b-L<0&&(B=T,T=C,C=B,L=b),b=0;L;)b=(C[--L]=C[L]+T[L]+b)/Xa|0,C[L]=Xa===C[L]?0:C[L]%Xa;return b&&(C=[b].concat(C),++I),P(N,C,I)},i.precision=i.sd=function(N,L){var B,R,b,x=this;if(N!=null&&N!==!!N)return dn(N,1,Wn),L==null?L=s:dn(L,0,8),U(new A(x),N,L);if(!(B=x.c))return null;if(b=B.length-1,R=b*Vt+1,b=B[b]){for(;b%10==0;b/=10,R--);for(b=B[0];b>=10;b/=10,R++);}return N&&x.e+1>R&&(R=x.e+1),R},i.shiftedBy=function(N){return dn(N,-yT,yT),this.times("1e"+N)},i.squareRoot=i.sqrt=function(){var N,L,B,R,b,x=this,I=x.c,C=x.s,T=x.e,j=a+4,O=new A("0.5");if(C!==1||!I||!I[0])return new A(!C||C<0&&(!I||I[0])?NaN:I?x:1/0);if(C=Math.sqrt(+F(x)),C==0||C==1/0?(L=ga(I),(L.length+T)%2==0&&(L+="0"),C=Math.sqrt(+L),T=ba((T+1)/2)-(T<0||T%2),C==1/0?L="5e"+T:(L=C.toExponential(),L=L.slice(0,L.indexOf("e")+1)+T),B=new A(L)):B=new A(C+""),B.c[0]){for(T=B.e,C=T+j,C<3&&(C=0);;)if(b=B,B=O.times(b.plus(e(x,b,j,1))),ga(b.c).slice(0,C)===(L=ga(B.c)).slice(0,C))if(B.e<T&&--C,L=L.slice(C-3,C+1),L=="9999"||!R&&L=="4999"){if(!R&&(U(b,b.e+a+2,0),b.times(b).eq(x))){B=b;break}j+=4,C+=4,R=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(U(B,B.e+a+2,1),N=!B.times(B).eq(x));break}}return U(B,B.e+a+1,s,N)},i.toExponential=function(N,L){return N!=null&&(dn(N,0,Wn),N++),_(this,N,L,1)},i.toFixed=function(N,L){return N!=null&&(dn(N,0,Wn),N=N+this.e+1),_(this,N,L)},i.toFormat=function(N,L,B){var R,b=this;if(B==null)N!=null&&L&&typeof L=="object"?(B=L,L=null):N&&typeof N=="object"?(B=N,N=L=null):B=m;else if(typeof B!="object")throw Error(mo+"Argument not an object: "+B);if(R=b.toFixed(N,L),b.c){var x,I=R.split("."),C=+B.groupSize,T=+B.secondaryGroupSize,j=B.groupSeparator||"",O=I[0],k=I[1],E=b.s<0,M=E?O.slice(1):O,H=M.length;if(T&&(x=C,C=T,T=x,H-=x),C>0&&H>0){for(x=H%C||C,O=M.substr(0,x);x<H;x+=C)O+=j+M.substr(x,C);T>0&&(O+=j+M.slice(x)),E&&(O="-"+O)}R=k?O+(B.decimalSeparator||"")+((T=+B.fractionGroupSize)?k.replace(new RegExp("\\d{"+T+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):k):O}return(B.prefix||"")+R+(B.suffix||"")},i.toFraction=function(N){var L,B,R,b,x,I,C,T,j,O,k,E,M=this,H=M.c;if(N!=null&&(C=new A(N),!C.isInteger()&&(C.c||C.s!==1)||C.lt(o)))throw Error(mo+"Argument "+(C.isInteger()?"out of range: ":"not an integer: ")+F(C));if(!H)return new A(M);for(L=new A(o),j=B=new A(o),R=T=new A(o),E=ga(H),x=L.e=E.length-M.e-1,L.c[0]=vT[(I=x%Vt)<0?Vt+I:I],N=!N||C.comparedTo(L)>0?x>0?L:j:C,I=f,f=1/0,C=new A(E),T.c[0]=0;O=e(C,L,0,1),b=B.plus(O.times(R)),b.comparedTo(N)!=1;)B=R,R=b,j=T.plus(O.times(b=j)),T=b,L=C.minus(O.times(b=L)),C=b;return b=e(N.minus(B),R,0,1),T=T.plus(b.times(j)),B=B.plus(b.times(R)),T.s=j.s=M.s,x=x*2,k=e(j,R,x,s).minus(M).abs().comparedTo(e(T,B,x,s).minus(M).abs())<1?[j,R]:[T,B],f=I,k},i.toNumber=function(){return+F(this)},i.toPrecision=function(N,L){return N!=null&&dn(N,1,Wn),_(this,N,L,2)},i.toString=function(N){var L,B=this,R=B.s,b=B.e;return b===null?R?(L="Infinity",R<0&&(L="-"+L)):L="NaN":(N==null?L=b<=l||b>=c?fx(ga(B.c),b):Nl(ga(B.c),b,"0"):N===10&&w?(B=U(new A(B),a+b+1,s),L=Nl(ga(B.c),B.e,"0")):(dn(N,2,v.length,"Base"),L=r(Nl(ga(B.c),b,"0"),10,N,R,!0)),R<0&&B.c[0]&&(L="-"+L)),L},i.valueOf=i.toJSON=function(){return F(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&A.set(t),A}function ba(t){var e=t|0;return t>0||t===e?e:e-1}function ga(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=Vt-e.length;r--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function fd(t,e){var r,n,i=t.c,o=e.c,a=t.s,s=e.s,l=t.e,c=e.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>c^r?1:-1;for(s=(l=i.length)<(c=o.length)?l:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return l==c?0:l>c^r?1:-1}function dn(t,e,r,n){if(t<e||t>r||t!==wa(t))throw Error(mo+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function ux(t){var e=t.c.length-1;return ba(t.e/Vt)==e&&t.c[e]%2!=0}function fx(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Nl(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}ore();const jPe={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"sendTransaction"},SK={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},_K={INTERNAL:"internal",NETWORK:"network"},$Pe={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},tr={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},FPe=t=>{try{const e=t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},UPe=t=>{try{return new URL(t).hostname}catch{return""}},HPe=t=>{if(t)return t.chainNamespace===tr.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===tr.SOLANA?`${t.chainNamespace}:${$Pe[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`},qPe=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function zPe(t){switch(t.status){case 405:throw If.methodNotFound();case 418:throw If.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw If.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function WPe(t){return new Promise(e=>{setTimeout(e,t)})}function KPe(t,e){if(t.status!==200)throw If.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw If.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function VPe({req:t,rpcTarget:e,originHttpHeaderKey:r}){const n=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,a=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a};return r&&o&&(s.headers[r]=o),{fetchUrl:n.href,fetchParams:s}}function GPe({rpcTarget:t,originHttpHeaderKey:e,analytics:r,providerConfig:n,transactionDecoder:i}){return OPe(async(o,a,s)=>{const{fetchUrl:l,fetchParams:c}=VPe({req:o,rpcTarget:t,originHttpHeaderKey:e}),u=5,f=1e3,h=Date.now(),p=!Object.values(jPe).includes(o.method),y={chain_id:HPe(n),chain_rpc_target:UPe(l),method:o.method};if(!p&&i){const[m,v]=i(o,(n==null?void 0:n.chainId)||"");y.sender=m,y.transaction_hash=v}for(let m=0;m<u;m++){try{const v=await fetch(l,c);zPe(v);const w=await v.json(),A=KPe(v,w);a.result=A,p||r==null||r.track(SK.JRPC_REQUEST_COMPLETED,be(be({request_type:_K.NETWORK},y),{},{duration:Date.now()-h}));return}catch(v){const w=(v.message||v).toString();if(!qPe.some(_=>w.includes(_)))throw p||r==null||r.track(SK.JRPC_REQUEST_FAILED,be(be({request_type:_K.NETWORK},y),{},{error_code:v==null?void 0:v.code,error_message:w,duration:Date.now()-h})),await kR(v)}await WPe(f)}})}function Wd(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r))}}class Fy extends Error{}Fy.prototype.name="InvalidTokenError";function YPe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function JPe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return YPe(e)}catch{return atob(e)}}function QPe(t,e){if(typeof t!="string")throw new Fy("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Fy(`Invalid token specified: missing part #${r+1}`);let i;try{i=JPe(n)}catch(o){throw new Fy(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Fy(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}const are="https://authjs.web3auth.io",XPe=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},a=await VS(`${are}/siww/get`,o);if(!a.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return a.challenge},ZPe=async(t,e,r,n,i,o,a,s,l)=>{var c;const f=be({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:r,issuer:n,audience:typeof window<"u"&&((c=window.location)===null||c===void 0?void 0:c.hostname)||"com://reactnative",timeout:i},{}),h=await VS(`${are}/siww/verify`,f,{headers:{client_id:o,wallet_provider:n,web3auth_network:a}});if(!h.success)throw As.error("Failed to authenticate user, ,message verification failed",h.error),new Error("Failed to authenticate user, ,message verification failed");return h.token},eke={ALL:"all"},n0={MODAL:"modal",EMBED:"embed"},AK="Web3Auth-state",uw={MODAL:"modal",NO_MODAL:"no-modal"},tke={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},rke="https://assets.web3auth.io/v2/wallet-registry.json";function nke(t,e){return JSON.parse(t,(r,n)=>{var i,o,a;let s=n;return((i=s)===null||i===void 0?void 0:i.__type)==="bigint"&&(s=BigInt(s.value)),((o=s)===null||o===void 0?void 0:o.__type)==="Map"&&(s=new Map(s.value)),(a=void 0)!==null&&a!==void 0?a:s})}const ike=t=>({getItem(e){if(typeof window>"u")return null;const r=oke(document.cookie,e);return r??null},setItem(e,r){if(typeof window>"u")return;let n=`${e}=${r};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(n+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),n+="; secure",document.cookie=n},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function oke(t,e){const r=t.split("; ").find(n=>n.startsWith(`${e}=`));if(r)return r.substring(e.length+1)}var P8=function(t,e){return P8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},P8(t,e)};function ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var it=function(){return it=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},it.apply(this,arguments)};function sre(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kt(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}function Tt(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Fn(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function k8(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=""+e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var ake=function(t,e){return Object.keys(t).filter(function(r){return e(r,t[r])}).reduce(function(r,n){return r[n]=t[n],r},{})},Nh=(function(t){ko(e,t);function e(r,n){var i=t.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return e})(Error);function Lf(t){return typeof t=="string"}function T8(t){return typeof t=="number"}function _0(t){return typeof t=="function"}function ske(t){return t!=null}function vs(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var qR="is not a string",zR="is not an object",lke="is nil";function cke(t){if(!ske(t))throw new Nh("Event",lke);if(typeof t!="object")throw new Nh("Event",zR)}function uke(t){if(!Lf(t.type))throw new Nh(".type",qR)}function fke(t){if(!Lf(t.event))throw new Nh(".event",qR)}function dke(t){if(!vs(t.properties))throw new Nh(".properties",zR)}function hke(t){if(!vs(t.traits))throw new Nh(".traits",zR)}function pke(t){if(!Lf(t.messageId))throw new Nh(".messageId",qR)}function gke(t){cke(t),uke(t),pke(t),t.type==="track"&&(fke(t),dke(t)),["group","identify"].includes(t.type)&&hke(t)}var mke=(function(){function t(e){var r,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(r=e.onEventMethodCall)!==null&&r!==void 0?r:(function(){}),this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:(function(){})}return t})(),yke=(function(){function t(e){this.settings=new mke(e)}return t.prototype.track=function(e,r,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(it(it({},this.baseEvent()),{event:e,type:"track",properties:r??{},options:it({},n),integrations:it({},i)}))},t.prototype.page=function(e,r,n,i,o){var a;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:it({},n),options:it({},i),integrations:it({},o)};return e!==null&&(s.category=e,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=e),r!==null&&(s.name=r),this.normalize(it(it({},this.baseEvent()),s))},t.prototype.screen=function(e,r,n,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var a={type:"screen",properties:it({},n),options:it({},i),integrations:it({},o)};return e!==null&&(a.category=e),r!==null&&(a.name=r),this.normalize(it(it({},this.baseEvent()),a))},t.prototype.identify=function(e,r,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(it(it({},this.baseEvent()),{type:"identify",userId:e,traits:r??{},options:it({},n),integrations:i}))},t.prototype.group=function(e,r,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(it(it({},this.baseEvent()),{type:"group",traits:r??{},options:it({},n),integrations:it({},i),groupId:e}))},t.prototype.alias=function(e,r,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:it({},n),integrations:it({},i)};return r!==null&&(o.previousId=r),e===void 0?this.normalize(it(it({},o),this.baseEvent())):this.normalize(it(it({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var r,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(r=e.context)!==null&&r!==void 0?r:{},a={};return i.forEach(function(s){s!=="context"&&(n.includes(s)?k8(a,s,e[s]):k8(o,s,e[s]))}),[o,a]},t.prototype.normalize=function(e){var r,n,i=Object.keys((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(h,p){var y,m;return it(it({},h),(y={},y[p]=!!(!((m=e.integrations)===null||m===void 0)&&m[p]),y))},{});e.options=ake(e.options||{},function(h,p){return p!==void 0});var o=it(it({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),a=e.options?this.context(e.options):[],s=a[0],l=a[1],c=e.options,u=sre(e,["options"]),f=it(it(it(it({timestamp:new Date},u),{context:s,integrations:o}),l),{messageId:c.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),gke(f),f},t})();function vke(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function wke(t){return new Promise(function(e){return setTimeout(e,t)})}function bke(t,e,r){var n=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return wke(r).then(function(){return vke(n(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var lre=function(){var t,e,r=!1,n=new Promise(function(i,o){t=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,i.apply(void 0,a)},e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,o.apply(void 0,a)}});return{resolve:t,reject:e,promise:n,isSettled:function(){return r}}},WR=(function(){function t(e){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=e==null?void 0:e.maxListeners)!==null&&r!==void 0?r:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,r){return this.callbacks[e]?(this.callbacks[e].push(r),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[r],this},t.prototype.once=function(e,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(e,i),r.apply(n,o)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},t})();function xke(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,l=s===void 0?1/0:s;return Math.min(e*n*Math.pow(o,a),l)}var cre="onRemoveFromFuture",KR=(function(t){ko(e,t);function e(r,n,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i??{},o}return e.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var s=r.updateAttempts(a);return s>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return r.getAttempts(a)-r.getAttempts(s)}),o},e.prototype.pushWithBackoff=function(r,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(r)===0)return this.push(r)[0];var o=this.updateAttempts(r);if(o>this.maxAttempts||this.includes(r))return!1;var a=xke({attempt:o-1});return n>0&&a<n&&(a=n),setTimeout(function(){i.queue.push(r),i.future=i.future.filter(function(s){return s.id!==r.id}),i.emit(cre)},a),this.future.push(r),!0},e.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},e.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e})(WR),Kd=256,m2=[],dx;for(;Kd--;)m2[Kd]=(Kd+256).toString(16).substring(1);function VR(){var t=0,e,r="";if(!dx||Kd+16>256){for(dx=Array(t=256);t--;)dx[t]=256*Math.random()|0;t=Kd=0}for(;t<16;t++)e=dx[Kd+t],t==6?r+=m2[e&15|64]:t==8?r+=m2[e&63|128]:r+=m2[e],t&1&&t>1&&t<11&&(r+="-");return Kd++,r}var Eke=(function(){function t(){this._logs=[]}return t.prototype.log=function(e,r,n){var i=new Date;this._logs.push({level:e,message:r,time:i,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,o,a,s=it(it({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var l=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[l]&&(l="".concat(l,"-").concat(Math.random())),it(it({},r),(i={},i[l]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},t})(),Ske=function(t){var e={gauge:"g",counter:"c"};return e[t]},ure=(function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,r,n){r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return it(it({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:Ske(e.type),e:e.timestamp}})},t})(),_ke=(function(t){ko(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e})(ure),zg=(function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t})(),QE=(function(){function t(e,r,n,i){r===void 0&&(r=VR()),n===void 0&&(n=new _ke),i===void 0&&(i=new Eke),this.attempts=0,this.event=e,this._id=r,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new zg({reason:"Context Cancel"})},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return k8(this.event,e,r),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t})();function Ake(t,e){var r={};return t.forEach(function(n){var i,o=void 0;{var a=n[e];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(r[o]=Fn(Fn([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Cke=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Oke=function(){var t,e,r=0;return{done:function(){return t},run:function(n){var i=n();return Cke(i)&&(++r===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--r===0&&e()})),i}}};function Ike(t){return kt(this,void 0,void 0,function(){var e;return Tt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function cv(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=Ike(function(){return n.apply(e,[t])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof zg&&o.type==="middleware_cancellation")throw o;return o instanceof zg?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function Pke(t,e){return cv(t,e).then(function(r){if(r instanceof QE)return r;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r)})}var kke=(function(t){ko(e,t);function e(r){var n=t.call(this)||this;return n.criticalTasks=Oke(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(cre,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(r,n,i){return kt(this,void 0,void 0,function(){var o,a,s=this;return Tt(this,function(l){switch(l.label){case 0:return this.plugins.push(n),o=function(c){s.failedInitializations.push(n.name),s.emit("initialization_failure",n),console.warn(n.name,c),r.log("warn","Failed to load destination",{plugin:n.name,error:c}),s.plugins=s.plugins.filter(function(u){return u!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(r,i).catch(o),[3,4]):[3,1];case 1:return l.trys.push([1,3,,4]),[4,n.load(r,i)];case 2:return l.sent(),[3,4];case 3:return a=l.sent(),o(a),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(r,n,i){return kt(this,void 0,void 0,function(){var o;return Tt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return kt(this,void 0,void 0,function(){var n;return Tt(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return kt(this,void 0,void 0,function(){var n=this;return Tt(this,function(i){return[2,new Promise(function(o){var a=function(s,l){s.isSame(r)&&(n.off("flush",a),o(s))};n.on("flush",a)})]})})},e.prototype.dispatchSingle=function(r){return kt(this,void 0,void 0,function(){var n=this;return Tt(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},e.prototype.deliver=function(r){return kt(this,void 0,void 0,function(){var n,i,o,a;return Tt(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=s.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=s.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=!(r instanceof zg)||r.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return kt(this,void 0,void 0,function(){var r,n,i;return Tt(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(p){var y,m,v;if(p.type!=="destination"&&p.name!=="Segment.io")return!0;var w=void 0;return(y=p.alternativeNames)===null||y===void 0||y.forEach(function(A){r[A]!==void 0&&(w=r[A])}),(v=(m=r[p.name])!==null&&m!==void 0?m:w)!==null&&v!==void 0?v:(p.name==="Segment.io"?!0:r.All)!==!1}),i=Ake(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,l=s===void 0?[]:s,c=i.destination,u=c===void 0?[]:c,f=i.after,h=f===void 0?[]:f;return{before:a,enrichment:l,destinations:u,after:h}},e.prototype.flushOne=function(r){var n,i;return kt(this,void 0,void 0,function(){var o,a,s,l,c,u,y,f,h,p,y,m,v,w,A;return Tt(this,function(_){switch(_.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,l=0,c=a,_.label=1;case 1:return l<c.length?(u=c[l],[4,Pke(r,u)]):[3,4];case 2:y=_.sent(),y instanceof QE&&(r=y),this.emit("message_enriched",r,u),_.label=3;case 3:return l++,[3,1];case 4:f=0,h=s,_.label=5;case 5:return f<h.length?(p=h[f],[4,cv(r,p)]):[3,8];case 6:y=_.sent(),y instanceof QE&&(r=y),this.emit("message_enriched",r,p),_.label=7;case 7:return f++,[3,5];case 8:return m=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),v=m.destinations,w=m.after,[4,new Promise(function(D,P){setTimeout(function(){var U=v.map(function(F){return cv(r,F)});Promise.all(U).then(D).catch(P)},0)})];case 9:return _.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),A=w.map(function(D){return cv(r,D)}),[4,Promise.all(A)];case 10:return _.sent(),[2,r]}})})},e})(WR),Tke=function(t,e){var r=Date.now()-t;return Math.max((e??300)-r,0)};function Mke(t,e,r,n){return kt(this,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=a.sent(),a.label=4;case 4:return n!=null&&n.callback?[4,bke(o,n.callback,Tke(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n!=null&&n.debug&&o.flush(),[2,o]}})})}function Nke(t,e,r,n){var i,o=[t,e,r,n],a=vs(t)?t.event:t;if(!a||!Lf(a))throw new Error("Event missing");var s=vs(t)?(i=t.properties)!==null&&i!==void 0?i:{}:vs(e)?e:{},l={};_0(r)||(l=r??{}),vs(t)&&!_0(e)&&(l=e??{});var c=o.find(_0);return[a,s,l,c]}function CK(t,e,r,n,i){var o,a,s=null,l=null,c=[t,e,r,n,i],u=c.filter(Lf);u.length===1?Lf(c[1])?(l=c[1],s=null):(l=u[0],s=null):u.length===2&&(typeof c[0]=="string"&&(s=c[0]),typeof c[1]=="string"&&(l=c[1]));var f=c.find(_0),h=c.filter(vs);return h.length===1?vs(c[2])?(a={},o=c[2]):vs(c[3])?(o={},a=c[3]):(o=h[0],a={}):h.length===2&&(o=h[0],a=h[1]),[s,l,o??(o={}),a??(a={}),f]}var OK=function(t){return function(){for(var e,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],l=0,c=i;l<c.length;l++){var u=c[l],f=s.pop();if(f==="id"){if(Lf(u)||T8(u)){a.id=u.toString();continue}if(u==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(u==null||vs(u))&&(a[f]=u),_0(u)){a.callback=u;break}}return[(e=a.id)!==null&&e!==void 0?e:t.id(),(r=a.traits)!==null&&r!==void 0?r:{},(n=a.options)!==null&&n!==void 0?n:{},a.callback]}};function Rke(t,e,r,n){T8(t)&&(t=t.toString()),T8(e)&&(e=e.toString());var i=[t,e,r,n],o=i.filter(Lf),a=o[0],s=a===void 0?t:a,l=o[1],c=l===void 0?null:l,u=i.filter(vs)[0],f=u===void 0?{}:u,h=i.find(_0);return[s,c,f,h]}function GR(){return typeof window<"u"}function QFe(){return!GR()}function Lke(){return GR()?window.navigator.onLine:!0}function fw(){return!Lke()}function Dke(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return a},get:function(u){return s[u.toLowerCase()]},has:function(u){return u.toLowerCase()in s}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,h){o.push(f=f.toLowerCase()),a.push([f,h]),s[f]=s[f]?s[f]+","+h:h}),r(l())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}var YR=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},ZS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=YR();return(r&&r.fetch||Dke).apply(void 0,t)},e_="1.81.1",fre="api.segment.io/v1",Bke=function(t,e,r){var n=e.reduce(function(i,o){var a=o.split(":"),s=a[0],l=a[1];return i[s]=l,i},{});return{type:"Counter",metric:t,value:1,tags:it(it({},n),{library:"analytics.js",library_version:"npm:next-".concat(e_)})}};function wT(t){console.error("Error sending segment performance metrics",t)}var jke=(function(){function t(e){var r=this,n,i,o,a,s;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:fre,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e==null?void 0:e.maxQueueSize)!==null&&a!==void 0?a:20,this.protocol=(s=e==null?void 0:e.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var l=!1,c=function(){l||(l=!0,r.flush().catch(wT),l=!1,setTimeout(c,r.flushTimer))};c()}}return t.prototype.increment=function(e,r){if(e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=Bke(e,r);this.queue.push(n),e.includes("error")&&this.flush().catch(wT)}},t.prototype.flush=function(){return kt(this,void 0,void 0,function(){var e=this;return Tt(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){wT(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return kt(this,void 0,void 0,function(){var e,r,n;return Tt(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,ZS(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t})(),hx,dre=(function(t){ko(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(r){hx=new jke(r)},e.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),hx==null||hx.increment(r,i??[])},e})(ure),bc=(function(t){ko(e,t);function e(r,n){return t.call(this,r,n,new dre)||this}return e.system=function(){return new this({type:"track",event:"system"})},e})(QE);function $ke(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var hre="bpc",pre=function(t,e,r,n,i,o){return{__t:hre,c:e,p:n,u:t,s:r,t:i,r:o}},Fke=Object.keys(pre("","","","","",""));function Uke(t){if(!$ke(t)||t.__t!==hre)return!1;for(var e in t)if(!Fke.includes(e))return!1;return!0}var Hke=function(t,e){return t.indexOf("?")>-1?t:t+e},qke=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},zke=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},gre=function(t){var e=t.c,r=t.p,n=t.s,i=t.u,o=t.r,a=t.t,s=e?zke(e):r,l=e?Hke(e,n):qke(i);return{path:s,referrer:o,search:n,title:a,url:l}},mre=function(){var t=document.querySelector("link[rel='canonical']");return pre(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},Wke=function(){return gre(mre())};function Kke(t,e){return Object.assign.apply(Object,Fn([{}],e.map(function(r){var n;if(t&&Object.prototype.hasOwnProperty.call(t,r))return n={},n[r]=t[r],n}),!1))}var Lp=function(t,e){e===void 0&&(e=Wke());var r=t.context,n;t.type==="page"&&(n=t.properties&&Kke(t.properties,Object.keys(e)),t.properties=it(it(it({},e),t.properties),t.name?{name:t.name}:{})),r.page=it(it(it({},e),n),r.page)},Vke=(function(t){ko(e,t);function e(r){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(VR())},onEventMethodCall:function(i){var o=i.options;n.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=r,n}return e.prototype.maybeUpdateAnonId=function(r){r!=null&&r.anonymousId&&this.user.anonymousId(r.anonymousId)},e.prototype.addIdentity=function(r){this.user.id()&&(r.userId=this.user.id()),this.user.anonymousId()&&(r.anonymousId=this.user.anonymousId())},e.prototype.track=function(r,n,i,o,a){var s=t.prototype.track.call(this,r,n,i,o);return Lp(s,a),s},e.prototype.page=function(r,n,i,o,a,s){var l=t.prototype.page.call(this,r,n,i,o,a);return Lp(l,s),l},e.prototype.screen=function(r,n,i,o,a,s){var l=t.prototype.screen.call(this,r,n,i,o,a);return Lp(l,s),l},e.prototype.identify=function(r,n,i,o,a){var s=t.prototype.identify.call(this,r,n,i,o);return Lp(s,a),s},e.prototype.group=function(r,n,i,o,a){var s=t.prototype.group.call(this,r,n,i,o);return Lp(s,a),s},e.prototype.alias=function(r,n,i,o,a){var s=t.prototype.alias.call(this,r,n,i,o);return Lp(s,a),s},e})(yke),Gke=function(t){return"addMiddleware"in t&&t.type==="destination"},pl={getItem:function(){},setItem:function(){},removeItem:function(){}};try{pl=GR()&&window.localStorage?window.localStorage:pl}catch(t){console.warn("Unable to access localStorage",t)}function yre(t){var e=pl.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new bc(r.event,r.id)})}function Yke(t,e){var r=yre(t),n=Fn(Fn([],e,!0),r,!0),i=n.reduce(function(o,a){var s;return it(it({},o),(s={},s[a.id]=a,s))},{});pl.setItem(t,JSON.stringify(Object.values(i)))}function vre(t){var e=pl.getItem(t);return e?JSON.parse(e):{}}function Jke(t,e){var r=vre(t);pl.setItem(t,JSON.stringify(it(it({},r),e)))}function IK(t){pl.removeItem(t)}var Qke=function(){return new Date().getTime()};function M8(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(c){return new Date().getTime()>c},a=pl.getItem(i),s=a?JSON.parse(a):null,l=s===null||o(s);if(l){pl.setItem(i,JSON.stringify(Qke()+n)),e(),pl.removeItem(i);return}!l&&r<3?setTimeout(function(){M8(t,e,r+1)},n):console.error("Unable to retrieve lock")}var JR=(function(t){ko(e,t);function e(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),s=[],l={};return M8(n,function(){try{s=yre(o),l=vre(a),IK(o),IK(a),i.queue=Fn(Fn([],s,!0),i.queue,!0),i.seen=it(it({},l),i.seen)}catch(c){console.error(c)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var c=Fn(Fn([],i.queue,!0),i.future,!0);try{M8(n,function(){Yke(o,c),Jke(a,i.seen)})}catch(u){console.error(u)}}}),i}return e})(KR),Xke=(function(t){ko(e,t);function e(r){return t.call(this,typeof r=="string"?new JR(4,r):r)||this}return e.prototype.flush=function(){return kt(this,void 0,void 0,function(){return Tt(this,function(r){return fw()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e})(kke);function QR(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var Zke={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function N8(t,e){function r(i,o,a){if(!(typeof document>"u")){a=px({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,a[l]!==!0&&(s+="="+a[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var l=o[s].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(a[u]=t.read(c,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",px({},o,{expires:-1}))},withAttributes:function(i){return N8(this.converter,px({},this.attributes,i))},withConverter:function(i){return N8(px({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ic=N8(Zke,{path:"/"});function e4e(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function t4e(t){try{return new URL(t)}catch{return}}function wre(t){var e=t4e(t);if(e)for(var r=e4e(e),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(ic.set(i,"1",a),ic.get(i))return ic.remove(i,a),o}catch{return}}}var r4e=365,bre=(function(){function t(e){e===void 0&&(e=t.defaults),this.options=it(it({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:r4e,domain:wre(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var r;try{var n=ic.get(e);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return null}},t.prototype.set=function(e,r){typeof r=="string"?ic.set(e,r,this.opts()):r===null?ic.remove(e,this.opts()):ic.set(e,JSON.stringify(r),this.opts())},t.prototype.remove=function(e){return ic.remove(e,this.opts())},t})(),n4e=(function(){function t(){}return t.prototype.localStorageWarning=function(e,r){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(r))},t.prototype.get=function(e){var r;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t})(),XR=(function(){function t(){this.cache={}}return t.prototype.get=function(e){var r;return(r=this.cache[e])!==null&&r!==void 0?r:null},t.prototype.set=function(e,r){this.cache[e]=r},t.prototype.remove=function(e){delete this.cache[e]},t})(),bo={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function xre(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(bo).includes(e)})}function i4e(t){return typeof t=="object"&&t.name!==void 0}var bT=function(t,e,r,n){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(r,'" | Err: ').concat(n))},_h=(function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var r=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(r=o.get(e),r!=null)return r}catch(a){bT(o,"get",e,a)}}return null},t.prototype.set=function(e,r){this.stores.forEach(function(n){try{n.set(e,r)}catch(i){bT(n,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(r){try{r.remove(e)}catch(n){bT(r,"remove",e,n)}})},t.prototype.getAndSync=function(e){var r=this.get(e),n=typeof r=="number"?r.toString():r;return this.set(e,n),n},t})();function R8(t){var e=t.map(function(r){var n,i;switch(i4e(r)?(n=r.name,i=r.settings):n=r,n){case bo.Cookie:return new bre(i);case bo.LocalStorage:return new n4e;case bo.Memory:return new XR;default:throw new Error("Unknown Store Type: ".concat(r))}});return e}function Ere(t,e){return t.map(function(r){return e&&r===bo.Cookie?{name:r,settings:e}:r})}var dd={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Sre=(function(){function t(e,r){e===void 0&&(e=dd);var n=this,i,o,a,s;this.options={},this.id=function(c){if(n.options.disable)return null;var u=n.identityStore.getAndSync(n.idKey);if(c!==void 0){n.identityStore.set(n.idKey,c);var f=c!==u&&u!==null&&c!==null;f&&n.anonymousId(null)}var h=n.identityStore.getAndSync(n.idKey);if(h)return h;var p=n.legacyUserStore.get(dd.cookie.oldKey);return p?typeof p=="object"?p.id:p:null},this.anonymousId=function(c){var u,f;if(n.options.disable)return null;if(c===void 0){var h=(u=n.identityStore.getAndSync(n.anonKey))!==null&&u!==void 0?u:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(h)return h}return c===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,c??VR()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(c){var u;if(!n.options.disable)return c===null&&(c={}),c&&n.traitsStore.set(n.traitsKey,c??{}),(u=n.traitsStore.get(n.traitsKey))!==null&&u!==void 0?u:{}},this.options=it(it({},dd),e),this.cookieOptions=r,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:dd.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:dd.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(c){return c===bo.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(c){return c!==bo.Cookie});var l=this.legacyUserStore.get(dd.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),QR(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===e)&&(r=it(it({},this.traits()),r)),e&&this.id(e),this.traits(r)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,r,n){var i=[bo.LocalStorage,bo.Cookie,bo.Memory];return e.disable?new _h([]):e.persist?(e.storage!==void 0&&e.storage!==null&&xre(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==bo.LocalStorage})),n&&(i=i.filter(n)),new _h(R8(Ere(i,r)))):new _h([new XR])},t.defaults=dd,t})(),PK={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},o4e=(function(t){ko(e,t);function e(r,n){r===void 0&&(r=PK);var i=t.call(this,it(it({},PK),r),n)||this;return i.anonymousId=function(o){},QR(i),i}return e})(Sre),ZR="analytics";function _re(){return window[ZR]}function a4e(t){ZR=t}function s4e(t){window[ZR]=t}var l4e=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Are=function(t,e,r){r.getAndRemove(t).forEach(function(n){t_(e,n).catch(console.error)})},c4e=function(t,e){return kt(void 0,void 0,void 0,function(){var r,n,i;return Tt(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,t_(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},u4e=function(t,e){return kt(void 0,void 0,void 0,function(){var r,n,i;return Tt(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("register"),o.label=1;case 1:return r<n.length?(i=n[r],[4,t_(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},f4e=Are.bind(void 0,"on"),d4e=Are.bind(void 0,"setAnonymousId"),h4e=function(t,e){Object.keys(e.calls).forEach(function(r){e.getAndRemove(r).forEach(function(n){setTimeout(function(){t_(t,n).catch(console.error)},0)})})},Dp=function(t){if(Cre(t)){var e=t.pop();return gre(e)}},Cre=function(t){var e=t[t.length-1];return Uke(e)},L8=(function(){function t(e,r,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=r}return t})(),p4e=(function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var r;return(r=this.calls[e])!==null&&r!==void 0?r:[]},t.prototype.getAndRemove=function(e){var r=this.get(e);return this.calls[e]=[],r},t.prototype.add=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!Cre(i.args)&&(i.args=Fn(Fn([],i.args,!0),[mre()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t})();function t_(t,e){return kt(this,void 0,void 0,function(){var r,n;return Tt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,r=t[e.method].apply(t,e.args),l4e(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var g4e=(function(){function t(e){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=e_,this._preInitBuffer=new p4e,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).then.apply(e,r)},t.prototype.catch=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).catch.apply(e,r)},t.prototype.finally=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).finally.apply(e,r)},t.prototype._createMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[e].apply(n,i);return Promise.resolve(a)}return new Promise(function(s,l){r._preInitBuffer.add(new L8(e,i,s,l))})}},t.prototype._createChainableMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[e].apply(n,i),r):(r._preInitBuffer.add(new L8(e,i)),r)}},t})(),xy={},hd={},Bp={},xT={exports:{}},kK;function r_(){return kK||(kK=1,(function(t){t.exports=e(r),t.exports.find=t.exports,t.exports.replace=function(s,l,c,u){return e(i).call(this,s,l,c,u),s},t.exports.del=function(s,l,c){return e(n).call(this,s,l,null,c),s};function e(s){return function(l,c,u,f){var h=f&&a(f.normalizer)?f.normalizer:o;c=h(c);for(var p,y=!1;!y;)m();function m(){for(p in l){var v=h(p);if(c.indexOf(v)===0){var w=c.substr(v.length);if(w.charAt(0)==="."||w.length===0){c=w.substr(1);var A=l[p];if(A==null){y=!0;return}if(!c.length){y=!0;return}l=A;return}}}p=void 0,y=!0}if(p)return l==null?l:s(l,p,u)}}function r(s,l){if(s.hasOwnProperty(l))return s[l]}function n(s,l){return s.hasOwnProperty(l)&&delete s[l],s}function i(s,l,c){return s.hasOwnProperty(l)&&(s[l]=c),s}function o(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(s){return typeof s=="function"}})(xT)),xT.exports}var TK;function m4e(){if(TK)return Bp;TK=1;var t=Bp&&Bp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bp,"__esModule",{value:!0});var e=t(r_());function r(i,o){return function(){var a=this.traits(),s=this.properties?this.properties():{};return e.default(a,"address."+i)||e.default(a,i)||(o?e.default(a,"address."+o):null)||(o?e.default(a,o):null)||e.default(s,"address."+i)||e.default(s,i)||(o?e.default(s,"address."+o):null)||(o?e.default(s,o):null)}}function n(i){i.zip=r("postalCode","zip"),i.country=r("country"),i.street=r("street"),i.state=r("state"),i.city=r("city"),i.region=r("region")}return Bp.default=n,Bp}var Ey={},MK;function y4e(){if(MK)return Ey;MK=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.clone=void 0;function t(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=t(e[n]));return r}else return Array.isArray(e)?e.map(t):e}return Ey.clone=t,Ey}var gx={},NK;function v4e(){if(NK)return gx;NK=1,Object.defineProperty(gx,"__esModule",{value:!0});var t={Salesforce:!0};function e(r){return!t[r]}return gx.default=e,gx}var mx={},RK;function Ore(){if(RK)return mx;RK=1;var t=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return mx.parse=function(e){var r=[1,5,6,7,11,12],n=t.exec(e),i=0;if(!n)return new Date(e);for(var o=0,a;a=r[o];o++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?i=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(i=n[11]*60+n[12],n[10]==="+"&&(i=0-i));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(s)},mx.is=function(e,r){return typeof e!="string"||r&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:t.test(e)},mx}var yx={},LK;function w4e(){if(LK)return yx;LK=1;var t=/\d{13}/;return yx.is=function(e){return t.test(e)},yx.parse=function(e){return e=parseInt(e,10),new Date(e)},yx}var vx={},DK;function b4e(){if(DK)return vx;DK=1;var t=/\d{10}/;return vx.is=function(e){return t.test(e)},vx.parse=function(e){var r=parseInt(e,10)*1e3;return new Date(r)},vx}var ET,BK;function e9(){if(BK)return ET;BK=1;var t=Ore(),e=w4e(),r=b4e(),n=Object.prototype,i=n.toString;function o(l){return i.call(l)==="[object Date]"}function a(l){return i.call(l)==="[object Number]"}ET=function(c){return o(c)?c:a(c)?new Date(s(c)):t.is(c)?t.parse(c):e.is(c)?e.parse(c):r.is(c)?r.parse(c):new Date(c)};function s(l){return l<315576e5?l*1e3:l}return ET}var ST,jK;function x4e(){if(jK)return ST;jK=1;var t=Ore();ST=e;function e(i,o){return o===void 0&&(o=!0),i&&typeof i=="object"?r(i,o):Array.isArray(i)?n(i,o):t.is(i,o)?t.parse(i):i}function r(i,o){return Object.keys(i).forEach(function(a){i[a]=e(i[a],o)}),i}function n(i,o){return i.forEach(function(a,s){i[s]=e(a,o)}),i}return ST}var $K;function Yh(){if($K)return hd;$K=1;var t=hd&&hd.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hd,"__esModule",{value:!0}),hd.Facade=void 0;var e=t(m4e()),r=y4e(),n=t(v4e()),i=t(e9()),o=t(r_()),a=t(x4e());function s(u,f){f=f||{},this.raw=r.clone(u),"clone"in f||(f.clone=!0),f.clone&&(u=r.clone(u)),"traverse"in f||(f.traverse=!0),"timestamp"in u?u.timestamp=i.default(u.timestamp):u.timestamp=new Date,f.traverse&&a.default(u),this.opts=f,this.obj=u}hd.Facade=s;var l=s.prototype;l.proxy=function(u){var f=u.split(".");u=f.shift();var h=this[u]||this.obj[u];return h&&(typeof h=="function"&&(h=h.call(this)||{}),f.length===0?this.opts.clone?c(h):h:(h=o.default(h,f.join(".")),this.opts.clone?c(h):h))},l.field=function(u){var f=this.obj[u];return this.opts.clone?c(f):f},s.proxy=function(u){return function(){return this.proxy(u)}},s.field=function(u){return function(){return this.field(u)}},s.multi=function(u){return function(){var f=this.proxy(u+"s");if(Array.isArray(f))return f;var h=this.proxy(u);return h&&(h=[this.opts.clone?r.clone(h):h]),h||[]}},s.one=function(u){return function(){var f=this.proxy(u);if(f)return f;var h=this.proxy(u+"s");if(Array.isArray(h))return h[0]}},l.json=function(){var u=this.opts.clone?r.clone(this.obj):this.obj;return this.type&&(u.type=this.type()),u},l.rawEvent=function(){return this.raw},l.options=function(u){var f=this.obj.options||this.obj.context||{},h=this.opts.clone?r.clone(f):f;if(!u)return h;if(this.enabled(u)){var p=this.integrations(),y=p[u]||o.default(p,u);return typeof y!="object"&&(y=o.default(this.options(),u)),typeof y=="object"?y:{}}},l.context=l.options,l.enabled=function(u){var f=this.proxy("options.providers.all");typeof f!="boolean"&&(f=this.proxy("options.all")),typeof f!="boolean"&&(f=this.proxy("integrations.all")),typeof f!="boolean"&&(f=!0);var h=f&&n.default(u),p=this.integrations();if(p.providers&&p.providers.hasOwnProperty(u)&&(h=p.providers[u]),p.hasOwnProperty(u)){var y=p[u];typeof y=="boolean"?h=y:h=!0}return!!h},l.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.active=function(){var u=this.proxy("options.active");return u==null&&(u=!0),u},l.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.sessionId=l.anonymousId,l.groupId=s.proxy("options.groupId"),l.traits=function(u){var f=this.proxy("options.traits")||{},h=this.userId();u=u||{},h&&(f.id=h);for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var y=this[p]==null?this.proxy("options.traits."+p):this[p]();if(y==null)continue;f[u[p]]=y,delete f[p]}return f},l.library=function(){var u=this.proxy("options.library");return u?typeof u=="string"?{name:u,version:null}:u:{name:"unknown",version:null}},l.device=function(){var u=this.proxy("context.device");(typeof u!="object"||u===null)&&(u={});var f=this.library().name;return u.type||(f.indexOf("ios")>-1&&(u.type="ios"),f.indexOf("android")>-1&&(u.type="android")),u},l.userAgent=s.proxy("context.userAgent"),l.timezone=s.proxy("context.timezone"),l.timestamp=s.field("timestamp"),l.channel=s.field("channel"),l.ip=s.proxy("context.ip"),l.userId=s.field("userId"),e.default(l);function c(u){return r.clone(u)}return hd}var pd={},FK;function E4e(){if(FK)return pd;FK=1;var t=pd&&pd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pd,"__esModule",{value:!0}),pd.Alias=void 0;var e=t(_s()),r=Yh();function n(i,o){r.Facade.call(this,i,o)}return pd.Alias=n,e.default(n,r.Facade),n.prototype.action=function(){return"alias"},n.prototype.type=n.prototype.action,n.prototype.previousId=function(){return this.field("previousId")||this.field("from")},n.prototype.from=n.prototype.previousId,n.prototype.userId=function(){return this.field("userId")||this.field("to")},n.prototype.to=n.prototype.userId,pd}var gd={},wx={},UK;function n_(){if(UK)return wx;UK=1,Object.defineProperty(wx,"__esModule",{value:!0});var t=/.+\@.+\..+/;function e(r){return t.test(r)}return wx.default=e,wx}var HK;function S4e(){if(HK)return gd;HK=1;var t=gd&&gd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gd,"__esModule",{value:!0}),gd.Group=void 0;var e=t(_s()),r=t(n_()),n=t(e9()),i=Yh();function o(s,l){i.Facade.call(this,s,l)}gd.Group=o,e.default(o,i.Facade);var a=o.prototype;return a.action=function(){return"group"},a.type=a.action,a.groupId=i.Facade.field("groupId"),a.created=function(){var s=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(s)return n.default(s)},a.email=function(){var s=this.proxy("traits.email");if(s)return s;var l=this.groupId();if(r.default(l))return l},a.traits=function(s){var l=this.properties(),c=this.groupId();s=s||{},c&&(l.id=c);for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){var f=this[u]==null?this.proxy("traits."+u):this[u]();if(f==null)continue;l[s[u]]=f,delete l[u]}return l},a.name=i.Facade.proxy("traits.name"),a.industry=i.Facade.proxy("traits.industry"),a.employees=i.Facade.proxy("traits.employees"),a.properties=function(){return this.field("traits")||this.field("properties")||{}},gd}var md={},qK;function Ire(){if(qK)return md;qK=1;var t=md&&md.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(md,"__esModule",{value:!0}),md.Identify=void 0;var e=Yh(),r=t(r_()),n=t(_s()),i=t(n_()),o=t(e9()),a=function(c){return c.trim()};function s(c,u){e.Facade.call(this,c,u)}md.Identify=s,n.default(s,e.Facade);var l=s.prototype;return l.action=function(){return"identify"},l.type=l.action,l.traits=function(c){var u=this.field("traits")||{},f=this.userId();c=c||{},f&&(u.id=f);for(var h in c){var p=this[h]==null?this.proxy("traits."+h):this[h]();p!=null&&(u[c[h]]=p,h!==c[h]&&delete u[h])}return u},l.email=function(){var c=this.proxy("traits.email");if(c)return c;var u=this.userId();if(i.default(u))return u},l.created=function(){var c=this.proxy("traits.created")||this.proxy("traits.createdAt");if(c)return o.default(c)},l.companyCreated=function(){var c=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(c)return o.default(c)},l.companyName=function(){return this.proxy("traits.company.name")},l.name=function(){var c=this.proxy("traits.name");if(typeof c=="string")return a(c);var u=this.firstName(),f=this.lastName();if(u&&f)return a(u+" "+f)},l.firstName=function(){var c=this.proxy("traits.firstName");if(typeof c=="string")return a(c);var u=this.proxy("traits.name");if(typeof u=="string")return a(u).split(" ")[0]},l.lastName=function(){var c=this.proxy("traits.lastName");if(typeof c=="string")return a(c);var u=this.proxy("traits.name");if(typeof u=="string"){var f=a(u).indexOf(" ");if(f!==-1)return a(u.substr(f+1))}},l.uid=function(){return this.userId()||this.username()||this.email()},l.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.age=function(){var c=this.birthday(),u=r.default(this.traits(),"age");if(u!=null)return u;if(c instanceof Date){var f=new Date;return f.getFullYear()-c.getFullYear()}},l.avatar=function(){var c=this.traits();return r.default(c,"avatar")||r.default(c,"photoUrl")||r.default(c,"avatarUrl")},l.position=function(){var c=this.traits();return r.default(c,"position")||r.default(c,"jobTitle")},l.username=e.Facade.proxy("traits.username"),l.website=e.Facade.one("traits.website"),l.websites=e.Facade.multi("traits.website"),l.phone=e.Facade.one("traits.phone"),l.phones=e.Facade.multi("traits.phone"),l.address=e.Facade.proxy("traits.address"),l.gender=e.Facade.proxy("traits.gender"),l.birthday=e.Facade.proxy("traits.birthday"),md}var yd={},zK;function t9(){if(zK)return yd;zK=1;var t=yd&&yd.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yd,"__esModule",{value:!0}),yd.Track=void 0;var e=t(_s()),r=Yh(),n=Ire(),i=t(n_()),o=t(r_());function a(c,u){r.Facade.call(this,c,u)}yd.Track=a,e.default(a,r.Facade);var s=a.prototype;s.action=function(){return"track"},s.type=s.action,s.event=r.Facade.field("event"),s.value=r.Facade.proxy("properties.value"),s.category=r.Facade.proxy("properties.category"),s.id=r.Facade.proxy("properties.id"),s.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},s.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},s.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},s.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},s.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},s.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},s.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},s.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},s.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},s.sku=r.Facade.proxy("properties.sku"),s.tax=r.Facade.proxy("properties.tax"),s.name=r.Facade.proxy("properties.name"),s.price=r.Facade.proxy("properties.price"),s.total=r.Facade.proxy("properties.total"),s.repeat=r.Facade.proxy("properties.repeat"),s.coupon=r.Facade.proxy("properties.coupon"),s.shipping=r.Facade.proxy("properties.shipping"),s.discount=r.Facade.proxy("properties.discount"),s.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},s.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},s.description=r.Facade.proxy("properties.description"),s.plan=r.Facade.proxy("properties.plan"),s.subtotal=function(){var c=o.default(this.properties(),"subtotal"),u=this.total()||this.revenue();if(c)return c;if(!u)return 0;if(this.total()){var f=this.tax();f&&(u-=f),f=this.shipping(),f&&(u-=f),f=this.discount(),f&&(u+=f)}return u},s.products=function(){var c=this.properties(),u=o.default(c,"products");return Array.isArray(u)?u.filter(function(f){return f!==null}):[]},s.quantity=function(){var c=this.obj.properties||{};return c.quantity||1},s.currency=function(){var c=this.obj.properties||{};return c.currency||"USD"},s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.query=r.Facade.proxy("options.query"),s.properties=function(c){var u=this.field("properties")||{};c=c||{};for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var h=this[f]==null?this.proxy("properties."+f):this[f]();if(h==null)continue;u[c[f]]=h,delete u[f]}return u},s.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},s.email=function(){var c=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(c)return c;var u=this.userId();if(i.default(u))return u},s.revenue=function(){var c=this.proxy("properties.revenue"),u=this.event(),f=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!c&&u&&u.match(f)&&(c=this.proxy("properties.total")),l(c)},s.cents=function(){var c=this.revenue();return typeof c!="number"?this.value()||0:c*100},s.identify=function(){var c=this.json();return c.traits=this.traits(),new n.Identify(c,this.opts)};function l(c){if(c){if(typeof c=="number")return c;if(typeof c=="string"&&(c=c.replace(/\$/g,""),c=parseFloat(c),!isNaN(c)))return c}}return yd}var vd={},WK;function Pre(){if(WK)return vd;WK=1;var t=vd&&vd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vd,"__esModule",{value:!0}),vd.Page=void 0;var e=t(_s()),r=Yh(),n=t9(),i=t(n_());function o(s,l){r.Facade.call(this,s,l)}vd.Page=o,e.default(o,r.Facade);var a=o.prototype;return a.action=function(){return"page"},a.type=a.action,a.category=r.Facade.field("category"),a.name=r.Facade.field("name"),a.title=r.Facade.proxy("properties.title"),a.path=r.Facade.proxy("properties.path"),a.url=r.Facade.proxy("properties.url"),a.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.properties=function(s){var l=this.field("properties")||{},c=this.category(),u=this.name();s=s||{},c&&(l.category=c),u&&(l.name=u);for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var h=this[f]==null?this.proxy("properties."+f):this[f]();if(h==null)continue;l[s[f]]=h,f!==s[f]&&delete l[f]}return l},a.email=function(){var s=this.proxy("context.traits.email")||this.proxy("properties.email");if(s)return s;var l=this.userId();if(i.default(l))return l},a.fullName=function(){var s=this.category(),l=this.name();return l&&s?s+" "+l:l},a.event=function(s){return s?"Viewed "+s+" Page":"Loaded a Page"},a.track=function(s){var l=this.json();return l.event=this.event(s),l.timestamp=this.timestamp(),l.properties=this.properties(),new n.Track(l,this.opts)},vd}var wd={},KK;function _4e(){if(KK)return wd;KK=1;var t=wd&&wd.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wd,"__esModule",{value:!0}),wd.Screen=void 0;var e=t(_s()),r=Pre(),n=t9();function i(o,a){r.Page.call(this,o,a)}return wd.Screen=i,e.default(i,r.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(o){return o?"Viewed "+o+" Screen":"Loaded a Screen"},i.prototype.track=function(o){var a=this.json();return a.event=this.event(o),a.timestamp=this.timestamp(),a.properties=this.properties(),new n.Track(a,this.opts)},wd}var bd={},VK;function A4e(){if(VK)return bd;VK=1;var t=bd&&bd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bd,"__esModule",{value:!0}),bd.Delete=void 0;var e=t(_s()),r=Yh();function n(i,o){r.Facade.call(this,i,o)}return bd.Delete=n,e.default(n,r.Facade),n.prototype.type=function(){return"delete"},bd}var GK;function C4e(){return GK||(GK=1,(function(t){var e=xy&&xy.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(u[y]=f[y])}return u},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var r=Yh();Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=E4e();Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=S4e();Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=Ire();Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=t9();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var s=Pre();Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return s.Page}});var l=_4e();Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return l.Screen}});var c=A4e();Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return c.Delete}}),t.default=e(e({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:s.Page,Screen:l.Screen,Delete:c.Delete})})(xy)),xy}var xd=C4e();function XE(t,e){var r=new xd.Facade(t,e);return t.type==="track"&&(r=new xd.Track(t,e)),t.type==="identify"&&(r=new xd.Identify(t,e)),t.type==="page"&&(r=new xd.Page(t,e)),t.type==="alias"&&(r=new xd.Alias(t,e)),t.type==="group"&&(r=new xd.Group(t,e)),t.type==="screen"&&(r=new xd.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}var O4e=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},kre=(function(t){ko(e,t);function e(r,n){var i=t.call(this,r)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e})(Error),Tre=function(t){return it({"Content-Type":"text/plain"},typeof t=="function"?t():t)},I4e=500,P4e=64;function r9(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function k4e(t){return r9(t)>=I4e-50}function T4e(t){return r9(t)>=P4e-10}function M4e(t){var e=[],r=0;return t.forEach(function(n){var i=r9(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function N4e(t,e){var r,n,i=[],o=!1,a=(r=e==null?void 0:e.size)!==null&&r!==void 0?r:10,s=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3,l=0;function c(y){var m;if(y.length!==0){var v=(m=y[0])===null||m===void 0?void 0:m.writeKey,w=y.map(function(A){var _=A;_.sentAt;var D=sre(_,["sentAt"]);return D});return ZS("https://".concat(t,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||o,headers:Tre(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:v,batch:w,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(A){var _;if(A.status>=500)throw new Error("Bad response from server: ".concat(A.status));if(A.status===429){var D=(_=A.headers)===null||_===void 0?void 0:_.get("x-ratelimit-reset"),P=typeof D=="string"?parseInt(D)*1e3:s;throw new kre("Rate limit exceeded: ".concat(A.status),P)}})}}function u(y){var m;return y===void 0&&(y=1),kt(this,void 0,void 0,function(){var v;return Tt(this,function(w){return i.length?(v=i,i=[],[2,(m=c(v))===null||m===void 0?void 0:m.catch(function(A){var _,D=bc.system();D.log("error","Error sending batch",A),y<=((_=e==null?void 0:e.maxRetries)!==null&&_!==void 0?_:10)&&(A.name==="RateLimitError"&&(l=A.retryTimeout),i.push.apply(i,v),i.map(function(P){if("_metadata"in P){var U=P;U._metadata=it(it({},U._metadata),{retryCount:y})}}),h(y+1))})]):[2]})})}var f;function h(y){y===void 0&&(y=1),!f&&(f=setTimeout(function(){f=void 0,u(y).catch(console.error)},l||s),l=0)}O4e(function(y){if(o=y,o&&i.length){var m=M4e(i).map(c);Promise.all(m).catch(console.error)}});function p(y,m){return kt(this,void 0,void 0,function(){var v;return Tt(this,function(w){return i.push(m),v=i.length>=a||k4e(i)||(e==null?void 0:e.keepalive)&&T4e(i),[2,v||o?u():h()]})})}return{dispatch:p}}function R4e(t){function e(r,n){return ZS(r,{credentials:t==null?void 0:t.credentials,keepalive:t==null?void 0:t.keepalive,headers:Tre(t==null?void 0:t.headers),method:"post",body:JSON.stringify(n),priority:t==null?void 0:t.priority}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var a=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),s=a?parseInt(a)*1e3:5e3;throw new kre("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function L4e(t,e,r,n,i){var o,a=t.user();delete e.options,e.writeKey=r==null?void 0:r.apiKey,e.userId=e.userId||a.id(),e.anonymousId=e.anonymousId||a.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=it(it({},e._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],c=[];for(var u in n){var f=n[u];u==="Segment.io"&&l.push(u),f.bundlingStatus==="bundled"&&l.push(u),f.bundlingStatus==="unbundled"&&c.push(u)}for(var h=0,p=(r==null?void 0:r.unbundledIntegrations)||[];h<p.length;h++){var y=p[h];c.includes(y)||c.push(y)}var m=(o=r==null?void 0:r.maybeBundledConfigIds)!==null&&o!==void 0?o:{},v=[];return l.sort().forEach(function(w){var A;((A=m[w])!==null&&A!==void 0?A:[]).forEach(function(_){v.push(_)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(e._metadata=it(it({},e._metadata),{bundled:l.sort(),unbundled:c.sort(),bundledIds:v})),e}var D4e=function(t,e){return kt(void 0,void 0,void 0,function(){var r;return Tt(this,function(n){return r=function(i){return kt(void 0,void 0,void 0,function(){var o;return Tt(this,function(a){switch(a.label){case 0:return t(i)?(o=r,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function B4e(t,e){return kt(this,void 0,void 0,function(){var r,n=this;return Tt(this,function(i){switch(i.label){case 0:return r=[],fw()?[2,e]:[4,D4e(function(){return e.length>0&&!fw()},function(){return kt(n,void 0,void 0,function(){var o,a,s;return Tt(this,function(l){switch(l.label){case 0:return o=e.pop(),o?[4,cv(o,t)]:[2];case 1:return a=l.sent(),s=a instanceof bc,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function jp(t,e,r,n){var i=this;t||setTimeout(function(){return kt(i,void 0,void 0,function(){var o,a;return Tt(this,function(s){switch(s.label){case 0:return o=!0,[4,B4e(r,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}function j4e(t,e){var r,n,i,o,a=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var $4e=function(t){return t.name==="Segment.io"};function F4e(t,e,r){var n,i,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(l)),l.clear()});var a=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",s=t.options.disableClientPersistence?new KR(t.queue.queue.maxAttempts,[]):new JR(t.queue.queue.maxAttempts,"".concat(a,":dest-Segment.io")),l=new Set,c=!1,u=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:fre,f=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",h="".concat(f,"://").concat(u),p=e==null?void 0:e.deliveryStrategy,y=p&&"strategy"in p&&p.strategy==="batching"?N4e(u,p.config):R4e(p==null?void 0:p.config);function m(w){return kt(this,void 0,void 0,function(){var A,_;return Tt(this,function(D){return fw()?(s.push(w),jp(c,s,v,jp),[2,w]):(l.add(w),A=w.event.type.charAt(0),_=XE(w.event).json(),w.event.type==="track"&&delete _.traits,w.event.type==="alias"&&(_=j4e(t,_)),s.getAttempts(w)>=s.maxAttempts?(l.delete(w),[2,w]):[2,y.dispatch("".concat(h,"/").concat(A),L4e(t,_,e,r,w)).then(function(){return w}).catch(function(P){if(w.log("error","Error sending event",P),P.name==="RateLimitError"){var U=P.retryTimeout;s.pushWithBackoff(w,U)}else s.pushWithBackoff(w);return jp(c,s,v,jp),w}).finally(function(){l.delete(w)})])})})}var v={metadata:{writeKey:a,apiHost:u,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:m,identify:m,page:m,alias:m,group:m,screen:m};return s.todo&&jp(c,s,v,jp),v}var Ou="This is being deprecated and will be not be available in future releases of Analytics JS",_T=YR(),AT=_T==null?void 0:_T.analytics;function U4e(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=e?10:1,i=r?new KR(n,[]):new JR(n,t);return new Xke(i)}var H4e=(function(){function t(e,r){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var o;return(o=r.plugins.find($4e))===null||o===void 0?void 0:o.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,r;return(r=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||r===void 0?void 0:r.apiHost},enumerable:!1,configurable:!0}),t})();function Ns(){console.warn(Ou)}var Mre=(function(t){ko(e,t);function e(r,n,i,o,a){var s=this,l,c;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=Ns,s.addIntegrationMiddleware=Ns,s.listeners=Ns,s.addEventListener=Ns,s.removeAllListeners=Ns,s.removeListener=Ns,s.removeEventListener=Ns,s.hasListeners=Ns,s.add=Ns,s.addIntegration=Ns;var u=n==null?void 0:n.cookie,f=(l=n==null?void 0:n.disableClientPersistence)!==null&&l!==void 0?l:!1;s.queue=i??U4e("".concat(r.writeKey,":event-queue"),n==null?void 0:n.retryQueue,f),s.settings=new H4e(r,s.queue);var h=n==null?void 0:n.storage;return s._universalStorage=s.createStore(f,h,u),s._user=o??new Sre(it({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.user),u).load(),s._group=a??new o4e(it({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.group),u).load(),s.eventFactory=new Vke(s._user),s.integrations=(c=n==null?void 0:n.integrations)!==null&&c!==void 0?c:{},s.options=n??{},QR(s),s}return e.prototype.createStore=function(r,n,i){return r?new _h([new XR]):n&&xre(n)?new _h(R8(Ere(n.stores,i))):new _h(R8([bo.LocalStorage,{name:bo.Cookie,settings:i},bo.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Tt(this,function(h){return i=Dp(r),o=Nke.apply(void 0,r),a=o[0],s=o[1],l=o[2],c=o[3],u=this.eventFactory.track(a,s,l,this.integrations,i),[2,this._dispatch(u,c).then(function(p){return f.emit("track",a,p.event.properties,p.event.options),p})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f,h=this;return Tt(this,function(p){return i=Dp(r),o=CK.apply(void 0,r),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],f=this.eventFactory.page(a,s,l,c,this.integrations,i),[2,this._dispatch(f,u).then(function(y){return h.emit("page",a,s,y.event.properties,y.event.options),y})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Tt(this,function(h){return i=Dp(r),o=OK(this._user).apply(void 0,r),a=o[0],s=o[1],l=o[2],c=o[3],this._user.identify(a,s),u=this.eventFactory.identify(this._user.id(),this._user.traits(),l,this.integrations,i),[2,this._dispatch(u,c).then(function(p){return f.emit("identify",p.event.userId,p.event.traits,p.event.options),p})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Dp(n);if(n.length===0)return this._group;var a=OK(this._group).apply(void 0,n),s=a[0],l=a[1],c=a[2],u=a[3];this._group.identify(s,l);var f=this._group.id(),h=this._group.traits(),p=this.eventFactory.group(f,h,c,this.integrations,o);return this._dispatch(p,u).then(function(y){return r.emit("group",y.event.groupId,y.event.traits,y.event.options),y})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Tt(this,function(h){return i=Dp(r),o=Rke.apply(void 0,r),a=o[0],s=o[1],l=o[2],c=o[3],u=this.eventFactory.alias(a,s,l,this.integrations,i),[2,this._dispatch(u,c).then(function(p){return f.emit("alias",a,s,p.event.options),p})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f,h=this;return Tt(this,function(p){return i=Dp(r),o=CK.apply(void 0,r),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],f=this.eventFactory.screen(a,s,l,c,this.integrations,i),[2,this._dispatch(f,u).then(function(y){return h.emit("screen",a,s,y.event.properties,y.event.options),y})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return[4,Rr(()=>import("./auto-track-Bt8GZIyE.js"),[])];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,Fn([this],r,!1))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return[4,Rr(()=>import("./auto-track-Bt8GZIyE.js"),[])];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,Fn([this],r,!1))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return[4,Rr(()=>import("./auto-track-Bt8GZIyE.js"),[])];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,Fn([this],r,!1))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return[4,Rr(()=>import("./auto-track-Bt8GZIyE.js"),[])];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,Fn([this],r,!1))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a=this;return Tt(this,function(s){switch(s.label){case 0:return i=bc.system(),o=r.map(function(l){return a.queue.register(i,l,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return kt(this,void 0,void 0,function(){var i,o,a=this;return Tt(this,function(s){switch(s.label){case 0:return i=bc.system(),o=r.map(function(l){var c=a.queue.plugins.find(function(u){return u.name===l});if(c)return a.queue.deregister(i,c,a);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype._dispatch=function(r,n){return kt(this,void 0,void 0,function(){var i;return Tt(this,function(o){return i=new bc(r),i.stats.increment("analytics_js.invoke",1,[r.type]),fw()&&!this.options.retryQueue?[2,i]:[2,Mke(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(r){return kt(this,void 0,void 0,function(){var n=this;return Tt(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return kt(n,void 0,void 0,function(){var o,a,s;return Tt(this,function(l){switch(l.label){case 0:return[4,Rr(()=>Promise.resolve().then(()=>oTe),void 0)];case 1:return o=l.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(c){if(c.type==="destination")return a[c.name]=!0}),s=o(r,a),[4,this.register(s)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(Gke).forEach(function(o){(r==="*"||o.name.toLowerCase()===r.toLowerCase())&&o.addMiddleware.apply(o,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return kt(this,void 0,void 0,function(){var n;return Tt(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Rr(()=>import("./index-B31NOb-o.js"),[])];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),kt(this,void 0,void 0,function(){return Tt(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Ou),s4e(AT??this),this},e.prototype.normalize=function(r){return console.warn(Ou),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Ou),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return e_},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return kt(this,void 0,void 0,function(){return Tt(this,function(i){return console.warn(Ou),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(r){return kt(this,void 0,void 0,function(){return Tt(this,function(n){switch(n.label){case 0:return console.warn(Ou),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(Ou),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Ou);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e})(WR),YK=(function(t){ko(e,t);function e(){var r=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return e})(Mre),JK={};function Nre(){return typeof process>"u"||!JK?{}:JK}var q4e=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,z4e=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=q4e.exec(i);o&&o[1]&&(t=o[1])}),t},y2,W4e=function(){var t,e=y2??((t=_re())===null||t===void 0?void 0:t._cdn);return e},K4e=function(t){var e=_re();e&&(e._cdn=t),y2=t},n9=function(){var t=W4e();if(t)return t;var e=z4e();return e||"https://cdn.segment.com"},XFe=function(){var t=n9();return"".concat(t,"/next-integrations")};function V4e(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,l=o[0],c=o[1];return typeof c=="object"?it(it({},i),(a={},a[l]=c,a)):it(it({},i),(s={},s[l]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],l=o[1];return it(it({},i),(a={},a[s]=it(it({},l),n[s]),a))},{})}function G4e(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function Y4e(t){return kt(this,void 0,void 0,function(){var e;return Tt(this,function(r){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Sy;function J4e(){if(Sy)return Sy;var t=wre(window.location.href);return Sy={expires:31536e6,secure:!1,path:"/"},t&&(Sy.domain=t),Sy}function Q4e(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],l=a[1];if(e[s])return{id:l,type:e[s]}}}function X4e(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=G4e(a)}return e},{})}function Z4e(){var t=ic.get("_ga");if(t&&t.startsWith("amp"))return t}function eTe(t,e,r){var n,i=new _h(r?[]:[new bre(J4e())]),o=i.get("s:context.referrer"),a=(n=Q4e(t))!==null&&n!==void 0?n:o;a&&(e&&(e.referrer=it(it({},e.referrer),a)),i.set("s:context.referrer",a))}var tTe=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];Array.isArray(i)?i.forEach(function(o){return e.append(n,o)}):e.append(n,i)}),e.toString()}catch{return""}},rTe=(function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return kt(e,void 0,void 0,function(){var i;return Tt(this,function(o){switch(o.label){case 0:this.instance=n,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,Y4e(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var n,i,o=r.event.context,a=o.page.search||"",s=typeof a=="object"?tTe(a):a;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var l=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof l<"u"&&(o.locale=l),(n=o.library)!==null&&n!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(e_)}),s&&!o.campaign&&(o.campaign=X4e(s));var c=Z4e();c&&(o.amp={id:c}),eTe(s,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t})(),nTe=new rTe;function Rre(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function CT(t,e){var r=Rre(t);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var l=0,c=Object.entries({});l<c.length;l++){var u=c[l],f=u[0],h=u[1];s.setAttribute(f,h)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var p=window.document.querySelector("script");p?(a=p.parentElement)===null||a===void 0||a.insertBefore(s,p):window.document.head.appendChild(s)})}function ZFe(t){var e=Rre(t);return e!==void 0&&e.remove(),Promise.resolve()}function Lre(t,e,r){return kt(this,void 0,void 0,function(){function n(c,u){return kt(this,void 0,void 0,function(){var f,h,p;return Tt(this,function(y){switch(y.label){case 0:return f=!1,h=null,[4,u({payload:XE(c,{clone:!0,traverse:!1}),integration:t,next:function(m){f=!0,m===null&&(h=null),m&&(h=m.obj)}})];case 1:return y.sent(),!f&&h!==null&&(h=h,h.integrations=it(it({},c.integrations),(p={},p[t]=!1,p))),[2,h]}})})}var i,o,a,s,l;return Tt(this,function(c){switch(c.label){case 0:i=XE(e,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,c.label=1;case 1:return o<a.length?(s=a[o],[4,n(i,s)]):[3,4];case 2:if(l=c.sent(),l===null)return[2,null];i=l,c.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function iTe(t,e){function r(n){return kt(this,void 0,void 0,function(){var i;return Tt(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:XE(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new zg({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,screen:r,identify:r,alias:r,group:r}}const oTe=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:Lre,sourceMiddlewarePlugin:iTe},Symbol.toStringTag,{value:"Module"}));function bx(t,e){var r=e.methodName,n=e.integrationName,i=e.type,o=e.didError,a=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}var aTe=(function(){function t(e,r){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=lre(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=e,this.type=r.type,this.alternativeNames.push(r.name)}return t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,r)},t.prototype.transform=function(e){return kt(this,void 0,void 0,function(){var r;return Tt(this,function(n){switch(n.label){case 0:return[4,Lre(this.name,e.event,this.middleware)];case 1:return r=n.sent(),r===null&&e.cancel(new zg({retry:!1,reason:"dropped by destination middleware"})),[2,new bc(r)]}})})},t.prototype._createMethod=function(e){var r=this;return function(n){return kt(r,void 0,void 0,function(){var i,o;return Tt(this,function(a){switch(a.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!a.sent())throw new Error("Something prevented the destination from getting ready");return bx(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return a.sent(),[3,6];case 5:throw o=a.sent(),bx(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return kt(this,void 0,void 0,function(){return Tt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,r){return kt(this,void 0,void 0,function(){var n,i,o,a;return Tt(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),bx(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,r),o=(i=this.loadPromise).resolve,[4,n];case 2:return o.apply(i,[s.sent()]),[2,n];case 3:throw a=s.sent(),bx(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(a),a;case 4:return[2]}})})},t.prototype.unload=function(e,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,r)},t})();function sTe(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function lTe(t,e){var r=t[e.creationName],n=t[e.name];return t.All===!1&&!r&&!n||r===!1||n===!1}function cTe(t,e){return kt(this,void 0,void 0,function(){var r,n,i,o,a,s;return Tt(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),r=new RegExp("https://cdn.segment.(com|build)"),n=n9(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],a=t.url.replace(o,btoa(o).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,CT(a.replace(r,n))];case 2:return l.sent(),[3,5];case 3:return l.sent(),[4,CT(t.url.replace(r,n))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,CT(t.url.replace(r,n))];case 7:l.sent(),l.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw s=l.sent(),console.error("Failed to create PluginFactory",t),s;case 10:return[2]}})})}function uTe(t,e,r,n,i,o){var a,s,l;return kt(this,void 0,void 0,function(){var c,u,f,h=this;return Tt(this,function(p){switch(p.label){case 0:return c=[],u=(s=(a=t.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],f=((l=t.remotePlugins)!==null&&l!==void 0?l:[]).map(function(y){return kt(h,void 0,void 0,function(){var m,v,w,A,_,D,P;return Tt(this,function(U){switch(U.label){case 0:if(lTe(e,y))return[2];U.label=1;case 1:return U.trys.push([1,6,,7]),v=o==null?void 0:o.find(function(F){var N=F.pluginName;return N===y.name}),v?[3,3]:[4,cTe(y,n==null?void 0:n.obfuscate)];case 2:v=U.sent(),U.label=3;case 3:return m=v,m?(w=r[y.name],[4,m(it(it({},y.settings),w))]):[3,5];case 4:A=U.sent(),_=Array.isArray(A)?A:[A],sTe(_),D=u.filter(function(F){return F.destinationName===y.creationName}),_.forEach(function(F){var N=new aTe(y.creationName,F);D.length&&i&&N.addMiddleware(i),c.push(N)}),U.label=5;case 5:return[3,7];case 6:return P=U.sent(),console.warn("Failed to load Remote Plugin",P),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return p.sent(),[2,c.filter(Boolean)]}})})}var OT,QK,fTe=YR(),XK=(OT=(QK=fTe).__SEGMENT_INSPECTOR__)!==null&&OT!==void 0?OT:QK.__SEGMENT_INSPECTOR__={},dTe=function(t){var e;return(e=XK.attach)===null||e===void 0?void 0:e.call(XK,t)};function hTe(t,e){return ZS("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(n){throw new Error(n)})}).catch(function(r){throw console.error(r.message),r})}function pTe(t){return Nre().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function gTe(t){var e,r,n;return Nre().NODE_ENV!=="test"&&((n=(r=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function mTe(t,e){d4e(t,e),f4e(t,e)}function yTe(t,e,r){return kt(this,void 0,void 0,function(){return Tt(this,function(n){switch(n.label){case 0:return[4,wTe(t,e)];case 1:return n.sent(),h4e(t,r),[2]}})})}var vTe=function(){var t,e,r=(t=window.location.hash)!==null&&t!==void 0?t:"",n=(e=window.location.search)!==null&&e!==void 0?e:"",i=n.length?n:r.replace(/(?=#).*(?=\?)/,"");return i},wTe=function(t,e){return kt(void 0,void 0,void 0,function(){return Tt(this,function(r){switch(r.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})};function bTe(t,e,r,n,i,o,a){var s,l,c;return i===void 0&&(i=[]),kt(this,void 0,void 0,function(){var u,f,h,p,y,m,v,w,A,_,D,P,U,F,N,L=this;return Tt(this,function(B){switch(B.label){case 0:return mTe(r,a),u=i==null?void 0:i.filter(function(R){return typeof R=="object"}),f=i==null?void 0:i.filter(function(R){return typeof R=="function"&&typeof R.pluginName=="string"}),gTe(e)?[4,Rr(()=>import("./index-CtQ5SWOa.js"),[]).then(function(R){return R.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return p=B.sent(),[3,3];case 2:p=void 0,B.label=3;case 3:return h=p,pTe(e)||o.length>0?[4,Rr(()=>import("./index-BuJL6VX2.js"),__vite__mapDeps([0,1])).then(function(R){return R.ajsDestinations(t,e,r.integrations,n,h,o)})]:[3,5];case 4:return m=B.sent(),[3,6];case 5:m=[],B.label=6;case 6:return y=m,e.legacyVideoPluginsEnabled?[4,Rr(()=>import("./index-DH0cq7KN.js"),[]).then(function(R){return R.loadLegacyVideoPlugins(r)})]:[3,8];case 7:B.sent(),B.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,Rr(()=>import("./index-BNa_S9Sb.js"),__vite__mapDeps([2,1])).then(function(R){var b;return R.schemaFilter((b=n.plan)===null||b===void 0?void 0:b.track,e)})]:[3,10];case 9:return w=B.sent(),[3,11];case 10:w=void 0,B.label=11;case 11:return v=w,A=V4e(e,n),[4,uTe(e,r.integrations,A,n,h,f).catch(function(){return[]})];case 12:return _=B.sent(),D=Fn(Fn([nTe],y,!0),_,!0),v&&D.push(v),P=((l=n.integrations)===null||l===void 0?void 0:l.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,P?[3,14]:(F=(U=D).push,[4,F4e(r,A["Segment.io"],e.integrations)]);case 13:F.apply(U,[B.sent()]),B.label=14;case 14:return[4,r.register.apply(r,Fn(Fn([],D,!1),u,!1))];case 15:return N=B.sent(),[4,u4e(r,a)];case 16:return B.sent(),Object.entries((c=e.enabledMiddleware)!==null&&c!==void 0?c:{}).some(function(R){var b=R[1];return b})?[4,Rr(()=>import("./index-iA8QRX6d.js"),[]).then(function(R){var b=R.remoteMiddlewares;return kt(L,void 0,void 0,function(){var x,I;return Tt(this,function(C){switch(C.label){case 0:return[4,b(N,e,n.obfuscate)];case 1:return x=C.sent(),I=x.map(function(T){return r.addSourceMiddleware(T)}),[2,Promise.all(I)]}})})})]:[3,18];case 17:B.sent(),B.label=18;case 18:return[4,c4e(r,a)];case 19:return B.sent(),[2,N]}})})}function xTe(t,e,r){var n,i,o,a,s,l,c,u,f;return e===void 0&&(e={}),kt(this,void 0,void 0,function(){var h,p,y,m,v,w,A,_,D,P,U;return Tt(this,function(F){switch(F.label){case 0:return e.disable===!0?[2,[new YK,bc.system()]]:(e.globalAnalyticsKey&&a4e(e.globalAnalyticsKey),t.cdnURL&&K4e(t.cdnURL),e.initialPageview&&r.add(new L8("page",[])),h=vTe(),p=(n=t.cdnURL)!==null&&n!==void 0?n:n9(),(i=t.cdnSettings)!==null&&i!==void 0?(m=i,[3,3]):[3,1]);case 1:return[4,hTe(t.writeKey,p)];case 2:m=F.sent(),F.label=3;case 3:return y=m,e.updateCDNSettings&&(y=e.updateCDNSettings(y)),typeof e.disable!="function"?[3,5]:[4,e.disable(y)];case 4:if(v=F.sent(),v)return[2,[new YK,bc.system()]];F.label=5;case 5:return w=(a=(o=y.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&a!==void 0?a:!0,e=it({retryQueue:w},e),A=new Mre(it(it({},t),{cdnSettings:y,cdnURL:p}),e),dTe(A),_=(s=t.plugins)!==null&&s!==void 0?s:[],D=(l=t.classicIntegrations)!==null&&l!==void 0?l:[],P=(c=e.integrations)===null||c===void 0?void 0:c["Segment.io"],dre.initRemoteMetrics(it(it({},y.metrics),{host:(u=P==null?void 0:P.apiHost)!==null&&u!==void 0?u:(f=y.metrics)===null||f===void 0?void 0:f.host,protocol:P==null?void 0:P.protocol})),[4,bTe(t.writeKey,y,A,e,_,D,r)];case 6:return U=F.sent(),A.initialized=!0,A.emit("initialize",t,e),[4,yTe(A,h,r)];case 7:return F.sent(),[2,[A,U]]}})})}var ETe=(function(t){ko(e,t);function e(){var r=this,n=lre(),i=n.promise,o=n.resolve;return r=t.call(this,function(a){return i.then(function(s){var l=s[0],c=s[1];return xTe(l,c,a)})})||this,r._resolveLoadStart=function(a,s){return o([a,s])},r}return e.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},e.load=function(r,n){return n===void 0&&(n={}),new e().load(r,n)},e.standalone=function(r,n){return e.load({writeKey:r},n).then(function(i){return i[0]})},e})(g4e);const STe=globalThis,IT="<anonymous>";function _Te(t){try{return!t||typeof t!="function"?IT:t.name||IT}catch{return IT}}const Dre=Object.prototype.toString;function ATe(t){switch(Dre.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return i_(t,Error)}}function Bre(t,e){return Dre.call(t)===`[object ${e}]`}function CTe(t){return Bre(t,"String")}function OTe(t){return Bre(t,"Object")}function ITe(t){return typeof Event<"u"&&i_(t,Event)}function PTe(t){return typeof Element<"u"&&i_(t,Element)}function kTe(t){return OTe(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function i_(t,e){try{return t instanceof e}catch{return!1}}function TTe(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const MTe=STe,NTe=80;function RTe(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,i=[];let o=0,a=0;const s=" > ",l=s.length;let c;const u=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||NTe;for(;r&&o++<n&&(c=LTe(r,u),!(c==="html"||o>1&&a+i.length*l+c.length>=f));)i.push(c),a+=c.length,r=r.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function LTe(t,e){const r=t,n=[];if(!(r!=null&&r.tagName))return"";if(MTe.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const i=e!=null&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i!=null&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&CTe(a)){const s=a.split(/\s+/);for(const l of s)n.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const a of o){const s=r.getAttribute(a);s&&n.push(`[${a}="${s}"]`)}return n.join("")}function DTe(t){if(ATe(t))return{message:t.message,name:t.name,stack:t.stack,...eV(t)};if(ITe(t)){const e={type:t.type,target:ZK(t.target),currentTarget:ZK(t.currentTarget),...eV(t)};return typeof CustomEvent<"u"&&i_(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ZK(t){try{return PTe(t)?RTe(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function eV(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function BTe(t,e=100,r=1/0){try{return D8("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function D8(t,e,r=1/0,n=1/0,i=FTe()){const[o,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const s=jTe(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return s.replace("object ","");if(o(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return D8("",p,l-1,n,i)}catch{}const u=Array.isArray(e)?[]:{};let f=0;const h=DTe(e);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){u[p]="[MaxProperties ~]";break}const y=h[p];u[p]=D8(p,y,l-1,n,i),f++}return a(e),u}function jTe(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(TTe(e))return"[VueViewModel]";if(kTe(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${_Te(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=$Te(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function $Te(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function FTe(){const t=new WeakSet;function e(n){return t.has(n)?!0:(t.add(n),!1)}function r(n){t.delete(n)}return[e,r]}class uv{constructor(e){Pe(this,"sentry",void 0),Pe(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const r=e.findIndex(c=>c instanceof Error),n=e.findIndex(c=>typeof c=="string"),i=e.findIndex(c=>c&&typeof c=="object"&&"status"in c&&"type"in c),o=e.findIndex(c=>c&&typeof c=="object"&&"isAxiosError"in c&&c.isAxiosError===!0);let a;if(i!==-1){var s;const c=e[i],u=(s=c.headers)===null||s===void 0?void 0:s.get("content-type");if(u.includes("application/json")){const f=await c.json();a=new Error((f==null?void 0:f.error)||(f==null?void 0:f.message)||JSON.stringify(f))}else u.includes("text/plain")?a=new Error(await c.text()):a=new Error(`${c.status} ${c.type.toString()} ${c.statusText}`)}else if(o!==-1){const u=e[o].response;if(u){var l;const f=(l=u.headers)===null||l===void 0?void 0:l["content-type"];if(f.includes("application/json")){const h=u.data,p="error"in h?h.error:"message"in h?h.message:JSON.stringify(h);a=new Error(p)}else f.includes("text/plain")?a=new Error(u.data):a=new Error(`${u.status} ${u.data.toString()}`)}else a=new Error("Network error")}else r!==-1?a=e.splice(r,1)[0]:n!==-1?a=new Error(e.splice(n,1)[0]):a=new Error("Unknown error");return[a,e]}static translateArgs(e){const r=e.findIndex(i=>typeof i=="string"),n=r!==-1?e.splice(r,1)[0]:void 0;return n?{message:n,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const r=e.methodFactory;e.methodFactory=(n,i,o)=>{o&&(this.category=o.toString());const a=r(n,i,o),s=typeof window<"u",l=(...c)=>{var u;const f=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:h,spanId:p}=(f==null?void 0:f.spanContext())||{},y=n==="error"&&c.length>=1&&c[0]instanceof Error;if(s){if(y){const w=c[0],A=h||p?`${w.message}: traceId: ${h} - spanId: ${p}`:w.message,D=[new Error(A,{cause:w}),...c.slice(1)];a&&a(...D);return}a&&a(...c)}else{let w={timestamp:new Date,level:n.toUpperCase(),logger:o};if((h||p)&&(w=be(be({},w),{},{traceId:h,spanId:p})),y){var m;const A=c[0];w=be(be({},w),{},{message:(m=A.message)!==null&&m!==void 0?m:"",stack:A.stack,extra:c.length>1?c.slice(1):void 0})}else{var v;w=be(be({},w),{},{message:(v=c[0])!==null&&v!==void 0?v:"",extra:c.length>1?c.slice(1):void 0})}a&&a(JSON.stringify(BTe(w)))}};switch(n){case"error":return async(...c)=>{const{stack:u}=c.find(p=>p instanceof Error)||new Error,[f,h]=await uv.translateError(c);f.stack=u,this.error(f,...h),l(f,...h)};default:return(...c)=>{this.log(uv.translateLevel(n),...c),l(...c)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const r=this.sentry.getClient().getOptions();r&&(r.enabled=e)}}isEnabled(){if(this.sentry){var e;const r=this.sentry.getClient().getOptions();return(e=r==null?void 0:r.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...r){this.sentry&&this.sentry.addBreadcrumb(be(be({},uv.translateArgs(r)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...r){if(this.sentry){const n={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:r}};this.sentry.captureException(e,n)}}}const st=As.getLogger("web3auth-logger"),UTe=new uv;UTe.install(st);const HTe="f6LbNqCeVRf512ggdME4b6CyflhF1tsX";class qTe{constructor(){Pe(this,"segment",void 0),Pe(this,"globalProperties",{}),Pe(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new ETe,this.segment.load({writeKey:HTe},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(st.debug("Analytics initialized"),!0)).catch(e=>{st.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=be(be({},this.globalProperties),e)}async identify(e,r){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,be({},r))}catch(n){st.error(`Failed to identify user ${e} in analytics`,n)}}async track(e,r){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,be(be({},r),this.globalProperties))}catch(n){st.error(`Failed to track event ${e}`,n)}}getSegment(){if(!this.segment)throw st.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}}const Cr={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_FUNDING_CLICKED:"Wallet Funding Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_RECEIVE_CLICKED:"Wallet Receive Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},zTe={NATIVE_SDK:"Native SDK"},jre={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"},vt={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored",AUTHORIZED:"authorized",AUTHORIZING:"authorizing"},yt=be(be({},vt),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),jl={EXTERNAL:"external",IN_APP:"in_app"},Pf={CONNECT_ONLY:"connect-only",CONNECT_AND_SIGN:"connect-and-sign"};class ws extends Ite{constructor(e,r,n){super(r),Pe(this,"code",void 0),Pe(this,"message",void 0),Pe(this,"cause",void 0),this.code=e,this.message=r||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class dt extends ws{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,r="",n){return new dt(e,`${dt.messages[e]}, ${r}`,n)}static notFound(e="",r){return dt.fromCode(5001,e,r)}static notInstalled(e="",r){return dt.fromCode(5002,e,r)}static notReady(e="",r){return dt.fromCode(5003,e,r)}static windowBlocked(e="",r){return dt.fromCode(5004,e,r)}static windowClosed(e="",r){return dt.fromCode(5005,e,r)}static incompatibleChainNameSpace(e="",r){return dt.fromCode(5006,e,r)}static duplicateConnectorError(e="",r){return dt.fromCode(5007,e,r)}static invalidProviderConfigError(e="",r){return dt.fromCode(5008,e,r)}static providerNotReadyError(e="",r){return dt.fromCode(5009,e,r)}static rpcConnectionError(e="",r){return dt.fromCode(5010,e,r)}static invalidParams(e="",r){return dt.fromCode(5011,e,r)}static invalidNetwork(e="",r){return dt.fromCode(5013,e,r)}}Pe(dt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Mt extends ws{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,r="",n){return new Mt(e,`${Mt.messages[e]}. ${r}`,n)}static connectionError(e="",r){return Mt.fromCode(5111,e,r)}static disconnectionError(e="",r){return Mt.fromCode(5112,e,r)}static notConnectedError(e="",r){return Mt.fromCode(5113,e,r)}static popupClosed(e="",r){return Mt.fromCode(5114,e,r)}static mfaEnabled(e="",r){return Mt.fromCode(5115,e,r)}static chainConfigNotAdded(e="",r){return Mt.fromCode(5116,e,r)}static unsupportedOperation(e="",r){return Mt.fromCode(5117,e,r)}static sfaKeyNotFound(e="",r){return Mt.fromCode(5118,e,r)}static userNotLoggedIn(e="",r){return Mt.fromCode(5119,e,r)}}Pe(Mt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class ps extends ws{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,r="",n){return new ps(e,`${ps.messages[e]}, ${r}`,n)}static chainIDNotAllowed(e="",r){return ps.fromCode(5201,e,r)}static operationNotAllowed(e="",r){return ps.fromCode(5202,e,r)}static chainNamespaceNotAllowed(e="",r){return ps.fromCode(5203,e,r)}}Pe(ps,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class Ul extends ws{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,r="",n){return new ps(e,`${Ul.messages[e]}, ${r}`,n)}static invalidRequestArgs(e="",r){return ps.fromCode(5301,e,r)}static invalidRequestMethod(e="",r){return ps.fromCode(5302,e,r)}static invalidRequestParams(e="",r){return ps.fromCode(5303,e,r)}}Pe(Ul,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const PT=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),WTe=(t=f2.SAPPHIRE_MAINNET)=>JCe[t],$re=async({clientId:t,web3AuthNetwork:e,aaProvider:r,authBuildEnv:n})=>{const i=new URL(`${WTe(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),n&&i.searchParams.append("build_env",n),r&&i.searchParams.append("aa_provider",r),await TR(i.href)},KTe=async t=>await TR(t),eUe=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};function oc(t,e,r){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,i)=>{const o=()=>{r==null||r(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",o),Promise.resolve().then(()=>t()).then(n,i).finally(()=>{e.removeEventListener("abort",o)})}):t()}const kT=()=>typeof window<"u"&&typeof document<"u",Fre=t=>{var e,r;return{whitelabel_app_name:t==null?void 0:t.appName,whitelabel_app_url:t==null?void 0:t.appUrl,whitelabel_logo_light_enabled:!!(t!=null&&t.logoLight),whitelabel_logo_dark_enabled:!!(t!=null&&t.logoDark),whitelabel_default_language:t==null?void 0:t.defaultLanguage,whitelabel_theme_mode:t==null?void 0:t.mode,whitelabel_use_logo_loader:t==null?void 0:t.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(r=t.theme)===null||r===void 0?void 0:r.onPrimary,whitelabel_tnc_link_enabled:!!(t!=null&&t.tncLink),whitelabel_privacy_policy_enabled:!!(t!=null&&t.privacyPolicy)}},VTe=t=>{var e,r,n,i,o;const a=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(l=>{var c;return B8((c=l.bundlerConfig)===null||c===void 0?void 0:c.url)}).filter(Boolean))),s=Array.from(new Set(t==null||(r=t.chains)===null||r===void 0?void 0:r.map(l=>{var c;return B8((c=l.paymasterConfig)===null||c===void 0?void 0:c.url)}).filter(Boolean)));return{aa_smart_account_type:t==null?void 0:t.smartAccountType,aa_chain_ids:t==null||(n=t.chains)===null||n===void 0?void 0:n.map(l=>i0({chainId:l.chainId,chainNamespace:tr.EIP155})),aa_bundler_urls:a,aa_paymaster_urls:s,aa_paymaster_enabled:s.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(l=>{var c;return(c=l.bundlerConfig)===null||c===void 0?void 0:c.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(o=t.chains)===null||o===void 0?void 0:o.some(l=>{var c;return(c=l.bundlerConfig)===null||c===void 0||(c=c.paymasterContext)===null||c===void 0?void 0:c.token})}},GTe=t=>{var e,r,n,i,o,a,s,l,c,u,f,h;return{ws_confirmation_strategy:t==null?void 0:t.confirmationStrategy,ws_enable_key_export:t==null?void 0:t.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.buttonPosition,ws_hide_nft_display:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTransfers,ws_hide_topup:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideTopup,ws_hide_receive:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideReceive,ws_hide_swap:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideSwap,ws_hide_show_all_tokens:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_hide_defi_positions_display:t==null||(f=t.whiteLabel)===null||f===void 0?void 0:f.hideDefiPositionsDisplay,ws_default_portfolio:t==null||(h=t.whiteLabel)===null||h===void 0?void 0:h.defaultPortfolio}},Ure="10.14.1",Vp=t=>{try{const e=t instanceof ws?t.code:t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},B8=t=>{try{return new URL(t).hostname}catch{return""}},i0=t=>t.chainNamespace===tr.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===tr.SOLANA?`${t.chainNamespace}:${tke[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`;var TT,tV;function YTe(){if(tV)return TT;tV=1,TT=t;function t(e){e=e||{};var r=e.max||Number.MAX_SAFE_INTEGER,n=typeof e.start<"u"?e.start:Math.floor(Math.random()*r);return function(){return n=n%r,n++}}return TT}var JTe=YTe();const QTe=fr(JTe);QTe();let XTe=(function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t})({});class ZTe extends kPe{constructor({config:e,state:r}){super({config:e,state:r}),Pe(this,"_providerEngineProxy",null),Pe(this,"keyExportFlagSetByCode",!1);const{chain:n}=e;if(!n)throw dt.invalidProviderConfigError("Please provide chain");if(!n.chainId)throw dt.invalidProviderConfigError("Please provide chainId inside chain");if(!n.rpcTarget)throw dt.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var r;if(!e||typeof e!="object"||Array.isArray(e))throw If.invalidRequest({message:Ul.invalidRequestArgs().message,data:be(be({},e||{}),{},{cause:Ul.invalidRequestArgs().message})});const{method:n,params:i}=e;if(typeof n!="string"||n.length===0)throw If.invalidRequest({message:Ul.invalidRequestMethod().message,data:be(be({},e||{}),{},{cause:Ul.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw If.invalidRequest({message:Ul.invalidRequestParams().message,data:be(be({},e||{}),{},{cause:Ul.invalidRequestParams().message})});return(r=this.provider)===null||r===void 0?void 0:r.request(e)}sendAsync(e,r){return r?this.send(e,r):this.request(e)}send(e,r){this.request(e).then(n=>r(null,{result:n})).catch(n=>r(n,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const r=n=>{n!=="newListener"&&e.on(n,(...i)=>{if(n===XTe.CHAIN_CHANGED){const o=i[0];this.update({chainId:o})}this.emit(n,...i)})};this.eventNames().forEach(n=>{r(n)}),this.on("newListener",n=>{this.listenerCount(n)>0||r(n)})}else this._providerEngineProxy=LPe(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(r=>r.chainId===e)}}function e6e(t){return(e,r,n,i)=>e.method==="chainId"?(r.result=t,i()):n()}function t6e(t){return(e,r,n,i)=>e.method==="provider_config"?(r.result=t,i()):n()}function r6e(t){const{chainId:e,rpcTarget:r}=t,n=GPe({rpcTarget:r});return{networkMiddleware:IPe([e6e(e),t6e(t),n]),fetchMiddleware:n}}var Hre;class i9 extends ZTe{constructor({config:e,state:r}){super({config:e,state:r})}async setupProvider(e){const r=this.getChain(e);if(!r)throw bK.custom({message:"Chain not found",code:4902});const{networkMiddleware:n}=r6e(r),i=new Us;i.push(n);const o=PPe(i);this.updateProviderEngineProxy(o),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw bK.custom({message:"Provider is not initialized",code:4902});const r=e.chainId;this.chainId!==r&&(this.update({chainId:"loading"}),await this.setupProvider(r))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}Hre=i9;Pe(i9,"getProviderInstance",async t=>{const e=new Hre({config:{chain:t.chain,chains:t.chains}}),{chainId:r}=t.chain;return await e.setupProvider(r),e});const tUe={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},rUe={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},rV={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"},n6e=new Set([lt.PASSKEYS,lt.TELEGRAM,lt.AUTHENTICATOR]),nUe=Object.values(lt).filter(t=>!n6e.has(t)),iUe={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},nV={EMBED:"embed",PLUGIN:"plugin"},oUe={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},i6e=t=>{const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};function iV(t){return new Promise((e,r)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function o6e(t){const{document:e}=t;let r=e.querySelector('head > link[rel="shortcut icon"]');if(r&&await iV(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href)||null,r&&await iV(r.href)))return r.href}function a6e(t){const[e,r]=t.split(".");return{header:JSON.parse(YE(e)),payload:JSON.parse(YE(r))}}const kf={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},ZE={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},s6e=be({},ZE),e3=be({COINBASE:"coinbase"},ZE),mt=be(be({},e3),s6e),qre={[ZE.AUTH]:"Auth",[ZE.WALLET_CONNECT_V2]:"Wallet Connect v2",[e3.COINBASE]:"Coinbase Smart Wallet",[e3.METAMASK]:"MetaMask"},fc=[vt.CONNECTED,vt.AUTHORIZED],t3=[vt.AUTHORIZING,vt.AUTHORIZED,vt.CONNECTED];class zre extends pm{constructor(e){super(),Pe(this,"connectorData",{}),Pe(this,"isInjected",void 0),Pe(this,"icon",void 0),Pe(this,"coreOptions",void 0),Pe(this,"rehydrated",!1),Pe(this,"connectorNamespace",void 0),Pe(this,"type",void 0),Pe(this,"name",void 0),Pe(this,"status",void 0),this.coreOptions=e.coreOptions}get connected(){return fc.includes(this.status)}get canAuthorize(){return t3.includes(this.status)}checkConnectionRequirements(){if(!(this.name===mt.WALLET_CONNECT_V2&&this.status===vt.CONNECTING)&&!(this.name===mt.METAMASK&&!this.isInjected&&this.status===vt.CONNECTING)){if(this.status===vt.CONNECTING)throw dt.notReady("Already connecting");if(this.connected)throw Mt.connectionError("Already connected");if(this.status!==vt.READY)throw Mt.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw dt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw dt.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==tr.OTHER)throw dt.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==tr.OTHER)throw dt.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==kf.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw dt.invalidParams("Connector doesn't support this chain namespace");if(this.status!==vt.NOT_READY){if(this.connected)throw dt.notReady("Already connected");if(this.status===vt.READY)throw dt.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(!this.connected)throw Mt.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,r=!1){if(!r&&!this.provider)throw Mt.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw dt.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===kf.MULTICHAIN)))throw dt.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(yt.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}class l6e extends zre{constructor(e){super(e),Pe(this,"name",mt.AUTH),Pe(this,"connectorNamespace",kf.MULTICHAIN),Pe(this,"type",jl.IN_APP),Pe(this,"authInstance",null),Pe(this,"status",vt.NOT_READY),Pe(this,"privateKeyProvider",null),Pe(this,"authOptions",void 0),Pe(this,"loginSettings",{authConnection:""}),Pe(this,"wsSettings",void 0),Pe(this,"wsEmbedInstance",null),Pe(this,"authConnectionConfig",[]),Pe(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{loginMode:nV.PLUGIN},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==vt.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){const{chains:r}=this.coreOptions,{chainId:n}=e,i=r.find(s=>s.chainId===n);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw dt.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw dt.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw dt.invalidParams("authConnectionConfig is required before auth's initialization");const o=this.authOptions.uxMode===ki.REDIRECT;this.authOptions=be(be({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new cPe(be(be({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:Ds.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(s=>!s.isDefault),mfaSettings:this.coreOptions.mfaSettings})),st.debug("initializing auth connector init",this.authOptions);const a=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case tr.EIP155:case tr.SOLANA:{const{default:s}=await Rr(async()=>{const{default:c}=await import("./index-KzbeshTB.js");return{default:c}},[]);this.wsEmbedInstance=new s({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const l=r.filter(c=>c.chainNamespace===tr.EIP155||c.chainNamespace===tr.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init(be(be({},this.wsSettings),{},{loginMode:nV.PLUGIN,chains:l,chainId:n,whiteLabel:be(be({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case tr.XRPL:throw Mt.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:s}=await Rr(async()=>{const{CommonPrivateKeyProvider:l}=await import("./index-PPF0PiLQ.js");return{CommonPrivateKeyProvider:l}},[]);this.privateKeyProvider=new s({config:{chain:i,chains:this.coreOptions.chains}})}}st.debug("initializing auth connector"),await a,this.status=vt.READY,this.emit(yt.READY,mt.AUTH);try{const{sessionId:s}=this.authInstance||{};if(s&&(e.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken});else if(!s&&e.autoConnect)throw Mt.connectionError("Failed to rehydrate")}catch(s){this.emit(yt.REHYDRATION_ERROR,s)}}async connect(e){super.checkConnectionRequirements(),this.status=vt.CONNECTING,this.emit(yt.CONNECTING,be(be({},e),{},{connector:mt.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(n){var r;throw st.error("Failed to connect with auth provider",n),this.status=vt.READY,this.emit(yt.ERRORED,n),n!=null&&(r=n.message)!==null&&r!==void 0&&r.includes("user closed popup")?Mt.popupClosed():n instanceof ws?n:Mt.connectionError("Failed to login with auth",n)}}async enableMFA(e={authConnection:""}){if(!this.connected)throw Mt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw dt.notReady("authInstance is not ready");try{const r=await this.authInstance.enableMFA(e);r&&this.emit(yt.MFA_ENABLED,r)}catch(r){throw st.error("Failed to enable MFA with auth provider",r),r instanceof ws?r:Mt.connectionError("Failed to enable MFA with auth",r)}}async manageMFA(e={authConnection:""}){if(!this.connected)throw Mt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw dt.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(r){throw st.error("Failed to manage MFA with auth provider",r),r instanceof ws?r:Mt.connectionError("Failed to manage MFA with auth",r)}}async disconnect(e={cleanup:!1}){if(!this.connected)throw Mt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw dt.notReady("authInstance is not ready");this.status=vt.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=vt.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=vt.READY,this.rehydrated=!1,this.emit(yt.DISCONNECTED)}async getIdentityToken(){if(!this.canAuthorize)throw Mt.notConnectedError("Not connected with wallet, Please login/connect first");this.status=vt.AUTHORIZING,this.emit(yt.AUTHORIZING,{connector:mt.AUTH});const e=await this.getUserInfo();return this.status=vt.AUTHORIZED,this.emit(yt.AUTHORIZED,{connector:mt.AUTH,identityTokenInfo:{idToken:e.idToken}}),{idToken:e.idToken}}async getUserInfo(){if(!this.canAuthorize)throw Mt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw dt.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,r=!1){super.checkSwitchChainRequirements(e,r);const{chainId:n}=e,{chainId:i}=this.provider,{chainNamespace:o}=this.getChain(i),{chainNamespace:a}=this.getChain(n);if(i!==n)if(o===tr.SOLANA||o===tr.EIP155){var s;if(a!==tr.SOLANA&&a!==tr.EIP155)throw Mt.connectionError("Cannot switch to other chain namespace");const c=`${a}:${Number(e.chainId)}`;await((s=this.wsEmbedInstance.provider)===null||s===void 0?void 0:s.request({method:"wallet_switchChain",params:{chainId:c}}))}else{var l;if(o!==a)throw Mt.connectionError("Cannot switch to other chain namespace");await((l=this.privateKeyProvider)===null||l===void 0?void 0:l.switchChain(e))}}async cleanup(){if(!this.authInstance)throw dt.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:r,authConnectionId:n,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(a=>i&&n?a.authConnection===r&&a.groupedAuthConnectionId===i&&a.authConnectionId===n:n?a.authConnection===r&&a.authConnectionId===n:a.authConnection===r&&a.isDefault)}getChain(e){return this.coreOptions.chains.find(r=>r.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Mt.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var r,n,i,o;if(!this.authInstance)throw dt.notReady("authInstance is not ready");const a=this.coreOptions.chains.find(f=>f.chainId===e.chainId);if(!a)throw Mt.connectionError("Chain config is not available");const{chainNamespace:s}=a,l=s===tr.EIP155||s===tr.SOLANA?(r=this.authInstance)===null||r===void 0?void 0:r.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=be(be({},e.extraLoginOptions),{},{id_token:e.idToken})),!l||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.id_token){var c;this.loginSettings.curve=JOe.OTHER;const f=Br(this.loginSettings,e);(c=e.extraLoginOptions)!==null&&c!==void 0&&c.id_token?await this.connectWithJwtLogin(f):await this.connectWithSocialLogin(f)}if(this.coreOptions.useSFAKey&&(i=this.authInstance)!==null&&i!==void 0&&i.privKey&&!((o=this.authInstance)!==null&&o!==void 0&&o.coreKitKey))throw this.authInstance.sessionId&&await this.authInstance.logout(),Mt.sfaKeyNotFound("This typically occurs when the authentication method used does not provide SFA keys (e.g., default auth connection).");if(s===tr.EIP155||s===tr.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:f,sessionNamespace:h}=this.authInstance||{};if(f&&await this.wsEmbedInstance.loginWithSessionId({sessionId:f,sessionNamespace:h})){var u;let y;this.status=vt.CONNECTED,this.emit(yt.CONNECTED,{connector:mt.AUTH,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:y}),e.getIdentityToken&&(y=await this.getIdentityToken()),(u=this.wsEmbedInstance)===null||u===void 0||u.provider.on("accountsChanged",(m=[])=>{m.length===0&&fc.includes(this.status)&&this.disconnect({cleanup:!1})})}}else{const f=this._getFinalPrivKey();f&&(await this.privateKeyProvider.setupProvider(f,e.chainId),this.status=vt.CONNECTED,this.emit(yt.CONNECTED,{connector:mt.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var r,n;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw Mt.connectionError("Invalid auth connection.");const o=be(be(be({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),a=_R(),s=Wd(e);s.extraLoginOptions=be(be({},s.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),delete s.chainId;const l={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||o.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:o,customState:{nonce:a,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(s),version:A8.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},c=YCe(l),u=new qS({url:c.finalURL,timeout:0});if(this.authOptions.uxMode===ki.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let f=!1;return new Promise((h,p)=>{u.open().catch(m=>{st.error("Error during login with social",m),this.authInstance.postLoginCancelledMessage(a),p(m)});const y=new qte({sameIpCheck:!0});y.subscribe(`web3auth-login-${a}`).then(m=>{const v=JSON.parse(m||"{}");return(v==null?void 0:v.message)==="login_finished"&&(v!=null&&v.error&&(this.authInstance.postLoginCancelledMessage(a),p(v.error)),f=!0,y.cleanup(),u.close()),!0}).catch(m=>{st.error("Error during login with social",m)}),u.once("close",()=>{f||(y.cleanup(),this.authInstance.postLoginCancelledMessage(a),p(Mt.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(s,a).then(h).catch(m=>{if(m instanceof ws)throw m;p(Mt.connectionError(m instanceof Error?m.message:m||"Failed to login with social"))})})}connectWithJwtLogin(e){var r,n;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw Mt.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const o=Wd(e),a=be(be({},(i==null?void 0:i.jwtParameters)||{}),e.extraLoginOptions||{});let s;if(e.loginHint||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.login_hint){var l;s=e.loginHint||((l=e.extraLoginOptions)===null||l===void 0?void 0:l.login_hint)}else if((n=e.extraLoginOptions)!==null&&n!==void 0&&n.id_token){const{payload:c}=a6e(e.extraLoginOptions.id_token);s=aw(c,o.authConnection,a.userIdField,a.isUserIdCaseSensitive)}else throw Mt.connectionError("Invalid login hint or id_token");return o.extraLoginOptions=be(be({},a),{},{login_hint:s}),delete o.chainId,this.authInstance.postLoginInitiatedMessage(o)}}const c6e=t=>({projectConfig:e,coreOptions:r})=>{var n,i,o,a;const s={},{whitelist:l,sessionTime:c}=e;l&&(s.originData=l.signed_urls),r.sessionTime?s.sessionTime=r.sessionTime:c&&(s.sessionTime=c),(n=r.uiConfig)!==null&&n!==void 0&&n.uxMode&&(s.uxMode=r.uiConfig.uxMode);const u=r.uiConfig||{};s.whiteLabel=u;const f=Br.all([{uxMode:ki.POPUP,buildEnv:r.authBuildEnv||Cu.PRODUCTION},s,{}]),h=Br.all([u,((i=r.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),p=be(be({},r.walletServicesConfig),{},{whiteLabel:h,accountAbstractionConfig:r.accountAbstractionConfig,enableLogging:r.enableLogging}),y=(o=(a=r.walletServicesConfig)===null||a===void 0?void 0:a.enableKeyExport)!==null&&o!==void 0?o:!0;return r.privateKeyProvider&&r.privateKeyProvider.setKeyExportFlag(y),new l6e({connectorSettings:f,walletServicesSettings:p,loginSettings:be(be({},{}),{},{mfaLevel:r.mfaLevel}),coreOptions:r,authConnectionConfig:e.embeddedWalletAuth})},Wre=be(be({},tr),{},{MULTICHAIN:"multichain"}),Hs={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},_y=be({},Hs),Kre={WALLET_SERVICES:"wallet-services"},u6e={SOLANA:"solana"};be(be({},Kre),u6e);class Nr extends ws{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,r="",n){return new Nr(e,`${Nr.messages[e]}${r}`,n)}static notInitialized(e="",r){return Nr.fromCode(5210,e,r)}static unsupportedConnector(e="",r){return Nr.fromCode(5211,e,r)}static providerRequired(e="",r){return Nr.fromCode(5212,e,r)}static web3authRequired(e="",r){return Nr.fromCode(5213,e,r)}static web3AuthNotConnected(e="",r){return Nr.fromCode(5214,e,r)}static alreadyInitialized(e="",r){return Nr.fromCode(5216,e,r)}static unsupportedChainNamespace(e="",r){return Nr.fromCode(5218,e,r)}static differentWeb3AuthNetwork(e="",r){return Nr.fromCode(5219,e,r)}static invalidParams(e="",r){return Nr.fromCode(5220,e,r)}static web3authNotInitialized(e="",r){return Nr.fromCode(5221,e,r)}static invalidSession(e="",r){return Nr.fromCode(5222,e,r)}static walletPluginNotConnected(e="",r){return Nr.fromCode(5223,e,r)}}Pe(Nr,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class f6e extends pm{constructor(...e){super(...e),Pe(this,"name",Kre.WALLET_SERVICES),Pe(this,"status",Hs.DISCONNECTED),Pe(this,"SUPPORTED_CONNECTORS",[mt.AUTH]),Pe(this,"pluginNamespace",Wre.MULTICHAIN),Pe(this,"wsEmbedInstance",void 0),Pe(this,"provider",null),Pe(this,"web3auth",null),Pe(this,"isInitialized",!1),Pe(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,r,n){if(this.isInitialized)return;if(!e)throw Nr.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw Nr.notInitialized();const i=e.currentChain;if(![tr.EIP155,tr.SOLANA].includes(i==null?void 0:i.chainNamespace))throw Nr.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=n;const o=e.getConnector(mt.AUTH);if(!o||!o.wsEmbed)throw Nr.web3AuthNotConnected();this.wsEmbedInstance=o.wsEmbed,this.isInitialized=!0,this.status=Hs.READY,this.emit(_y.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw Nr.notInitialized();if(this.emit(_y.CONNECTING),this.status=Hs.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(t3.includes(this.web3auth.status)){if(!this.web3auth.provider)throw Nr.providerRequired()}else throw Nr.web3AuthNotConnected();try{this.emit(_y.CONNECTED),this.status=Hs.CONNECTED}catch(r){st.error(r),this.status=Hs.ERRORED,this.emit(_y.ERRORED,{error:r.message||"Something went wrong"})}}async showWalletConnectScanner(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showFunding(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_FUNDING_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showFunding(e)}async showCheckout(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_CHECKOUT_CLICKED,{is_visible:e==null?void 0:e.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e==null?void 0:e.tokenList,fiat_list:e==null?void 0:e.fiatList,crypto:e==null?void 0:e.crypto,fiat:e==null?void 0:e.fiat,fiat_amount:e==null?void 0:e.fiatAmount,crypto_amount:e==null?void 0:e.cryptoAmount}),this.wsEmbedInstance.showCheckout(e)}async showReceive(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_RECEIVE_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showReceive(e)}async showWalletUi(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_UI_CLICKED,{is_visible:e==null?void 0:e.show,path:e==null?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw Nr.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Cr.WALLET_SWAP_CLICKED,{is_visible:e==null?void 0:e.show,from_token:e==null?void 0:e.fromToken,to_token:e==null?void 0:e.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==Hs.CONNECTED)throw Nr.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(_y.DISCONNECTED),this.status=Hs.DISCONNECTED}}const d6e=()=>()=>new f6e;function dw(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0)}}const h6e=t=>{const e=QPe(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},p6e=(t,e)=>dw("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,g6e=(t,e,r)=>dw("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,r):null,m6e=(t,e)=>dw("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;var xx={exports:{}},oV;function y6e(){return oV||(oV=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof yf<"u"&&yf,n=(function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o})();(function(o){(function(a){var s=typeof o<"u"&&o||typeof self<"u"&&self||typeof yf<"u"&&yf||{},l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function h(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function y(C){var T={next:function(){var j=C.shift();return{done:j===void 0,value:j}}};return l.iterable&&(T[Symbol.iterator]=function(){return T}),T}function m(C){this.map={},C instanceof m?C.forEach(function(T,j){this.append(j,T)},this):Array.isArray(C)?C.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(T){this.append(T,C[T])},this)}m.prototype.append=function(C,T){C=h(C),T=p(T);var j=this.map[C];this.map[C]=j?j+", "+T:T},m.prototype.delete=function(C){delete this.map[h(C)]},m.prototype.get=function(C){return C=h(C),this.has(C)?this.map[C]:null},m.prototype.has=function(C){return this.map.hasOwnProperty(h(C))},m.prototype.set=function(C,T){this.map[h(C)]=p(T)},m.prototype.forEach=function(C,T){for(var j in this.map)this.map.hasOwnProperty(j)&&C.call(T,this.map[j],j,this)},m.prototype.keys=function(){var C=[];return this.forEach(function(T,j){C.push(j)}),y(C)},m.prototype.values=function(){var C=[];return this.forEach(function(T){C.push(T)}),y(C)},m.prototype.entries=function(){var C=[];return this.forEach(function(T,j){C.push([j,T])}),y(C)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function v(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function w(C){return new Promise(function(T,j){C.onload=function(){T(C.result)},C.onerror=function(){j(C.error)}})}function A(C){var T=new FileReader,j=w(T);return T.readAsArrayBuffer(C),j}function _(C){var T=new FileReader,j=w(T),O=/charset=([A-Za-z0-9_-]+)/.exec(C.type),k=O?O[1]:"utf-8";return T.readAsText(C,k),j}function D(C){for(var T=new Uint8Array(C),j=new Array(T.length),O=0;O<T.length;O++)j[O]=String.fromCharCode(T[O]);return j.join("")}function P(C){if(C.slice)return C.slice(0);var T=new Uint8Array(C.byteLength);return T.set(new Uint8Array(C)),T.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=P(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||f(C))?this._bodyArrayBuffer=P(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=v(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=v(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(A);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=v(this);if(C)return C;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(C){var T=C.toUpperCase();return F.indexOf(T)>-1?T:C}function L(C,T){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var j=T.body;if(C instanceof L){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,T.headers||(this.headers=new m(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!j&&C._bodyInit!=null&&(j=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new m(T.headers)),this.method=N(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||(function(){if("AbortController"in s){var E=new AbortController;return E.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function B(C){var T=new FormData;return C.trim().split("&").forEach(function(j){if(j){var O=j.split("="),k=O.shift().replace(/\+/g," "),E=O.join("=").replace(/\+/g," ");T.append(decodeURIComponent(k),decodeURIComponent(E))}}),T}function R(C){var T=new m,j=C.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var k=O.split(":"),E=k.shift().trim();if(E){var M=k.join(":").trim();try{T.append(E,M)}catch(H){console.warn("Response "+H.message)}}}),T}U.call(L.prototype);function b(C,T){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new m(T.headers),this.url=T.url||"",this._initBody(C)}U.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},b.error=function(){var C=new b(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var x=[301,302,303,307,308];b.redirect=function(C,T){if(x.indexOf(T)===-1)throw new RangeError("Invalid status code");return new b(null,{status:T,headers:{location:C}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(T,j){this.message=T,this.name=j;var O=Error(T);this.stack=O.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function I(C,T){return new Promise(function(j,O){var k=new L(C,T);if(k.signal&&k.signal.aborted)return O(new a.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function M(){E.abort()}E.onload=function(){var W={statusText:E.statusText,headers:R(E.getAllResponseHeaders()||"")};k.url.indexOf("file://")===0&&(E.status<200||E.status>599)?W.status=200:W.status=E.status,W.url="responseURL"in E?E.responseURL:W.headers.get("X-Request-URL");var V="response"in E?E.response:E.responseText;setTimeout(function(){j(new b(V,W))},0)},E.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request timed out"))},0)},E.onabort=function(){setTimeout(function(){O(new a.DOMException("Aborted","AbortError"))},0)};function H(W){try{return W===""&&s.location.href?s.location.href:W}catch{return W}}if(E.open(k.method,H(k.url),!0),k.credentials==="include"?E.withCredentials=!0:k.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(l.blob?E.responseType="blob":l.arrayBuffer&&(E.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof m||s.Headers&&T.headers instanceof s.Headers)){var q=[];Object.getOwnPropertyNames(T.headers).forEach(function(W){q.push(h(W)),E.setRequestHeader(W,p(T.headers[W]))}),k.headers.forEach(function(W,V){q.indexOf(V)===-1&&E.setRequestHeader(V,W)})}else k.headers.forEach(function(W,V){E.setRequestHeader(V,W)});k.signal&&(k.signal.addEventListener("abort",M),E.onreadystatechange=function(){E.readyState===4&&k.signal.removeEventListener("abort",M)}),E.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return I.polyfill=!0,s.fetch||(s.fetch=I,s.Headers=m,s.Request=L,s.Response=b),a.Headers=m,a.Request=L,a.Response=b,a.fetch=I,a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(xx,xx.exports)),xx.exports}var v6e=y6e();const Vre=fr(v6e);var Ex={exports:{}},MT,aV;function w6e(){if(aV)return MT;aV=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,o=n*365.25;MT=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isFinite(u))return f.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var h=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*o;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function s(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=n?c(u,f,n,"day"):f>=r?c(u,f,r,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,h,p){var y=f>=h*1.5;return Math.round(u/h)+" "+p+(y?"s":"")}return MT}var NT,sV;function b6e(){if(sV)return NT;sV=1;function t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=o,n.enabled=s,n.humanize=w6e(),n.destroy=u,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let h=0;for(let p=0;p<f.length;p++)h=(h<<5)-h+f.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(f){let h,p=null,y,m;function v(...w){if(!v.enabled)return;const A=v,_=Number(new Date),D=_-(h||_);A.diff=D,A.prev=h,A.curr=_,h=_,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let P=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(F,N)=>{if(F==="%%")return"%";P++;const L=n.formatters[N];if(typeof L=="function"){const B=w[P];F=L.call(A,B),w.splice(P,1),P--}return F}),n.formatArgs.call(A,w),(A.log||n.log).apply(A,w)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(f)),m),set:w=>{p=w}}),typeof n.init=="function"&&n.init(v),v}function i(f,h){const p=n(this.namespace+(typeof h>"u"?":":h)+f);return p.log=this.log,p}function o(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let h;const p=(typeof f=="string"?f:"").split(/[\s,]+/),y=p.length;for(h=0;h<y;h++)p[h]&&(f=p[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function a(){const f=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(f))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return NT=t,NT}var lV;function x6e(){return lV||(lV=1,(function(t,e){var r={};e.formatArgs=i,e.save=o,e.load=a,e.useColors=n,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,h=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(h=f))}),c.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=r.DEBUG),c}function s(){try{return localStorage}catch{}}t.exports=b6e()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Ex,Ex.exports)),Ex.exports}var E6e=x6e();const Ji=fr(E6e);var RT,cV;function S6e(){if(cV)return RT;cV=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(L,B)=>{for(var R in B)t(L,R,{get:B[R],enumerable:!0})},o=(L,B,R,b)=>{if(B&&typeof B=="object"||typeof B=="function")for(let x of r(B))!n.call(L,x)&&x!==R&&t(L,x,{get:()=>B[x],enumerable:!(b=e(B,x))||b.enumerable});return L},a=L=>o(t({},"__esModule",{value:!0}),L),s={};i(s,{createFinalURL:()=>U,createPathBasedClient:()=>m,createQuerySerializer:()=>_,default:()=>f,defaultBodySerializer:()=>P,defaultPathSerializer:()=>D,mergeHeaders:()=>F,randomID:()=>u,removeTrailingSlash:()=>N,serializeArrayParam:()=>A,serializeObjectParam:()=>w,serializePrimitiveParam:()=>v,wrapAsPathBasedClient:()=>y}),RT=a(s);var l=/\{[^{}]+\}/g,c=()=>{var L,B;return typeof process=="object"&&Number.parseInt((B=(L=process==null?void 0:process.versions)==null?void 0:L.node)==null?void 0:B.substring(0,2))>=18&&process.versions.undici};function u(){return Math.random().toString(36).slice(2,11)}function f(L){let{baseUrl:B="",Request:R=globalThis.Request,fetch:b=globalThis.fetch,querySerializer:x,bodySerializer:I,headers:C,requestInitExt:T=void 0,...j}={...L};T=c()?T:void 0,B=N(B);const O=[];async function k(E,M){const{baseUrl:H,fetch:q=b,Request:W=R,headers:V,params:Q={},parseAs:te="json",querySerializer:X,bodySerializer:Z=I??P,body:ae,...he}=M||{};let se=B;H&&(se=N(H)??B);let ne=typeof x=="function"?x:_(x);X&&(ne=typeof X=="function"?X:_({...typeof x=="object"?x:{},...X}));const oe=ae===void 0?void 0:Z(ae,F(C,V,Q.header)),fe=F(oe===void 0||oe instanceof FormData?{}:{"Content-Type":"application/json"},C,V,Q.header),pe={redirect:"follow",...j,...he,body:oe,headers:fe};let xe,Se,ce=new R(U(E,{baseUrl:se,params:Q,querySerializer:ne}),pe),Oe;for(const ve in he)ve in ce||(ce[ve]=he[ve]);if(O.length){xe=u(),Se=Object.freeze({baseUrl:se,fetch:q,parseAs:te,querySerializer:ne,bodySerializer:Z});for(const ve of O)if(ve&&typeof ve=="object"&&typeof ve.onRequest=="function"){const We=await ve.onRequest({request:ce,schemaPath:E,params:Q,options:Se,id:xe});if(We)if(We instanceof R)ce=We;else if(We instanceof Response){Oe=We;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!Oe){try{Oe=await q(ce,T)}catch(ve){let We=ve;if(O.length)for(let Ze=O.length-1;Ze>=0;Ze--){const Ye=O[Ze];if(Ye&&typeof Ye=="object"&&typeof Ye.onError=="function"){const jt=await Ye.onError({request:ce,error:We,schemaPath:E,params:Q,options:Se,id:xe});if(jt){if(jt instanceof Response){We=void 0,Oe=jt;break}if(jt instanceof Error){We=jt;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(We)throw We}if(O.length)for(let ve=O.length-1;ve>=0;ve--){const We=O[ve];if(We&&typeof We=="object"&&typeof We.onResponse=="function"){const Ze=await We.onResponse({request:ce,response:Oe,schemaPath:E,params:Q,options:Se,id:xe});if(Ze){if(!(Ze instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");Oe=Ze}}}}if(Oe.status===204||ce.method==="HEAD"||Oe.headers.get("Content-Length")==="0")return Oe.ok?{data:void 0,response:Oe}:{error:void 0,response:Oe};if(Oe.ok)return te==="stream"?{data:Oe.body,response:Oe}:{data:await Oe[te](),response:Oe};let ke=await Oe.text();try{ke=JSON.parse(ke)}catch{}return{error:ke,response:Oe}}return{request(E,M,H){return k(M,{...H,method:E.toUpperCase()})},GET(E,M){return k(E,{...M,method:"GET"})},PUT(E,M){return k(E,{...M,method:"PUT"})},POST(E,M){return k(E,{...M,method:"POST"})},DELETE(E,M){return k(E,{...M,method:"DELETE"})},OPTIONS(E,M){return k(E,{...M,method:"OPTIONS"})},HEAD(E,M){return k(E,{...M,method:"HEAD"})},PATCH(E,M){return k(E,{...M,method:"PATCH"})},TRACE(E,M){return k(E,{...M,method:"TRACE"})},use(...E){for(const M of E)if(M){if(typeof M!="object"||!("onRequest"in M||"onResponse"in M||"onError"in M))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");O.push(M)}},eject(...E){for(const M of E){const H=O.indexOf(M);H!==-1&&O.splice(H,1)}}}}var h=class{constructor(L,B){Te(this,"GET",L=>this.client.GET(this.url,L));Te(this,"PUT",L=>this.client.PUT(this.url,L));Te(this,"POST",L=>this.client.POST(this.url,L));Te(this,"DELETE",L=>this.client.DELETE(this.url,L));Te(this,"OPTIONS",L=>this.client.OPTIONS(this.url,L));Te(this,"HEAD",L=>this.client.HEAD(this.url,L));Te(this,"PATCH",L=>this.client.PATCH(this.url,L));Te(this,"TRACE",L=>this.client.TRACE(this.url,L));this.client=L,this.url=B}},p=class{constructor(){this.client=null}get(L,B){const R=new h(L,B);return this.client[B]=R,R}};function y(L){const B=new p,R=new Proxy(L,B);function b(){}b.prototype=R;const x=new b;return B.client=x,x}function m(L){return y(f(L))}function v(L,B,R){if(B==null)return"";if(typeof B=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${L}=${(R==null?void 0:R.allowReserved)===!0?B:encodeURIComponent(B)}`}function w(L,B,R){if(!B||typeof B!="object")return"";const b=[],x={simple:",",label:".",matrix:";"}[R.style]||"&";if(R.style!=="deepObject"&&R.explode===!1){for(const T in B)b.push(T,R.allowReserved===!0?B[T]:encodeURIComponent(B[T]));const C=b.join(",");switch(R.style){case"form":return`${L}=${C}`;case"label":return`.${C}`;case"matrix":return`;${L}=${C}`;default:return C}}for(const C in B){const T=R.style==="deepObject"?`${L}[${C}]`:C;b.push(v(T,B[C],R))}const I=b.join(x);return R.style==="label"||R.style==="matrix"?`${x}${I}`:I}function A(L,B,R){if(!Array.isArray(B))return"";if(R.explode===!1){const I={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[R.style]||",",C=(R.allowReserved===!0?B:B.map(T=>encodeURIComponent(T))).join(I);switch(R.style){case"simple":return C;case"label":return`.${C}`;case"matrix":return`;${L}=${C}`;default:return`${L}=${C}`}}const b={simple:",",label:".",matrix:";"}[R.style]||"&",x=[];for(const I of B)R.style==="simple"||R.style==="label"?x.push(R.allowReserved===!0?I:encodeURIComponent(I)):x.push(v(L,I,R));return R.style==="label"||R.style==="matrix"?`${b}${x.join(b)}`:x.join(b)}function _(L){return function(R){const b=[];if(R&&typeof R=="object")for(const x in R){const I=R[x];if(I!=null){if(Array.isArray(I)){if(I.length===0)continue;b.push(A(x,I,{style:"form",explode:!0,...L==null?void 0:L.array,allowReserved:(L==null?void 0:L.allowReserved)||!1}));continue}if(typeof I=="object"){b.push(w(x,I,{style:"deepObject",explode:!0,...L==null?void 0:L.object,allowReserved:(L==null?void 0:L.allowReserved)||!1}));continue}b.push(v(x,I,L))}}return b.join("&")}}function D(L,B){let R=L;for(const b of L.match(l)??[]){let x=b.substring(1,b.length-1),I=!1,C="simple";if(x.endsWith("*")&&(I=!0,x=x.substring(0,x.length-1)),x.startsWith(".")?(C="label",x=x.substring(1)):x.startsWith(";")&&(C="matrix",x=x.substring(1)),!B||B[x]===void 0||B[x]===null)continue;const T=B[x];if(Array.isArray(T)){R=R.replace(b,A(x,T,{style:C,explode:I}));continue}if(typeof T=="object"){R=R.replace(b,w(x,T,{style:C,explode:I}));continue}if(C==="matrix"){R=R.replace(b,`;${v(x,T)}`);continue}R=R.replace(b,C==="label"?`.${encodeURIComponent(T)}`:encodeURIComponent(T))}return R}function P(L,B){return L instanceof FormData?L:B&&(B.get instanceof Function?B.get("Content-Type")??B.get("content-type"):B["Content-Type"]??B["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(L).toString():JSON.stringify(L)}function U(L,B){var x;let R=`${B.baseUrl}${L}`;(x=B.params)!=null&&x.path&&(R=D(R,B.params.path));let b=B.querySerializer(B.params.query??{});return b.startsWith("?")&&(b=b.substring(1)),b&&(R+=`?${b}`),R}function F(...L){const B=new Headers;for(const R of L){if(!R||typeof R!="object")continue;const b=R instanceof Headers?R.entries():Object.entries(R);for(const[x,I]of b)if(I===null)B.delete(x);else if(Array.isArray(I))for(const C of I)B.append(x,C);else I!==void 0&&B.set(x,I)}return B}function N(L){return L.endsWith("/")?L.substring(0,L.length-1):L}return RT}var LT,uV;function _6e(){if(uV)return LT;uV=1;var t={},e=Object.create,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=(U,F)=>{for(var N in F)r(U,N,{get:F[N],enumerable:!0})},l=(U,F,N,L)=>{if(F&&typeof F=="object"||typeof F=="function")for(let B of i(F))!a.call(U,B)&&B!==N&&r(U,B,{get:()=>F[B],enumerable:!(L=n(F,B))||L.enumerable});return U},c=(U,F,N)=>(N=U!=null?e(o(U)):{},l(!U||!U.__esModule?r(N,"default",{value:U,enumerable:!0}):N,U)),u=U=>l(r({},"__esModule",{value:!0}),U),f={};s(f,{analytics:()=>P}),LT=u(f);var h=c(S6e()),p=class{constructor(U){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=U.batchSize,this.baseTimeoutMs=U.baseTimeoutMs,this.currentTimeoutMs=U.baseTimeoutMs,this.sendFn=U.sendFn}enqueue(U){this.batch.push(U),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const U=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(U),this.currentTimeoutMs=this.baseTimeoutMs}catch(F){console.error("Sender: Failed to send batch",F),this.batch=[...U,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},y=p,m=class{constructor(U){this.enabled=!1,this.properties={};const F=(0,h.default)({baseUrl:U}),N=async L=>{const B=await F.POST("/v1/events",{body:L});if(B.response.status!==200)throw new Error(B.error)};this.sender=new y({batchSize:100,baseTimeoutMs:200,sendFn:N})}enable(){this.enabled=!0}setGlobalProperty(U,F){this.properties[U]=F}track(U,F){if(!this.enabled)return;const N={name:U,...this.properties,...F};this.sender.enqueue(N)}},v=m,w,A;typeof process<"u"&&t&&(w=(A=t.METAMASK_ANALYTICS_ENDPOINT)!=null?A:t.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var _=w??"https://mm-sdk-analytics.api.cx.metamask.io/",D=new v(_),P=D;return LT}var _n=_6e(),DT={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var fV;function A6e(){return fV||(fV=1,(function(t,e){(function(r){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(k){return Object.prototype.toString.call(k)==="[object Array]"},o=10,a=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",l=typeof Reflect=="object",c=typeof setImmediate=="function",u=c?setImmediate:setTimeout,f=s?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(O){var k=Object.getOwnPropertyNames(O);return k.push.apply(k,Object.getOwnPropertySymbols(O)),k}:Object.keys;function h(){this._events={},this._conf&&p.call(this,this._conf)}function p(O){O&&(this._conf=O,O.delimiter&&(this.delimiter=O.delimiter),O.maxListeners!==r&&(this._maxListeners=O.maxListeners),O.wildcard&&(this.wildcard=O.wildcard),O.newListener&&(this._newListener=O.newListener),O.removeListener&&(this._removeListener=O.removeListener),O.verboseMemoryLeak&&(this.verboseMemoryLeak=O.verboseMemoryLeak),O.ignoreErrors&&(this.ignoreErrors=O.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function y(O,k){var E="(node) warning: possible EventEmitter memory leak detected. "+O+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(E+=" Event name: "+k+"."),typeof process<"u"&&process.emitWarning){var M=new Error(E);M.name="MaxListenersExceededWarning",M.emitter=this,M.count=O,process.emitWarning(M)}else console.error(E),console.trace&&console.trace()}var m=function(O,k,E){var M=arguments.length;switch(M){case 0:return[];case 1:return[O];case 2:return[O,k];case 3:return[O,k,E];default:for(var H=new Array(M);M--;)H[M]=arguments[M];return H}};function v(O,k){for(var E={},M,H=O.length,q=0,W=0;W<H;W++)M=O[W],E[M]=W<q?k[W]:r;return E}function w(O,k,E){this._emitter=O,this._target=k,this._listeners={},this._listenersCount=0;var M,H;if((E.on||E.off)&&(M=E.on,H=E.off),k.addEventListener?(M=k.addEventListener,H=k.removeEventListener):k.addListener?(M=k.addListener,H=k.removeListener):k.on&&(M=k.on,H=k.off),!M&&!H)throw Error("target does not implement any known event API");if(typeof M!="function")throw TypeError("on method must be a function");if(typeof H!="function")throw TypeError("off method must be a function");this._on=M,this._off=H;var q=O._observers;q?q.push(this):O._observers=[this]}Object.assign(w.prototype,{subscribe:function(O,k,E){var M=this,H=this._target,q=this._emitter,W=this._listeners,V=function(){var Q=m.apply(null,arguments),te={data:Q,name:k,original:O};if(E){var X=E.call(H,te);X!==!1&&q.emit.apply(q,[te.name].concat(Q));return}q.emit.apply(q,[k].concat(Q))};if(W[O])throw Error("Event '"+O+"' is already listening");this._listenersCount++,q._newListener&&q._removeListener&&!M._onNewListener?(this._onNewListener=function(Q){Q===k&&W[O]===null&&(W[O]=V,M._on.call(H,O,V))},q.on("newListener",this._onNewListener),this._onRemoveListener=function(Q){Q===k&&!q.hasListeners(Q)&&W[O]&&(W[O]=null,M._off.call(H,O,V))},W[O]=null,q.on("removeListener",this._onRemoveListener)):(W[O]=V,M._on.call(H,O,V))},unsubscribe:function(O){var k=this,E=this._listeners,M=this._emitter,H,q,W=this._off,V=this._target,Q;if(O&&typeof O!="string")throw TypeError("event must be a string");function te(){k._onNewListener&&(M.off("newListener",k._onNewListener),M.off("removeListener",k._onRemoveListener),k._onNewListener=null,k._onRemoveListener=null);var X=N.call(M,k);M._observers.splice(X,1)}if(O){if(H=E[O],!H)return;W.call(V,O,H),delete E[O],--this._listenersCount||te()}else{for(q=f(E),Q=q.length;Q-- >0;)O=q[Q],W.call(V,O,E[O]);this._listeners={},this._listenersCount=0,te()}}});function A(O,k,E,M){var H=Object.assign({},k);if(!O)return H;if(typeof O!="object")throw TypeError("options must be an object");var q=Object.keys(O),W=q.length,V,Q,te;function X(ae){throw Error('Invalid "'+V+'" option value'+(ae?". Reason: "+ae:""))}for(var Z=0;Z<W;Z++){if(V=q[Z],!n.call(k,V))throw Error('Unknown "'+V+'" option');Q=O[V],Q!==r&&(te=E[V],H[V]=te?te(Q,X):Q)}return H}function _(O,k){return(typeof O!="function"||!O.hasOwnProperty("prototype"))&&k("value must be a constructor"),O}function D(O){var k="value must be type of "+O.join("|"),E=O.length,M=O[0],H=O[1];return E===1?function(q,W){if(typeof q===M)return q;W(k)}:E===2?function(q,W){var V=typeof q;if(V===M||V===H)return q;W(k)}:function(q,W){for(var V=typeof q,Q=E;Q-- >0;)if(V===O[Q])return q;W(k)}}var P=D(["function"]),U=D(["object","function"]);function F(O,k,E){var M,H,q=0,W,V=new O(function(Q,te,X){E=A(E,{timeout:0,overload:!1},{timeout:function(se,ne){return se*=1,(typeof se!="number"||se<0||!Number.isFinite(se))&&ne("timeout must be a positive number"),se}}),M=!E.overload&&typeof O.prototype.cancel=="function"&&typeof X=="function";function Z(){H&&(H=null),q&&(clearTimeout(q),q=0)}var ae=function(se){Z(),Q(se)},he=function(se){Z(),te(se)};M?k(ae,he,X):(H=[function(se){he(se||Error("canceled"))}],k(ae,he,function(se){if(W)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof se!="function")throw TypeError("onCancel callback must be a function");H.push(se)}),W=!0),E.timeout>0&&(q=setTimeout(function(){var se=Error("timeout");se.code="ETIMEDOUT",q=0,V.cancel(se),te(se)},E.timeout))});return M||(V.cancel=function(Q){if(H){for(var te=H.length,X=1;X<te;X++)H[X](Q);H[0](Q),H=null}}),V}function N(O){var k=this._observers;if(!k)return-1;for(var E=k.length,M=0;M<E;M++)if(k[M]._target===O)return M;return-1}function L(O,k,E,M,H){if(!E)return null;if(M===0){var q=typeof k;if(q==="string"){var W,V,Q=0,te=0,X=this.delimiter,Z=X.length;if((V=k.indexOf(X))!==-1){W=new Array(5);do W[Q++]=k.slice(te,V),te=V+Z;while((V=k.indexOf(X,te))!==-1);W[Q++]=k.slice(te),k=W,H=Q}else k=[k],H=1}else q==="object"?H=k.length:(k=[k],H=1)}var ae=null,he,se,ne,oe,fe,pe=k[M],xe=k[M+1],Se,ce;if(M===H)E._listeners&&(typeof E._listeners=="function"?(O&&O.push(E._listeners),ae=[E]):(O&&O.push.apply(O,E._listeners),ae=[E]));else if(pe==="*"){for(Se=f(E),V=Se.length;V-- >0;)he=Se[V],he!=="_listeners"&&(ce=L(O,k,E[he],M+1,H),ce&&(ae?ae.push.apply(ae,ce):ae=ce));return ae}else if(pe==="**"){for(fe=M+1===H||M+2===H&&xe==="*",fe&&E._listeners&&(ae=L(O,k,E,H,H)),Se=f(E),V=Se.length;V-- >0;)he=Se[V],he!=="_listeners"&&(he==="*"||he==="**"?(E[he]._listeners&&!fe&&(ce=L(O,k,E[he],H,H),ce&&(ae?ae.push.apply(ae,ce):ae=ce)),ce=L(O,k,E[he],M,H)):he===xe?ce=L(O,k,E[he],M+2,H):ce=L(O,k,E[he],M,H),ce&&(ae?ae.push.apply(ae,ce):ae=ce));return ae}else E[pe]&&(ae=L(O,k,E[pe],M+1,H));if(se=E["*"],se&&L(O,k,se,M+1,H),ne=E["**"],ne)if(M<H)for(ne._listeners&&L(O,k,ne,H,H),Se=f(ne),V=Se.length;V-- >0;)he=Se[V],he!=="_listeners"&&(he===xe?L(O,k,ne[he],M+2,H):he===pe?L(O,k,ne[he],M+1,H):(oe={},oe[he]=ne[he],L(O,k,{"**":oe},M+1,H)));else ne._listeners?L(O,k,ne,H,H):ne["*"]&&ne["*"]._listeners&&L(O,k,ne["*"],H,H);return ae}function B(O,k,E){var M=0,H=0,q,W=this.delimiter,V=W.length,Q;if(typeof O=="string")if((q=O.indexOf(W))!==-1){Q=new Array(5);do Q[M++]=O.slice(H,q),H=q+V;while((q=O.indexOf(W,H))!==-1);Q[M++]=O.slice(H)}else Q=[O],M=1;else Q=O,M=O.length;if(M>1){for(q=0;q+1<M;q++)if(Q[q]==="**"&&Q[q+1]==="**")return}var te=this.listenerTree,X;for(q=0;q<M;q++)if(X=Q[q],te=te[X]||(te[X]={}),q===M-1)return te._listeners?(typeof te._listeners=="function"&&(te._listeners=[te._listeners]),E?te._listeners.unshift(k):te._listeners.push(k),!te._listeners.warned&&this._maxListeners>0&&te._listeners.length>this._maxListeners&&(te._listeners.warned=!0,y.call(this,te._listeners.length,X))):te._listeners=k,!0;return!0}function R(O,k,E,M){for(var H=f(O),q=H.length,W,V,Q,te=O._listeners,X;q-- >0;)V=H[q],W=O[V],V==="_listeners"?Q=E:Q=E?E.concat(V):[V],X=M||typeof V=="symbol",te&&k.push(X?Q:Q.join(this.delimiter)),typeof W=="object"&&R.call(this,W,k,Q,X);return k}function b(O){for(var k=f(O),E=k.length,M,H,q;E-- >0;)H=k[E],M=O[H],M&&(q=!0,H!=="_listeners"&&!b(M)&&delete O[H]);return q}function x(O,k,E){this.emitter=O,this.event=k,this.listener=E}x.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function I(O,k,E){if(E===!0)H=!0;else if(E===!1)M=!0;else{if(!E||typeof E!="object")throw TypeError("options should be an object or true");var M=E.async,H=E.promisify,q=E.nextTick,W=E.objectify}if(M||q||H){var V=k,Q=k._origin||k;if(q&&!a)throw Error("process.nextTick is not supported");H===r&&(H=k.constructor.name==="AsyncFunction"),k=function(){var te=arguments,X=this,Z=this.event;return H?q?Promise.resolve():new Promise(function(ae){u(ae)}).then(function(){return X.event=Z,V.apply(X,te)}):(q?process.nextTick:u)(function(){X.event=Z,V.apply(X,te)})},k._async=!0,k._origin=Q}return[k,W?new x(this,O,k):this]}function C(O){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,O)}C.EventEmitter2=C,C.prototype.listenTo=function(O,k,E){if(typeof O!="object")throw TypeError("target musts be an object");var M=this;E=A(E,{on:r,off:r,reducers:r},{on:P,off:P,reducers:U});function H(q){if(typeof q!="object")throw TypeError("events must be an object");var W=E.reducers,V=N.call(M,O),Q;V===-1?Q=new w(M,O,E):Q=M._observers[V];for(var te=f(q),X=te.length,Z,ae=typeof W=="function",he=0;he<X;he++)Z=te[he],Q.subscribe(Z,q[Z]||Z,ae?W:W&&W[Z])}return i(k)?H(v(k)):H(typeof k=="string"?v(k.split(/\s+/)):k),this},C.prototype.stopListeningTo=function(O,k){var E=this._observers;if(!E)return!1;var M=E.length,H,q=!1;if(O&&typeof O!="object")throw TypeError("target should be an object");for(;M-- >0;)H=E[M],(!O||H._target===O)&&(H.unsubscribe(k),q=!0);return q},C.prototype.delimiter=".",C.prototype.setMaxListeners=function(O){O!==r&&(this._maxListeners=O,this._conf||(this._conf={}),this._conf.maxListeners=O)},C.prototype.getMaxListeners=function(){return this._maxListeners},C.prototype.event="",C.prototype.once=function(O,k,E){return this._once(O,k,!1,E)},C.prototype.prependOnceListener=function(O,k,E){return this._once(O,k,!0,E)},C.prototype._once=function(O,k,E,M){return this._many(O,1,k,E,M)},C.prototype.many=function(O,k,E,M){return this._many(O,k,E,!1,M)},C.prototype.prependMany=function(O,k,E,M){return this._many(O,k,E,!0,M)},C.prototype._many=function(O,k,E,M,H){var q=this;if(typeof E!="function")throw new Error("many only accepts instances of Function");function W(){return--k===0&&q.off(O,W),E.apply(this,arguments)}return W._origin=E,this._on(O,W,M,H)},C.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var O=arguments[0],k,E=this.wildcard,M,H,q,W,V;if(O==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(E&&(k=O,O!=="newListener"&&O!=="removeListener"&&typeof O=="object")){if(H=O.length,s){for(q=0;q<H;q++)if(typeof O[q]=="symbol"){V=!0;break}}V||(O=O.join(this.delimiter))}var Q=arguments.length,te;if(this._all&&this._all.length)for(te=this._all.slice(),q=0,H=te.length;q<H;q++)switch(this.event=O,Q){case 1:te[q].call(this,O);break;case 2:te[q].call(this,O,arguments[1]);break;case 3:te[q].call(this,O,arguments[1],arguments[2]);break;default:te[q].apply(this,arguments)}if(E)te=[],L.call(this,te,k,this.listenerTree,0,H);else if(te=this._events[O],typeof te=="function"){switch(this.event=O,Q){case 1:te.call(this);break;case 2:te.call(this,arguments[1]);break;case 3:te.call(this,arguments[1],arguments[2]);break;default:for(M=new Array(Q-1),W=1;W<Q;W++)M[W-1]=arguments[W];te.apply(this,M)}return!0}else te&&(te=te.slice());if(te&&te.length){if(Q>3)for(M=new Array(Q-1),W=1;W<Q;W++)M[W-1]=arguments[W];for(q=0,H=te.length;q<H;q++)switch(this.event=O,Q){case 1:te[q].call(this);break;case 2:te[q].call(this,arguments[1]);break;case 3:te[q].call(this,arguments[1],arguments[2]);break;default:te[q].apply(this,M)}return!0}else if(!this.ignoreErrors&&!this._all&&O==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},C.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var O=arguments[0],k=this.wildcard,E,M,H,q,W,V;if(O==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(k&&(E=O,O!=="newListener"&&O!=="removeListener"&&typeof O=="object")){if(q=O.length,s){for(W=0;W<q;W++)if(typeof O[W]=="symbol"){M=!0;break}}M||(O=O.join(this.delimiter))}var Q=[],te=arguments.length,X;if(this._all)for(W=0,q=this._all.length;W<q;W++)switch(this.event=O,te){case 1:Q.push(this._all[W].call(this,O));break;case 2:Q.push(this._all[W].call(this,O,arguments[1]));break;case 3:Q.push(this._all[W].call(this,O,arguments[1],arguments[2]));break;default:Q.push(this._all[W].apply(this,arguments))}if(k?(X=[],L.call(this,X,E,this.listenerTree,0)):X=this._events[O],typeof X=="function")switch(this.event=O,te){case 1:Q.push(X.call(this));break;case 2:Q.push(X.call(this,arguments[1]));break;case 3:Q.push(X.call(this,arguments[1],arguments[2]));break;default:for(H=new Array(te-1),V=1;V<te;V++)H[V-1]=arguments[V];Q.push(X.apply(this,H))}else if(X&&X.length){if(X=X.slice(),te>3)for(H=new Array(te-1),V=1;V<te;V++)H[V-1]=arguments[V];for(W=0,q=X.length;W<q;W++)switch(this.event=O,te){case 1:Q.push(X[W].call(this));break;case 2:Q.push(X[W].call(this,arguments[1]));break;case 3:Q.push(X[W].call(this,arguments[1],arguments[2]));break;default:Q.push(X[W].apply(this,H))}}else if(!this.ignoreErrors&&!this._all&&O==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Q)},C.prototype.on=function(O,k,E){return this._on(O,k,!1,E)},C.prototype.prependListener=function(O,k,E){return this._on(O,k,!0,E)},C.prototype.onAny=function(O){return this._onAny(O,!1)},C.prototype.prependAny=function(O){return this._onAny(O,!0)},C.prototype.addListener=C.prototype.on,C.prototype._onAny=function(O,k){if(typeof O!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),k?this._all.unshift(O):this._all.push(O),this},C.prototype._on=function(O,k,E,M){if(typeof O=="function")return this._onAny(O,k),this;if(typeof k!="function")throw new Error("on only accepts instances of Function");this._events||h.call(this);var H=this,q;return M!==r&&(q=I.call(this,O,k,M),k=q[0],H=q[1]),this._newListener&&this.emit("newListener",O,k),this.wildcard?(B.call(this,O,k,E),H):(this._events[O]?(typeof this._events[O]=="function"&&(this._events[O]=[this._events[O]]),E?this._events[O].unshift(k):this._events[O].push(k),!this._events[O].warned&&this._maxListeners>0&&this._events[O].length>this._maxListeners&&(this._events[O].warned=!0,y.call(this,this._events[O].length,O))):this._events[O]=k,H)},C.prototype.off=function(O,k){if(typeof k!="function")throw new Error("removeListener only takes instances of Function");var E,M=[];if(this.wildcard){var H=typeof O=="string"?O.split(this.delimiter):O.slice();if(M=L.call(this,null,H,this.listenerTree,0),!M)return this}else{if(!this._events[O])return this;E=this._events[O],M.push({_listeners:E})}for(var q=0;q<M.length;q++){var W=M[q];if(E=W._listeners,i(E)){for(var V=-1,Q=0,te=E.length;Q<te;Q++)if(E[Q]===k||E[Q].listener&&E[Q].listener===k||E[Q]._origin&&E[Q]._origin===k){V=Q;break}if(V<0)continue;return this.wildcard?W._listeners.splice(V,1):this._events[O].splice(V,1),E.length===0&&(this.wildcard?delete W._listeners:delete this._events[O]),this._removeListener&&this.emit("removeListener",O,k),this}else(E===k||E.listener&&E.listener===k||E._origin&&E._origin===k)&&(this.wildcard?delete W._listeners:delete this._events[O],this._removeListener&&this.emit("removeListener",O,k))}return this.listenerTree&&b(this.listenerTree),this},C.prototype.offAny=function(O){var k=0,E=0,M;if(O&&this._all&&this._all.length>0){for(M=this._all,k=0,E=M.length;k<E;k++)if(O===M[k])return M.splice(k,1),this._removeListener&&this.emit("removeListenerAny",O),this}else{if(M=this._all,this._removeListener)for(k=0,E=M.length;k<E;k++)this.emit("removeListenerAny",M[k]);this._all=[]}return this},C.prototype.removeListener=C.prototype.off,C.prototype.removeAllListeners=function(O){if(O===r)return!this._events||h.call(this),this;if(this.wildcard){var k=L.call(this,null,O,this.listenerTree,0),E,M;if(!k)return this;for(M=0;M<k.length;M++)E=k[M],E._listeners=null;this.listenerTree&&b(this.listenerTree)}else this._events&&(this._events[O]=null);return this},C.prototype.listeners=function(O){var k=this._events,E,M,H,q,W;if(O===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!k)return[];for(E=f(k),q=E.length,H=[];q-- >0;)M=k[E[q]],typeof M=="function"?H.push(M):H.push.apply(H,M);return H}else{if(this.wildcard){if(W=this.listenerTree,!W)return[];var V=[],Q=typeof O=="string"?O.split(this.delimiter):O.slice();return L.call(this,V,Q,W,0),V}return k?(M=k[O],M?typeof M=="function"?[M]:M:[]):[]}},C.prototype.eventNames=function(O){var k=this._events;return this.wildcard?R.call(this,this.listenerTree,[],null,O):k?f(k):[]},C.prototype.listenerCount=function(O){return this.listeners(O).length},C.prototype.hasListeners=function(O){if(this.wildcard){var k=[],E=typeof O=="string"?O.split(this.delimiter):O.slice();return L.call(this,k,E,this.listenerTree,0),k.length>0}var M=this._events,H=this._all;return!!(H&&H.length||M&&(O===r?f(M).length:M[O]))},C.prototype.listenersAny=function(){return this._all?this._all:[]},C.prototype.waitFor=function(O,k){var E=this,M=typeof k;return M==="number"?k={timeout:k}:M==="function"&&(k={filter:k}),k=A(k,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:P,Promise:_}),F(k.Promise,function(H,q,W){function V(){var Q=k.filter;if(!(Q&&!Q.apply(E,arguments)))if(E.off(O,V),k.handleError){var te=arguments[0];te?q(te):H(m.apply(null,arguments).slice(1))}else H(m.apply(null,arguments))}W(function(){E.off(O,V)}),E._on(O,V,!1)},{timeout:k.timeout,overload:k.overload})};function T(O,k,E){E=A(E,{Promise,timeout:0,overload:!1},{Promise:_});var M=E.Promise;return F(M,function(H,q,W){var V;if(typeof O.addEventListener=="function"){V=function(){H(m.apply(null,arguments))},W(function(){O.removeEventListener(k,V)}),O.addEventListener(k,V,{once:!0});return}var Q=function(){te&&O.removeListener("error",te),H(m.apply(null,arguments))},te;k!=="error"&&(te=function(X){O.removeListener(k,Q),q(X)},O.once("error",te)),W(function(){te&&O.removeListener("error",te),O.removeListener(k,Q)}),O.once(k,Q)},{timeout:E.timeout,overload:E.overload})}var j=C.prototype;Object.defineProperties(C,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(O){if(typeof O!="number"||O<0||Number.isNaN(O))throw TypeError("n must be a non-negative number");j._maxListeners=O},enumerable:!0},once:{value:T,writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=C})()})(DT)),DT.exports}var o_=A6e();const C6e=fr(o_);var Sx,O6e=new Uint8Array(16);function I6e(){if(!Sx&&(Sx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Sx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sx(O6e)}const P6e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function j8(t){return typeof t=="string"&&P6e.test(t)}var si=[];for(var BT=0;BT<256;++BT)si.push((BT+256).toString(16).substr(1));function k6e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]).toLowerCase();if(!j8(r))throw TypeError("Stringified UUID is invalid");return r}function Wu(t,e,r){t=t||{};var n=t.random||(t.rng||I6e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return k6e(n)}function qe(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(c){try{l(n.next(c))}catch(u){o(u)}}function s(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof r?u:new r((function(f){f(u)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}var eo=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Xs=[],Oa=[],T6e=typeof Uint8Array<"u"?Uint8Array:Array,o9=!1;function Gre(){o9=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Xs[e]=t[e],Oa[t.charCodeAt(e)]=e;Oa[45]=62,Oa[95]=63}function M6e(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(Xs[(i=n)>>18&63]+Xs[i>>12&63]+Xs[i>>6&63]+Xs[63&i]);return o.join("")}function dV(t){var e;o9||Gre();for(var r=t.length,n=r%3,i="",o=[],a=16383,s=0,l=r-n;s<l;s+=a)o.push(M6e(t,s,s+a>l?l:s+a));return n===1?(e=t[r-1],i+=Xs[e>>2],i+=Xs[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Xs[e>>10],i+=Xs[e>>4&63],i+=Xs[e<<2&63],i+="="),o.push(i),o.join("")}function _x(t,e,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+f],f+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+f],f+=h,u-=8);if(o===0)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)}function Yre(t,e,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=y,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=y,a/=256,c-=8);t[r+p-y]|=128*m}var N6e={}.toString,Jre=Array.isArray||function(t){return N6e.call(t)=="[object Array]"};ze.TYPED_ARRAY_SUPPORT=eo.TYPED_ARRAY_SUPPORT===void 0||eo.TYPED_ARRAY_SUPPORT;var R6e=r3();function r3(){return ze.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function dc(t,e){if(r3()<e)throw new RangeError("Invalid typed array length");return ze.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=ze.prototype:(t===null&&(t=new ze(e)),t.length=e),t}function ze(t,e,r){if(!(ze.TYPED_ARRAY_SUPPORT||this instanceof ze))return new ze(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return $8(this,t)}return Qre(this,t,e,r)}function Qre(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?(function(i,o,a,s){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(s||0))throw new RangeError("'length' is out of bounds");return o=a===void 0&&s===void 0?new Uint8Array(o):s===void 0?new Uint8Array(o,a):new Uint8Array(o,a,s),ze.TYPED_ARRAY_SUPPORT?(i=o).__proto__=ze.prototype:i=jT(i,o),i})(t,e,r,n):typeof e=="string"?(function(i,o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!ze.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var s=0|Zre(o,a);i=dc(i,s);var l=i.write(o,a);return l!==s&&(i=i.slice(0,l)),i})(t,e,r):(function(i,o){if(Zs(o)){var a=0|a9(o.length);return(i=dc(i,a)).length===0||o.copy(i,0,0,a),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(s=o.length)!=s?dc(i,0):jT(i,o);if(o.type==="Buffer"&&Jre(o.data))return jT(i,o.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(t,e)}function Xre(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function $8(t,e){if(Xre(e),t=dc(t,e<0?0:0|a9(e)),!ze.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function jT(t,e){var r=e.length<0?0:0|a9(e.length);t=dc(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function a9(t){if(t>=r3())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r3().toString(16)+" bytes");return 0|t}function Zs(t){return!(t==null||!t._isBuffer)}function Zre(t,e){if(Zs(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return n3(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return nne(t).length;default:if(n)return n3(t).length;e=(""+e).toLowerCase(),n=!0}}function L6e(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z6e(this,e,r);case"utf8":case"utf-8":return tne(this,e,r);case"ascii":return H6e(this,e,r);case"latin1":case"binary":return q6e(this,e,r);case"base64":return U6e(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W6e(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Ed(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function hV(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof e=="string"&&(e=ze.from(e,n)),Zs(e))return e.length===0?-1:pV(t,e,r,n,i);if(typeof e=="number")return e&=255,ze.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):pV(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function pV(t,e,r,n,i){var o,a=1,s=t.length,l=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(p,y){return a===1?p[y]:p.readUInt16BE(y*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===l)return u*a}else u!==-1&&(o-=o-u),u=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var f=!0,h=0;h<l;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function D6e(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function B6e(t,e,r,n){return a_(n3(e,t.length-r),t,r,n)}function ene(t,e,r,n){return a_((function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o})(e),t,r,n)}function j6e(t,e,r,n){return ene(t,e,r,n)}function $6e(t,e,r,n){return a_(nne(e),t,r,n)}function F6e(t,e,r,n){return a_((function(i,o){for(var a,s,l,c=[],u=0;u<i.length&&!((o-=2)<0);++u)s=(a=i.charCodeAt(u))>>8,l=a%256,c.push(l),c.push(s);return c})(e,t.length-r),t,r,n)}function U6e(t,e,r){return e===0&&r===t.length?dV(t):dV(t.slice(e,r))}function tne(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,l,c=t[i],u=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(u=c);break;case 2:(192&(o=t[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[i+1],a=t[i+2],(192&o)==128&&(192&a)==128&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}u===null?(u=65533,f=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=f}return(function(h){var p=h.length;if(p<=gV)return String.fromCharCode.apply(String,h);for(var y="",m=0;m<p;)y+=String.fromCharCode.apply(String,h.slice(m,m+=gV));return y})(n)}ze.poolSize=8192,ze._augment=function(t){return t.__proto__=ze.prototype,t},ze.from=function(t,e,r){return Qre(null,t,e,r)},ze.TYPED_ARRAY_SUPPORT&&(ze.prototype.__proto__=Uint8Array.prototype,ze.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ze[Symbol.species]),ze.alloc=function(t,e,r){return(function(n,i,o,a){return Xre(i),i<=0?dc(n,i):o!==void 0?typeof a=="string"?dc(n,i).fill(o,a):dc(n,i).fill(o):dc(n,i)})(null,t,e,r)},ze.allocUnsafe=function(t){return $8(null,t)},ze.allocUnsafeSlow=function(t){return $8(null,t)},ze.isBuffer=ine,ze.compare=function(t,e){if(!Zs(t)||!Zs(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},ze.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ze.concat=function(t,e){if(!Jre(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return ze.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=ze.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!Zs(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},ze.byteLength=Zre,ze.prototype._isBuffer=!0,ze.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ed(this,e,e+1);return this},ze.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ed(this,e,e+3),Ed(this,e+1,e+2);return this},ze.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ed(this,e,e+7),Ed(this,e+1,e+6),Ed(this,e+2,e+5),Ed(this,e+3,e+4);return this},ze.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?tne(this,0,t):L6e.apply(this,arguments)},ze.prototype.equals=function(t){if(!Zs(t))throw new TypeError("Argument must be a Buffer");return this===t||ze.compare(this,t)===0},ze.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},ze.prototype.compare=function(t,e,r,n,i){if(!Zs(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(n,i),c=t.slice(e,r),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},ze.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},ze.prototype.indexOf=function(t,e,r){return hV(this,t,e,r,!0)},ze.prototype.lastIndexOf=function(t,e,r){return hV(this,t,e,r,!1)},ze.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return D6e(this,t,e,r);case"utf8":case"utf-8":return B6e(this,t,e,r);case"ascii":return ene(this,t,e,r);case"latin1":case"binary":return j6e(this,t,e,r);case"base64":return $6e(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F6e(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var gV=4096;function H6e(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function q6e(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function z6e(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=V6e(t[o]);return i}function W6e(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Kn(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function fo(t,e,r,n,i,o){if(!Zs(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Ax(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Cx(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function rne(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function mV(t,e,r,n,i){return i||rne(t,0,r,4),Yre(t,e,r,n,23,4),r+4}function yV(t,e,r,n,i){return i||rne(t,0,r,8),Yre(t,e,r,n,52,8),r+8}ze.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=e===void 0?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),ze.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=ze.prototype;else{var i=e-t;r=new ze(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},ze.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||Kn(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},ze.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||Kn(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},ze.prototype.readUInt8=function(t,e){return e||Kn(t,1,this.length),this[t]},ze.prototype.readUInt16LE=function(t,e){return e||Kn(t,2,this.length),this[t]|this[t+1]<<8},ze.prototype.readUInt16BE=function(t,e){return e||Kn(t,2,this.length),this[t]<<8|this[t+1]},ze.prototype.readUInt32LE=function(t,e){return e||Kn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ze.prototype.readUInt32BE=function(t,e){return e||Kn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ze.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||Kn(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},ze.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||Kn(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},ze.prototype.readInt8=function(t,e){return e||Kn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ze.prototype.readInt16LE=function(t,e){e||Kn(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},ze.prototype.readInt16BE=function(t,e){e||Kn(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},ze.prototype.readInt32LE=function(t,e){return e||Kn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ze.prototype.readInt32BE=function(t,e){return e||Kn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ze.prototype.readFloatLE=function(t,e){return e||Kn(t,4,this.length),_x(this,t,!0,23,4)},ze.prototype.readFloatBE=function(t,e){return e||Kn(t,4,this.length),_x(this,t,!1,23,4)},ze.prototype.readDoubleLE=function(t,e){return e||Kn(t,8,this.length),_x(this,t,!0,52,8)},ze.prototype.readDoubleBE=function(t,e){return e||Kn(t,8,this.length),_x(this,t,!1,52,8)},ze.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||fo(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},ze.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||fo(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},ze.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,1,255,0),ze.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ze.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,2,65535,0),ze.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ax(this,t,e,!0),e+2},ze.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,2,65535,0),ze.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ax(this,t,e,!1),e+2},ze.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,4,4294967295,0),ze.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Cx(this,t,e,!0),e+4},ze.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,4,4294967295,0),ze.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Cx(this,t,e,!1),e+4},ze.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);fo(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&s===0&&this[e+o-1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},ze.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);fo(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&s===0&&this[e+o+1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},ze.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,1,127,-128),ze.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},ze.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,2,32767,-32768),ze.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ax(this,t,e,!0),e+2},ze.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,2,32767,-32768),ze.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ax(this,t,e,!1),e+2},ze.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,4,2147483647,-2147483648),ze.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Cx(this,t,e,!0),e+4},ze.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||fo(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),ze.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Cx(this,t,e,!1),e+4},ze.prototype.writeFloatLE=function(t,e,r){return mV(this,t,e,!0,r)},ze.prototype.writeFloatBE=function(t,e,r){return mV(this,t,e,!1,r)},ze.prototype.writeDoubleLE=function(t,e,r){return yV(this,t,e,!0,r)},ze.prototype.writeDoubleBE=function(t,e,r){return yV(this,t,e,!1,r)},ze.prototype.copy=function(t,e,r,n){if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!ze.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},ze.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ze.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else{var a=Zs(t)?t:n3(new ze(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var K6e=/[^+\/0-9A-Za-z-_]/g;function V6e(t){return t<16?"0"+t.toString(16):t.toString(16)}function n3(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function nne(t){return(function(e){var r,n,i,o,a,s;o9||Gre();var l=e.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=e[l-2]==="="?2:e[l-1]==="="?1:0,s=new T6e(3*l/4-a),i=a>0?l-4:l;var c=0;for(r=0,n=0;r<i;r+=4,n+=3)o=Oa[e.charCodeAt(r)]<<18|Oa[e.charCodeAt(r+1)]<<12|Oa[e.charCodeAt(r+2)]<<6|Oa[e.charCodeAt(r+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return a===2?(o=Oa[e.charCodeAt(r)]<<2|Oa[e.charCodeAt(r+1)]>>4,s[c++]=255&o):a===1&&(o=Oa[e.charCodeAt(r)]<<10|Oa[e.charCodeAt(r+1)]<<4|Oa[e.charCodeAt(r+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s})((function(e){if((e=(function(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")})(e).replace(K6e,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(t))}function a_(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ine(t){return t!=null&&(!!t._isBuffer||vV(t)||(function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&vV(e.slice(0,0))})(t))}function vV(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var G6e=Object.freeze({__proto__:null,Buffer:ze,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),ze.alloc(+t)},isBuffer:ine,kMaxLength:R6e}),ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),r}var Gp={},na={},Mi={};function i3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function one(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function ane(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function s9(t,...e){if(!ane(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function sne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");i3(t.outputLen),i3(t.blockLen)}function lne(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cne(t,e){s9(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.isBytes=ane,Mi.number=i3,Mi.bool=one,Mi.bytes=s9,Mi.hash=sne,Mi.exists=lne,Mi.output=cne;const Y6e={number:i3,bool:one,bytes:s9,hash:sne,exists:lne,output:cne};Mi.default=Y6e,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=n,t.hexToBytes=a,t.hexToNumber=s,t.bytesToNumberBE=function(f){return s(n(f))},t.numberToBytesBE=function(f,h){return a(f.toString(16).padStart(2*h,"0"))},t.asyncLoop=async function(f,h,p){let y=Date.now();for(let m=0;m<f;m++){p(m);const v=Date.now()-y;v>=0&&v<h||(await(0,t.nextTick)(),y+=v)}},t.utf8ToBytes=l,t.bytesToUtf8=function(f){return new TextDecoder().decode(f)},t.toBytes=function(f){if(typeof f=="string")f=l(f);else{if(!(0,e.isBytes)(f))throw new Error("Uint8Array expected, got "+typeof f);f=u(f)}return f},t.concatBytes=function(...f){let h=0;for(let y=0;y<f.length;y++){const m=f[y];(0,e.bytes)(m),h+=m.length}const p=new Uint8Array(h);for(let y=0,m=0;y<f.length;y++){const v=f[y];p.set(v,m),m+=v.length}return p},t.checkOpts=function(f,h){if(h==null||typeof h!="object")throw new Error("options must be defined");return Object.assign(f,h)},t.equalBytes=function(f,h){if(f.length!==h.length)return!1;let p=0;for(let y=0;y<f.length;y++)p|=f[y]^h[y];return p===0},t.setBigUint64=c,t.u64Lengths=function(f,h){const p=new Uint8Array(16),y=(0,t.createView)(p);return c(y,0,BigInt(h?h.length:0),!0),c(y,8,BigInt(f.length),!0),p},t.isAligned32=function(f){return f.byteOffset%4==0},t.copyBytes=u,t.clean=function(...f){for(let h=0;h<f.length;h++)f[h].fill(0)};const e=Mi;if(t.u8=f=>new Uint8Array(f.buffer,f.byteOffset,f.byteLength),t.u16=f=>new Uint16Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/2)),t.u32=f=>new Uint32Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/4)),t.createView=f=>new DataView(f.buffer,f.byteOffset,f.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const r=Array.from({length:256},((f,h)=>h.toString(16).padStart(2,"0")));function n(f){(0,e.bytes)(f);let h="";for(let p=0;p<f.length;p++)h+=r[f[p]];return h}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(f){return f>=i._0&&f<=i._9?f-i._0:f>=i._A&&f<=i._F?f-(i._A-10):f>=i._a&&f<=i._f?f-(i._a-10):void 0}function a(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);const h=f.length,p=h/2;if(h%2)throw new Error("padded hex string expected, got unpadded hex of length "+h);const y=new Uint8Array(p);for(let m=0,v=0;m<p;m++,v+=2){const w=o(f.charCodeAt(v)),A=o(f.charCodeAt(v+1));if(w===void 0||A===void 0){const _=f[v]+f[v+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+v)}y[m]=16*w+A}return y}function s(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);return BigInt(f===""?"0":`0x${f}`)}function l(f){if(typeof f!="string")throw new Error("string expected, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))}t.nextTick=async()=>{},t.Hash=class{};function c(f,h,p,y){if(typeof f.setBigUint64=="function")return f.setBigUint64(h,p,y);const m=BigInt(32),v=BigInt(4294967295),w=Number(p>>m&v),A=Number(p&v),_=y?4:0,D=y?0:4;f.setUint32(h+_,w,y),f.setUint32(h+D,A,y)}function u(f){return Uint8Array.from(f)}t.wrapCipher=(f,h)=>(Object.assign(h,f),h)})(na);var hw={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.AEAD_TAG_LENGTH=Vn.XCHACHA20_NONCE_LENGTH=Vn.CURVE25519_PUBLIC_KEY_SIZE=Vn.ETH_PUBLIC_KEY_SIZE=Vn.UNCOMPRESSED_PUBLIC_KEY_SIZE=Vn.COMPRESSED_PUBLIC_KEY_SIZE=Vn.SECRET_KEY_LENGTH=void 0,Vn.SECRET_KEY_LENGTH=32,Vn.COMPRESSED_PUBLIC_KEY_SIZE=33,Vn.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Vn.ETH_PUBLIC_KEY_SIZE=64,Vn.CURVE25519_PUBLIC_KEY_SIZE=32,Vn.XCHACHA20_NONCE_LENGTH=24,Vn.AEAD_TAG_LENGTH=16,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Vn,r=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new r,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var n={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in n)return n[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}})(hw);var $T={},o3={},l_={},une={},l9={},Ox={};Object.defineProperty(Ox,"__esModule",{value:!0}),Ox.crypto=void 0,Ox.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(l){return(0,r.number)(l.nonceLength),(c,...u)=>({encrypt(f,...h){const{nonceLength:p}=l,y=i(p),m=l(c,y,...u).encrypt(f,...h),v=(0,n.concatBytes)(y,m);return m.fill(0),v},decrypt(f,...h){const{nonceLength:p}=l,y=f.subarray(0,p),m=f.subarray(p);return l(c,y,...u).decrypt(m,...h)}})};const e=Ox,r=Mi,n=na;function i(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(l,c,u,f){const h=o(),p=await h.importKey("raw",l,c,!0,["encrypt"]),y=await h.encrypt(u,p,f);return new Uint8Array(y)},async decrypt(l,c,u,f){const h=o(),p=await h.importKey("raw",l,c,!0,["decrypt"]),y=await h.decrypt(u,p,f);return new Uint8Array(y)}};const a={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s(l){return(c,u,f)=>{(0,r.bytes)(c),(0,r.bytes)(u);const h={name:l,length:8*c.length},p=(function(y,m,v){if(y===a.CBC)return{name:a.CBC,iv:m};if(y===a.CTR)return{name:a.CTR,counter:m,length:64};if(y===a.GCM)return v?{name:a.GCM,iv:m,additionalData:v}:{name:a.GCM,iv:m};throw new Error("unknown aes block mode")})(l,u,f);return{encrypt:y=>((0,r.bytes)(y),t.utils.encrypt(c,h,p,y)),decrypt:y=>((0,r.bytes)(y),t.utils.decrypt(c,h,p,y))}}}t.cbc=s(a.CBC),t.ctr=s(a.CTR),t.gcm=s(a.GCM)})(l9);var fne={},Xn={},hc={},Yo={};function a3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function dne(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function hne(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function c9(t,...e){if(!hne(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function pne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");a3(t.outputLen),a3(t.blockLen)}function gne(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mne(t,e){c9(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.isBytes=hne,Yo.number=a3,Yo.bool=dne,Yo.bytes=c9,Yo.hash=pne,Yo.exists=gne,Yo.output=mne;const J6e={number:a3,bool:dne,bytes:c9,hash:pne,exists:gne,output:mne};Yo.default=J6e;var Uc={},Ix={};Object.defineProperty(Ix,"__esModule",{value:!0}),Ix.crypto=void 0,Ix.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"},t.byteSwap32=function(c){for(let u=0;u<c.length;u++)c[u]=(0,t.byteSwap)(c[u])},t.bytesToHex=function(c){(0,r.bytes)(c);let u="";for(let f=0;f<c.length;f++)u+=n[c[f]];return u},t.hexToBytes=function(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);const u=c.length,f=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const h=new Uint8Array(f);for(let p=0,y=0;p<f;p++,y+=2){const m=o(c.charCodeAt(y)),v=o(c.charCodeAt(y+1));if(m===void 0||v===void 0){const w=c[y]+c[y+1];throw new Error('hex string expected, got non-hex character "'+w+'" at index '+y)}h[p]=16*m+v}return h},t.asyncLoop=async function(c,u,f){let h=Date.now();for(let p=0;p<c;p++){f(p);const y=Date.now()-h;y>=0&&y<u||(await(0,t.nextTick)(),h+=y)}},t.utf8ToBytes=a,t.toBytes=s,t.concatBytes=function(...c){let u=0;for(let h=0;h<c.length;h++){const p=c[h];(0,r.bytes)(p),u+=p.length}const f=new Uint8Array(u);for(let h=0,p=0;h<c.length;h++){const y=c[h];f.set(y,p),p+=y.length}return f},t.checkOpts=function(c,u){if(u!==void 0&&l.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(c,u)},t.wrapConstructor=function(c){const u=h=>c().update(s(h)).digest(),f=c();return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=()=>c(),u},t.wrapConstructorWithOpts=function(c){const u=(h,p)=>c(p).update(s(h)).digest(),f=c({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=h=>c(h),u},t.wrapXOFConstructorWithOpts=function(c){const u=(h,p)=>c(p).update(s(h)).digest(),f=c({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=h=>c(h),u},t.randomBytes=function(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")};const e=Ix,r=Yo;t.u8=c=>new Uint8Array(c.buffer,c.byteOffset,c.byteLength),t.u32=c=>new Uint32Array(c.buffer,c.byteOffset,Math.floor(c.byteLength/4)),t.createView=c=>new DataView(c.buffer,c.byteOffset,c.byteLength),t.rotr=(c,u)=>c<<32-u|c>>>u,t.rotl=(c,u)=>c<<u|c>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=c=>c<<24&4278190080|c<<8&16711680|c>>>8&65280|c>>>24&255,t.byteSwapIfBE=t.isLE?c=>c:c=>(0,t.byteSwap)(c);const n=Array.from({length:256},((c,u)=>u.toString(16).padStart(2,"0"))),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(c){return c>=i._0&&c<=i._9?c-i._0:c>=i._A&&c<=i._F?c-(i._A-10):c>=i._a&&c<=i._f?c-(i._a-10):void 0}function a(c){if(typeof c!="string")throw new Error("utf8ToBytes expected string, got "+typeof c);return new Uint8Array(new TextEncoder().encode(c))}function s(c){return typeof c=="string"&&(c=a(c)),(0,r.bytes)(c),c}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString})(Uc),Object.defineProperty(hc,"__esModule",{value:!0}),hc.HashMD=hc.Maj=hc.Chi=void 0;const FT=Yo,Ay=Uc;hc.Chi=(t,e,r)=>t&e^~t&r;hc.Maj=(t,e,r)=>t&e^t&r^e&r;hc.HashMD=class extends Ay.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ay.createView)(this.buffer)}update(t){(0,FT.exists)(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=(0,Ay.toBytes)(t)).length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);if(a!==n)r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(e,0),this.pos=0);else{const s=(0,Ay.createView)(t);for(;n<=i-o;o+=n)this.process(s,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,FT.exists)(this),(0,FT.output)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)e[u]=0;(function(u,f,h,p){if(typeof u.setBigUint64=="function")return u.setBigUint64(f,h,p);const y=BigInt(32),m=BigInt(4294967295),v=Number(h>>y&m),w=Number(h&m),A=p?4:0,_=p?0:4;u.setUint32(f+A,v,p),u.setUint32(f+_,w,p)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);const a=(0,Ay.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return t.length=n,t.pos=a,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}};var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.add5L=Kt.add5H=Kt.add4H=Kt.add4L=Kt.add3H=Kt.add3L=Kt.rotlBL=Kt.rotlBH=Kt.rotlSL=Kt.rotlSH=Kt.rotr32L=Kt.rotr32H=Kt.rotrBL=Kt.rotrBH=Kt.rotrSL=Kt.rotrSH=Kt.shrSL=Kt.shrSH=Kt.toBig=void 0,Kt.fromBig=u9,Kt.split=yne,Kt.add=Tne;const Px=BigInt(2**32-1),F8=BigInt(32);function u9(t,e=!1){return e?{h:Number(t&Px),l:Number(t>>F8&Px)}:{h:0|Number(t>>F8&Px),l:0|Number(t&Px)}}function yne(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=u9(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}const vne=(t,e)=>BigInt(t>>>0)<<F8|BigInt(e>>>0);Kt.toBig=vne;const wne=(t,e,r)=>t>>>r;Kt.shrSH=wne;const bne=(t,e,r)=>t<<32-r|e>>>r;Kt.shrSL=bne;const xne=(t,e,r)=>t>>>r|e<<32-r;Kt.rotrSH=xne;const Ene=(t,e,r)=>t<<32-r|e>>>r;Kt.rotrSL=Ene;const Sne=(t,e,r)=>t<<64-r|e>>>r-32;Kt.rotrBH=Sne;const _ne=(t,e,r)=>t>>>r-32|e<<64-r;Kt.rotrBL=_ne;const Ane=(t,e)=>e;Kt.rotr32H=Ane;const Cne=(t,e)=>t;Kt.rotr32L=Cne;const One=(t,e,r)=>t<<r|e>>>32-r;Kt.rotlSH=One;const Ine=(t,e,r)=>e<<r|t>>>32-r;Kt.rotlSL=Ine;const Pne=(t,e,r)=>e<<r-32|t>>>64-r;Kt.rotlBH=Pne;const kne=(t,e,r)=>t<<r-32|e>>>64-r;function Tne(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}Kt.rotlBL=kne;const Mne=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);Kt.add3L=Mne;const Nne=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;Kt.add3H=Nne;const Rne=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);Kt.add4L=Rne;const Lne=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;Kt.add4H=Lne;const Dne=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Kt.add5L=Dne;const Bne=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;Kt.add5H=Bne;const Q6e={fromBig:u9,split:yne,toBig:vne,shrSH:wne,shrSL:bne,rotrSH:xne,rotrSL:Ene,rotrBH:Sne,rotrBL:_ne,rotr32H:Ane,rotr32L:Cne,rotlSH:One,rotlSL:Ine,rotlBH:Pne,rotlBL:kne,add:Tne,add3L:Mne,add3H:Nne,add4L:Rne,add4H:Lne,add5H:Bne,add5L:Dne};Kt.default=Q6e,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.sha384=Xn.sha512_256=Xn.sha512_224=Xn.sha512=Xn.SHA384=Xn.SHA512_256=Xn.SHA512_224=Xn.SHA512=void 0;const X6e=hc,Zt=Kt,kx=Uc,[Z6e,e5e]=Zt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),du=new Uint32Array(80),hu=new Uint32Array(80);class yb extends X6e.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:p,Gl:y,Hh:m,Hl:v}=this;return[e,r,n,i,o,a,s,l,c,u,f,h,p,y,m,v]}set(e,r,n,i,o,a,s,l,c,u,f,h,p,y,m,v){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|o,this.Cl=0|a,this.Dh=0|s,this.Dl=0|l,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|h,this.Gh=0|p,this.Gl=0|y,this.Hh=0|m,this.Hl=0|v}process(e,r){for(let _=0;_<16;_++,r+=4)du[_]=e.getUint32(r),hu[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const D=0|du[_-15],P=0|hu[_-15],U=Zt.default.rotrSH(D,P,1)^Zt.default.rotrSH(D,P,8)^Zt.default.shrSH(D,P,7),F=Zt.default.rotrSL(D,P,1)^Zt.default.rotrSL(D,P,8)^Zt.default.shrSL(D,P,7),N=0|du[_-2],L=0|hu[_-2],B=Zt.default.rotrSH(N,L,19)^Zt.default.rotrBH(N,L,61)^Zt.default.shrSH(N,L,6),R=Zt.default.rotrSL(N,L,19)^Zt.default.rotrBL(N,L,61)^Zt.default.shrSL(N,L,6),b=Zt.default.add4L(F,R,hu[_-7],hu[_-16]),x=Zt.default.add4H(b,U,B,du[_-7],du[_-16]);du[_]=0|x,hu[_]=0|b}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:p,Fl:y,Gh:m,Gl:v,Hh:w,Hl:A}=this;for(let _=0;_<80;_++){const D=Zt.default.rotrSH(f,h,14)^Zt.default.rotrSH(f,h,18)^Zt.default.rotrBH(f,h,41),P=Zt.default.rotrSL(f,h,14)^Zt.default.rotrSL(f,h,18)^Zt.default.rotrBL(f,h,41),U=f&p^~f&m,F=h&y^~h&v,N=Zt.default.add5L(A,P,F,e5e[_],hu[_]),L=Zt.default.add5H(N,w,D,U,Z6e[_],du[_]),B=0|N,R=Zt.default.rotrSH(n,i,28)^Zt.default.rotrBH(n,i,34)^Zt.default.rotrBH(n,i,39),b=Zt.default.rotrSL(n,i,28)^Zt.default.rotrBL(n,i,34)^Zt.default.rotrBL(n,i,39),x=n&o^n&s^o&s,I=i&a^i&l^a&l;w=0|m,A=0|v,m=0|p,v=0|y,p=0|f,y=0|h,{h:f,l:h}=Zt.default.add(0|c,0|u,0|L,0|B),c=0|s,u=0|l,s=0|o,l=0|a,o=0|n,a=0|i;const C=Zt.default.add3L(B,b,I);n=Zt.default.add3H(C,L,R,x),i=0|C}({h:n,l:i}=Zt.default.add(0|this.Ah,0|this.Al,0|n,0|i)),{h:o,l:a}=Zt.default.add(0|this.Bh,0|this.Bl,0|o,0|a),{h:s,l}=Zt.default.add(0|this.Ch,0|this.Cl,0|s,0|l),{h:c,l:u}=Zt.default.add(0|this.Dh,0|this.Dl,0|c,0|u),{h:f,l:h}=Zt.default.add(0|this.Eh,0|this.El,0|f,0|h),{h:p,l:y}=Zt.default.add(0|this.Fh,0|this.Fl,0|p,0|y),{h:m,l:v}=Zt.default.add(0|this.Gh,0|this.Gl,0|m,0|v),{h:w,l:A}=Zt.default.add(0|this.Hh,0|this.Hl,0|w,0|A),this.set(n,i,o,a,s,l,c,u,f,h,p,y,m,v,w,A)}roundClean(){du.fill(0),hu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Xn.SHA512=yb;class jne extends yb{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Xn.SHA512_224=jne;class $ne extends yb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Xn.SHA512_256=$ne;class wV extends yb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Xn.SHA384=wV,Xn.sha512=(0,kx.wrapConstructor)((()=>new yb)),Xn.sha512_224=(0,kx.wrapConstructor)((()=>new jne)),Xn.sha512_256=(0,kx.wrapConstructor)((()=>new $ne)),Xn.sha384=(0,kx.wrapConstructor)((()=>new wV));var U8={},o0={},Mr={},ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.notImplemented=ir.bitMask=void 0,ir.isBytes=s3,ir.abytes=l3,ir.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},ir.bytesToHex=UT,ir.numberToHexUnpadded=bV,ir.hexToNumber=HT,ir.hexToBytes=w2,ir.bytesToNumberBE=function(t){return HT(UT(t))},ir.bytesToNumberLE=function(t){return l3(t),HT(UT(Uint8Array.from(t).reverse()))},ir.numberToBytesBE=EV,ir.numberToBytesLE=function(t,e){return EV(t,e).reverse()},ir.numberToVarBytesBE=function(t){return w2(bV(t))},ir.ensureBytes=function(t,e,r){let n;if(typeof e=="string")try{n=w2(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!s3(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n},ir.concatBytes=SV,ir.equalBytes=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0},ir.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},ir.inRange=_V,ir.aInRange=function(t,e,r,n){if(!_V(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)},ir.bitLen=function(t){let e;for(e=0;t>H8;t>>=v2,e+=1);return e},ir.bitGet=function(t,e){return t>>BigInt(e)&v2},ir.bitSet=function(t,e,r){return t|(r?v2:H8)<<BigInt(e)},ir.createHmacDrbg=function(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zT(t),i=zT(t),o=0;const a=()=>{n.fill(1),i.fill(0),o=0},s=(...u)=>r(i,n,...u),l=(u=zT())=>{i=s(AV([0]),u),n=s(),u.length!==0&&(i=s(AV([1]),u),n=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const f=[];for(;u<e;){n=s();const h=n.slice();f.push(h),u+=n.length}return SV(...f)};return(u,f)=>{let h;for(a(),l(u);!(h=f(c()));)l();return a(),h}},ir.validateObject=function(t,e,r={}){const n=(i,o,a)=>{const s=n5e[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(a&&l===void 0||s(l,t)))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return t},ir.memoized=function(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const o=t(r,...n);return e.set(r,o),o}};const H8=BigInt(0),v2=BigInt(1),t5e=BigInt(2);function s3(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function l3(t){if(!s3(t))throw new Error("Uint8Array expected")}const r5e=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function UT(t){l3(t);let e="";for(let r=0;r<t.length;r++)e+=r5e[t[r]];return e}function bV(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function HT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Rl={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function xV(t){return t>=Rl._0&&t<=Rl._9?t-Rl._0:t>=Rl._A&&t<=Rl._F?t-(Rl._A-10):t>=Rl._a&&t<=Rl._f?t-(Rl._a-10):void 0}function w2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=xV(t.charCodeAt(o)),s=xV(t.charCodeAt(o+1));if(a===void 0||s===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=16*a+s}return n}function EV(t,e){return w2(t.toString(16).padStart(2*e,"0"))}function SV(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];l3(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const o=t[n];r.set(o,i),i+=o.length}return r}const qT=t=>typeof t=="bigint"&&H8<=t;function _V(t,e,r){return qT(t)&&qT(e)&&qT(r)&&e<=t&&t<r}ir.bitMask=t=>(t5e<<BigInt(t-1))-v2;const zT=t=>new Uint8Array(t),AV=t=>Uint8Array.from(t),n5e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||s3(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};ir.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.isNegativeLE=void 0,Mr.mod=Uo,Mr.pow=Fne,Mr.pow2=function(t,e,r){let n=t;for(;e-- >ei;)n*=n,n%=r;return n},Mr.invert=Tx,Mr.tonelliShanks=Une,Mr.FpSqrt=IV,Mr.validateField=function(t){const e=o5e.reduce(((r,n)=>(r[n]="function",r)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Bo.validateObject)(t,e)},Mr.FpPow=PV,Mr.FpInvertBatch=kV,Mr.FpDiv=function(t,e,r){return t.mul(e,typeof r=="bigint"?Tx(r,t.ORDER):t.inv(r))},Mr.FpLegendre=TV,Mr.FpIsSquare=function(t){const e=TV(t.ORDER);return r=>{const n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}},Mr.nLength=WT,Mr.Field=function(t,e,r=!1,n={}){if(t<=ei)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=WT(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=IV(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,Bo.bitMask)(i),ZERO:ei,ONE:Jr,create:l=>Uo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof l);return ei<=l&&l<t},is0:l=>l===ei,isOdd:l=>(l&Jr)===Jr,neg:l=>Uo(-l,t),eql:(l,c)=>l===c,sqr:l=>Uo(l*l,t),add:(l,c)=>Uo(l+c,t),sub:(l,c)=>Uo(l-c,t),mul:(l,c)=>Uo(l*c,t),pow:(l,c)=>PV(s,l,c),div:(l,c)=>Uo(l*Tx(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Tx(l,t),sqrt:n.sqrt||(l=>a(s,l)),invertBatch:l=>kV(s,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?(0,Bo.numberToBytesLE)(l,o):(0,Bo.numberToBytesBE)(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?(0,Bo.bytesToNumberLE)(l):(0,Bo.bytesToNumberBE)(l)}});return Object.freeze(s)},Mr.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)},Mr.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r},Mr.hashToPrivateScalar=function(t,e,r=!1){t=(0,Bo.ensureBytes)("privateHash",t);const n=t.length,i=WT(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?(0,Bo.bytesToNumberLE)(t):(0,Bo.bytesToNumberBE)(t);return Uo(o,e-Jr)+Jr},Mr.getFieldBytesLength=z8,Mr.getMinHashLength=MV,Mr.mapHashToField=function(t,e,r=!1){const n=t.length,i=z8(e),o=MV(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const a=Uo(r?(0,Bo.bytesToNumberBE)(t):(0,Bo.bytesToNumberLE)(t),e-Jr)+Jr;return r?(0,Bo.numberToBytesLE)(a,i):(0,Bo.numberToBytesBE)(a,i)};const Bo=ir,ei=BigInt(0),Jr=BigInt(1),Ku=BigInt(2),i5e=BigInt(3),q8=BigInt(4),CV=BigInt(5),OV=BigInt(8);function Uo(t,e){const r=t%e;return r>=ei?r:e+r}function Fne(t,e,r){if(r<=ei||e<ei)throw new Error("Expected power/modulo > 0");if(r===Jr)return ei;let n=Jr;for(;e>ei;)e&Jr&&(n=n*t%r),t=t*t%r,e>>=Jr;return n}function Tx(t,e){if(t===ei||e<=ei)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Uo(t,e),n=e,i=ei,o=Jr;for(;r!==ei;){const a=n%r,s=i-o*(n/r);n=r,r=a,i=o,o=s}if(n!==Jr)throw new Error("invert: does not exist");return Uo(i,e)}function Une(t){const e=(t-Jr)/Ku;let r,n,i;for(r=t-Jr,n=0;r%Ku===ei;r/=Ku,n++);for(i=Ku;i<t&&Fne(i,e,t)!==t-Jr;i++);if(n===1){const a=(t+Jr)/q8;return function(s,l){const c=s.pow(l,a);if(!s.eql(s.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(r+Jr)/Ku;return function(a,s){if(a.pow(s,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,c=a.pow(a.mul(a.ONE,i),r),u=a.pow(s,o),f=a.pow(s,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(f);h<l&&!a.eql(y,a.ONE);h++)y=a.sqr(y);const p=a.pow(c,Jr<<BigInt(l-h-1));c=a.sqr(p),u=a.mul(u,p),f=a.mul(f,c),l=h}return u}}function IV(t){if(t%q8===i5e){const e=(t+Jr)/q8;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%OV===CV){const e=(t-CV)/OV;return function(r,n){const i=r.mul(n,Ku),o=r.pow(i,e),a=r.mul(n,o),s=r.mul(r.mul(a,Ku),o),l=r.mul(a,r.sub(s,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return Une(t)}BigInt(9),BigInt(16);Mr.isNegativeLE=(t,e)=>(Uo(t,e)&Jr)===Jr;const o5e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function PV(t,e,r){if(r<ei)throw new Error("Expected power > 0");if(r===ei)return t.ONE;if(r===Jr)return e;let n=t.ONE,i=e;for(;r>ei;)r&Jr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Jr;return n}function kV(t,e){const r=new Array(e.length),n=e.reduce(((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a))),t.ONE),i=t.inv(n);return e.reduceRight(((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a))),i),r}function TV(t){const e=(t-Jr)/Ku;return(r,n)=>r.pow(n,e)}function WT(t,e){const r=e!==void 0?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function z8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function MV(t){const e=z8(t);return e+Math.ceil(e/2)}Object.defineProperty(o0,"__esModule",{value:!0}),o0.wNAF=function(t,e){const r=(o,a)=>{const s=a.negate();return o?s:a},n=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(n(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:r,unsafeLadder(o,a){let s=t.ZERO,l=o;for(;a>a5e;)a&KT&&(s=s.add(l)),l=l.double(),a>>=KT;return s},precomputeWindow(o,a){const{windows:s,windowSize:l}=i(a),c=[];let u=o,f=u;for(let h=0;h<s;h++){f=u,c.push(f);for(let p=1;p<l;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(o,a,s){const{windows:l,windowSize:c}=i(o);let u=t.ZERO,f=t.BASE;const h=BigInt(2**o-1),p=2**o,y=BigInt(o);for(let m=0;m<l;m++){const v=m*c;let w=Number(s&h);s>>=y,w>c&&(w-=p,s+=KT);const A=v,_=v+Math.abs(w)-1,D=m%2!=0,P=w<0;w===0?f=f.add(r(D,a[A])):u=u.add(r(P,a[_]))}return{p:u,f}},wNAFCached(o,a,s){const l=LV.get(o)||1;let c=VT.get(o);return c||(c=this.precomputeWindow(o,l),l!==1&&VT.set(o,s(c))),this.wNAF(l,c,a)},setWindowSize(o,a){n(a),LV.set(o,a),VT.delete(o)}}},o0.pippenger=function(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach(((u,f)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${f}`)})),r.forEach(((u,f)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${f}`)}));const i=(0,RV.bitLen)(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,s=new Array(a+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/o)*o;let c=t.ZERO;for(let u=l;u>=0;u-=o){s.fill(t.ZERO);for(let h=0;h<n.length;h++){const p=n[h],y=Number(p>>BigInt(u)&BigInt(a));s[y]=s[y].add(r[h])}let f=t.ZERO;for(let h=s.length-1,p=t.ZERO;h>0;h--)p=p.add(s[h]),f=f.add(p);if(c=c.add(f),u!==0)for(let h=0;h<o;h++)c=c.double()}return c},o0.validateBasic=function(t){return(0,NV.validateField)(t.Fp),(0,RV.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,NV.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const NV=Mr,RV=ir,a5e=BigInt(0),KT=BigInt(1),VT=new WeakMap,LV=new WeakMap;Object.defineProperty(U8,"__esModule",{value:!0}),U8.twistedEdwards=function(t){const e=(function(x){const I=(0,GT.validateBasic)(x);return ho.validateObject(x,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...I})})(t),{Fp:r,n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:l}=e,c=Mx<<BigInt(8*s)-po,u=r.create,f=(0,DV.Field)(e.n,e.nBitLength),h=e.uvRatio||((x,I)=>{try{return{isValid:!0,value:r.sqrt(x*r.inv(I))}}catch{return{isValid:!1,value:Za}}}),p=e.adjustScalarBytes||(x=>x),y=e.domain||((x,I,C)=>{if((0,jo.abool)("phflag",C),I.length||C)throw new Error("Contexts/pre-hash are not supported");return x});function m(x,I){ho.aInRange("coordinate "+x,I,Za,c)}function v(x){if(!(x instanceof _))throw new Error("ExtendedPoint expected")}const w=(0,jo.memoized)(((x,I)=>{const{ex:C,ey:T,ez:j}=x,O=x.is0();I==null&&(I=O?s5e:r.inv(j));const k=u(C*I),E=u(T*I),M=u(j*I);if(O)return{x:Za,y:po};if(M!==po)throw new Error("invZ was invalid");return{x:k,y:E}})),A=(0,jo.memoized)((x=>{const{a:I,d:C}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:T,ey:j,ez:O,et:k}=x,E=u(T*T),M=u(j*j),H=u(O*O),q=u(H*H),W=u(E*I);if(u(H*u(W+M))!==u(q+u(C*u(E*M))))throw new Error("bad point: equation left != right (1)");if(u(T*j)!==u(O*k))throw new Error("bad point: equation left != right (2)");return!0}));class _{constructor(I,C,T,j){this.ex=I,this.ey=C,this.ez=T,this.et=j,m("x",I),m("y",C),m("z",T),m("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof _)throw new Error("extended point not allowed");const{x:C,y:T}=I||{};return m("x",C),m("y",T),new _(C,T,po,u(C*T))}static normalizeZ(I){const C=r.invertBatch(I.map((T=>T.ez)));return I.map(((T,j)=>T.toAffine(C[j]))).map(_.fromAffine)}static msm(I,C){return(0,GT.pippenger)(_,f,I,C)}_setWindowSize(I){U.setWindowSize(this,I)}assertValidity(){A(this)}equals(I){v(I);const{ex:C,ey:T,ez:j}=this,{ex:O,ey:k,ez:E}=I,M=u(C*E),H=u(O*j),q=u(T*E),W=u(k*j);return M===H&&q===W}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:I}=e,{ex:C,ey:T,ez:j}=this,O=u(C*C),k=u(T*T),E=u(Mx*u(j*j)),M=u(I*O),H=C+T,q=u(u(H*H)-O-k),W=M+k,V=W-E,Q=M-k,te=u(q*V),X=u(W*Q),Z=u(q*Q),ae=u(V*W);return new _(te,X,ae,Z)}add(I){v(I);const{a:C,d:T}=e,{ex:j,ey:O,ez:k,et:E}=this,{ex:M,ey:H,ez:q,et:W}=I;if(C===BigInt(-1)){const xe=u((O-j)*(H+M)),Se=u((O+j)*(H-M)),ce=u(Se-xe);if(ce===Za)return this.double();const Oe=u(k*Mx*W),ke=u(E*Mx*q),ve=ke+Oe,We=Se+xe,Ze=ke-Oe,Ye=u(ve*ce),jt=u(We*Ze),re=u(ve*Ze),K=u(ce*We);return new _(Ye,jt,K,re)}const V=u(j*M),Q=u(O*H),te=u(E*T*W),X=u(k*q),Z=u((j+O)*(M+H)-V-Q),ae=X-te,he=X+te,se=u(Q-C*V),ne=u(Z*ae),oe=u(he*se),fe=u(Z*se),pe=u(ae*he);return new _(ne,oe,pe,fe)}subtract(I){return this.add(I.negate())}wNAF(I){return U.wNAFCached(this,I,_.normalizeZ)}multiply(I){const C=I;ho.aInRange("scalar",C,po,n);const{p:T,f:j}=this.wNAF(C);return _.normalizeZ([T,j])[0]}multiplyUnsafe(I){const C=I;return ho.aInRange("scalar",C,Za,n),C===Za?P:this.equals(P)||C===po?this:this.equals(D)?this.wNAF(C).p:U.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(I){return w(this,I)}clearCofactor(){const{h:I}=e;return I===po?this:this.multiplyUnsafe(I)}static fromHex(I,C=!1){const{d:T,a:j}=e,O=r.BYTES;I=(0,jo.ensureBytes)("pointHex",I,O),(0,jo.abool)("zip215",C);const k=I.slice(),E=I[O-1];k[O-1]=-129&E;const M=ho.bytesToNumberLE(k),H=C?c:r.ORDER;ho.aInRange("pointHex.y",M,Za,H);const q=u(M*M),W=u(q-po),V=u(T*q-j);let{isValid:Q,value:te}=h(W,V);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const X=(te&po)===po,Z=(128&E)!=0;if(!C&&te===Za&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==X&&(te=u(-te)),_.fromAffine({x:te,y:M})}static fromPrivateKey(I){return L(I).point}toRawBytes(){const{x:I,y:C}=this.toAffine(),T=ho.numberToBytesLE(C,r.BYTES);return T[T.length-1]|=I&po?128:0,T}toHex(){return ho.bytesToHex(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,po,u(e.Gx*e.Gy)),_.ZERO=new _(Za,po,po,Za);const{BASE:D,ZERO:P}=_,U=(0,GT.wNAF)(_,8*s);function F(x){return(0,DV.mod)(x,n)}function N(x){return F(ho.bytesToNumberLE(x))}function L(x){const I=s;x=(0,jo.ensureBytes)("private key",x,I);const C=(0,jo.ensureBytes)("hashed private key",o(x),2*I),T=p(C.slice(0,I)),j=C.slice(I,2*I),O=N(T),k=D.multiply(O),E=k.toRawBytes();return{head:T,prefix:j,scalar:O,point:k,pointBytes:E}}function B(x=new Uint8Array,...I){const C=ho.concatBytes(...I);return N(o(y(C,(0,jo.ensureBytes)("context",x),!!i)))}const R=l5e;return D._setWindowSize(8),{CURVE:e,getPublicKey:function(x){return L(x).pointBytes},sign:function(x,I,C={}){x=(0,jo.ensureBytes)("message",x),i&&(x=i(x));const{prefix:T,scalar:j,pointBytes:O}=L(I),k=B(C.context,T,x),E=D.multiply(k).toRawBytes(),M=F(k+B(C.context,E,O,x)*j);ho.aInRange("signature.s",M,Za,n);const H=ho.concatBytes(E,ho.numberToBytesLE(M,r.BYTES));return(0,jo.ensureBytes)("result",H,2*s)},verify:function(x,I,C,T=R){const{context:j,zip215:O}=T,k=r.BYTES;x=(0,jo.ensureBytes)("signature",x,2*k),I=(0,jo.ensureBytes)("message",I),O!==void 0&&(0,jo.abool)("zip215",O),i&&(I=i(I));const E=ho.bytesToNumberLE(x.slice(k,2*k));let M,H,q;try{M=_.fromHex(C,O),H=_.fromHex(x.slice(0,k),O),q=D.multiplyUnsafe(E)}catch{return!1}if(!O&&M.isSmallOrder())return!1;const W=B(j,H.toRawBytes(),M.toRawBytes(),I);return H.add(M.multiplyUnsafe(W)).subtract(q).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>a(r.BYTES),precompute:(x=8,I=_.BASE)=>(I._setWindowSize(x),I.multiply(BigInt(3)),I)}}};const GT=o0,DV=Mr,ho=ir,jo=ir,Za=BigInt(0),po=BigInt(1),Mx=BigInt(2),s5e=BigInt(8),l5e={zip215:!0};var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.expand_message_xmd=Hne,Lu.expand_message_xof=qne,Lu.hash_to_field=YT,Lu.isogenyMap=function(t,e){const r=e.map((n=>Array.from(n).reverse()));return(n,i)=>{const[o,a,s,l]=r.map((c=>c.reduce(((u,f)=>t.add(t.mul(u,n),f)))));return n=t.div(o,a),i=t.mul(i,t.div(s,l)),{x:n,y:i}}},Lu.createHasher=function(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=YT(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(o[0])),s=t.fromAffine(e(o[1])),l=a.add(s).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){const o=YT(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}};const c5e=Mr,Ti=ir,u5e=Ti.bytesToNumberBE;function Du(t,e){if(pw(t),pw(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function f5e(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function pw(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Hne(t,e,r,n){(0,Ti.abytes)(t),(0,Ti.abytes)(e),pw(r),e.length>255&&(e=n((0,Ti.concatBytes)((0,Ti.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const s=(0,Ti.concatBytes)(e,Du(e.length,1)),l=Du(0,o),c=Du(r,2),u=new Array(a),f=n((0,Ti.concatBytes)(l,t,c,Du(0,1),s));u[0]=n((0,Ti.concatBytes)(f,Du(1,1),s));for(let h=1;h<=a;h++){const p=[f5e(f,u[h-1]),Du(h+1,1),s];u[h]=n((0,Ti.concatBytes)(...p))}return(0,Ti.concatBytes)(...u).slice(0,r)}function qne(t,e,r,n,i){if((0,Ti.abytes)(t),(0,Ti.abytes)(e),pw(r),e.length>255){const o=Math.ceil(2*n/8);e=i.create({dkLen:o}).update((0,Ti.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Du(r,2)).update(e).update(Du(e.length,1)).digest()}function YT(t,e,r){(0,Ti.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:a,expand:s,DST:l}=r;(0,Ti.abytes)(t),pw(e);const c=typeof l=="string"?(0,Ti.utf8ToBytes)(l):l,u=n.toString(2).length,f=Math.ceil((u+i)/8),h=e*o*f;let p;if(s==="xmd")p=Hne(t,c,h,a);else if(s==="xof")p=qne(t,c,h,i,a);else{if(s!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');p=t}const y=new Array(e);for(let m=0;m<e;m++){const v=new Array(o);for(let w=0;w<o;w++){const A=f*(w+m*o),_=p.subarray(A,A+f);v[w]=(0,c5e.mod)(u5e(_),n)}y[m]=v}return y}var W8={};Object.defineProperty(W8,"__esModule",{value:!0}),W8.montgomery=function(t){const e=(function(m){return(0,pu.validateObject)(m,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...m})})(t),{P:r}=e,n=m=>(0,BV.mod)(m,r),i=e.montgomeryBits,o=Math.ceil(i/8),a=e.nByteLength,s=e.adjustScalarBytes||(m=>m),l=e.powPminus2||(m=>(0,BV.pow)(m,r-BigInt(2),r));function c(m,v,w){const A=n(m*(v-w));return[v=n(v-A),w=n(w+A)]}const u=(e.a-BigInt(2))/BigInt(4);function f(m){return(0,pu.numberToBytesLE)(n(m),o)}function h(m,v){const w=(function(D){const P=(0,pu.ensureBytes)("u coordinate",D,o);return a===32&&(P[31]&=127),(0,pu.bytesToNumberLE)(P)})(v),A=(function(D){const P=(0,pu.ensureBytes)("scalar",D),U=P.length;if(U!==o&&U!==a)throw new Error(`Expected ${o} or ${a} bytes, got ${U}`);return(0,pu.bytesToNumberLE)(s(P))})(m),_=(function(D,P){(0,pu.aInRange)("u",D,$p,r),(0,pu.aInRange)("scalar",P,$p,r);const U=P,F=D;let N,L=JT,B=$p,R=D,b=JT,x=$p;for(let C=BigInt(i-1);C>=$p;C--){const T=U>>C&JT;x^=T,N=c(x,L,R),L=N[0],R=N[1],N=c(x,B,b),B=N[0],b=N[1],x=T;const j=L+B,O=n(j*j),k=L-B,E=n(k*k),M=O-E,H=R+b,q=n((R-b)*j),W=n(H*k),V=q+W,Q=q-W;R=n(V*V),b=n(F*n(Q*Q)),L=n(O*E),B=n(M*(O+n(u*M)))}N=c(x,L,R),L=N[0],R=N[1],N=c(x,B,b),B=N[0],b=N[1];const I=l(B);return n(L*I)})(w,A);if(_===$p)throw new Error("Invalid private or public key received");return f(_)}const p=f(e.Gu);function y(m){return h(m,p)}return{scalarMult:h,scalarMultBase:y,getSharedSecret:(m,v)=>h(m,v),getPublicKey:m=>y(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:p}};const BV=Mr,pu=ir,$p=BigInt(0),JT=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=U,t.edwardsToMontgomeryPriv=function(W){const V=D.hash(W.subarray(0,32));return D.adjustScalarBytes(V).subarray(0,32)};const e=Xn,r=Uc,n=U8,i=Lu,o=Mr,a=W8,s=ir,l=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),f=BigInt(1),h=BigInt(2),p=BigInt(3),y=BigInt(5),m=BigInt(8);function v(W){const V=BigInt(10),Q=BigInt(20),te=BigInt(40),X=BigInt(80),Z=l,ae=W*W%Z*W%Z,he=(0,o.pow2)(ae,h,Z)*ae%Z,se=(0,o.pow2)(he,f,Z)*W%Z,ne=(0,o.pow2)(se,y,Z)*se%Z,oe=(0,o.pow2)(ne,V,Z)*ne%Z,fe=(0,o.pow2)(oe,Q,Z)*oe%Z,pe=(0,o.pow2)(fe,te,Z)*fe%Z,xe=(0,o.pow2)(pe,X,Z)*pe%Z,Se=(0,o.pow2)(xe,X,Z)*pe%Z,ce=(0,o.pow2)(Se,V,Z)*ne%Z;return{pow_p_5_8:(0,o.pow2)(ce,h,Z)*W%Z,b2:ae}}function w(W){return W[0]&=248,W[31]&=127,W[31]|=64,W}function A(W,V){const Q=l,te=(0,o.mod)(V*V*V,Q),X=v(W*(0,o.mod)(te*te*V,Q)).pow_p_5_8;let Z=(0,o.mod)(W*te*X,Q);const ae=(0,o.mod)(V*Z*Z,Q),he=Z,se=(0,o.mod)(Z*c,Q),ne=ae===W,oe=ae===(0,o.mod)(-W,Q),fe=ae===(0,o.mod)(-W*c,Q);return ne&&(Z=he),(oe||fe)&&(Z=se),(0,o.isNegativeLE)(Z,Q)&&(Z=(0,o.mod)(-Z,Q)),{isValid:ne||oe,value:Z}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const _=(0,o.Field)(l,void 0,!0),D={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:m,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:r.randomBytes,adjustScalarBytes:w,uvRatio:A};function P(W,V,Q){if(V.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Q?1:0,V.length]),V,W)}function U(W){const{y:V}=t.ed25519.ExtendedPoint.fromHex(W),Q=BigInt(1);return _.toBytes(_.create((Q+V)*_.inv(Q-V)))}t.ed25519=(0,n.twistedEdwards)(D),t.ed25519ctx=(0,n.twistedEdwards)({...D,domain:P}),t.ed25519ph=(0,n.twistedEdwards)(Object.assign({},D,{domain:P,prehash:e.sha512})),t.x25519=(0,a.montgomery)({P:l,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:W=>{const V=l,{pow_p_5_8:Q,b2:te}=v(W);return(0,o.mod)((0,o.pow2)(Q,p,V)*te,V)},adjustScalarBytes:w,randomBytes:r.randomBytes}),t.edwardsToMontgomery=U;const F=(_.ORDER+p)/m,N=_.pow(h,F),L=_.sqrt(_.neg(_.ONE)),B=(0,o.FpSqrtEven)(_,_.neg(BigInt(486664)));function R(W){const{xMn:V,xMd:Q,yMn:te,yMd:X}=(function(pe){const xe=(_.ORDER-y)/m,Se=BigInt(486662);let ce=_.sqr(pe);ce=_.mul(ce,h);let Oe=_.add(ce,_.ONE),ke=_.neg(Se),ve=_.sqr(Oe),We=_.mul(ve,Oe),Ze=_.mul(ce,Se);Ze=_.mul(Ze,ke),Ze=_.add(Ze,ve),Ze=_.mul(Ze,ke);let Ye=_.sqr(We);ve=_.sqr(Ye),Ye=_.mul(Ye,We),Ye=_.mul(Ye,Ze),ve=_.mul(ve,Ye);let jt=_.pow(ve,xe);jt=_.mul(jt,Ye);let re=_.mul(jt,L);ve=_.sqr(jt),ve=_.mul(ve,We);let K=_.eql(ve,Ze),J=_.cmov(re,jt,K),ue=_.mul(ke,ce),we=_.mul(jt,pe);we=_.mul(we,N);let Le=_.mul(we,L),Ce=_.mul(Ze,ce);ve=_.sqr(we),ve=_.mul(ve,We);let tt=_.eql(ve,Ce),Ot=_.cmov(Le,we,tt);ve=_.sqr(J),ve=_.mul(ve,We);let ft=_.eql(ve,Ze),ct=_.cmov(ue,ke,ft),It=_.cmov(Ot,J,ft),$t=_.isOdd(It);return It=_.cmov(It,_.neg(It),ft!==$t),{xMn:ct,xMd:Oe,yMn:It,yMd:f}})(W);let Z=_.mul(V,X);Z=_.mul(Z,B);let ae=_.mul(Q,te),he=_.sub(V,Q),se=_.add(V,Q),ne=_.mul(ae,se),oe=_.eql(ne,_.ZERO);Z=_.cmov(Z,_.ZERO,oe),ae=_.cmov(ae,_.ONE,oe),he=_.cmov(he,_.ONE,oe),se=_.cmov(se,_.ONE,oe);const fe=_.invertBatch([ae,se]);return{x:_.mul(Z,fe[0]),y:_.mul(he,fe[1])}}const b=(0,i.createHasher)(t.ed25519.ExtendedPoint,(W=>R(W[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:_.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function x(W){if(!(W instanceof q))throw new Error("RistrettoPoint expected")}t.hashToCurve=b.hashToCurve,t.encodeToCurve=b.encodeToCurve;const I=c,C=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),T=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),j=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),k=W=>A(f,W),E=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),M=W=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(W)&E);function H(W){const{d:V}=t.ed25519.CURVE,Q=t.ed25519.CURVE.Fp.ORDER,te=t.ed25519.CURVE.Fp.create,X=te(I*W*W),Z=te((X+f)*j);let ae=BigInt(-1);const he=te((ae-V*X)*te(X+V));let{isValid:se,value:ne}=A(Z,he),oe=te(ne*W);(0,o.isNegativeLE)(oe,Q)||(oe=te(-oe)),se||(ne=oe),se||(ae=X);const fe=te(ae*(X-f)*O-he),pe=ne*ne,xe=te((ne+ne)*he),Se=te(fe*C),ce=te(f-pe),Oe=te(f+pe);return new t.ed25519.ExtendedPoint(te(xe*Oe),te(ce*Se),te(Se*Oe),te(xe*ce))}class q{constructor(V){this.ep=V}static fromAffine(V){return new q(t.ed25519.ExtendedPoint.fromAffine(V))}static hashToCurve(V){V=(0,s.ensureBytes)("ristrettoHash",V,64);const Q=H(M(V.slice(0,32))),te=H(M(V.slice(32,64)));return new q(Q.add(te))}static fromHex(V){V=(0,s.ensureBytes)("ristrettoHex",V,32);const{a:Q,d:te}=t.ed25519.CURVE,X=t.ed25519.CURVE.Fp.ORDER,Z=t.ed25519.CURVE.Fp.create,ae="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",he=M(V);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(he,32),V)||(0,o.isNegativeLE)(he,X))throw new Error(ae);const se=Z(he*he),ne=Z(f+Q*se),oe=Z(f-Q*se),fe=Z(ne*ne),pe=Z(oe*oe),xe=Z(Q*te*fe-pe),{isValid:Se,value:ce}=k(Z(xe*pe)),Oe=Z(ce*oe),ke=Z(ce*Oe*xe);let ve=Z((he+he)*Oe);(0,o.isNegativeLE)(ve,X)&&(ve=Z(-ve));const We=Z(ne*ke),Ze=Z(ve*We);if(!Se||(0,o.isNegativeLE)(Ze,X)||We===u)throw new Error(ae);return new q(new t.ed25519.ExtendedPoint(ve,We,f,Ze))}toRawBytes(){let{ex:V,ey:Q,ez:te,et:X}=this.ep;const Z=t.ed25519.CURVE.Fp.ORDER,ae=t.ed25519.CURVE.Fp.create,he=ae(ae(te+Q)*ae(te-Q)),se=ae(V*Q),ne=ae(se*se),{value:oe}=k(ae(he*ne)),fe=ae(oe*he),pe=ae(oe*se),xe=ae(fe*pe*X);let Se;if((0,o.isNegativeLE)(X*xe,Z)){let Oe=ae(Q*I),ke=ae(V*I);V=Oe,Q=ke,Se=ae(fe*T)}else Se=pe;(0,o.isNegativeLE)(V*xe,Z)&&(Q=ae(-Q));let ce=ae((te-Q)*Se);return(0,o.isNegativeLE)(ce,Z)&&(ce=ae(-ce)),(0,s.numberToBytesLE)(ce,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(V){x(V);const{ex:Q,ey:te}=this.ep,{ex:X,ey:Z}=V.ep,ae=t.ed25519.CURVE.Fp.create,he=ae(Q*Z)===ae(te*X),se=ae(te*Z)===ae(Q*X);return he||se}add(V){return x(V),new q(this.ep.add(V.ep))}subtract(V){return x(V),new q(this.ep.subtract(V.ep))}multiply(V){return new q(this.ep.multiply(V))}multiplyUnsafe(V){return new q(this.ep.multiplyUnsafe(V))}double(){return new q(this.ep.double())}negate(){return new q(this.ep.negate())}}t.RistrettoPoint=(q.BASE||(q.BASE=new q(t.ed25519.ExtendedPoint.BASE)),q.ZERO||(q.ZERO=new q(t.ed25519.ExtendedPoint.ZERO)),q),t.hashToRistretto255=(W,V)=>{const Q=V.DST,te=typeof Q=="string"?(0,r.utf8ToBytes)(Q):Q,X=(0,i.expand_message_xmd)(W,te,64,e.sha512);return q.hashToCurve(X)},t.hash_to_ristretto255=t.hashToRistretto255})(fne);var zne={},pc={};Object.defineProperty(pc,"__esModule",{value:!0}),pc.sha224=pc.sha256=pc.SHA256=void 0;const QT=hc,Ea=Uc,d5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mu=new Uint32Array(64);class f9 extends QT.HashMD{constructor(){super(64,32,8,!1),this.A=0|gu[0],this.B=0|gu[1],this.C=0|gu[2],this.D=0|gu[3],this.E=0|gu[4],this.F=0|gu[5],this.G=0|gu[6],this.H=0|gu[7]}get(){const{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:l}=this;return[e,r,n,i,o,a,s,l]}set(e,r,n,i,o,a,s,l){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|o,this.F=0|a,this.G=0|s,this.H=0|l}process(e,r){for(let f=0;f<16;f++,r+=4)mu[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=mu[f-15],p=mu[f-2],y=(0,Ea.rotr)(h,7)^(0,Ea.rotr)(h,18)^h>>>3,m=(0,Ea.rotr)(p,17)^(0,Ea.rotr)(p,19)^p>>>10;mu[f]=m+mu[f-7]+y+mu[f-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=u+((0,Ea.rotr)(s,6)^(0,Ea.rotr)(s,11)^(0,Ea.rotr)(s,25))+(0,QT.Chi)(s,l,c)+d5e[f]+mu[f]|0,p=((0,Ea.rotr)(n,2)^(0,Ea.rotr)(n,13)^(0,Ea.rotr)(n,22))+(0,QT.Maj)(n,i,o)|0;u=c,c=l,l=s,s=a+h|0,a=o,o=i,i=n,n=h+p|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,l,c,u)}roundClean(){mu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}pc.SHA256=f9;class h5e extends f9{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}pc.sha256=(0,Ea.wrapConstructor)((()=>new f9)),pc.sha224=(0,Ea.wrapConstructor)((()=>new h5e));var b2={},d9={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Yo,r=Uc;class n extends r.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const s=(0,r.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(s.length>l?o.create().update(s).digest():s);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=o.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),c.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:s,finished:l,destroyed:c,blockLen:u,outputLen:f}=this;return o.finished=l,o.destroyed=c,o.blockLen=u,o.outputLen=f,o.oHash=a._cloneInto(o.oHash),o.iHash=s._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n,t.hmac=(i,o,a)=>new n(i,o).update(a).digest(),t.hmac.create=(i,o)=>new n(i,o)})(d9);var h9={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=p,t.weierstrass=function(m){const v=(function(W){const V=(0,e.validateBasic)(W);return n.validateObject(V,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...V})})(m),{Fp:w,n:A}=v,_=w.BYTES+1,D=2*w.BYTES+1;function P(W){return r.mod(W,A)}function U(W){return r.invert(W,A)}const{ProjectivePoint:F,normPrivateKeyToScalar:N,weierstrassEquation:L,isWithinCurveOrder:B}=p({...v,toBytes(W,V,Q){const te=V.toAffine(),X=w.toBytes(te.x),Z=n.concatBytes;return(0,i.abool)("isCompressed",Q),Q?Z(Uint8Array.from([V.hasEvenY()?2:3]),X):Z(Uint8Array.from([4]),X,w.toBytes(te.y))},fromBytes(W){const V=W.length,Q=W[0],te=W.subarray(1);if(V!==_||Q!==2&&Q!==3){if(V===D&&Q===4)return{x:w.fromBytes(te.subarray(0,w.BYTES)),y:w.fromBytes(te.subarray(w.BYTES,2*w.BYTES))};throw new Error(`Point of length ${V} was invalid. Expected ${_} compressed bytes or ${D} uncompressed bytes`)}{const X=n.bytesToNumberBE(te);if(!n.inRange(X,c,w.ORDER))throw new Error("Point is not on curve");const Z=L(X);let ae;try{ae=w.sqrt(Z)}catch(he){const se=he instanceof Error?": "+he.message:"";throw new Error("Point is not on curve"+se)}return(1&Q)==1!=((ae&c)===c)&&(ae=w.neg(ae)),{x:X,y:ae}}}}),R=W=>n.bytesToHex(n.numberToBytesBE(W,v.nByteLength));function b(W){return W>A>>c}const x=(W,V,Q)=>n.bytesToNumberBE(W.slice(V,Q));class I{constructor(V,Q,te){this.r=V,this.s=Q,this.recovery=te,this.assertValidity()}static fromCompact(V){const Q=v.nByteLength;return V=(0,i.ensureBytes)("compactSignature",V,2*Q),new I(x(V,0,Q),x(V,Q,2*Q))}static fromDER(V){const{r:Q,s:te}=t.DER.toSig((0,i.ensureBytes)("DER",V));return new I(Q,te)}assertValidity(){n.aInRange("r",this.r,c,A),n.aInRange("s",this.s,c,A)}addRecoveryBit(V){return new I(this.r,this.s,V)}recoverPublicKey(V){const{r:Q,s:te,recovery:X}=this,Z=O((0,i.ensureBytes)("msgHash",V));if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");const ae=X===2||X===3?Q+v.n:Q;if(ae>=w.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=(1&X)==0?"02":"03",se=F.fromHex(he+R(ae)),ne=U(ae),oe=P(-Z*ne),fe=P(te*ne),pe=F.BASE.multiplyAndAddUnsafe(se,oe,fe);if(!pe)throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,P(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return R(this.r)+R(this.s)}}const C={isValidPrivateKey(W){try{return N(W),!0}catch{return!1}},normPrivateKeyToScalar:N,randomPrivateKey:()=>{const W=r.getMinHashLength(v.n);return r.mapHashToField(v.randomBytes(W),v.n)},precompute:(W=8,V=F.BASE)=>(V._setWindowSize(W),V.multiply(BigInt(3)),V)};function T(W){const V=n.isBytes(W),Q=typeof W=="string",te=(V||Q)&&W.length;return V?te===_||te===D:Q?te===2*_||te===2*D:W instanceof F}const j=v.bits2int||function(W){const V=n.bytesToNumberBE(W),Q=8*W.length-v.nBitLength;return Q>0?V>>BigInt(Q):V},O=v.bits2int_modN||function(W){return P(j(W))},k=n.bitMask(v.nBitLength);function E(W){return n.aInRange(`num < 2^${v.nBitLength}`,W,l,k),n.numberToBytesBE(W,v.nByteLength)}function M(W,V,Q=H){if(["recovered","canonical"].some((xe=>xe in Q)))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:X}=v;let{lowS:Z,prehash:ae,extraEntropy:he}=Q;Z==null&&(Z=!0),W=(0,i.ensureBytes)("msgHash",W),o(Q),ae&&(W=(0,i.ensureBytes)("prehashed msgHash",te(W)));const se=O(W),ne=N(V),oe=[E(ne),E(se)];if(he!=null&&he!==!1){const xe=he===!0?X(w.BYTES):he;oe.push((0,i.ensureBytes)("extraEntropy",xe))}const fe=n.concatBytes(...oe),pe=se;return{seed:fe,k2sig:function(xe){const Se=j(xe);if(!B(Se))return;const ce=U(Se),Oe=F.BASE.multiply(Se).toAffine(),ke=P(Oe.x);if(ke===l)return;const ve=P(ce*P(pe+ke*ne));if(ve===l)return;let We=(Oe.x===ke?0:2)|Number(Oe.y&c),Ze=ve;return Z&&b(ve)&&(Ze=(function(Ye){return b(Ye)?P(-Ye):Ye})(ve),We^=1),new I(ke,Ze,We)}}}const H={lowS:v.lowS,prehash:!1},q={lowS:v.lowS,prehash:!1};return F.BASE._setWindowSize(8),{CURVE:v,getPublicKey:function(W,V=!0){return F.fromPrivateKey(W).toRawBytes(V)},getSharedSecret:function(W,V,Q=!0){if(T(W))throw new Error("first arg must be private key");if(!T(V))throw new Error("second arg must be public key");return F.fromHex(V).multiply(N(W)).toRawBytes(Q)},sign:function(W,V,Q=H){const{seed:te,k2sig:X}=M(W,V,Q),Z=v;return n.createHmacDrbg(Z.hash.outputLen,Z.nByteLength,Z.hmac)(te,X)},verify:function(W,V,Q,te=q){var ke;const X=W;if(V=(0,i.ensureBytes)("msgHash",V),Q=(0,i.ensureBytes)("publicKey",Q),"strict"in te)throw new Error("options.strict was renamed to lowS");o(te);const{lowS:Z,prehash:ae}=te;let he,se;try{if(typeof X=="string"||n.isBytes(X))try{he=I.fromDER(X)}catch(ve){if(!(ve instanceof t.DER.Err))throw ve;he=I.fromCompact(X)}else{if(typeof X!="object"||typeof X.r!="bigint"||typeof X.s!="bigint")throw new Error("PARSE");{const{r:ve,s:We}=X;he=new I(ve,We)}}se=F.fromHex(Q)}catch(ve){if(ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&he.hasHighS())return!1;ae&&(V=v.hash(V));const{r:ne,s:oe}=he,fe=O(V),pe=U(oe),xe=P(fe*pe),Se=P(ne*pe),ce=(ke=F.BASE.multiplyAndAddUnsafe(se,xe,Se))==null?void 0:ke.toAffine();return ce?P(ce.x)===ne:!1},ProjectivePoint:F,Signature:I,utils:C}},t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=function(m,v){if(r.validateField(m),!m.isValid(v.A)||!m.isValid(v.B)||!m.isValid(v.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const w=y(m,v.Z);if(!m.isOdd)throw new Error("Fp.isOdd is not implemented!");return A=>{let _,D,P,U,F,N,L,B;_=m.sqr(A),_=m.mul(_,v.Z),D=m.sqr(_),D=m.add(D,_),P=m.add(D,m.ONE),P=m.mul(P,v.B),U=m.cmov(v.Z,m.neg(D),!m.eql(D,m.ZERO)),U=m.mul(U,v.A),D=m.sqr(P),N=m.sqr(U),F=m.mul(N,v.A),D=m.add(D,F),D=m.mul(D,P),N=m.mul(N,U),F=m.mul(N,v.B),D=m.add(D,F),L=m.mul(_,P);const{isValid:R,value:b}=w(D,N);B=m.mul(_,A),B=m.mul(B,b),L=m.cmov(L,P,R),B=m.cmov(B,b,R);const x=m.isOdd(A)===m.isOdd(B);return B=m.cmov(m.neg(B),B,x),L=m.div(L,U),{x:L,y:B}}};const e=o0,r=Mr,n=ir,i=ir;function o(m){m.lowS!==void 0&&(0,i.abool)("lowS",m.lowS),m.prehash!==void 0&&(0,i.abool)("prehash",m.prehash)}const{bytesToNumberBE:a,hexToBytes:s}=n;t.DER={Err:class extends Error{constructor(m=""){super(m)}},_tlv:{encode:(m,v)=>{const{Err:w}=t.DER;if(m<0||m>256)throw new w("tlv.encode: wrong tag");if(1&v.length)throw new w("tlv.encode: unpadded data");const A=v.length/2,_=n.numberToHexUnpadded(A);if(_.length/2&128)throw new w("tlv.encode: long form length too big");const D=A>127?n.numberToHexUnpadded(_.length/2|128):"";return`${n.numberToHexUnpadded(m)}${D}${_}${v}`},decode(m,v){const{Err:w}=t.DER;let A=0;if(m<0||m>256)throw new w("tlv.encode: wrong tag");if(v.length<2||v[A++]!==m)throw new w("tlv.decode: wrong tlv");const _=v[A++];let D=0;if(128&_){const U=127&_;if(!U)throw new w("tlv.decode(long): indefinite length not supported");if(U>4)throw new w("tlv.decode(long): byte length is too big");const F=v.subarray(A,A+U);if(F.length!==U)throw new w("tlv.decode: length bytes not complete");if(F[0]===0)throw new w("tlv.decode(long): zero leftmost byte");for(const N of F)D=D<<8|N;if(A+=U,D<128)throw new w("tlv.decode(long): not minimal encoding")}else D=_;const P=v.subarray(A,A+D);if(P.length!==D)throw new w("tlv.decode: wrong value length");return{v:P,l:v.subarray(A+D)}}},_int:{encode(m){const{Err:v}=t.DER;if(m<l)throw new v("integer: negative integers are not allowed");let w=n.numberToHexUnpadded(m);if(8&Number.parseInt(w[0],16)&&(w="00"+w),1&w.length)throw new v("unexpected assertion");return w},decode(m){const{Err:v}=t.DER;if(128&m[0])throw new v("Invalid signature integer: negative");if(m[0]===0&&!(128&m[1]))throw new v("Invalid signature integer: unnecessary leading zero");return a(m)}},toSig(m){const{Err:v,_int:w,_tlv:A}=t.DER,_=typeof m=="string"?s(m):m;n.abytes(_);const{v:D,l:P}=A.decode(48,_);if(P.length)throw new v("Invalid signature: left bytes after parsing");const{v:U,l:F}=A.decode(2,D),{v:N,l:L}=A.decode(2,F);if(L.length)throw new v("Invalid signature: left bytes after parsing");return{r:w.decode(U),s:w.decode(N)}},hexFromSig(m){const{_tlv:v,_int:w}=t.DER,A=`${v.encode(2,w.encode(m.r))}${v.encode(2,w.encode(m.s))}`;return v.encode(48,A)}};const l=BigInt(0),c=BigInt(1),u=BigInt(2),f=BigInt(3),h=BigInt(4);function p(m){const v=(function(x){const I=(0,e.validateBasic)(x);n.validateObject(I,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:C,Fp:T,a:j}=I;if(C){if(!T.eql(j,T.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof C!="object"||typeof C.beta!="bigint"||typeof C.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...I})})(m),{Fp:w}=v,A=r.Field(v.n,v.nBitLength),_=v.toBytes||((x,I,C)=>{const T=I.toAffine();return n.concatBytes(Uint8Array.from([4]),w.toBytes(T.x),w.toBytes(T.y))}),D=v.fromBytes||(x=>{const I=x.subarray(1);return{x:w.fromBytes(I.subarray(0,w.BYTES)),y:w.fromBytes(I.subarray(w.BYTES,2*w.BYTES))}});function P(x){const{a:I,b:C}=v,T=w.sqr(x),j=w.mul(T,x);return w.add(w.add(j,w.mul(x,I)),C)}if(!w.eql(w.sqr(v.Gy),P(v.Gx)))throw new Error("bad generator point: equation left != right");function U(x){const{allowedPrivateKeyLengths:I,nByteLength:C,wrapPrivateKey:T,n:j}=v;if(I&&typeof x!="bigint"){if(n.isBytes(x)&&(x=n.bytesToHex(x)),typeof x!="string"||!I.includes(x.length))throw new Error("Invalid key");x=x.padStart(2*C,"0")}let O;try{O=typeof x=="bigint"?x:n.bytesToNumberBE((0,i.ensureBytes)("private key",x,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof x}`)}return T&&(O=r.mod(O,j)),n.aInRange("private key",O,c,j),O}function F(x){if(!(x instanceof B))throw new Error("ProjectivePoint expected")}const N=(0,i.memoized)(((x,I)=>{const{px:C,py:T,pz:j}=x;if(w.eql(j,w.ONE))return{x:C,y:T};const O=x.is0();I==null&&(I=O?w.ONE:w.inv(j));const k=w.mul(C,I),E=w.mul(T,I),M=w.mul(j,I);if(O)return{x:w.ZERO,y:w.ZERO};if(!w.eql(M,w.ONE))throw new Error("invZ was invalid");return{x:k,y:E}})),L=(0,i.memoized)((x=>{if(x.is0()){if(v.allowInfinityPoint&&!w.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:I,y:C}=x.toAffine();if(!w.isValid(I)||!w.isValid(C))throw new Error("bad point: x or y not FE");const T=w.sqr(C),j=P(I);if(!w.eql(T,j))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class B{constructor(I,C,T){if(this.px=I,this.py=C,this.pz=T,I==null||!w.isValid(I))throw new Error("x required");if(C==null||!w.isValid(C))throw new Error("y required");if(T==null||!w.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(I){const{x:C,y:T}=I||{};if(!I||!w.isValid(C)||!w.isValid(T))throw new Error("invalid affine point");if(I instanceof B)throw new Error("projective point not allowed");const j=O=>w.eql(O,w.ZERO);return j(C)&&j(T)?B.ZERO:new B(C,T,w.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const C=w.invertBatch(I.map((T=>T.pz)));return I.map(((T,j)=>T.toAffine(C[j]))).map(B.fromAffine)}static fromHex(I){const C=B.fromAffine(D((0,i.ensureBytes)("pointHex",I)));return C.assertValidity(),C}static fromPrivateKey(I){return B.BASE.multiply(U(I))}static msm(I,C){return(0,e.pippenger)(B,A,I,C)}_setWindowSize(I){b.setWindowSize(this,I)}assertValidity(){L(this)}hasEvenY(){const{y:I}=this.toAffine();if(w.isOdd)return!w.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){F(I);const{px:C,py:T,pz:j}=this,{px:O,py:k,pz:E}=I,M=w.eql(w.mul(C,E),w.mul(O,j)),H=w.eql(w.mul(T,E),w.mul(k,j));return M&&H}negate(){return new B(this.px,w.neg(this.py),this.pz)}double(){const{a:I,b:C}=v,T=w.mul(C,f),{px:j,py:O,pz:k}=this;let E=w.ZERO,M=w.ZERO,H=w.ZERO,q=w.mul(j,j),W=w.mul(O,O),V=w.mul(k,k),Q=w.mul(j,O);return Q=w.add(Q,Q),H=w.mul(j,k),H=w.add(H,H),E=w.mul(I,H),M=w.mul(T,V),M=w.add(E,M),E=w.sub(W,M),M=w.add(W,M),M=w.mul(E,M),E=w.mul(Q,E),H=w.mul(T,H),V=w.mul(I,V),Q=w.sub(q,V),Q=w.mul(I,Q),Q=w.add(Q,H),H=w.add(q,q),q=w.add(H,q),q=w.add(q,V),q=w.mul(q,Q),M=w.add(M,q),V=w.mul(O,k),V=w.add(V,V),q=w.mul(V,Q),E=w.sub(E,q),H=w.mul(V,W),H=w.add(H,H),H=w.add(H,H),new B(E,M,H)}add(I){F(I);const{px:C,py:T,pz:j}=this,{px:O,py:k,pz:E}=I;let M=w.ZERO,H=w.ZERO,q=w.ZERO;const W=v.a,V=w.mul(v.b,f);let Q=w.mul(C,O),te=w.mul(T,k),X=w.mul(j,E),Z=w.add(C,T),ae=w.add(O,k);Z=w.mul(Z,ae),ae=w.add(Q,te),Z=w.sub(Z,ae),ae=w.add(C,j);let he=w.add(O,E);return ae=w.mul(ae,he),he=w.add(Q,X),ae=w.sub(ae,he),he=w.add(T,j),M=w.add(k,E),he=w.mul(he,M),M=w.add(te,X),he=w.sub(he,M),q=w.mul(W,ae),M=w.mul(V,X),q=w.add(M,q),M=w.sub(te,q),q=w.add(te,q),H=w.mul(M,q),te=w.add(Q,Q),te=w.add(te,Q),X=w.mul(W,X),ae=w.mul(V,ae),te=w.add(te,X),X=w.sub(Q,X),X=w.mul(W,X),ae=w.add(ae,X),Q=w.mul(te,ae),H=w.add(H,Q),Q=w.mul(he,ae),M=w.mul(Z,M),M=w.sub(M,Q),Q=w.mul(Z,te),q=w.mul(he,q),q=w.add(q,Q),new B(M,H,q)}subtract(I){return this.add(I.negate())}is0(){return this.equals(B.ZERO)}wNAF(I){return b.wNAFCached(this,I,B.normalizeZ)}multiplyUnsafe(I){n.aInRange("scalar",I,l,v.n);const C=B.ZERO;if(I===l)return C;if(I===c)return this;const{endo:T}=v;if(!T)return b.unsafeLadder(this,I);let{k1neg:j,k1:O,k2neg:k,k2:E}=T.splitScalar(I),M=C,H=C,q=this;for(;O>l||E>l;)O&c&&(M=M.add(q)),E&c&&(H=H.add(q)),q=q.double(),O>>=c,E>>=c;return j&&(M=M.negate()),k&&(H=H.negate()),H=new B(w.mul(H.px,T.beta),H.py,H.pz),M.add(H)}multiply(I){const{endo:C,n:T}=v;let j,O;if(n.aInRange("scalar",I,c,T),C){const{k1neg:k,k1:E,k2neg:M,k2:H}=C.splitScalar(I);let{p:q,f:W}=this.wNAF(E),{p:V,f:Q}=this.wNAF(H);q=b.constTimeNegate(k,q),V=b.constTimeNegate(M,V),V=new B(w.mul(V.px,C.beta),V.py,V.pz),j=q.add(V),O=W.add(Q)}else{const{p:k,f:E}=this.wNAF(I);j=k,O=E}return B.normalizeZ([j,O])[0]}multiplyAndAddUnsafe(I,C,T){const j=B.BASE,O=(E,M)=>M!==l&&M!==c&&E.equals(j)?E.multiply(M):E.multiplyUnsafe(M),k=O(this,C).add(O(I,T));return k.is0()?void 0:k}toAffine(I){return N(this,I)}isTorsionFree(){const{h:I,isTorsionFree:C}=v;if(I===c)return!0;if(C)return C(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:C}=v;return I===c?this:C?C(B,this):this.multiplyUnsafe(v.h)}toRawBytes(I=!0){return(0,i.abool)("isCompressed",I),this.assertValidity(),_(B,this,I)}toHex(I=!0){return(0,i.abool)("isCompressed",I),n.bytesToHex(this.toRawBytes(I))}}B.BASE=new B(v.Gx,v.Gy,w.ONE),B.ZERO=new B(w.ZERO,w.ONE,w.ZERO);const R=v.nBitLength,b=(0,e.wNAF)(B,v.endo?Math.ceil(R/2):R);return{CURVE:v,ProjectivePoint:B,normPrivateKeyToScalar:U,weierstrassEquation:P,isWithinCurveOrder:function(x){return n.inRange(x,c,v.n)}}}function y(m,v){const w=m.ORDER;let A=l;for(let x=w-c;x%u===l;x/=u)A+=c;const _=A,D=u<<_-c-c,P=D*u,U=(w-c)/P,F=(U-c)/u,N=P-c,L=D,B=m.pow(v,U),R=m.pow(v,(U+c)/u);let b=(x,I)=>{let C=B,T=m.pow(I,N),j=m.sqr(T);j=m.mul(j,I);let O=m.mul(x,j);O=m.pow(O,F),O=m.mul(O,T),T=m.mul(O,I),j=m.mul(O,x);let k=m.mul(j,T);O=m.pow(k,L);let E=m.eql(O,m.ONE);T=m.mul(j,R),O=m.mul(k,C),j=m.cmov(T,j,E),k=m.cmov(O,k,E);for(let M=_;M>c;M--){let H=M-u;H=u<<H-c;let q=m.pow(k,H);const W=m.eql(q,m.ONE);T=m.mul(j,C),C=m.mul(C,C),q=m.mul(k,C),j=m.cmov(T,j,W),k=m.cmov(q,k,W)}return{isValid:E,value:j}};if(m.ORDER%h===f){const x=(m.ORDER-f)/h,I=m.sqrt(m.neg(v));b=(C,T)=>{let j=m.sqr(T);const O=m.mul(C,T);j=m.mul(j,O);let k=m.pow(j,x);k=m.mul(k,O);const E=m.mul(k,I),M=m.mul(m.sqr(k),T),H=m.eql(M,C);return{isValid:H,value:m.cmov(E,k,H)}}}return b}})(h9),Object.defineProperty(b2,"__esModule",{value:!0}),b2.getHash=$V,b2.createCurve=function(t,e){const r=n=>(0,g5e.weierstrass)({...t,...$V(n)});return Object.freeze({...r(e),create:r})};const p5e=d9,jV=Uc,g5e=h9;function $V(t){return{hash:t,hmac:(e,...r)=>(0,p5e.hmac)(t,e,(0,jV.concatBytes)(...r)),randomBytes:jV.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=pc,r=Uc,n=b2,i=Lu,o=Mr,a=ir,s=h9,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),f=BigInt(2),h=(O,k)=>(O+k/f)/k;function p(O){const k=l,E=BigInt(3),M=BigInt(6),H=BigInt(11),q=BigInt(22),W=BigInt(23),V=BigInt(44),Q=BigInt(88),te=O*O*O%k,X=te*te*O%k,Z=(0,o.pow2)(X,E,k)*X%k,ae=(0,o.pow2)(Z,E,k)*X%k,he=(0,o.pow2)(ae,f,k)*te%k,se=(0,o.pow2)(he,H,k)*he%k,ne=(0,o.pow2)(se,q,k)*se%k,oe=(0,o.pow2)(ne,V,k)*ne%k,fe=(0,o.pow2)(oe,Q,k)*oe%k,pe=(0,o.pow2)(fe,V,k)*ne%k,xe=(0,o.pow2)(pe,E,k)*X%k,Se=(0,o.pow2)(xe,W,k)*se%k,ce=(0,o.pow2)(Se,M,k)*te%k,Oe=(0,o.pow2)(ce,f,k);if(!y.eql(y.sqr(Oe),O))throw new Error("Cannot find square root");return Oe}const y=(0,o.Field)(l,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:O=>{const k=c,E=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),M=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),H=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),q=E,W=BigInt("0x100000000000000000000000000000000"),V=h(q*O,k),Q=h(-M*O,k);let te=(0,o.mod)(O-V*E-Q*H,k),X=(0,o.mod)(-V*M-Q*q,k);const Z=te>W,ae=X>W;if(Z&&(te=k-te),ae&&(X=k-X),te>W||X>W)throw new Error("splitScalar: Endomorphism failed, k="+O);return{k1neg:Z,k1:te,k2neg:ae,k2:X}}}},e.sha256);const m=BigInt(0),v={};function w(O,...k){let E=v[O];if(E===void 0){const M=(0,e.sha256)(Uint8Array.from(O,(H=>H.charCodeAt(0))));E=(0,a.concatBytes)(M,M),v[O]=E}return(0,e.sha256)((0,a.concatBytes)(E,...k))}const A=O=>O.toRawBytes(!0).slice(1),_=O=>(0,a.numberToBytesBE)(O,32),D=O=>(0,o.mod)(O,l),P=O=>(0,o.mod)(O,c),U=t.secp256k1.ProjectivePoint,F=(O,k,E)=>U.BASE.multiplyAndAddUnsafe(O,k,E);function N(O){let k=t.secp256k1.utils.normPrivateKeyToScalar(O),E=U.fromPrivateKey(k);return{scalar:E.hasEvenY()?k:P(-k),bytes:A(E)}}function L(O){(0,a.aInRange)("x",O,u,l);const k=D(O*O);let E=p(D(k*O+BigInt(7)));E%f!==m&&(E=D(-E));const M=new U(O,E,u);return M.assertValidity(),M}const B=a.bytesToNumberBE;function R(...O){return P(B(w("BIP0340/challenge",...O)))}function b(O){return N(O).bytes}function x(O,k,E=(0,r.randomBytes)(32)){const M=(0,a.ensureBytes)("message",O),{bytes:H,scalar:q}=N(k),W=(0,a.ensureBytes)("auxRand",E,32),V=_(q^B(w("BIP0340/aux",W))),Q=w("BIP0340/nonce",V,H,M),te=P(B(Q));if(te===m)throw new Error("sign failed: k is zero");const{bytes:X,scalar:Z}=N(te),ae=R(X,H,M),he=new Uint8Array(64);if(he.set(X,0),he.set(_(P(Z+ae*q)),32),!I(he,M,H))throw new Error("sign: Invalid signature produced");return he}function I(O,k,E){const M=(0,a.ensureBytes)("signature",O,64),H=(0,a.ensureBytes)("message",k),q=(0,a.ensureBytes)("publicKey",E,32);try{const W=L(B(q)),V=B(M.subarray(0,32));if(!(0,a.inRange)(V,u,l))return!1;const Q=B(M.subarray(32,64));if(!(0,a.inRange)(Q,u,c))return!1;const te=R(_(V),A(W),H),X=F(W,Q,P(-te));return!(!X||!X.hasEvenY()||X.toAffine().x!==V)}catch{return!1}}t.schnorr={getPublicKey:b,sign:x,verify:I,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:L,pointToBytes:A,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:w,mod:o.mod}};const C=(0,i.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((O=>O.map((k=>BigInt(k)))))),T=(0,s.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}),j=(0,i.createHasher)(t.secp256k1.ProjectivePoint,(O=>{const{x:k,y:E}=T(y.create(O[0]));return C(k,E)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=j.hashToCurve,t.encodeToCurve=j.encodeToCurve})(zne);var K8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=na;t.remove0x=function(r){return r.startsWith("0x")||r.startsWith("0X")?r.slice(2):r},t.decodeHex=function(r){return(0,e.hexToBytes)((0,t.remove0x)(r))}})(K8),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=l9,r=fne,n=zne,i=hw,o=Vn,a=K8;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return s((0,i.ellipticCurve)(),(function(f){return f.utils.isValidPrivateKey(u)}),(function(){return!0}),(function(){return!0}))},t.getPublicKey=function(u){return s((0,i.ellipticCurve)(),(function(f){return f.getPublicKey(u)}),(function(f){return f.getPublicKey(u)}),(function(f){return f.getPublicKey(u)}))},t.getSharedPoint=function(u,f,h){return s((0,i.ellipticCurve)(),(function(p){return p.getSharedSecret(u,f,h)}),(function(p){return p.getSharedSecret(u,f)}),(function(p){return c(p,u,f)}))},t.convertPublicKeyFormat=function(u,f){return s((0,i.ellipticCurve)(),(function(h){return h.getSharedSecret(BigInt(1),u,f)}),(function(){return u}),(function(){return u}))};function s(u,f,h,p){if(u==="secp256k1")return f(n.secp256k1);if(u==="x25519")return h(r.x25519);if(u==="ed25519")return p(r.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var f=(0,a.decodeHex)(u);return s((0,i.ellipticCurve)(),(function(){return l(f)}),(function(){return f}),(function(){return f}))};var l=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var f=new Uint8Array(1+u.length);return f.set([4]),f.set(u,1),f}return u},c=function(u,f,h){var p=u.utils.getExtendedPublicKey(f).scalar;return u.ExtendedPoint.fromHex(h).multiply(p).toRawBytes()}})(une);var Wne={},a0={};Object.defineProperty(a0,"__esModule",{value:!0}),a0.hkdf=void 0,a0.extract=Vne,a0.expand=Gne;const V8=Yo,FV=Uc,Kne=d9;function Vne(t,e,r){return(0,V8.hash)(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,Kne.hmac)(t,(0,FV.toBytes)(r),(0,FV.toBytes)(e))}const XT=new Uint8Array([0]),UV=new Uint8Array;function Gne(t,e,r,n=32){if((0,V8.hash)(t),(0,V8.number)(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=UV);const o=new Uint8Array(i*t.outputLen),a=Kne.hmac.create(t,e),s=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)XT[0]=c+1,s.update(c===0?UV:l).update(r).update(XT).digestInto(l),o.set(l,t.outputLen*c),a._cloneInto(s);return a.destroy(),s.destroy(),l.fill(0),XT.fill(0),o.slice(0,n)}a0.hkdf=(t,e,r,n,i)=>Gne(t,Vne(t,e,r),n,i),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=na,r=a0,n=pc;t.deriveKey=function(i,o,a){return(0,r.hkdf)(n.sha256,i,o,a,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}})(Wne);var HV={},A0={},wn={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.polyval=Vd.ghash=void 0,Vd._toGHASHKey=Yne;const Gd=Mi,Ki=na,Hl=16,p9=new Uint8Array(16),el=(0,Ki.u32)(p9),Ma=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function Yne(t){t.reverse();const e=1&t[15];let r=0;for(let n=0;n<t.length;n++){const i=t[n];t[n]=i>>>1|r,r=(1&i)<<7}return t[0]^=225&-e,t}class Jne{constructor(e,r){this.blockLen=Hl,this.outputLen=Hl,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,Ki.toBytes)(e),(0,Gd.bytes)(e,16);const n=(0,Ki.createView)(e);let i=n.getUint32(0,!1),o=n.getUint32(4,!1),a=n.getUint32(8,!1),s=n.getUint32(12,!1);const l=[];for(let w=0;w<128;w++)l.push({s0:Ma(i),s1:Ma(o),s2:Ma(a),s3:Ma(s)}),{s0:i,s1:o,s2:a,s3:s}={s3:(f=a)<<31|(h=s)>>>1,s2:(u=o)<<31|f>>>1,s1:(c=i)<<31|u>>>1,s0:c>>>1^225<<24&-(1&h)};var c,u,f,h;const p=(w=>w>65536?8:w>1024?4:2)(r||1024);if(![1,2,4,8].includes(p))throw new Error(`ghash: wrong window size=${p}, should be 2, 4 or 8`);this.W=p;const y=128/p,m=this.windowSize=2**p,v=[];for(let w=0;w<y;w++)for(let A=0;A<m;A++){let _=0,D=0,P=0,U=0;for(let F=0;F<p;F++){if(!(A>>>p-F-1&1))continue;const{s0:N,s1:L,s2:B,s3:R}=l[p*w+F];_^=N,D^=L,P^=B,U^=R}v.push({s0:_,s1:D,s2:P,s3:U})}this.t=v}_updateBlock(e,r,n,i){e^=this.s0,r^=this.s1,n^=this.s2,i^=this.s3;const{W:o,t:a,windowSize:s}=this;let l=0,c=0,u=0,f=0;const h=(1<<o)-1;let p=0;for(const y of[e,r,n,i])for(let m=0;m<4;m++){const v=y>>>8*m&255;for(let w=8/o-1;w>=0;w--){const A=v>>>o*w&h,{s0:_,s1:D,s2:P,s3:U}=a[p*s+A];l^=_,c^=D,u^=P,f^=U,p+=1}}this.s0=l,this.s1=c,this.s2=u,this.s3=f}update(e){e=(0,Ki.toBytes)(e),(0,Gd.exists)(this);const r=(0,Ki.u32)(e),n=Math.floor(e.length/Hl),i=e.length%Hl;for(let o=0;o<n;o++)this._updateBlock(r[4*o+0],r[4*o+1],r[4*o+2],r[4*o+3]);return i&&(p9.set(e.subarray(n*Hl)),this._updateBlock(el[0],el[1],el[2],el[3]),(0,Ki.clean)(el)),this}destroy(){const{t:e}=this;for(const r of e)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(e){(0,Gd.exists)(this),(0,Gd.output)(e,this),this.finished=!0;const{s0:r,s1:n,s2:i,s3:o}=this,a=(0,Ki.u32)(e);return a[0]=r,a[1]=n,a[2]=i,a[3]=o,e}digest(){const e=new Uint8Array(Hl);return this.digestInto(e),this.destroy(),e}}class m5e extends Jne{constructor(e,r){e=(0,Ki.toBytes)(e);const n=Yne((0,Ki.copyBytes)(e));super(n,r),(0,Ki.clean)(n)}update(e){e=(0,Ki.toBytes)(e),(0,Gd.exists)(this);const r=(0,Ki.u32)(e),n=e.length%Hl,i=Math.floor(e.length/Hl);for(let o=0;o<i;o++)this._updateBlock(Ma(r[4*o+3]),Ma(r[4*o+2]),Ma(r[4*o+1]),Ma(r[4*o+0]));return n&&(p9.set(e.subarray(i*Hl)),this._updateBlock(Ma(el[3]),Ma(el[2]),Ma(el[1]),Ma(el[0])),(0,Ki.clean)(el)),this}digestInto(e){(0,Gd.exists)(this),(0,Gd.output)(e,this),this.finished=!0;const{s0:r,s1:n,s2:i,s3:o}=this,a=(0,Ki.u32)(e);return a[0]=r,a[1]=n,a[2]=i,a[3]=o,e.reverse()}}function qV(t){const e=(n,i)=>t(i,n.length).update((0,Ki.toBytes)(n)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(n,i)=>t(n,i),e}Vd.ghash=qV(((t,e)=>new Jne(t,e))),Vd.polyval=qV(((t,e)=>new m5e(t,e))),Object.defineProperty(wn,"__esModule",{value:!0}),wn.unsafe=wn.aeskwp=wn.aeskw=wn.siv=wn.gcm=wn.cfb=wn.cbc=wn.ecb=wn.ctr=void 0,wn.expandKeyLE=gs,wn.expandKeyDecLE=gw;const vr=Mi,G8=Vd,Je=na,Ao=16,Nx=new Uint8Array(Ao),y5e=283;function g9(t){return t<<1^y5e&-(t>>7)}function s0(t,e){let r=0;for(;e>0;e>>=1)r^=t&-(1&e),t=g9(t);return r}const Y8=(()=>{const t=new Uint8Array(256);for(let r=0,n=1;r<256;r++,n^=g9(n))t[r]=n;const e=new Uint8Array(256);e[0]=99;for(let r=0;r<255;r++){let n=t[255-r];n|=n<<8,e[t[r]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return(0,Je.clean)(t),e})(),v5e=Y8.map(((t,e)=>Y8.indexOf(e))),w5e=t=>t<<24|t>>>8,ZT=t=>t<<8|t>>>24,c3=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Qne(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map(((c,u)=>e(t[u]))),n=r.map(ZT),i=n.map(ZT),o=i.map(ZT),a=new Uint32Array(65536),s=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=256*c+u;a[f]=r[c]^n[u],s[f]=i[c]^o[u],l[f]=t[c]<<8|t[u]}return{sbox:t,sbox2:l,T0:r,T1:n,T2:i,T3:o,T01:a,T23:s}}const m9=Qne(Y8,(t=>s0(t,3)<<24|t<<16|t<<8|s0(t,2))),Xne=Qne(v5e,(t=>s0(t,11)<<24|s0(t,13)<<16|s0(t,9)<<8|s0(t,14))),b5e=(()=>{const t=new Uint8Array(16);for(let e=0,r=1;e<16;e++,r=g9(r))t[e]=r;return t})();function gs(t){(0,vr.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:r}=m9,n=[];(0,Je.isAligned32)(t)||n.push(t=(0,Je.copyBytes)(t));const i=(0,Je.u32)(t),o=i.length,a=l=>al(r,l,l,l,l),s=new Uint32Array(e+28);s.set(i);for(let l=o;l<s.length;l++){let c=s[l-1];l%o==0?c=a(w5e(c))^b5e[l/o-1]:o>6&&l%o==4&&(c=a(c)),s[l]=s[l-o]^c}return(0,Je.clean)(...n),s}function gw(t){const e=gs(t),r=e.slice(),n=e.length,{sbox2:i}=m9,{T0:o,T1:a,T2:s,T3:l}=Xne;for(let c=0;c<n;c+=4)for(let u=0;u<4;u++)r[c+u]=e[n-c-4+u];(0,Je.clean)(e);for(let c=4;c<n-4;c++){const u=r[c],f=al(i,u,u,u,u);r[c]=o[255&f]^a[f>>>8&255]^s[f>>>16&255]^l[f>>>24]}return r}function xf(t,e,r,n,i,o){return t[r<<8&65280|n>>>8&255]^e[i>>>8&65280|o>>>24&255]}function al(t,e,r,n,i){return t[255&e|65280&r]|t[n>>>16&255|i>>>16&65280]<<16}function Vi(t,e,r,n,i){const{sbox2:o,T01:a,T23:s}=m9;let l=0;e^=t[l++],r^=t[l++],n^=t[l++],i^=t[l++];const c=t.length/4-2;for(let u=0;u<c;u++){const f=t[l++]^xf(a,s,e,r,n,i),h=t[l++]^xf(a,s,r,n,i,e),p=t[l++]^xf(a,s,n,i,e,r),y=t[l++]^xf(a,s,i,e,r,n);e=f,r=h,n=p,i=y}return{s0:t[l++]^al(o,e,r,n,i),s1:t[l++]^al(o,r,n,i,e),s2:t[l++]^al(o,n,i,e,r),s3:t[l++]^al(o,i,e,r,n)}}function mw(t,e,r,n,i){const{sbox2:o,T01:a,T23:s}=Xne;let l=0;e^=t[l++],r^=t[l++],n^=t[l++],i^=t[l++];const c=t.length/4-2;for(let u=0;u<c;u++){const f=t[l++]^xf(a,s,e,i,n,r),h=t[l++]^xf(a,s,r,e,i,n),p=t[l++]^xf(a,s,n,r,e,i),y=t[l++]^xf(a,s,i,n,r,e);e=f,r=h,n=p,i=y}return{s0:t[l++]^al(o,e,i,n,r),s1:t[l++]^al(o,r,e,i,n),s2:t[l++]^al(o,n,r,e,i),s3:t[l++]^al(o,i,n,r,e)}}function C0(t,e){if(e===void 0)return new Uint8Array(t);if((0,vr.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,Je.isAligned32)(e))throw new Error("unaligned dst");return e}function Zne(t,e,r,n){(0,vr.bytes)(e,Ao),(0,vr.bytes)(r);const i=r.length;n=C0(i,n);const o=e,a=(0,Je.u32)(o);let{s0:s,s1:l,s2:c,s3:u}=Vi(t,a[0],a[1],a[2],a[3]);const f=(0,Je.u32)(r),h=(0,Je.u32)(n);for(let y=0;y+4<=f.length;y+=4){h[y+0]=f[y+0]^s,h[y+1]=f[y+1]^l,h[y+2]=f[y+2]^c,h[y+3]=f[y+3]^u;let m=1;for(let v=o.length-1;v>=0;v--)m=m+(255&o[v])|0,o[v]=255&m,m>>>=8;({s0:s,s1:l,s2:c,s3:u}=Vi(t,a[0],a[1],a[2],a[3]))}const p=Ao*Math.floor(f.length/4);if(p<i){const y=new Uint32Array([s,l,c,u]),m=(0,Je.u8)(y);for(let v=p,w=0;v<i;v++,w++)n[v]=r[v]^m[w];(0,Je.clean)(y)}return n}function l0(t,e,r,n,i){(0,vr.bytes)(r,Ao),(0,vr.bytes)(n),i=C0(n.length,i);const o=r,a=(0,Je.u32)(o),s=(0,Je.createView)(o),l=(0,Je.u32)(n),c=(0,Je.u32)(i),u=e?0:12,f=n.length;let h=s.getUint32(u,e),{s0:p,s1:y,s2:m,s3:v}=Vi(t,a[0],a[1],a[2],a[3]);for(let A=0;A+4<=l.length;A+=4)c[A+0]=l[A+0]^p,c[A+1]=l[A+1]^y,c[A+2]=l[A+2]^m,c[A+3]=l[A+3]^v,h=h+1>>>0,s.setUint32(u,h,e),{s0:p,s1:y,s2:m,s3:v}=Vi(t,a[0],a[1],a[2],a[3]);const w=Ao*Math.floor(l.length/4);if(w<f){const A=new Uint32Array([p,y,m,v]),_=(0,Je.u8)(A);for(let D=w,P=0;D<f;D++,P++)i[D]=n[D]^_[P];(0,Je.clean)(A)}return i}function zV(t){if((0,vr.bytes)(t),t.length%Ao!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function WV(t,e,r){(0,vr.bytes)(t);let n=t.length;const i=n%Ao;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Je.isAligned32)(t)||(t=(0,Je.copyBytes)(t));const o=(0,Je.u32)(t);if(e){let s=Ao-i;s||(s=Ao),n+=s}const a=C0(n,r);return{b:o,o:(0,Je.u32)(a),out:a}}function KV(t,e){if(!e)return t;const r=t.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const n=t[r-1];if(n<=0||n>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-n);for(let o=0;o<n;o++)if(t[r-o-1]!==n)throw new Error("aes/pcks5: wrong padding");return i}function VV(t){const e=new Uint8Array(16),r=(0,Je.u32)(e);e.set(t);const n=Ao-t.length;for(let i=Ao-n;i<Ao;i++)e[i]=n;return r}function eie(t,e,r,n,i){const o=i==null?0:i.length,a=t.create(r,n.length+o);i&&a.update(i),a.update(n);const s=new Uint8Array(16),l=(0,Je.createView)(s);i&&(0,Je.setBigUint64)(l,0,BigInt(8*o),e),(0,Je.setBigUint64)(l,8,BigInt(8*n.length),e),a.update(s);const c=a.digest();return(0,Je.clean)(s),c}wn.ctr=(0,Je.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function r(n,i){if((0,vr.bytes)(n),i!==void 0&&((0,vr.bytes)(i),!(0,Je.isAligned32)(i)))throw new Error("unaligned destination");const o=gs(t),a=(0,Je.copyBytes)(e),s=[o,a];(0,Je.isAligned32)(n)||s.push(n=(0,Je.copyBytes)(n));const l=Zne(o,a,n,i);return(0,Je.clean)(...s),l}return(0,vr.bytes)(t),(0,vr.bytes)(e,Ao),{encrypt:(n,i)=>r(n,i),decrypt:(n,i)=>r(n,i)}})),wn.ecb=(0,Je.wrapCipher)({blockSize:16},(function(t,e={}){(0,vr.bytes)(t);const r=!e.disablePadding;return{encrypt(n,i){const{b:o,o:a,out:s}=WV(n,r,i),l=gs(t);let c=0;for(;c+4<=o.length;){const{s0:u,s1:f,s2:h,s3:p}=Vi(l,o[c+0],o[c+1],o[c+2],o[c+3]);a[c++]=u,a[c++]=f,a[c++]=h,a[c++]=p}if(r){const u=VV(n.subarray(4*c)),{s0:f,s1:h,s2:p,s3:y}=Vi(l,u[0],u[1],u[2],u[3]);a[c++]=f,a[c++]=h,a[c++]=p,a[c++]=y}return(0,Je.clean)(l),s},decrypt(n,i){zV(n);const o=gw(t),a=C0(n.length,i),s=[o];(0,Je.isAligned32)(n)||s.push(n=(0,Je.copyBytes)(n));const l=(0,Je.u32)(n),c=(0,Je.u32)(a);for(let u=0;u+4<=l.length;){const{s0:f,s1:h,s2:p,s3:y}=mw(o,l[u+0],l[u+1],l[u+2],l[u+3]);c[u++]=f,c[u++]=h,c[u++]=p,c[u++]=y}return(0,Je.clean)(...s),KV(a,r)}}})),wn.cbc=(0,Je.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e,r={}){(0,vr.bytes)(t),(0,vr.bytes)(e,16);const n=!r.disablePadding;return{encrypt(i,o){const a=gs(t),{b:s,o:l,out:c}=WV(i,n,o);let u=e;const f=[a];(0,Je.isAligned32)(u)||f.push(u=(0,Je.copyBytes)(u));const h=(0,Je.u32)(u);let p=h[0],y=h[1],m=h[2],v=h[3],w=0;for(;w+4<=s.length;)p^=s[w+0],y^=s[w+1],m^=s[w+2],v^=s[w+3],{s0:p,s1:y,s2:m,s3:v}=Vi(a,p,y,m,v),l[w++]=p,l[w++]=y,l[w++]=m,l[w++]=v;if(n){const A=VV(i.subarray(4*w));p^=A[0],y^=A[1],m^=A[2],v^=A[3],{s0:p,s1:y,s2:m,s3:v}=Vi(a,p,y,m,v),l[w++]=p,l[w++]=y,l[w++]=m,l[w++]=v}return(0,Je.clean)(...f),c},decrypt(i,o){zV(i);const a=gw(t);let s=e;const l=[a];(0,Je.isAligned32)(s)||l.push(s=(0,Je.copyBytes)(s));const c=(0,Je.u32)(s),u=C0(i.length,o);(0,Je.isAligned32)(i)||l.push(i=(0,Je.copyBytes)(i));const f=(0,Je.u32)(i),h=(0,Je.u32)(u);let p=c[0],y=c[1],m=c[2],v=c[3];for(let w=0;w+4<=f.length;){const A=p,_=y,D=m,P=v;p=f[w+0],y=f[w+1],m=f[w+2],v=f[w+3];const{s0:U,s1:F,s2:N,s3:L}=mw(a,p,y,m,v);h[w++]=U^A,h[w++]=F^_,h[w++]=N^D,h[w++]=L^P}return(0,Je.clean)(...l),KV(u,n)}}})),wn.cfb=(0,Je.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function r(n,i,o){(0,vr.bytes)(n);const a=n.length;o=C0(a,o);const s=gs(t);let l=e;const c=[s];(0,Je.isAligned32)(l)||c.push(l=(0,Je.copyBytes)(l)),(0,Je.isAligned32)(n)||c.push(n=(0,Je.copyBytes)(n));const u=(0,Je.u32)(n),f=(0,Je.u32)(o),h=i?f:u,p=(0,Je.u32)(l);let y=p[0],m=p[1],v=p[2],w=p[3];for(let _=0;_+4<=u.length;){const{s0:D,s1:P,s2:U,s3:F}=Vi(s,y,m,v,w);f[_+0]=u[_+0]^D,f[_+1]=u[_+1]^P,f[_+2]=u[_+2]^U,f[_+3]=u[_+3]^F,y=h[_++],m=h[_++],v=h[_++],w=h[_++]}const A=Ao*Math.floor(u.length/4);if(A<a){({s0:y,s1:m,s2:v,s3:w}=Vi(s,y,m,v,w));const _=(0,Je.u8)(new Uint32Array([y,m,v,w]));for(let D=A,P=0;D<a;D++,P++)o[D]=n[D]^_[P];(0,Je.clean)(_)}return(0,Je.clean)(...c),o}return(0,vr.bytes)(t),(0,vr.bytes)(e,16),{encrypt:(n,i)=>r(n,!0,i),decrypt:(n,i)=>r(n,!1,i)}})),wn.gcm=(0,Je.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,r){if((0,vr.bytes)(t),(0,vr.bytes)(e),r!==void 0&&(0,vr.bytes)(r),e.length<8)throw new Error("aes/gcm: invalid nonce length");const n=16;function i(a,s,l){const c=eie(G8.ghash,!1,a,l,r);for(let u=0;u<s.length;u++)c[u]^=s[u];return c}function o(){const a=gs(t),s=Nx.slice(),l=Nx.slice();if(l0(a,!1,l,l,s),e.length===12)l.set(e);else{const c=Nx.slice(),u=(0,Je.createView)(c);(0,Je.setBigUint64)(u,8,BigInt(8*e.length),!1);const f=G8.ghash.create(s).update(e).update(c);f.digestInto(l),f.destroy()}return{xk:a,authKey:s,counter:l,tagMask:l0(a,!1,l,Nx)}}return{encrypt(a){(0,vr.bytes)(a);const{xk:s,authKey:l,counter:c,tagMask:u}=o(),f=new Uint8Array(a.length+n),h=[s,l,c,u];(0,Je.isAligned32)(a)||h.push(a=(0,Je.copyBytes)(a)),l0(s,!1,c,a,f);const p=i(l,u,f.subarray(0,f.length-n));return h.push(p),f.set(p,a.length),(0,Je.clean)(...h),f},decrypt(a){if((0,vr.bytes)(a),a.length<n)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s,authKey:l,counter:c,tagMask:u}=o(),f=[s,l,u,c];(0,Je.isAligned32)(a)||f.push(a=(0,Je.copyBytes)(a));const h=a.subarray(0,-16),p=a.subarray(-16),y=i(l,u,h);if(f.push(y),!(0,Je.equalBytes)(y,p))throw new Error("aes/gcm: invalid ghash tag");const m=l0(s,!1,c,h);return(0,Je.clean)(...f),m}}}));const Rx=(t,e,r)=>n=>{if(!Number.isSafeInteger(n)||e>n||n>r)throw new Error(`${t}: invalid value=${n}, must be [${e}..${r}]`)};function tie(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function rie(t,e){if((0,vr.bytes)(e,16),!tie(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const r=(0,Je.u32)(e);let{s0:n,s1:i,s2:o,s3:a}=Vi(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=o,r[3]=a,e}function nie(t,e){if((0,vr.bytes)(e,16),!tie(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const r=(0,Je.u32)(e);let{s0:n,s1:i,s2:o,s3:a}=mw(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=o,r[3]=a,e}wn.siv=(0,Je.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,r){const n=Rx("AAD",0,68719476736),i=Rx("plaintext",0,2**36),o=Rx("nonce",12,12),a=Rx("ciphertext",16,2**36+16);function s(){const u=gs(t),f=new Uint8Array(t.length),h=new Uint8Array(16),p=[u,f];let y=e;(0,Je.isAligned32)(y)||p.push(y=(0,Je.copyBytes)(y));const m=(0,Je.u32)(y);let v=0,w=m[0],A=m[1],_=m[2],D=0;for(const U of[h,f].map(Je.u32)){const F=(0,Je.u32)(U);for(let N=0;N<F.length;N+=2){const{s0:L,s1:B}=Vi(u,v,w,A,_);F[N+0]=L,F[N+1]=B,v=++D}}const P={authKey:h,encKey:gs(f)};return(0,Je.clean)(...p),P}function l(u,f,h){const p=eie(G8.polyval,!0,f,h,r);for(let _=0;_<12;_++)p[_]^=e[_];p[15]&=127;const y=(0,Je.u32)(p);let m=y[0],v=y[1],w=y[2],A=y[3];return{s0:m,s1:v,s2:w,s3:A}=Vi(u,m,v,w,A),y[0]=m,y[1]=v,y[2]=w,y[3]=A,p}function c(u,f,h){let p=(0,Je.copyBytes)(f);p[15]|=128;const y=l0(u,!0,p,h);return(0,Je.clean)(p),y}return(0,vr.bytes)(t,16,24,32),(0,vr.bytes)(e),o(e.length),r!==void 0&&((0,vr.bytes)(r),n(r.length)),{encrypt(u){(0,vr.bytes)(u),i(u.length);const{encKey:f,authKey:h}=s(),p=l(f,h,u),y=[f,h,p];(0,Je.isAligned32)(u)||y.push(u=(0,Je.copyBytes)(u));const m=new Uint8Array(u.length+16);return m.set(p,u.length),m.set(c(f,p,u)),(0,Je.clean)(...y),m},decrypt(u){(0,vr.bytes)(u),a(u.length);const f=u.subarray(-16),{encKey:h,authKey:p}=s(),y=[h,p];(0,Je.isAligned32)(u)||y.push(u=(0,Je.copyBytes)(u));const m=c(h,f,u.subarray(0,-16)),v=l(h,p,m);if(y.push(v),!(0,Je.equalBytes)(f,v))throw(0,Je.clean)(...y),new Error("invalid polyval tag");return(0,Je.clean)(...y),m}}}));const u3={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const r=gs(t);if(e.length===16)rie(r,e);else{const n=(0,Je.u32)(e);let i=n[0],o=n[1];for(let a=0,s=1;a<6;a++)for(let l=2;l<n.length;l+=2,s++){const{s0:c,s1:u,s2:f,s3:h}=Vi(r,i,o,n[l],n[l+1]);i=c,o=u^c3(s),n[l]=f,n[l+1]=h}n[0]=i,n[1]=o}r.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const r=gw(t),n=e.length/8-1;if(n===1)nie(r,e);else{const i=(0,Je.u32)(e);let o=i[0],a=i[1];for(let s=0,l=6*n;s<6;s++)for(let c=2*n;c>=1;c-=2,l--){a^=c3(l);const{s0:u,s1:f,s2:h,s3:p}=mw(r,o,a,i[c],i[c+1]);o=u,a=f,i[c]=h,i[c+1]=p}i[0]=o,i[1]=a}r.fill(0)}},GV=new Uint8Array(8).fill(166);wn.aeskw=(0,Je.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,vr.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const r=(0,Je.concatBytes)(GV,e);return u3.encrypt(t,r),r},decrypt(e){if((0,vr.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const r=(0,Je.copyBytes)(e);if(u3.decrypt(t,r),!(0,Je.equalBytes)(r.subarray(0,8),GV))throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8)}})));const YV=2790873510;wn.aeskwp=(0,Je.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,vr.bytes)(e),!e.length)throw new Error("invalid plaintext length");const r=8*Math.ceil(e.length/8),n=new Uint8Array(8+r);n.set(e,8);const i=(0,Je.u32)(n);return i[0]=YV,i[1]=c3(e.length),u3.encrypt(t,n),n},decrypt(e){if((0,vr.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const r=(0,Je.copyBytes)(e),n=(0,Je.u32)(r);u3.decrypt(t,r);const i=c3(n[1])>>>0,o=8*Math.ceil(i/8);if(n[0]!==YV||r.length-8!==o)throw new Error("integrity check failed");for(let a=i;a<o;a++)if(r[8+a]!==0)throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8,8+i)}}))),wn.unsafe={expandKeyLE:gs,expandKeyDecLE:gw,encrypt:Vi,decrypt:mw,encryptBlock:rie,decryptBlock:nie,ctrCounter:Zne,ctr32:l0},Object.defineProperty(A0,"__esModule",{value:!0}),A0.aes256cbc=A0.aes256gcm=void 0;var iie=wn;A0.aes256gcm=function(t,e,r){return(0,iie.gcm)(t,e,r)};A0.aes256cbc=function(t,e,r){return(0,iie.cbc)(t,e)};var f3={},oie={},c0={};Object.defineProperty(c0,"__esModule",{value:!0}),c0.sigma=void 0,c0.rotl=function(t,e){return t<<e|t>>>32-e},c0.createCipher=function(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:a}=(0,Sa.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,Ll.number)(i),(0,Ll.number)(a),(0,Ll.bool)(o),(0,Ll.bool)(r),(s,l,c,u,f=0)=>{(0,Ll.bytes)(s),(0,Ll.bytes)(l),(0,Ll.bytes)(c);const h=c.length;if(u===void 0&&(u=new Uint8Array(h)),(0,Ll.bytes)(u),(0,Ll.number)(f),f<0||f>=JV)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const p=[];let y,m,v=s.length;if(v===32)p.push(y=(0,Sa.copyBytes)(s)),m=sie;else{if(v!==16||!r)throw new Error(`arx: invalid 32-byte key, got length=${v}`);y=new Uint8Array(32),y.set(s),y.set(s,16),m=S5e,p.push(y)}e6(l)||p.push(l=(0,Sa.copyBytes)(l));const w=(0,Sa.u32)(y);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(m,w,(0,Sa.u32)(l.subarray(0,16)),w),l=l.subarray(16)}const A=16-i;if(A!==l.length)throw new Error(`arx: nonce must be ${A} or 16 bytes`);if(A!==12){const D=new Uint8Array(12);D.set(l,o?0:12-l.length),l=D,p.push(l)}const _=(0,Sa.u32)(l);return(function(D,P,U,F,N,L,B,R){const b=N.length,x=new Uint8Array(Lx),I=(0,Sa.u32)(x),C=e6(N)&&e6(L),T=C?(0,Sa.u32)(N):QV,j=C?(0,Sa.u32)(L):QV;for(let O=0;O<b;B++){if(D(P,U,F,I,B,R),B>=JV)throw new Error("arx: counter overflow");const k=Math.min(Lx,b-O);if(C&&k===Lx){const E=O/4;if(O%4!=0)throw new Error("arx: invalid block position");for(let M,H=0;H<_5e;H++)M=E+H,j[M]=T[M]^I[H];O+=Lx}else{for(let E,M=0;M<k;M++)E=O+M,L[E]=N[E]^x[M];O+=k}}})(t,m,w,_,c,u,f,a),(0,Sa.clean)(...p),u}};const Ll=Mi,Sa=na,aie=t=>Uint8Array.from(t.split("").map((e=>e.charCodeAt(0)))),x5e=aie("expand 16-byte k"),E5e=aie("expand 32-byte k"),S5e=(0,Sa.u32)(x5e),sie=(0,Sa.u32)(E5e);function e6(t){return t.byteOffset%4==0}c0.sigma=sie.slice();const Lx=64,_5e=16,JV=2**32-1,QV=new Uint32Array;var fv={};Object.defineProperty(fv,"__esModule",{value:!0}),fv.poly1305=void 0,fv.wrapConstructorWithKey=lie;const Dx=Mi,Uy=na,ai=(t,e)=>255&t[e++]|(255&t[e++])<<8;class A5e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,Uy.toBytes)(e),(0,Dx.bytes)(e,32);const r=ai(e,0),n=ai(e,2),i=ai(e,4),o=ai(e,6),a=ai(e,8),s=ai(e,10),l=ai(e,12),c=ai(e,14);this.r[0]=8191&r,this.r[1]=8191&(r>>>13|n<<3),this.r[2]=7939&(n>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|l<<5),this.r[8]=8191&(l>>>8|c<<8),this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ai(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:o,r:a}=this,s=a[0],l=a[1],c=a[2],u=a[3],f=a[4],h=a[5],p=a[6],y=a[7],m=a[8],v=a[9],w=ai(e,r+0),A=ai(e,r+2),_=ai(e,r+4),D=ai(e,r+6),P=ai(e,r+8),U=ai(e,r+10),F=ai(e,r+12),N=ai(e,r+14);let L=o[0]+(8191&w),B=o[1]+(8191&(w>>>13|A<<3)),R=o[2]+(8191&(A>>>10|_<<6)),b=o[3]+(8191&(_>>>7|D<<9)),x=o[4]+(8191&(D>>>4|P<<12)),I=o[5]+(P>>>1&8191),C=o[6]+(8191&(P>>>14|U<<2)),T=o[7]+(8191&(U>>>11|F<<5)),j=o[8]+(8191&(F>>>8|N<<8)),O=o[9]+(N>>>5|i),k=0,E=k+L*s+B*(5*v)+R*(5*m)+b*(5*y)+x*(5*p);k=E>>>13,E&=8191,E+=I*(5*h)+C*(5*f)+T*(5*u)+j*(5*c)+O*(5*l),k+=E>>>13,E&=8191;let M=k+L*l+B*s+R*(5*v)+b*(5*m)+x*(5*y);k=M>>>13,M&=8191,M+=I*(5*p)+C*(5*h)+T*(5*f)+j*(5*u)+O*(5*c),k+=M>>>13,M&=8191;let H=k+L*c+B*l+R*s+b*(5*v)+x*(5*m);k=H>>>13,H&=8191,H+=I*(5*y)+C*(5*p)+T*(5*h)+j*(5*f)+O*(5*u),k+=H>>>13,H&=8191;let q=k+L*u+B*c+R*l+b*s+x*(5*v);k=q>>>13,q&=8191,q+=I*(5*m)+C*(5*y)+T*(5*p)+j*(5*h)+O*(5*f),k+=q>>>13,q&=8191;let W=k+L*f+B*u+R*c+b*l+x*s;k=W>>>13,W&=8191,W+=I*(5*v)+C*(5*m)+T*(5*y)+j*(5*p)+O*(5*h),k+=W>>>13,W&=8191;let V=k+L*h+B*f+R*u+b*c+x*l;k=V>>>13,V&=8191,V+=I*s+C*(5*v)+T*(5*m)+j*(5*y)+O*(5*p),k+=V>>>13,V&=8191;let Q=k+L*p+B*h+R*f+b*u+x*c;k=Q>>>13,Q&=8191,Q+=I*l+C*s+T*(5*v)+j*(5*m)+O*(5*y),k+=Q>>>13,Q&=8191;let te=k+L*y+B*p+R*h+b*f+x*u;k=te>>>13,te&=8191,te+=I*c+C*l+T*s+j*(5*v)+O*(5*m),k+=te>>>13,te&=8191;let X=k+L*m+B*y+R*p+b*h+x*f;k=X>>>13,X&=8191,X+=I*u+C*c+T*l+j*s+O*(5*v),k+=X>>>13,X&=8191;let Z=k+L*v+B*m+R*y+b*p+x*h;k=Z>>>13,Z&=8191,Z+=I*f+C*u+T*c+j*l+O*s,k+=Z>>>13,Z&=8191,k=(k<<2)+k|0,k=k+E|0,E=8191&k,k>>>=13,M+=k,o[0]=E,o[1]=M,o[2]=H,o[3]=q,o[4]=W,o[5]=V,o[6]=Q,o[7]=te,o[8]=X,o[9]=Z}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let s=1;s<10;s++)n[s]=e[s]+i,i=n[s]>>>13,n[s]&=8191;n[9]-=8192;let o=(1^i)-1;for(let s=0;s<10;s++)n[s]&=o;o=~o;for(let s=0;s<10;s++)e[s]=e[s]&o|n[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+r[0];e[0]=65535&a;for(let s=1;s<8;s++)a=(e[s]+r[s]|0)+(a>>>16)|0,e[s]=65535&a;(0,Uy.clean)(n)}update(e){(0,Dx.exists)(this);const{buffer:r,blockLen:n}=this,i=(e=(0,Uy.toBytes)(e)).length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);if(a!==n)r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0);else for(;n<=i-o;o+=n)this.process(e,o)}return this}destroy(){(0,Uy.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,Dx.exists)(this),(0,Dx.output)(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)e[o++]=n[a]>>>0,e[o++]=n[a]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function lie(t){const e=(n,i)=>t(i).update((0,Uy.toBytes)(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}fv.poly1305=lie((t=>new A5e(t))),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=a;const e=c0,r=Mi,n=fv,i=na;function o(f,h,p,y,m,v=20){let w=f[0],A=f[1],_=f[2],D=f[3],P=h[0],U=h[1],F=h[2],N=h[3],L=h[4],B=h[5],R=h[6],b=h[7],x=m,I=p[0],C=p[1],T=p[2],j=w,O=A,k=_,E=D,M=P,H=U,q=F,W=N,V=L,Q=B,te=R,X=b,Z=x,ae=I,he=C,se=T;for(let oe=0;oe<v;oe+=2)j=j+M|0,Z=(0,e.rotl)(Z^j,16),V=V+Z|0,M=(0,e.rotl)(M^V,12),j=j+M|0,Z=(0,e.rotl)(Z^j,8),V=V+Z|0,M=(0,e.rotl)(M^V,7),O=O+H|0,ae=(0,e.rotl)(ae^O,16),Q=Q+ae|0,H=(0,e.rotl)(H^Q,12),O=O+H|0,ae=(0,e.rotl)(ae^O,8),Q=Q+ae|0,H=(0,e.rotl)(H^Q,7),k=k+q|0,he=(0,e.rotl)(he^k,16),te=te+he|0,q=(0,e.rotl)(q^te,12),k=k+q|0,he=(0,e.rotl)(he^k,8),te=te+he|0,q=(0,e.rotl)(q^te,7),E=E+W|0,se=(0,e.rotl)(se^E,16),X=X+se|0,W=(0,e.rotl)(W^X,12),E=E+W|0,se=(0,e.rotl)(se^E,8),X=X+se|0,W=(0,e.rotl)(W^X,7),j=j+H|0,se=(0,e.rotl)(se^j,16),te=te+se|0,H=(0,e.rotl)(H^te,12),j=j+H|0,se=(0,e.rotl)(se^j,8),te=te+se|0,H=(0,e.rotl)(H^te,7),O=O+q|0,Z=(0,e.rotl)(Z^O,16),X=X+Z|0,q=(0,e.rotl)(q^X,12),O=O+q|0,Z=(0,e.rotl)(Z^O,8),X=X+Z|0,q=(0,e.rotl)(q^X,7),k=k+W|0,ae=(0,e.rotl)(ae^k,16),V=V+ae|0,W=(0,e.rotl)(W^V,12),k=k+W|0,ae=(0,e.rotl)(ae^k,8),V=V+ae|0,W=(0,e.rotl)(W^V,7),E=E+M|0,he=(0,e.rotl)(he^E,16),Q=Q+he|0,M=(0,e.rotl)(M^Q,12),E=E+M|0,he=(0,e.rotl)(he^E,8),Q=Q+he|0,M=(0,e.rotl)(M^Q,7);let ne=0;y[ne++]=w+j|0,y[ne++]=A+O|0,y[ne++]=_+k|0,y[ne++]=D+E|0,y[ne++]=P+M|0,y[ne++]=U+H|0,y[ne++]=F+q|0,y[ne++]=N+W|0,y[ne++]=L+V|0,y[ne++]=B+Q|0,y[ne++]=R+te|0,y[ne++]=b+X|0,y[ne++]=x+Z|0,y[ne++]=I+ae|0,y[ne++]=C+he|0,y[ne++]=T+se|0}function a(f,h,p,y){let m=f[0],v=f[1],w=f[2],A=f[3],_=h[0],D=h[1],P=h[2],U=h[3],F=h[4],N=h[5],L=h[6],B=h[7],R=p[0],b=p[1],x=p[2],I=p[3];for(let T=0;T<20;T+=2)m=m+_|0,R=(0,e.rotl)(R^m,16),F=F+R|0,_=(0,e.rotl)(_^F,12),m=m+_|0,R=(0,e.rotl)(R^m,8),F=F+R|0,_=(0,e.rotl)(_^F,7),v=v+D|0,b=(0,e.rotl)(b^v,16),N=N+b|0,D=(0,e.rotl)(D^N,12),v=v+D|0,b=(0,e.rotl)(b^v,8),N=N+b|0,D=(0,e.rotl)(D^N,7),w=w+P|0,x=(0,e.rotl)(x^w,16),L=L+x|0,P=(0,e.rotl)(P^L,12),w=w+P|0,x=(0,e.rotl)(x^w,8),L=L+x|0,P=(0,e.rotl)(P^L,7),A=A+U|0,I=(0,e.rotl)(I^A,16),B=B+I|0,U=(0,e.rotl)(U^B,12),A=A+U|0,I=(0,e.rotl)(I^A,8),B=B+I|0,U=(0,e.rotl)(U^B,7),m=m+D|0,I=(0,e.rotl)(I^m,16),L=L+I|0,D=(0,e.rotl)(D^L,12),m=m+D|0,I=(0,e.rotl)(I^m,8),L=L+I|0,D=(0,e.rotl)(D^L,7),v=v+P|0,R=(0,e.rotl)(R^v,16),B=B+R|0,P=(0,e.rotl)(P^B,12),v=v+P|0,R=(0,e.rotl)(R^v,8),B=B+R|0,P=(0,e.rotl)(P^B,7),w=w+U|0,b=(0,e.rotl)(b^w,16),F=F+b|0,U=(0,e.rotl)(U^F,12),w=w+U|0,b=(0,e.rotl)(b^w,8),F=F+b|0,U=(0,e.rotl)(U^F,7),A=A+_|0,x=(0,e.rotl)(x^A,16),N=N+x|0,_=(0,e.rotl)(_^N,12),A=A+_|0,x=(0,e.rotl)(x^A,8),N=N+x|0,_=(0,e.rotl)(_^N,7);let C=0;y[C++]=m,y[C++]=v,y[C++]=w,y[C++]=A,y[C++]=R,y[C++]=b,y[C++]=x,y[C++]=I}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:a,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const s=new Uint8Array(16),l=(f,h)=>{f.update(h);const p=h.length%16;p&&f.update(s.subarray(p))},c=new Uint8Array(32);function u(f,h,p,y,m){const v=f(h,p,c),w=n.poly1305.create(v);m&&l(w,m),l(w,y);const A=new Uint8Array(16),_=(0,i.createView)(A);(0,i.setBigUint64)(_,0,BigInt(m?m.length:0),!0),(0,i.setBigUint64)(_,8,BigInt(y.length),!0),w.update(A);const D=w.digest();return(0,i.clean)(v,A),D}t._poly1305_aead=f=>(h,p,y)=>((0,r.bytes)(h,32),(0,r.bytes)(p),{encrypt(v,w){const A=v.length,_=A+16;w?(0,r.bytes)(w,_):w=new Uint8Array(_),f(h,p,v,w,1);const D=u(f,h,p,w.subarray(0,-16),y);return w.set(D,A),(0,i.clean)(D),w},decrypt(v,w){const A=v.length,_=A-16;if(A<16)throw new Error("encrypted data must be at least 16 bytes");w?(0,r.bytes)(w,_):w=new Uint8Array(_);const D=v.subarray(0,-16),P=v.subarray(-16),U=u(f,h,p,D,y);if(!(0,i.equalBytes)(P,U))throw new Error("invalid tag");return f(h,p,D,w,1),(0,i.clean)(U),w}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))})(oie),Object.defineProperty(f3,"__esModule",{value:!0}),f3.xchacha20=void 0;var Fp,XV,Cy,C5e=oie;f3.xchacha20=function(t,e,r){return(0,C5e.xchacha20poly1305)(t,e,r)},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=na,r=l9,n=A0,i=f3,o=hw,a=Vn;t.symEncrypt=function(u,f,h){return s(l,u,f,h)};function s(u,f,h,p){var y=(0,o.symmetricAlgorithm)();if(y==="aes-256-gcm")return u(n.aes256gcm,f,h,(0,o.symmetricNonceLength)(),a.AEAD_TAG_LENGTH,p);if(y==="xchacha20")return u(i.xchacha20,f,h,a.XCHACHA20_NONCE_LENGTH,a.AEAD_TAG_LENGTH,p);if(y==="aes-256-cbc")return u(n.aes256cbc,f,h,16,0);throw new Error("Not implemented")}function l(u,f,h,p,y,m){var v=(0,r.randomBytes)(p),w=u(f,v,m).encrypt(h);if(y===0)return(0,e.concatBytes)(v,w);var A=w.length-y,_=w.subarray(0,A),D=w.subarray(A);return(0,e.concatBytes)(v,D,_)}function c(u,f,h,p,y,m){var v=h.subarray(0,p),w=u(f,Uint8Array.from(v),m),A=h.subarray(p);if(y===0)return w.decrypt(A);var _=A.subarray(0,y),D=A.subarray(y);return w.decrypt((0,e.concatBytes)(D,_))}t.symDecrypt=function(u,f,h){return s(c,u,f,h)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt})(HV),Fp=l_,XV=ja&&ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cy=ja&&ja.__exportStar||function(t,e){for(var r in t)r==="default"||Object.prototype.hasOwnProperty.call(e,r)||XV(e,t,r)},Object.defineProperty(Fp,"__esModule",{value:!0}),Cy(une,Fp),Cy(Wne,Fp),Cy(K8,Fp),Cy(HV,Fp);var yw={};Object.defineProperty(yw,"__esModule",{value:!0}),yw.PublicKey=void 0;var ZV=na,Bx=l_,O5e=(function(){function t(e){this.data=(0,Bx.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,Bx.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return ze.from((0,Bx.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return ze.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,ZV.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,r){r===void 0&&(r=!1);var n=r?this.data:this.uncompressed,i=e.multiply(this,r);return(0,Bx.getSharedKey)(n,i)},t.prototype.equals=function(e){return(0,ZV.equalBytes)(this.data,e.data)},t})();yw.PublicKey=O5e,Object.defineProperty(o3,"__esModule",{value:!0}),o3.PrivateKey=void 0;var eG=na,Up=l_,I5e=yw,P5e=(function(){function t(e){if(e===void 0)this.data=(0,Up.getValidSecret)();else{if(!(0,Up.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new I5e.PublicKey((0,Up.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,Up.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return ze.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,eG.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,r){r===void 0&&(r=!1);var n=r?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,r);return(0,Up.getSharedKey)(n,i)},t.prototype.multiply=function(e,r){return r===void 0&&(r=!1),(0,Up.getSharedPoint)(this.data,e.compressed,r)},t.prototype.equals=function(e){return(0,eG.equalBytes)(this.data,e.data)},t})();o3.PrivateKey=P5e,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=o3;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var r=yw;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return r.PublicKey}})})($T),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(s,l){var c=new n.PrivateKey,u=s instanceof Uint8Array?new n.PublicKey(s):n.PublicKey.fromHex(s),f=c.encapsulate(u,(0,r.isHkdfKeyCompressed)()),h=(0,r.isEphemeralKeyCompressed)()?c.publicKey.compressed:c.publicKey.uncompressed,p=(0,i.symEncrypt)(f,l);return ze.from((0,e.concatBytes)(h,p))},t.decrypt=function(s,l){var c=s instanceof Uint8Array?new n.PrivateKey(s):n.PrivateKey.fromHex(s),u=(0,r.ephemeralKeySize)(),f=new n.PublicKey(l.subarray(0,u)),h=l.subarray(u),p=f.decapsulate(c,(0,r.isHkdfKeyCompressed)());return ze.from((0,i.symDecrypt)(p,h))};var e=na,r=hw,n=$T,i=l_,o=hw;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var a=$T;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return a.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}})(Gp);const cie=Ji("KeyExchange:Layer"),uie=Ji("SocketService:Layer"),fie=Ji("Ecies:Layer"),die=Ji("RemoteCommunication:Layer");cie.color="##95c44e",uie.color="#f638d7",fie.color="#465b9c",die.color="#47a2be";const De={KeyExchange:cie,SocketService:uie,Ecies:fie,RemoteCommunication:die};let Oy,jx=[],t6=[];const Tc=(t,e)=>qe(void 0,void 0,void 0,(function*(){Oy=e,t6.push(t),(function(r){return qe(this,void 0,void 0,(function*(){if(!Oy||!r)return;(function(){const a=t6;t6=jx,jx=a})();const n=Oy.endsWith("/")?`${Oy}evt`:`${Oy}/evt`,i=Object.assign({},r);if(delete i.params,r.params)for(const[a,s]of Object.entries(r.params))i[a]=s;const o=JSON.stringify(i);De.RemoteCommunication(`[sendBufferedEvents] Sending ${jx.length} analytics events to ${n}`);try{const a=yield Vre(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),s=yield a.text();De.RemoteCommunication(`[sendBufferedEvents] Response: ${s}`),jx.length=0}catch{}}))})(t).catch((()=>{}))}));class r6{constructor(e){this.enabled=!0,e!=null&&e.debug&&Ji.enable("Ecies:Layer"),this.ecies=e!=null&&e.privateKey?Gp.PrivateKey.fromHex(e.privateKey):new Gp.PrivateKey,De.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),De.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),De.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Gp.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,r){let n=e;if(this.enabled)try{De.Ecies("[ECIES: encrypt()] using otherPublicKey",r);const i=ze.from(e),o=Gp.encrypt(r,i);n=ze.from(o).toString("base64")}catch(i){throw De.Ecies("[ECIES: encrypt()] error encrypt:",i),De.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),De.Ecies("[ECIES: encrypt()] data: ",e),De.Ecies("[ECIES: encrypt()] otherkey: ",r),i}return n}decrypt(e){let r=e;if(this.enabled)try{De.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const n=ze.from(e.toString(),"base64");r=Gp.decrypt(this.ecies.toHex(),n).toString()}catch(n){throw De.Ecies("[ECIES: decrypt()] error decrypt",n),De.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),De.Ecies("[ECIES: decrypt()] encryptedData: ",e),n}return r}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){De.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var Df={version:"0.33.1"};const Wg="https://metamask-sdk.api.cx.metamask.io/",k5e=["websocket"],Kg=6048e5,T5e=3e3,_i={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},M5e=[_i.METAMASK_CONNECTSIGN,_i.METAMASK_CONNECTWITH,_i.METAMASK_OPEN,_i.METAMASK_BATCH,_i.PERSONAL_SIGN,_i.WALLET_REQUESTPERMISSIONS,_i.WALLET_REVOKEPERMISSIONS,_i.WALLET_WATCHASSET,_i.ETH_SENDTRANSACTION,_i.ETH_SIGNTYPEDDATA,_i.ETH_SIGNTYPEDDATA_V3,_i.ETH_SIGNTYPEDDATA_V4,_i.ETH_SIGNTRANSACTION,_i.ETH_SIGN,_i.PERSONAL_EC_RECOVER];function vb(t){return M5e.includes(t)}function hie(t){const{context:e}=t;De.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var di,Xe,d3,Tr,hn,On,Hp;(Hp=di||(di={})).DISCONNECTED="disconnected",Hp.WAITING="waiting",Hp.TIMEOUT="timeout",Hp.LINKED="linked",Hp.PAUSED="paused",Hp.TERMINATED="terminated",(function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"})(Xe||(Xe={})),(d3||(d3={})).KEY_EXCHANGE="key_exchange",(function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"})(Tr||(Tr={}));class N5e extends o_.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:r,context:n,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=Tr.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n,this.communicationLayer=e,i!=null&&i.privateKey&&r&&(De.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${r} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new r6(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,r&&this.setOtherPublicKey(r),this.communicationLayer.on(d3.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:r}=this.communicationLayer.remote.state;if(De.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${r}`,e),r)return void De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:n}=e;this.keysExchanged&&De.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Xe.KEY_INFO,n.type),n.type===Tr.KEY_HANDSHAKE_SYN?(this.checkStep([Tr.KEY_HANDSHAKE_NONE,Tr.KEY_HANDSHAKE_ACK]),De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",n),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:Tr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((i=>{De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)})),this.setStep(Tr.KEY_HANDSHAKE_ACK)):n.type===Tr.KEY_HANDSHAKE_SYNACK?(this.checkStep([Tr.KEY_HANDSHAKE_SYNACK,Tr.KEY_HANDSHAKE_ACK,Tr.KEY_HANDSHAKE_NONE]),De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:Tr.KEY_HANDSHAKE_ACK}).catch((i=>{De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)})),this.keysExchanged=!0,this.setStep(Tr.KEY_HANDSHAKE_ACK),this.emit(Xe.KEYS_EXCHANGED)):n.type===Tr.KEY_HANDSHAKE_ACK&&(De.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Tr.KEY_HANDSHAKE_ACK,Tr.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Tr.KEY_HANDSHAKE_ACK),this.emit(Xe.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new r6(e)}clean(){De.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Tr.KEY_HANDSHAKE_NONE),this.emit(Xe.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:r}){const{relayPersistence:n,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;n?De.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(De.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${r} relayPersistence=${n} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==Tr.KEY_HANDSHAKE_NONE&&this.step!==Tr.KEY_HANDSHAKE_SYNACK)||r?(De.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${r}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Tr.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Tr.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((a=>{De.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",a)}))):De.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&r!==!0?De.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:Tr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((a=>{De.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",a)})):(this.communicationLayer.sendMessage({type:Tr.KEY_HANDSHAKE_START}).catch((a=>{De.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",a)})),this.clean()))}setStep(e){this.step=e,this.emit(Xe.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:r}){this.otherPublicKey=r,this.myECIES=new r6({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){De.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(hn||(hn={})),(function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"})(On||(On={}));const x2=(t,e,r)=>qe(void 0,void 0,void 0,(function*(){var n,i,o,a,s,l;const{remote:c,state:u}=t,{channelId:f,isOriginator:h}=u;if(e==="error_terminated")return De.SocketService(`handleJoinChannelResults: Channel ${f} terminated`),void t.emit(Xe.TERMINATE);if(!r)return void De.SocketService(`handleJoinChannelResults: No result for channel ${f}`);const{persistence:p,walletKey:y,rejected:m}=r;if(De.SocketService(`handleJoinChannelResults: Channel ${f} persistence=${p} walletKey=${y} rejected=${m}`),m)return De.SocketService(`handleJoinChannelResults: Channel ${f} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Xe.REJECTED,{channelId:f}),void t.remote.emitServiceStatusEvent();if(y&&!(!((n=c.state.channelConfig)===null||n===void 0)&&n.otherKey)){t.getKeyExchange().setOtherPublicKey(y),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(Xe.AUTHORIZED);const{communicationLayer:v,storageManager:w}=c.state,A=Object.assign(Object.assign({},c.state.channelConfig),{channelId:(o=c.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+Kg,localKey:v==null?void 0:v.getKeyInfo().ecies.private,otherKey:y});t.sendMessage({type:Tr.KEY_HANDSHAKE_ACK}).catch((_=>{})),(a=t.state.socket)===null||a===void 0||a.emit(hn.PING,{id:f,clientType:h?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield w==null?void 0:w.persistChannelConfig(A),c.emitServiceStatusEvent(),c.setConnectionStatus(di.LINKED)}p&&(t.emit(Xe.CHANNEL_PERSISTENCE),(s=t.state.keyExchange)===null||s===void 0||s.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(Xe.AUTHORIZED),Tc(Object.assign(Object.assign({id:f??"",event:h?On.CONNECTED:On.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Df.version,walletVersion:(l=t.remote.state.walletInfo)===null||l===void 0?void 0:l.version}),u.communicationServerUrl).catch((v=>{})))})),O0=t=>new Promise((e=>{setTimeout(e,t)})),tG=(t,e,...r)=>qe(void 0,[t,e,...r],void 0,(function*(n,i,o=200){let a;const s=Date.now();let l=!1;for(;!l;){if(l=Date.now()-s>3e5,a=i[n],a.elapsedTime!==void 0)return a;yield O0(o)}throw new Error(`RPC ${n} timed out`)})),J8=t=>qe(void 0,void 0,void 0,(function*(){const{state:e}=t,{socket:r,channelId:n,context:i,isOriginator:o,isReconnecting:a}=e;if(a)return De.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!r)return De.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!n)return!1;const{connected:s}=r;e.isReconnecting=!0,e.reconnectionAttempts=0,De.SocketService(`[SocketService: reconnectSocket()] connected=${s} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(De.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield O0(200),r.connected)return De.SocketService("Socket already connected --- ping to retrieve messages"),r.emit(hn.PING,{id:n,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,r.connect(),t.emit(Xe.SOCKET_RECONNECT);try{if(yield new Promise(((l,c)=>{r.emit(Xe.JOIN_CHANNEL,{channelId:n,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},((u,f)=>qe(void 0,void 0,void 0,(function*(){try{yield x2(t,u,f),l()}catch(h){c(h)}}))))})),yield O0(100),r.connected)return De.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(l){De.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,l)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield O0(200))}return De.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}}));function pie(t,e){return qe(this,void 0,void 0,(function*(){var r;const n=(r=t.state.keyExchange)===null||r===void 0?void 0:r.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:n,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return De.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===hn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise(((o,a)=>{var s;(s=t.state.socket)===null||s===void 0||s.emit(Xe.MESSAGE,i,((l,c)=>{var u;l&&(De.SocketService(`[SocketService: encryptAndSendMessage()] error=${l}`),a(l)),De.SocketService("[encryptAndSendMessage] response",c),o((u=c==null?void 0:c.success)!==null&&u!==void 0&&u)}))}))}))}var u0;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(u0||(u0={}));const gie=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map((t=>t.toLowerCase())),R5e=[{event:Xe.CLIENTS_CONNECTED,handler:function(t,e){return r=>qe(this,void 0,void 0,(function*(){var n,i,o,a,s,l,c,u,f,h,p;const y=(i=(n=t.remote.state.channelConfig)===null||n===void 0?void 0:n.relayPersistence)!==null&&i!==void 0&&i;if(De.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${y} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Xe.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(De.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} -- backward compatibility`),(l=t.state.keyExchange)===null||l===void 0||l.start({isOriginator:(c=t.state.isOriginator)!==null&&c!==void 0&&c})),t.state.resumed=!1;else if(t.state.clientsPaused)De.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const m=!y;De.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${m} -- backward compatibility`),De.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(f=t.state.keyExchange)===null||f===void 0?void 0:f.areKeysExchanged()} -- force=${m} -- backward compatibility`),(h=t.state.keyExchange)===null||h===void 0||h.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p,force:m})}t.state.clientsConnected=!0,t.state.clientsPaused=!1}))}},{event:Xe.CHANNEL_CREATED,handler:function(t,e){return r=>{De.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,r),t.emit(Xe.CHANNEL_CREATED,r)}}},{event:Xe.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var r;t.state.clientsConnected=!1,De.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?De.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((r=t.state.keyExchange)===null||r===void 0||r.clean()),t.emit(Xe.CLIENTS_DISCONNECTED,e))}}},{event:Xe.CONFIG,handler:function(t,e){return r=>qe(this,void 0,void 0,(function*(){var n,i,o;De.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,r);const{persistence:a,walletKey:s}=r;t.state.isOriginator&&t.remote.state.channelConfig?(r.walletKey&&!t.remote.state.channelConfig.otherKey&&(De.SocketService(`Setting wallet key ${s}`),t.remote.state.channelConfig.otherKey=s,t.getKeyExchange().setOtherPublicKey(r.walletKey),(n=t.state.keyExchange)===null||n===void 0||n.setKeysExchanged(!0),yield t.remote.sendMessage({type:Tr.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:hn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),a!==!0||t.remote.state.channelConfig.relayPersistence||(De.SocketService(`Setting relay persistence ${a}`),t.remote.state.channelConfig.relayPersistence=a,t.remote.state.relayPersistence=!0,t.remote.emit(Xe.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Xe.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||r.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Xe.CHANNEL_PERSISTENCE))}))}},{event:Xe.MESSAGE,handler:function(t,e){return r=>{var n,i,o,a,s,l,c,u,f,h,p,y,m,v,w,A,_,D;const{ackId:P,message:U,error:F}=r,N=(n=t.remote.state.relayPersistence)!==null&&n!==void 0&&n;if(De.SocketService(`[SocketService handleMessage()]  relayPersistence=${N}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),F)throw De.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${F}`),new Error(F);const L=typeof U=="string";if(!L&&(U==null?void 0:U.type)===Tr.KEY_HANDSHAKE_START)return N?void 0:(De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,U),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(a=t.state.isOriginator)!==null&&a!==void 0&&a,force:!0})));if(!L&&(!((s=U==null?void 0:U.type)===null||s===void 0)&&s.startsWith("key_handshake")))return N?void 0:(De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,U),void t.emit(d3.KEY_EXCHANGE,{message:U,context:t.state.context}));if(L&&!(!((l=t.state.keyExchange)===null||l===void 0)&&l.areKeysExchanged())){let b=!1;try{De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(c=t.state.keyExchange)===null||c===void 0||c.decryptMessage(U),b=!0}catch(x){De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,x)}if(!b)return t.state.isOriginator?(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(h=t.state.isOriginator)!==null&&h!==void 0&&h}):t.sendMessage({type:Tr.KEY_HANDSHAKE_START}).catch((x=>{})),void De.SocketService(`Message ignored because invalid key exchange status. step=${(p=t.state.keyExchange)===null||p===void 0?void 0:p.getKeyInfo().step}`,(y=t.state.keyExchange)===null||y===void 0?void 0:y.getKeyInfo(),U);De.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!L&&(U!=null&&U.type))return void t.emit(Xe.MESSAGE,U);if(!L)return void t.emit(Xe.MESSAGE,U);const B=(m=t.state.keyExchange)===null||m===void 0?void 0:m.decryptMessage(U),R=JSON.parse(B??"{}");if(P&&(P==null?void 0:P.length)>0&&(De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${P} channelId=${e}`),(v=t.state.socket)===null||v===void 0||v.emit(Xe.MESSAGE_ACK,{ackId:P,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=(R==null?void 0:R.type)===hn.PAUSE,t.state.isOriginator&&R.data){const b=R.data,x=t.state.rpcMethodTracker[b.id];if(x){const I=Date.now()-x.timestamp;De.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${b.id} method=${x.method} responseTime=${I}`,R),t.remote.state.analytics&&gie.includes(x.method.toLowerCase())&&Tc(Object.assign(Object.assign({id:(w=t.remote.state.channelId)!==null&&w!==void 0?w:"",event:On.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:Df.version},t.remote.state.originatorInfo),{walletVersion:(A=t.remote.state.walletInfo)===null||A===void 0?void 0:A.version,params:{method:x.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch((T=>{})),vb(x.method)&&_n.analytics.track(b.error?b.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:x.method});const C=Object.assign(Object.assign({},x),{result:b.result,error:b.error?{code:(_=b.error)===null||_===void 0?void 0:_.code,message:(D=b.error)===null||D===void 0?void 0:D.message}:void 0,elapsedTime:I});t.state.rpcMethodTracker[b.id]=C,t.emit(Xe.RPC_UPDATE,C)}}t.emit(Xe.MESSAGE,{message:R})}}},{event:Xe.REJECTED,handler:function(t,e){return r=>qe(this,void 0,void 0,(function*(){var n;t.state.isOriginator&&!t.remote.state.ready?(De.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),Tc(Object.assign(Object.assign({id:e,event:On.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Df.version,walletVersion:(n=t.remote.state.walletInfo)===null||n===void 0?void 0:n.version}),t.remote.state.communicationServerUrl).catch((i=>{})),_n.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Xe.REJECTED,{channelId:e}),t.remote.setConnectionStatus(di.DISCONNECTED)):De.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)}))}},{event:"clients_waiting_to_join",handler:function(t,e){return r=>{De.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,r),t.emit(Xe.CLIENTS_WAITING,r)}}}],L5e=[{event:Xe.KEY_INFO,handler:function(t){return e=>{De.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(Xe.KEY_INFO,e)}}},{event:Xe.KEYS_EXCHANGED,handler:function(t){return()=>{var e,r,n;De.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const a=t.getKeyExchange().getKeyInfo().ecies;i.localKey=a.private,i.otherKey=a.otherPubKey,t.remote.state.channelConfig=i,(r=t.remote.state.storageManager)===null||r===void 0||r.persistChannelConfig(i).catch((s=>{}))}t.emit(Xe.KEYS_EXCHANGED,{keysExchanged:(n=t.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged(),isOriginator:t.state.isOriginator});const o={keyInfo:t.getKeyInfo()};t.emit(Xe.SERVICE_STATUS,o)}}}];function rG(t,e){De.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:r}=t.state,{keyExchange:n}=t.state;r&&t.state.isOriginator&&(t.state.debug&&(r==null||r.io.on("error",(i=>{De.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)})),r==null||r.io.on("reconnect",(i=>{De.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),J8(t).catch((o=>{}))})),r==null||r.io.on("reconnect_error",(i=>{De.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)})),r==null||r.io.on("reconnect_failed",(()=>{De.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)}))),r==null||r.on("disconnect",(i=>(De.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),(function(o){return a=>{De.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,a),o.state.manualDisconnect||(o.emit(Xe.SOCKET_DISCONNECTED),J8(o).catch((s=>{})))}})(t)(i))))),R5e.forEach((({event:i,handler:o})=>{r==null||r.on(`${i}-${e}`,o(t,e))})),L5e.forEach((({event:i,handler:o})=>{n==null||n.on(i,o(t))})),t.state.setupChannelListeners=!0}class D5e extends o_.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:r,communicationLayerPreference:n,communicationServerUrl:i,context:o,remote:a,logging:s}=e;this.state.resumed=r,this.state.context=o,this.state.isOriginator=a.state.isOriginator,this.state.communicationLayerPreference=n,this.state.debug=(s==null?void 0:s.serviceLayer)===!0,this.remote=a,(s==null?void 0:s.serviceLayer)===!0&&Ji.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==Wg&&(s==null?void 0:s.plaintext)===!0,De.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:r,ecies:n,logging:i}=this.options,o={autoConnect:!1,transports:k5e,withCredentials:!0},a=this.state.communicationServerUrl;De.SocketService(`[SocketService: initSocket()] Socket IO url: ${a}`),this.state.socket=lv(a,o),(function(l){if(typeof window<"u"&&typeof document<"u"&&(De.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,l),!l.state.focusListenerAdded)){const c=()=>{De.SocketService("Document has focus --- reconnecting socket"),J8(l).catch((u=>{}))};window.addEventListener("focus",c),l.state.focusListenerAdded=!0,l.state.removeFocusListener=()=>{window.removeEventListener("focus",c),l.state.focusListenerAdded=!1}}})(this);const s={communicationLayer:this,otherPublicKey:r,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:n,logging:i};this.state.keyExchange=new N5e(s)}resetKeys(){return De.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return qe(this,void 0,void 0,(function*(){return(function(e){return qe(this,void 0,void 0,(function*(){var r,n,i;if(De.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(r=e.state.socket)===null||r===void 0?void 0:r.connected)throw new Error("socket already connected");(n=e.state.socket)===null||n===void 0||n.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const o=Wu();e.state.channelId=o,rG(e,o),yield new Promise(((s,l)=>{var c;(c=e.state.socket)===null||c===void 0||c.emit(Xe.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},((u,f)=>qe(this,void 0,void 0,(function*(){try{yield x2(e,u,f),s()}catch(h){l(h)}}))))}));const a=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(a==null?void 0:a.ecies.public)||"",privKey:(a==null?void 0:a.ecies.private)||""}}))})(this)}))}connectToChannel({channelId:e,withKeyExchange:r=!1,authorized:n}){return(function(i){return qe(this,arguments,void 0,(function*({options:o,instance:a}){const{channelId:s,authorized:l,withKeyExchange:c}=o,{state:u,remote:f}=a,{isOriginator:h=!1,socket:p,keyExchange:y}=u,{channelConfig:m}=f.state;if(p!=null&&p.connected)throw new Error("socket already connected");if(h&&(m!=null&&m.relayPersistence)){const{localKey:v,otherKey:w}=m;v&&w&&(y==null||y.setRelayPersistence({localKey:v,otherKey:w}))}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:c,isOriginator:h,channelId:s}),p==null||p.connect(),rG(a,s),!h&&l&&(y==null||y.setKeysExchanged(!0),Object.assign(f.state,{ready:!0,authorized:!0})),new Promise((v=>{var w;const A=(w=y==null?void 0:y.getKeyInfo())===null||w===void 0?void 0:w.ecies.public;p==null||p.emit(Xe.JOIN_CHANNEL,{channelId:s,context:`${u.context}_connectToChannel`,clientType:h?"dapp":"wallet",publicKey:l&&!h?A:void 0},((_,D)=>qe(this,void 0,void 0,(function*(){yield x2(a,_,D),v()}))))}))}))})({options:{channelId:e,withKeyExchange:r,authorized:n},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,r;(r=(e=this).state.socket)===null||r===void 0||r.emit(Xe.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:Tr.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return qe(this,void 0,void 0,(function*(){return(function(r,n){return qe(this,void 0,void 0,(function*(){var i,o,a;if(!r.state.channelId)throw De.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(De.SocketService(`[SocketService: handleSendMessage()] context=${r.state.context} areKeysExchanged=${(i=r.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),(o=n==null?void 0:n.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return(function(l,c){var u;De.SocketService(`[SocketService: handleKeyHandshake()] context=${l.state.context}`,c),(u=l.state.socket)===null||u===void 0||u.emit(Xe.MESSAGE,{id:l.state.channelId,context:l.state.context,clientType:l.state.isOriginator?"dapp":"wallet",message:c})})(r,n),!0;(function(l,c){var u;if(!(!((u=l.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!l.remote.state.relayPersistence)throw De.SocketService(`[SocketService: validateKeyExchange()] context=${l.state.context} ERROR keys not exchanged`,c),new Error("Keys not exchanged BBB")})(r,n),(function(l,c){var u;const f=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"",h=c==null?void 0:c.id;l.state.isOriginator&&h&&(l.state.rpcMethodTracker[h]={id:h,timestamp:Date.now(),method:f},l.emit(Xe.RPC_UPDATE,l.state.rpcMethodTracker[h]))})(r,n);const s=yield pie(r,n);return r.remote.state.analytics&&r.remote.state.isOriginator&&n.method&&gie.includes(n.method.toLowerCase())&&Tc({id:(a=r.remote.state.channelId)!==null&&a!==void 0?a:"",event:On.SDK_RPC_REQUEST,params:{method:n.method,from:"mobile"}},r.remote.state.communicationServerUrl).catch((l=>{})),r.remote.state.isOriginator&&n.method&&vb(n.method)&&_n.analytics.track("sdk_action_requested",{action:n.method}),(function(l,c){return qe(this,void 0,void 0,(function*(){var u;const f=c==null?void 0:c.id,h=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"";if(l.state.isOriginator&&f)try{const p=tG(f,l.state.rpcMethodTracker,200).then((v=>({type:u0.RPC_CHECK,result:v}))),y=qe(this,void 0,void 0,(function*(){const v=yield(A=>qe(void 0,[A],void 0,(function*({rpcId:_,instance:D}){for(;D.state.lastRpcId===_||D.state.lastRpcId===void 0;)yield O0(200);return D.state.lastRpcId})))({instance:l,rpcId:f}),w=yield tG(v,l.state.rpcMethodTracker,200);return{type:u0.SKIPPED_RPC,result:w}})),m=yield Promise.race([p,y]);if(m.type===u0.RPC_CHECK){const v=m.result;De.SocketService(`[SocketService:handleRpcReplies()] id=${c.id} ${h} ( ${v.elapsedTime} ms)`,v.result)}else{if(m.type!==u0.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${f}`);{const v=Object.assign(Object.assign({},l.state.rpcMethodTracker[f]),{error:new Error("SDK_CONNECTION_ISSUE")});l.emit(Xe.RPC_UPDATE,v);const w={data:Object.assign(Object.assign({},v),{jsonrpc:"2.0"}),name:"metamask-provider"};l.emit(Xe.MESSAGE,{message:w})}}}catch(p){throw p}}))})(r,n).catch((l=>{})),s}))})(this,e)}))}ping(){return(function(e){return qe(this,void 0,void 0,(function*(){var r,n;De.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(r=e.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged()}`),(n=e.state.socket)===null||n===void 0||n.emit(hn.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})}))})(this)}pause(){return(function(e){return qe(this,void 0,void 0,(function*(){var r,n;De.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((r=e.state.keyExchange)===null||r===void 0)&&r.areKeysExchanged()&&(yield e.sendMessage({type:hn.PAUSE})),(n=e.state.socket)===null||n===void 0||n.disconnect()}))})(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return(function(e){return qe(this,void 0,void 0,(function*(){const{state:r,remote:n}=e,{socket:i,channelId:o,context:a,keyExchange:s,isOriginator:l}=r,{isOriginator:c}=n.state;if(De.SocketService(`[SocketService: resume()] channelId=${o} context=${a} connected=${i==null?void 0:i.connected} manualDisconnect=${r.manualDisconnect} resumed=${r.resumed} keysExchanged=${s==null?void 0:s.areKeysExchanged()}`),!o)throw De.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(De.SocketService("[SocketService: resume()] already connected."),i.emit(hn.PING,{id:o,clientType:c?"dapp":"wallet",context:"on_channel_config",message:""}),n.hasRelayPersistence()||s!=null&&s.areKeysExchanged()||(l?yield e.sendMessage({type:hn.READY}):s==null||s.start({isOriginator:!1}))):(i==null||i.connect(),De.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(Xe.JOIN_CHANNEL,{channelId:o,context:`${a}_resume`,clientType:c?"dapp":"wallet"},((u,f)=>qe(this,void 0,void 0,(function*(){try{yield x2(e,u,f)}catch{}}))))),r.manualDisconnect=!1,r.resumed=!0}))})(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return(function(r,n){var i,o,a,s,l;De.SocketService(`[SocketService: disconnect()] context=${r.state.context}`,n),n!=null&&n.terminate&&((o=(i=r.state).removeFocusListener)===null||o===void 0||o.call(i),r.state.channelId=n.channelId,(a=r.state.socket)===null||a===void 0||a.removeAllListeners(),(s=r.state.keyExchange)===null||s===void 0||s.clean(),r.remote.state.ready=!1,r.state.socket=void 0,r.state.rpcMethodTracker={}),r.state.manualDisconnect=!0,(l=r.state.socket)===null||l===void 0||l.disconnect()})(this,e)}}var Rh,Li,nG;function B5e(t){return()=>qe(this,void 0,void 0,(function*(){var e,r,n;const{state:i}=t;if(i.authorized)return;yield qe(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield O0(500)}));const o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(De.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(r=i.walletInfo)===null||r===void 0?void 0:r.version} compareValue=${o}`),o!==1)return;const a=i.platformType===Li.MobileWeb||i.platformType===Li.ReactNative||i.platformType===Li.MetaMaskMobileWebview;De.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${a} channel=${i.channelId} walletVersion=${(n=i.walletInfo)===null||n===void 0?void 0:n.version}`),a&&(i.authorized=!0,t.emit(Xe.AUTHORIZED))}))}function j5e(t){return e=>{const{state:r}=t;De.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${r.context} on 'channel_created' channelId=${e}`),t.emit(Xe.CHANNEL_CREATED,e)}}function $5e(t,e){return()=>{var r,n,i,o;const{state:a}=t;De.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${a.channelId} keysExchanged=${(n=(r=a.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||n===void 0?void 0:n.keysExchanged}`),a.analytics&&Tc(Object.assign(Object.assign({id:(i=a.channelId)!==null&&i!==void 0?i:"",event:a.reconnection?On.RECONNECT:a.isOriginator?On.REQUEST:On.REQUEST_MOBILE},a.originatorInfo),{commLayer:e,sdkVersion:a.sdkVersion,walletVersion:(o=a.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:Df.version}),a.communicationServerUrl).catch((s=>{})),a.isOriginator&&!a.reconnection&&_n.analytics.track("sdk_connection_established",{transport_type:"websocket"}),a.clientsConnected=!0,a.originatorInfoSent=!1,t.emit(Xe.CLIENTS_CONNECTED)}}function F5e(t){return e=>{const{state:r}=t;De.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${r.context} on 'clients_disconnected' channelId=${e}`),r.relayPersistence||(r.clientsConnected=!1,r.ready=!1,r.authorized=!1),t.emit(Xe.CLIENTS_DISCONNECTED,r.channelId),t.setConnectionStatus(di.DISCONNECTED)}}function U5e(t){return e=>{var r;const{state:n}=t;if(De.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${n.context} on 'clients_waiting' numberUsers=${e} ready=${n.ready} autoStarted=${n.originatorConnectStarted}`),t.setConnectionStatus(di.WAITING),t.emit(Xe.CLIENTS_WAITING,e),n.originatorConnectStarted){De.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${n.originatorConnectStarted} timeout`,n.autoConnectOptions);const i=((r=n.autoConnectOptions)===null||r===void 0?void 0:r.timeout)||3e3,o=setTimeout((()=>{De.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,n.autoConnectOptions),n.originatorConnectStarted=!1,n.ready||t.setConnectionStatus(di.TIMEOUT),clearTimeout(o)}),i)}}}function H5e(t,e){return r=>{var n,i,o,a,s,l,c,u;const{state:f}=t;if(De.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${f.context} on commLayer.'keys_exchanged' channel=${f.channelId}`,r),(i=(n=f.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const h=Object.assign(Object.assign({},f.channelConfig),{channelId:(o=f.channelId)!==null&&o!==void 0?o:"",validUntil:((a=f.channelConfig)===null||a===void 0?void 0:a.validUntil)||Kg,localKey:f.communicationLayer.getKeyInfo().ecies.private,otherKey:f.communicationLayer.getKeyInfo().ecies.otherPubKey});(s=f.storageManager)===null||s===void 0||s.persistChannelConfig(h).catch((p=>{})),t.setConnectionStatus(di.LINKED)}(function(h,p){var y,m,v,w,A,_,D,P;const{state:U}=h;De.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${U.channelId}`,p);const F=Object.assign(Object.assign({},U.channelConfig),{channelId:(y=U.channelId)!==null&&y!==void 0?y:"",validUntil:(v=(m=U.channelConfig)===null||m===void 0?void 0:m.validUntil)!==null&&v!==void 0?v:0,relayPersistence:U.relayPersistence,localKey:(A=(w=U.communicationLayer)===null||w===void 0?void 0:w.state.keyExchange)===null||A===void 0?void 0:A.getKeyInfo().ecies.private,otherKey:(D=(_=U.communicationLayer)===null||_===void 0?void 0:_.state.keyExchange)===null||D===void 0?void 0:D.getKeyInfo().ecies.otherPubKey,lastActive:p.getTime()});(P=U.storageManager)===null||P===void 0||P.persistChannelConfig(F)})(t,new Date),f.analytics&&f.channelId&&Tc(Object.assign(Object.assign({id:f.channelId,event:r.isOriginator?On.CONNECTED:On.CONNECTED_MOBILE},f.originatorInfo),{sdkVersion:f.sdkVersion,commLayer:e,commLayerVersion:Df.version,walletVersion:(l=f.walletInfo)===null||l===void 0?void 0:l.version}),f.communicationServerUrl).catch((h=>{})),f.isOriginator=r.isOriginator,r.isOriginator||((c=f.communicationLayer)===null||c===void 0||c.sendMessage({type:hn.READY}),f.ready=!0,f.paused=!1),r.isOriginator&&!f.originatorInfoSent&&((u=f.communicationLayer)===null||u===void 0||u.sendMessage({type:hn.ORIGINATOR_INFO,originatorInfo:f.originatorInfo,originator:f.originatorInfo}),f.originatorInfoSent=!0)}}function q5e(t){return e=>{let r=e;e.message&&(r=r.message),(function(n,i){const{state:o}=i;if(De.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof n}`,n),i.state.ready=!0,o.isOriginator||n.type!==hn.ORIGINATOR_INFO)if(o.isOriginator&&n.type===hn.WALLET_INFO)(function(a,s){const{state:l}=a;l.walletInfo=s.walletInfo,l.paused=!1})(i,n);else{if(o.isOriginator&&n.type===hn.WALLET_INIT)(function(a,s){return qe(this,void 0,void 0,(function*(){var l,c,u;const{state:f}=a;if(f.isOriginator){const h=s.data||{};if(typeof h=="object"&&"accounts"in h&&"chainId"in h&&"walletKey"in h)try{const{channelConfig:p}=a.state;if(De.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(p,null,2)),p){const y=h.accounts,m=h.chainId,v=h.walletKey;let w,A=!1;"deeplinkProtocol"in h&&(A=!!h.deeplinkProtocol,a.state.deeplinkProtocolAvailable=A),"walletVersion"in h&&(w=h.walletVersion),yield(l=a.state.storageManager)===null||l===void 0?void 0:l.persistChannelConfig(Object.assign(Object.assign({},p),{otherKey:v,walletVersion:w,deeplinkProtocolAvailable:A,relayPersistence:!0})),yield(c=a.state.storageManager)===null||c===void 0?void 0:c.persistAccounts(y),yield(u=a.state.storageManager)===null||u===void 0?void 0:u.persistChainId(m)}a.emit(Xe.WALLET_INIT,{accounts:h.accounts,chainId:h.chainId})}catch{}}}))})(i,n).catch((a=>{De.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)}));else if(n.type===hn.TERMINATE)(function(a){return qe(this,void 0,void 0,(function*(){const{state:s}=a;s.isOriginator&&(yield mie({options:{terminate:!0,sendMessage:!1},instance:a}),a.emit(Xe.TERMINATE))}))})(i).catch((a=>{De.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)}));else if(n.type===hn.PAUSE)(function(a){const{state:s}=a;s.paused=!0,a.setConnectionStatus(di.PAUSED)})(i);else if(n.type===hn.READY&&o.isOriginator)(function(a){const{state:s}=a;a.setConnectionStatus(di.LINKED);const l=s.paused;s.paused=!1,a.emit(Xe.CLIENTS_READY,{isOriginator:s.isOriginator,walletInfo:s.walletInfo}),l&&(s.authorized=!0,a.emit(Xe.AUTHORIZED))})(i);else{if(n.type===hn.OTP&&o.isOriginator)return void(function(a,s){var l;const{state:c}=a;a.emit(Xe.OTP,s.otpAnswer),"6.6".localeCompare(((l=c.walletInfo)===null||l===void 0?void 0:l.version)||"")===1&&a.emit(Xe.SDK_RPC_CALL,{method:_i.ETH_REQUESTACCOUNTS,params:[]})})(i,n);n.type===hn.AUTHORIZED&&o.isOriginator&&(function(a){const{state:s}=a;s.authorized=!0,a.emit(Xe.AUTHORIZED)})(i)}i.emit(Xe.MESSAGE,n)}else(function(a,s){var l;const{state:c}=a;(l=c.communicationLayer)===null||l===void 0||l.sendMessage({type:hn.WALLET_INFO,walletInfo:c.walletInfo}),c.originatorInfo=s.originatorInfo||s.originator,a.emit(Xe.CLIENTS_READY,{isOriginator:c.isOriginator,originatorInfo:c.originatorInfo}),c.paused=!1})(i,n)})(r,t)}}function z5e(t){return()=>{const{state:e}=t;De.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,hie(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function W5e(t){return()=>{const{state:e}=t;De.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function K5e(t){return()=>qe(this,void 0,void 0,(function*(){var e,r,n,i,o,a,s;const{state:l}=t;De.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${l.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Xe.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Xe.AUTHORIZED),t.emit(Xe.CLIENTS_READY),t.emit(Xe.CHANNEL_PERSISTENCE);try{l.channelConfig=Object.assign(Object.assign({},l.channelConfig),{localKey:(r=l.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getKeyInfo().ecies.private,otherKey:(n=l.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getOtherPublicKey(),channelId:(i=l.channelId)!==null&&i!==void 0?i:"",validUntil:(a=(o=l.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&a!==void 0?a:Kg,relayPersistence:!0}),yield(s=l.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(l.channelConfig)}catch{}}))}function iG({communicationLayerPreference:t,otherPublicKey:e,reconnect:r,ecies:n,communicationServerUrl:i=Wg,instance:o}){var a,s,l,c,u,f,h,p,y,m,v;const{state:w}=o;if(De.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(w,null,2)),t!==Rh.SOCKET)throw new Error("Invalid communication protocol");w.communicationLayer=new D5e({communicationLayerPreference:t,otherPublicKey:e,reconnect:r,transports:w.transports,communicationServerUrl:i,context:w.context,ecies:n,logging:w.logging,remote:o});let A=typeof document<"u"&&document.URL||"",_=typeof document<"u"&&document.title||"";!((a=w.dappMetadata)===null||a===void 0)&&a.url&&(A=w.dappMetadata.url),!((s=w.dappMetadata)===null||s===void 0)&&s.name&&(_=w.dappMetadata.name);const D=(f=(c=(l=w.dappMetadata)===null||l===void 0?void 0:l.name)!==null&&c!==void 0?c:(u=w.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&f!==void 0?f:"N/A",P=typeof window<"u"&&window.location!==void 0&&(h=window.location.hostname)!==null&&h!==void 0?h:D,U={url:A,title:_,source:(p=w.dappMetadata)===null||p===void 0?void 0:p.source,dappId:P,anonId:w.anonId,icon:((y=w.dappMetadata)===null||y===void 0?void 0:y.iconUrl)||((m=w.dappMetadata)===null||m===void 0?void 0:m.base64Icon),platform:w.platformType,apiVersion:Df.version,connector:(v=w.dappMetadata)===null||v===void 0?void 0:v.connector};w.originatorInfo=U;const F={[Xe.AUTHORIZED]:B5e(o),[Xe.MESSAGE]:q5e(o),[Xe.CHANNEL_PERSISTENCE]:K5e(o),[Xe.CLIENTS_CONNECTED]:$5e(o,t),[Xe.KEYS_EXCHANGED]:H5e(o,t),[Xe.SOCKET_DISCONNECTED]:W5e(o),[Xe.SOCKET_RECONNECT]:z5e(o),[Xe.CLIENTS_DISCONNECTED]:F5e(o),[Xe.KEY_INFO]:()=>{},[Xe.CHANNEL_CREATED]:j5e(o),[Xe.CLIENTS_WAITING]:U5e(o),[Xe.RPC_UPDATE]:N=>{o.emit(Xe.RPC_UPDATE,N)}};for(const[N,L]of Object.entries(F))try{w.communicationLayer.on(N,L)}catch{}}function mie(t){return qe(this,arguments,void 0,(function*({options:e,instance:r}){const{state:n}=r;return De.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n.channelId}`,e),new Promise(((i,o)=>{var a,s,l,c,u,f;e!=null&&e.terminate?(r.state.ready&&Tc({id:(a=r.state.channelId)!==null&&a!==void 0?a:"",event:On.TERMINATED},r.state.communicationServerUrl).catch((h=>{})),n.ready=!1,n.paused=!1,(s=n.storageManager)===null||s===void 0||s.terminate((l=n.channelId)!==null&&l!==void 0?l:""),r.state.terminated=!0,e.sendMessage?!((c=n.communicationLayer)===null||c===void 0)&&c.getKeyInfo().keysExchanged&&r.state.communicationLayer&&pie(r.state.communicationLayer,{type:hn.TERMINATE}).then((()=>{i(!0)})).catch((h=>{o(h)})):i(!0),n.authorized=!1,n.relayPersistence=!1,n.channelId=Wu(),e.channelId=n.channelId,n.channelConfig=void 0,n.originatorConnectStarted=!1,(u=n.communicationLayer)===null||u===void 0||u.disconnect(e),r.setConnectionStatus(di.TERMINATED)):((f=n.communicationLayer)===null||f===void 0||f.disconnect(e),r.setConnectionStatus(di.DISCONNECTED),i(!0))}))}))}(Rh||(Rh={})).SOCKET="socket",(function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"})(Li||(Li={}));class V5e extends o_.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:Wg,context:"",persist:!1,clientsConnected:!1,sessionDuration:Kg,originatorConnectStarted:!1,debug:!1,_connectionStatus:di.DISCONNECTED},this._options=e;const{anonId:r,platformType:n,communicationLayerPreference:i,otherPublicKey:o,reconnect:a,walletInfo:s,dappMetadata:l,protocolVersion:c,transports:u,context:f,relayPersistence:h,ecies:p,analytics:y=!1,storage:m,sdkVersion:v,communicationServerUrl:w=Wg,logging:A,autoConnect:_={timeout:T5e}}=e;this.state.anonId=r,this.state.otherPublicKey=o,this.state.dappMetadata=l,this.state.walletInfo=s,this.state.transports=u,this.state.platformType=n,this.state.analytics=y,this.state.protocolVersion=c??1,this.state.isOriginator=!o,this.state.relayPersistence=h,this.state.communicationServerUrl=w,this.state.context=f,this.state.terminated=!1,this.state.sdkVersion=v,this.setMaxListeners(50),this.setConnectionStatus(di.DISCONNECTED),m!=null&&m.duration&&(this.state.sessionDuration=Kg),this.state.storageOptions=m,this.state.autoConnectOptions=_,this.state.debug=(A==null?void 0:A.remoteLayer)===!0,(A==null?void 0:A.remoteLayer)===!0&&Ji.enable("RemoteCommunication:Layer"),(A==null?void 0:A.serviceLayer)===!0&&Ji.enable("SocketService:Layer"),(A==null?void 0:A.eciesLayer)===!0&&Ji.enable("ECIES:Layer"),(A==null?void 0:A.keyExchangeLayer)===!0&&Ji.enable("KeyExchange:Layer"),this.state.logging=A,m!=null&&m.storageManager&&(this.state.storageManager=m.storageManager),De.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${c} relayPersistence=${h} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${a}`),this.state.isOriginator||iG({communicationLayerPreference:i,otherPublicKey:o,reconnect:a,ecies:p,communicationServerUrl:w,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return qe(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){const r=yield this.state.storageManager.getPersistedChannelConfig({});r&&(this.state.channelConfig=r,this.state.channelId=r.channelId,this.state.deeplinkProtocolAvailable=(e=r.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,r.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(di.LINKED),yield this.connectToChannel({channelId:r.channelId})))}iG({communicationLayerPreference:Rh.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return qe(this,void 0,void 0,(function*(){return yield(function(e){return qe(this,void 0,void 0,(function*(){var r;const{state:n}=e;if(!n.storageManager)return void De.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield n.storageManager.getPersistedChannelConfig({});if(De.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n.originatorConnectStarted} channelConfig`,i),(r=n.communicationLayer)===null||r===void 0?void 0:r.isConnected())return De.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return n.channelConfig=i,n.originatorConnectStarted=!0,n.channelId=i==null?void 0:i.channelId,n.reconnection=!0,i;De.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}n.originatorConnectStarted=!1}))})(this)}))}generateChannelIdConnect(){return qe(this,void 0,void 0,(function*(){return(function(e){return qe(this,void 0,void 0,(function*(){var r,n,i,o,a,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((r=e.communicationLayer)===null||r===void 0)&&r.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(n=e.storageManager)===null||n===void 0||n.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(s=(a=e.communicationLayer)===null||a===void 0?void 0:a.getKeyInfo())===null||s===void 0?void 0:s.ecies.public};De.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const l=yield e.communicationLayer.createChannel();De.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",l);const c=Object.assign(Object.assign({},e.channelConfig),{channelId:l.channelId,localKey:l.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=l.channelId,e.channelConfig=c,{channelId:e.channelId,pubKey:l.pubKey,privKey:l.privKey}}))})(this.state)}))}clean(){return hie(this.state)}connectToChannel({channelId:e,withKeyExchange:r,authorized:n}){return(function(i){return qe(this,arguments,void 0,(function*({channelId:o,withKeyExchange:a,authorized:s,state:l}){var c,u,f;if(!j8(o))throw De.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(De.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} channelId=${o} withKeyExchange=${a}`),(c=l.communicationLayer)===null||c===void 0?void 0:c.isConnected())return void De.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} already connected - interrupt connection.`);l.channelId=o,yield(u=l.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:s,withKeyExchange:a});const h=Object.assign(Object.assign({},l.channelConfig),{channelId:o,validUntil:Date.now()+l.sessionDuration});l.channelConfig=h,(f=l.storageManager)===null||f===void 0||f.persistChannelConfig(h)}))})({channelId:e,authorized:n,withKeyExchange:r,state:this.state})}sendMessage(e){return qe(this,void 0,void 0,(function*(){const r=this.state.isOriginator&&e.method&&vb(e.method);r&&_n.analytics.track("sdk_action_requested",{action:e.method});try{return yield(function(n,i){return qe(this,void 0,void 0,(function*(){var o,a;const{state:s}=n;De.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(o=s.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,i),s.relayPersistence||s.ready&&(!((a=s.communicationLayer)===null||a===void 0)&&a.isConnected())&&s.clientsConnected||(De.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((l=>{n.once(Xe.CLIENTS_READY,l)})),De.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield(function(c,u){return qe(this,void 0,void 0,(function*(){return new Promise((f=>{var h;const{state:p}=c;De.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context} ready=${p.ready} authorized=${p.authorized} method=${u.method}`),!p.isOriginator||p.authorized||p.relayPersistence?(h=p.communicationLayer)===null||h===void 0||h.sendMessage(u).then((y=>{f(y)})).catch((y=>{f(!1)})):c.once(Xe.AUTHORIZED,(()=>{var y;De.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(y=p.communicationLayer)===null||y===void 0||y.sendMessage(u).then((m=>{f(m)})).catch((m=>{f(!1)}))}))}))}))})(n,i)}catch(l){throw l}}))})(this,e)}catch(n){throw r&&_n.analytics.track("sdk_action_failed",{action:e.method}),n}}))}testStorage(){return qe(this,void 0,void 0,(function*(){return(function(e){return qe(this,void 0,void 0,(function*(){var r;const n=yield(r=e.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();De.RemoteCommunication("[RemoteCommunication: testStorage()] res",n)}))})(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return qe(this,void 0,void 0,(function*(){var e;De.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()}))}testLogger(){De.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),De.SocketService(`testLogger() channel=${this.state.channelId}`),De.Ecies(`testLogger() channel=${this.state.channelId}`),De.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;De.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Xe.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Xe.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var r;const n=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange();if(!n)throw new Error("KeyExchange is not initialized.");n.getOtherPublicKey()!==e&&n.setOtherPublicKey(e)}pause(){return qe(this,void 0,void 0,(function*(){var e;De.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(di.PAUSED)}))}getVersion(){return Df.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return qe(this,void 0,void 0,(function*(){return(function(e){return qe(this,void 0,void 0,(function*(){var r;const{state:n}=e;De.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n.channelId}`),yield(r=n.communicationLayer)===null||r===void 0?void 0:r.resume(),e.setConnectionStatus(di.LINKED)}))})(this)}))}encrypt(e){var r,n,i;const o=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange(),a=o==null?void 0:o.getOtherPublicKey();if(!a)throw new Error("KeyExchange not completed");return(i=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,a)}decrypt(e){var r,n,i;if(!(!((r=this.state.communicationLayer)===null||r===void 0)&&r.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return(function(r){return qe(this,arguments,void 0,(function*({channelId:n,state:i}){var o,a,s;if(!j8(n))throw De.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${n}`),new Error(`Invalid channel ${n}`);if(i.isOriginator)return void De.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${n}`);const{socket:l}=(a=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&a!==void 0?a:{};l!=null&&l.connected||(De.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),l==null||l.connect()),Tc(Object.assign(Object.assign({id:n,event:On.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:Df.version,walletVersion:(s=i.walletInfo)===null||s===void 0?void 0:s.version}),i.communicationServerUrl).catch((c=>{})),yield new Promise(((c,u)=>{l==null||l.emit(Xe.REJECTED,{channelId:n},((f,h)=>{De.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${l==null?void 0:l.id}`,{error:f,response:h}),f?u(f):c(h)}))}))}))})({channelId:e,state:this.state})}disconnect(e){return qe(this,void 0,void 0,(function*(){return mie({options:e,instance:this})}))}}(function(t){t.RENEW="renew",t.LINK="link"})(nG||(nG={}));var G5e="ERC721",Y5e="ERC1155",En={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function J5e(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(r,n,i)=>{var o;e.ethDecryptDeprecation||r.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||r.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&r.method==="wallet_watchAsset"&&[G5e,Y5e].includes(((o=r.params)==null?void 0:o.type)||"")&&(t.warn(En.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(En.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(En.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var yie=4294967295,oG=Math.floor(Math.random()*yie);function Q5e(){return(t,e,r,n)=>{const i=t.id,o=oG=(oG+1)%yie;t.id=o,e.id=o,r((a=>{t.id=i,e.id=i,a()}))}}var y9=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Vu=(t,e,r)=>(y9(t,e,"read from private field"),r?r.call(t):e.get(t)),fs=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$x=(t,e,r,n)=>(y9(t,e,"write to private field"),e.set(t,r),r),zi=(t,e,r)=>(y9(t,e,"access private method"),r),Bu={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},aG={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function sG(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var h3=(t,e)=>Object.hasOwnProperty.call(t,e);class X5e extends TypeError{constructor(e,r){let n;const{message:i,explanation:o,...a}=e,{path:s}=e,l=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function xc(t){return typeof t=="object"&&t!=null}function bl(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Z5e(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:a}=r,{refinement:s,message:l=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${bl(n)}\``}=t;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*lG(t,e,r,n){(function(i){return xc(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const o=Z5e(i,e,r,n);o&&(yield o)}}function*v9(t,e,r={}){const{path:n=[],branch:i=[t],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(t=e.coercer(t,s),a&&e.type!=="type"&&xc(e.schema)&&xc(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l="valid";for(const c of e.validator(t,s))c.explanation=r.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,s)){const h=v9(u,f,{path:c===void 0?n:[...n,c],branch:c===void 0?i:[...i,u],coerce:o,mask:a,message:r.message});for(const p of h)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(u=p[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):xc(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,s))c.explanation=r.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}class Cs{constructor(e){const{type:r,schema:n,validator:i,refiner:o,coercer:a=(l=>l),entries:s=function*(){}}=e;this.type=r,this.schema=n,this.entries=s,this.coercer=a,this.validator=i?(l,c)=>lG(i(l,c),c,this,l):()=>[],this.refiner=o?(l,c)=>lG(o(l,c),c,this,l):()=>[]}assert(e,r){return vie(e,this,r)}create(e,r){return wie(e,this,r)}is(e){return gm(e,this)}mask(e,r){return(function(n,i,o){const a=vw(n,i,{coerce:!0,mask:!0,message:o});if(a[0])throw a[0];return a[1]})(e,this,r)}validate(e,r={}){return vw(e,this,r)}}function vie(t,e,r){const n=vw(t,e,{message:r});if(n[0])throw n[0]}function wie(t,e,r){const n=vw(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function gm(t,e){return!vw(t,e)[0]}function vw(t,e,r={}){const n=v9(t,e,r),i=(function(o){const{done:a,value:s}=o.next();return a?void 0:s})(n);return i[0]?[new X5e(i[0],(function*(){for(const a of n)a[0]&&(yield a[0])})),void 0]:[void 0,i[1]]}function Bf(t,e){return new Cs({type:t,schema:null,validator:e})}function cG(t){let e;return new Cs({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator:(r,n)=>(e??(e=t()),e.validator(r,n)),coercer:(r,n)=>(e??(e=t()),e.coercer(r,n)),refiner:(r,n)=>(e??(e=t()),e.refiner(r,n))})}function bie(t){return new Cs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${bl(e)}`})}function xie(t){const e=bl(t),r=typeof t;return new Cs({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${bl(n)}`})}function Eie(){return Bf("number",(t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${bl(t)}`))}function Sie(t){const e=t?Object.keys(t):[],r=Bf("never",(()=>!1));return new Cs({type:"object",schema:t||null,*entries(n){if(t&&xc(n)){const i=new Set(Object.keys(n));for(const o of e)i.delete(o),yield[o,n[o],t[o]];for(const o of i)yield[o,n[o],r]}},validator:n=>xc(n)||`Expected an object, but received: ${bl(n)}`,coercer:n=>xc(n)?{...n}:n})}function uG(t){return new Cs({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function _ie(t,e){return new Cs({type:"record",schema:null,*entries(r){if(xc(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:r=>xc(r)||`Expected an object, but received: ${bl(r)}`})}function jf(){return Bf("string",(t=>typeof t=="string"||`Expected a string, but received: ${bl(t)}`))}function c_(t){const e=t.map((r=>r.type)).join(" | ");return new Cs({type:"union",schema:null,coercer(r){for(const n of t){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of t){const[...a]=v9(r,o,n),[s]=a;if(!s[0])return[];for(const[l]of a)l&&i.push(l)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${bl(r)}`,...i]}})}function e8e(t){return(function(e){return(function(r){return typeof r=="object"&&r!==null&&"message"in r})(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)})(t).replace(/\.$/u,"")}function t8e(t,e){var n,i;return r=t,typeof((i=(n=r==null?void 0:r.prototype)==null?void 0:n.constructor)==null?void 0:i.name)=="string"?new t({message:e}):t({message:e});var r}var r8e=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function Aie(){throw new Error("setTimeout has not been defined")}function Cie(){throw new Error("clearTimeout has not been defined")}var Iu=Aie,Pu=Cie;function Oie(t){if(Iu===setTimeout)return setTimeout(t,0);if((Iu===Aie||!Iu)&&setTimeout)return Iu=setTimeout,setTimeout(t,0);try{return Iu(t,0)}catch{try{return Iu.call(null,t,0)}catch{return Iu.call(this,t,0)}}}typeof eo.setTimeout=="function"&&(Iu=setTimeout),typeof eo.clearTimeout=="function"&&(Pu=clearTimeout);var Yd,gc=[],I0=!1,E2=-1;function n8e(){I0&&Yd&&(I0=!1,Yd.length?gc=Yd.concat(gc):E2=-1,gc.length&&Iie())}function Iie(){if(!I0){var t=Oie(n8e);I0=!0;for(var e=gc.length;e;){for(Yd=gc,gc=[];++E2<e;)Yd&&Yd[E2].run();E2=-1,e=gc.length}Yd=null,I0=!1,(function(r){if(Pu===clearTimeout)return clearTimeout(r);if((Pu===Cie||!Pu)&&clearTimeout)return Pu=clearTimeout,clearTimeout(r);try{return Pu(r)}catch{try{return Pu.call(null,r)}catch{return Pu.call(this,r)}}})(t)}}function Pie(t,e){this.fun=t,this.array=e}Pie.prototype.run=function(){this.fun.apply(null,this.array)};function Jh(){}var i8e=Jh,o8e=Jh,a8e=Jh,s8e=Jh,l8e=Jh,c8e=Jh,u8e=Jh,Yp=eo.performance||{},f8e=Yp.now||Yp.mozNow||Yp.msNow||Yp.oNow||Yp.webkitNow||function(){return new Date().getTime()},d8e=new Date,br={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];gc.push(new Pie(t,e)),gc.length!==1||I0||Oie(Iie)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:i8e,addListener:o8e,once:a8e,off:s8e,removeListener:l8e,removeAllListeners:c8e,emit:u8e,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*f8e.call(Yp),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-d8e)/1e3}},ww=t=>Sie(t);function fG({path:t,branch:e}){const r=t[t.length-1];return h3(e[e.length-2],r)}function p3(t){return new Cs({...t,type:`optional ${t.type}`,validator:(e,r)=>!fG(r)||t.validator(e,r),refiner:(e,r)=>!fG(r)||t.refiner(e,r)})}var Fx,dG,hG,g3=c_([xie(null),Bf("boolean",(t=>typeof t=="boolean")),Bf("finite number",(t=>gm(t,Eie())&&Number.isFinite(t))),jf(),bie(cG((()=>g3))),_ie(jf(),cG((()=>g3)))]),bw=(Fx=g3,dG=Bf("any",(()=>!0)),hG=t=>((function(e,r,n="Assertion failed",i=r8e){try{vie(e,r)}catch(o){throw t8e(i,`${n}: ${e8e(o)}.`)}})(t,g3),JSON.parse(JSON.stringify(t,((e,r)=>{if(e!=="__proto__"&&e!=="constructor")return r})))),new Cs({...Fx,coercer:(t,e)=>gm(t,dG)?Fx.coercer(hG(t,e),e):Fx.coercer(t,e)}));function Q8(t){try{return(function(e){wie(e,bw)})(t),!0}catch{return!1}}var dv=xie("2.0"),S2=(function(t){return new Cs({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})})(c_([Eie(),jf()])),X8=ww({code:Bf("integer",(t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${bl(t)}`)),message:jf(),data:p3(bw),stack:p3(jf())}),kie=c_([_ie(jf(),bw),bie(bw)]),h8e=ww({id:S2,jsonrpc:dv,method:jf(),params:p3(kie)}),p8e=ww({jsonrpc:dv,method:jf(),params:p3(kie)});function pG(t){return gm(t,h8e)}function gG(t){return gm(t,X8)}Sie({id:S2,jsonrpc:dv,result:uG(Bf("unknown",(()=>!0))),error:uG(X8)}),c_([ww({id:S2,jsonrpc:dv,result:bw}),ww({id:S2,jsonrpc:dv,error:X8})]);var mG=Bu.internal,g8e="Unspecified error message. This is a bug, please report it.",m8e={code:mG,message:Tie(mG)},y8e="Unspecified server error.";function Tie(t,e=g8e){if((function(r){return Number.isInteger(r)})(t)){const r=t.toString();if(h3(aG,r))return aG[r].message;if((function(n){return n>=-32099&&n<=-32e3})(t))return y8e}return e}function yG(t,{fallbackError:e=m8e,shouldIncludeStack:r=!0}={}){if(!gG(e))throw new Error("Must provide fallback error with integer number code and string message.");const n=(function(i,o){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(gG(i))return i;const a=Mie(i);return{...o,data:{cause:a}}})(t,e);return r||delete n.stack,n}function Mie(t){return Array.isArray(t)?t.map((e=>Q8(e)?e:sG(e)?vG(e):null)):sG(t)?vG(t):Q8(t)?t:null}function vG(t){return Object.getOwnPropertyNames(t).reduce(((e,r)=>{const n=t[r];return Q8(n)&&(e[r]=n),e}),{})}var Nie=Hy;Hy.default=Hy,Hy.stable=wG,Hy.stableStringify=wG;var m3="[...]",Rie="[Circular]",Lh=[],Jd=[];function Lie(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Hy(t,e,r,n){var i;n===void 0&&(n=Lie()),Z8(t,"",0,[],void 0,0,n);try{i=Jd.length===0?JSON.stringify(t,e,r):JSON.stringify(t,Die(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Lh.length!==0;){var o=Lh.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function P0(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Lh.push([n,r,e,i])):Jd.push([e,r,t]):(n[r]=t,Lh.push([n,r,e]))}function Z8(t,e,r,n,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t)return void P0(Rie,t,e,i);if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&r+1>a.edgesLimit)return void P0(m3,t,e,i);if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Z8(t[s],s,s,n,t,o,a);else{var l=Object.keys(t);for(s=0;s<l.length;s++){var c=l[s];Z8(t[c],c,s,n,t,o,a)}}n.pop()}}function v8e(t,e){return t<e?-1:t>e?1:0}function wG(t,e,r,n){n===void 0&&(n=Lie());var i,o=eM(t,"",0,[],void 0,0,n)||t;try{i=Jd.length===0?JSON.stringify(o,e,r):JSON.stringify(o,Die(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Lh.length!==0;){var a=Lh.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function eM(t,e,r,n,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t)return void P0(Rie,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&r+1>a.edgesLimit)return void P0(m3,t,e,i);if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)eM(t[s],s,s,n,t,o,a);else{var l={},c=Object.keys(t).sort(v8e);for(s=0;s<c.length;s++){var u=c[s];eM(t[u],u,s,n,t,o,a),l[u]=t[u]}if(i===void 0)return l;Lh.push([i,e,t]),i[e]=l}n.pop()}}function Die(t){return t=t!==void 0?t:function(e,r){return r},function(e,r){if(Jd.length>0)for(var n=0;n<Jd.length;n++){var i=Jd[n];if(i[1]===e&&i[0]===r){r=i[2],Jd.splice(n,1);break}}return t.call(this,e,r)}}var w8e=s_(Nie),ql=class extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,r!==void 0&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,(function(e){if(typeof e!="object"||e===null)return!1;try{let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}catch{return!1}})(this.data)&&(t.data.cause=Mie(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return w8e(this.serialize(),b8e,2)}};function b8e(t,e){if(e!=="[Circular]")return e}var hv=t=>x8e(Bu.invalidRequest,t);function x8e(t,e){const[r,n]=(function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:o,data:a}=i;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o??void 0,a]}}return[]})(e);return new ql(t,r??Tie(t),n)}var Bie={};function ku(){}function kr(){kr.init.call(this)}function jie(t){return t._maxListeners===void 0?kr.defaultMaxListeners:t._maxListeners}function bG(t,e,r,n){var i,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]):(o=t._events=new ku,t._eventsCount=0),a){if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=jie(t))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,(function(l){typeof console.warn=="function"?console.warn(l):console.log(l)})(s)}}else a=o[e]=r,++t._eventsCount;return t}function xG(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function EG(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}function Iy(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}ku.prototype=Object.create(null),kr.EventEmitter=kr,kr.usingDomains=!1,kr.prototype.domain=void 0,kr.prototype._events=void 0,kr.prototype._maxListeners=void 0,kr.defaultMaxListeners=10,kr.init=function(){this.domain=null,kr.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new ku,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},kr.prototype.getMaxListeners=function(){return jie(this)},kr.prototype.emit=function(t){var e,r,n,i,o,a,s,l=t==="error";if(a=this._events)l=l&&a.error==null;else if(!l)return!1;if(s=this.domain,l){if(e=arguments[1],!s){if(e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(r=a[t]))return!1;var u=typeof r=="function";switch(n=arguments.length){case 1:(function(f,h,p){if(h)f.call(p);else for(var y=f.length,m=Iy(f,y),v=0;v<y;++v)m[v].call(p)})(r,u,this);break;case 2:(function(f,h,p,y){if(h)f.call(p,y);else for(var m=f.length,v=Iy(f,m),w=0;w<m;++w)v[w].call(p,y)})(r,u,this,arguments[1]);break;case 3:(function(f,h,p,y,m){if(h)f.call(p,y,m);else for(var v=f.length,w=Iy(f,v),A=0;A<v;++A)w[A].call(p,y,m)})(r,u,this,arguments[1],arguments[2]);break;case 4:(function(f,h,p,y,m,v){if(h)f.call(p,y,m,v);else for(var w=f.length,A=Iy(f,w),_=0;_<w;++_)A[_].call(p,y,m,v)})(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];(function(f,h,p,y){if(h)f.apply(p,y);else for(var m=f.length,v=Iy(f,m),w=0;w<m;++w)v[w].apply(p,y)})(r,u,this,i)}return!0},kr.prototype.addListener=function(t,e){return bG(this,t,e,!1)},kr.prototype.on=kr.prototype.addListener,kr.prototype.prependListener=function(t,e){return bG(this,t,e,!0)},kr.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,xG(this,t,e)),this},kr.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,xG(this,t,e)),this},kr.prototype.removeListener=function(t,e){var r,n,i,o,a;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)--this._eventsCount==0?this._events=new ku:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,o=r.length;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount==0)return this._events=new ku,this;delete n[t]}else(function(s,l){for(var c=l,u=c+1,f=s.length;u<f;c+=1,u+=1)s[c]=s[u];s.pop()})(r,i);n.removeListener&&this.emit("removeListener",t,a||e)}return this},kr.prototype.off=function(t,e){return this.removeListener(t,e)},kr.prototype.removeAllListeners=function(t){var e,r;if(!(r=this._events))return this;if(!r.removeListener)return arguments.length===0?(this._events=new ku,this._eventsCount=0):r[t]&&(--this._eventsCount==0?this._events=new ku:delete r[t]),this;if(arguments.length===0){for(var n,i=Object.keys(r),o=0;o<i.length;++o)(n=i[o])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new ku,this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},kr.prototype.listeners=function(t){var e,r,n=this._events;return r=n&&(e=n[t])?typeof e=="function"?[e.listener||e]:(function(i){for(var o=new Array(i.length),a=0;a<o.length;++a)o[a]=i[a].listener||i[a];return o})(e):[],r},kr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):EG.call(t,e)},kr.prototype.listenerCount=EG,kr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var w9=mb(Object.freeze({__proto__:null,EventEmitter:kr,default:kr}));Object.defineProperty(Bie,"__esModule",{value:!0});const E8e=w9;function SG(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout((()=>{throw n}))}}let S8e=class extends E8e.EventEmitter{emit(t,...e){let r=t==="error";const n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;const a=new Error("Unhandled error."+(o?` (${o.message})`:""));throw a.context=o,a}const i=n[t];if(i===void 0)return!1;if(typeof i=="function")SG(i,this,e);else{const o=i.length,a=(function(s){const l=s.length,c=new Array(l);for(let u=0;u<l;u+=1)c[u]=s[u];return c})(i);for(let s=0;s<o;s+=1)SG(a[s],this,e)}return!0}};var y3,ju,f0,qy,_2,A2,tM,C2,rM,n6,_G,O2,nM,i6,AG,pv,v3,o6,CG,$ie=Bie.default=S8e,es=class I2 extends $ie{constructor({notificationHandler:e}={}){super(),fs(this,qy),fs(this,A2),fs(this,C2),fs(this,y3,!1),fs(this,ju,void 0),fs(this,f0,void 0),$x(this,ju,[]),$x(this,f0,e)}destroy(){Vu(this,ju).forEach((e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()})),$x(this,ju,[]),$x(this,y3,!0)}push(e){zi(this,qy,_2).call(this),Vu(this,ju).push(e)}handle(e,r){if(zi(this,qy,_2).call(this),r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?zi(this,A2,tM).call(this,e,r):zi(this,A2,tM).call(this,e):r?zi(this,C2,rM).call(this,e,r):this._promiseHandle(e)}asMiddleware(){return zi(this,qy,_2).call(this),async(e,r,n,i)=>{var o,a;try{const[s,l,c]=await zi(o=I2,O2,nM).call(o,e,r,Vu(this,ju));return l?(await zi(a=I2,pv,v3).call(a,c),i(s)):n((async u=>{var f;try{await zi(f=I2,pv,v3).call(f,c)}catch(h){return u(h)}return u()}))}catch(s){return i(s)}}}async _promiseHandle(e){return new Promise(((r,n)=>{zi(this,C2,rM).call(this,e,((i,o)=>{i&&o===void 0?n(i):r(o)})).catch(n)}))}};y3=new WeakMap,ju=new WeakMap,f0=new WeakMap,qy=new WeakSet,_2=function(){if(Vu(this,y3))throw new Error("This engine is destroyed and can no longer be used.")},A2=new WeakSet,tM=async function(t,e){try{if(t.length===0){const n=[{id:null,jsonrpc:"2.0",error:new ql(Bu.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,n):n}const r=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter((n=>n!==void 0));return e?e(null,r):r}catch(r){if(e)return e(r);throw r}},C2=new WeakSet,rM=async function(t,e){var r;if(!t||Array.isArray(t)||typeof t!="object"){const a=new ql(Bu.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(a,{id:null,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new ql(Bu.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return Vu(this,f0)&&!pG(t)?e(null):e(a,{id:t.id??null,jsonrpc:"2.0",error:a})}if(Vu(this,f0)&&gm(t,p8e)&&!pG(t)){try{await Vu(this,f0).call(this,t)}catch(a){return e(a)}return e(null)}let n=null;const i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await zi(r=es,n6,_G).call(r,i,o,Vu(this,ju))}catch(a){n=a}return n&&(delete o.result,o.error||(o.error=yG(n))),e(n,o)},n6=new WeakSet,_G=async function(t,e,r){var n,i,o;const[a,s,l]=await zi(n=es,O2,nM).call(n,t,e,r);if(zi(i=es,o6,CG).call(i,t,e,s),await zi(o=es,pv,v3).call(o,l),a)throw a},O2=new WeakSet,nM=async function(t,e,r){var n;const i=[];let o=null,a=!1;for(const s of r)if([o,a]=await zi(n=es,i6,AG).call(n,t,e,s,i),a)break;return[o,a,i.reverse()]},i6=new WeakSet,AG=async function(t,e,r,n){return new Promise((i=>{const o=s=>{const l=s||e.error;l&&(e.error=yG(l)),i([l,!0])},a=s=>{e.error?o(e.error):(s&&(typeof s!="function"&&o(new ql(Bu.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s}" for request:
${a6(t)}`,{request:t})),n.push(s)),i([null,!1]))};try{r(t,e,a,o)}catch(s){o(s)}}))},pv=new WeakSet,v3=async function(t){for(const e of t)await new Promise(((r,n)=>{e((i=>i?n(i):r()))}))},o6=new WeakSet,CG=function(t,e,r){if(!h3(e,"result")&&!h3(e,"error"))throw new ql(Bu.internal,`JsonRpcEngine: Response has no error or result for request:
${a6(t)}`,{request:t});if(!r)throw new ql(Bu.internal,`JsonRpcEngine: Nothing ended request:
${a6(t)}`,{request:t})},fs(es,n6),fs(es,O2),fs(es,i6),fs(es,pv),fs(es,o6);var _8e=es;function a6(t){return JSON.stringify(t,null,2)}var Fie=Object.freeze(["eth_subscription"]),A8e=(t=console)=>[Q5e(),C8e(t),J5e(t)];function C8e(t){return(e,r,n)=>{typeof e.method=="string"&&e.method||(r.error=hv({message:"The request 'method' must be a non-empty string.",data:e})),n((i=>{const{error:o}=r;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()}))}}var P2=(t,e,r=!0)=>(n,i)=>{n||i.error?e(n||i.error):!r||Array.isArray(i)?t(i):t(i.result)},Uie=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),Hie=()=>{};async function OG(t,e){try{const r=await(async function(){return{name:O8e(window),icon:await I8e(window)}})();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:r},Hie)}catch(r){e.error({message:En.errors.sendSiteMetadata(),originalError:r})}}function O8e(t){const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function I8e(t){const{document:e}=t,r=e.querySelectorAll('head > link[rel~="icon"]');for(const n of Array.from(r))if(n&&await P8e(n.href))return n.href;return null}async function P8e(t){return new Promise(((e,r)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}}))}var qie=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},tl=(t,e,r)=>(qie(t,e,"read from private field"),r?r.call(t):e.get(t)),iM=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},zl=(t,e,r,n)=>(qie(t,e,"write to private field"),e.set(t,r),r);function IG(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout((()=>{throw n}))}}class k8e extends kr{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const s=new Error("Unhandled error."+(a?` (${a.message})`:""));throw s.context=a,s}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")IG(o,this,r);else{const a=o.length,s=(function(l){const c=l.length,u=new Array(c);for(let f=0;f<c;f+=1)u[f]=l[f];return u})(o);for(let l=0;l<a;l+=1)IG(s[l],this,r)}return!0}}var Tu,kd,T8e=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;i--!=0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!=0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!=e&&r!=r},M8e=s_(T8e),zie=class Wie extends k8e{constructor({logger:e=console,maxEventListeners:r=100,rpcMiddleware:n=[]}={}){super(),iM(this,Tu,void 0),iM(this,kd,void 0),this._log=e,this.setMaxListeners(r),this._state={...Wie._defaultState},zl(this,kd,null),zl(this,Tu,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new _8e;n.forEach((o=>i.push(o))),this._rpcEngine=i}get chainId(){return tl(this,Tu)}get selectedAddress(){return tl(this,kd)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw hv({message:En.errors.invalidRequestArgs(),data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw hv({message:En.errors.invalidRequestMethod(),data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw hv({message:En.errors.invalidRequestParams(),data:e});const i=n==null?{method:r}:{method:r,params:n};return new Promise(((o,a)=>{this._rpcRequest(i,P2(o,a))}))}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:r,chainId:n,isUnlocked:i,networkVersion:o}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,r){let n=r;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(n=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),r(i,o)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(En.info.connected(e)))}_handleDisconnect(e,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new ql(1013,r??En.errors.disconnected()),this._log.debug(n)):(n=new ql(1011,r??En.errors.permanentlyDisconnected()),this._log.error(n),zl(this,Tu,null),this._state.accounts=null,zl(this,kd,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleChainChanged({chainId:e}={}){Uie(e)?(this._handleConnect(e),e!==tl(this,Tu)&&(zl(this,Tu,e),this._state.initialized&&this.emit("chainChanged",tl(this,Tu)))):this._log.error(En.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,r=!1){let n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}if(!M8e(this._state.accounts,n)&&(r&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,tl(this,kd)!==n[0]&&zl(this,kd,n[0]||null),this._state.initialized)){const i=[...n];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:r}={}){typeof r=="boolean"?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Tu=new WeakMap,kd=new WeakMap,zie._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var b9,N8e=zie,oM={exports:{}},Kie=w9.EventEmitter,x9=mb(G6e);b9=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};var Vie=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},R8e=/%[sdj%]/g;function u_(t){if(!xw(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(gl(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(R8e,(function(s){if(s==="%%")return"%";if(r>=i)return s;switch(s){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return s}})),a=n[r];r<i;a=n[++r])wb(a)||!Qh(a)?o+=" "+a:o+=" "+gl(a);return o}function E9(t,e){if(sl(eo.process))return function(){return E9(t,e).apply(this,arguments)};if(br.noDeprecation===!0)return t;var r=!1;return function(){if(!r){if(br.throwDeprecation)throw new Error(e);br.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var s6,Ux={};function Gie(t){return sl(s6)&&(s6=br.env.NODE_DEBUG||""),t=t.toUpperCase(),!Ux[t]&&(new RegExp("\\b"+t+"\\b","i").test(s6)?Ux[t]=function(){var e=u_.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Ux[t]=function(){}),Ux[t]}function gl(t,e){var r={seen:[],stylize:D8e};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f_(e)?r.showHidden=e:e&&C9(r,e),sl(r.showHidden)&&(r.showHidden=!1),sl(r.depth)&&(r.depth=2),sl(r.colors)&&(r.colors=!1),sl(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=L8e),w3(r,t,r.depth)}function L8e(t,e){var r=gl.styles[e];return r?"\x1B["+gl.colors[r][0]+"m"+t+"\x1B["+gl.colors[r][1]+"m":t}function D8e(t,e){return t}function w3(t,e,r){if(t.customInspect&&e&&yv(e.inspect)&&e.inspect!==gl&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return xw(n)||(n=w3(t,n,r)),n}var i=(function(h,p){if(sl(p))return h.stylize("undefined","undefined");if(xw(p)){var y="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(y,"string")}if(_9(p))return h.stylize(""+p,"number");if(f_(p))return h.stylize(""+p,"boolean");if(wb(p))return h.stylize("null","null")})(t,e);if(i)return i;var o=Object.keys(e),a=(function(h){var p={};return h.forEach((function(y,m){p[y]=!0})),p})(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),mv(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l6(e);if(o.length===0){if(yv(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(gv(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(b3(e))return t.stylize(Date.prototype.toString.call(e),"date");if(mv(e))return l6(e)}var l,c="",u=!1,f=["{","}"];return S9(e)&&(u=!0,f=["[","]"]),yv(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),gv(e)&&(c=" "+RegExp.prototype.toString.call(e)),b3(e)&&(c=" "+Date.prototype.toUTCString.call(e)),mv(e)&&(c=" "+l6(e)),o.length!==0||u&&e.length!=0?r<0?gv(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=u?(function(h,p,y,m,v){for(var w=[],A=0,_=p.length;A<_;++A)eoe(p,String(A))?w.push(c6(h,p,y,m,String(A),!0)):w.push("");return v.forEach((function(D){D.match(/^\d+$/)||w.push(c6(h,p,y,m,D,!0))})),w})(t,e,r,a,o):o.map((function(h){return c6(t,e,r,a,h,u)})),t.seen.pop(),(function(h,p,y){var m=h.reduce((function(v,w){return w.indexOf(`
`),v+w.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return m>60?y[0]+(p===""?"":p+`
 `)+" "+h.join(`,
  `)+" "+y[1]:y[0]+p+" "+h.join(", ")+" "+y[1]})(l,c,f)):f[0]+c+f[1]}function l6(t){return"["+Error.prototype.toString.call(t)+"]"}function c6(t,e,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),eoe(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=wb(r)?w3(t,l.value,null):w3(t,l.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map((function(c){return"  "+c})).join(`
`).substr(2):`
`+s.split(`
`).map((function(c){return"   "+c})).join(`
`)):s=t.stylize("[Circular]","special")),sl(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function S9(t){return Array.isArray(t)}function f_(t){return typeof t=="boolean"}function wb(t){return t===null}function Yie(t){return t==null}function _9(t){return typeof t=="number"}function xw(t){return typeof t=="string"}function Jie(t){return typeof t=="symbol"}function sl(t){return t===void 0}function gv(t){return Qh(t)&&A9(t)==="[object RegExp]"}function Qh(t){return typeof t=="object"&&t!==null}function b3(t){return Qh(t)&&A9(t)==="[object Date]"}function mv(t){return Qh(t)&&(A9(t)==="[object Error]"||t instanceof Error)}function yv(t){return typeof t=="function"}function Qie(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function Xie(t){return ze.isBuffer(t)}function A9(t){return Object.prototype.toString.call(t)}function u6(t){return t<10?"0"+t.toString(10):t.toString(10)}gl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},gl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var B8e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Zie(){var t,e;console.log("%s - %s",(t=new Date,e=[u6(t.getHours()),u6(t.getMinutes()),u6(t.getSeconds())].join(":"),[t.getDate(),B8e[t.getMonth()],e].join(" ")),u_.apply(null,arguments))}function C9(t,e){if(!e||!Qh(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function eoe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Td=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O9(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Td&&t[Td]){var e;if(typeof(e=t[Td])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,Td,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,i=new Promise((function(s,l){r=s,n=l})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(s,l){s?n(s):r(l)}));try{t.apply(this,o)}catch(s){n(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Td&&Object.defineProperty(e,Td,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Vie(t))}function j8e(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function toe(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(s){br.nextTick(a.bind(null,null,s))}),(function(s){br.nextTick(j8e.bind(null,s,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Vie(t)),e}O9.custom=Td;var f6,PG,$8e={inherits:b9,_extend:C9,log:Zie,isBuffer:Xie,isPrimitive:Qie,isFunction:yv,isError:mv,isDate:b3,isObject:Qh,isRegExp:gv,isUndefined:sl,isSymbol:Jie,isString:xw,isNumber:_9,isNullOrUndefined:Yie,isNull:wb,isBoolean:f_,isArray:S9,inspect:gl,deprecate:E9,format:u_,debuglog:Gie,promisify:O9,callbackify:toe},roe=mb(Object.freeze({__proto__:null,_extend:C9,callbackify:toe,debuglog:Gie,default:$8e,deprecate:E9,format:u_,inherits:b9,inspect:gl,isArray:S9,isBoolean:f_,isBuffer:Xie,isDate:b3,isError:mv,isFunction:yv,isNull:wb,isNullOrUndefined:Yie,isNumber:_9,isObject:Qh,isPrimitive:Qie,isRegExp:gv,isString:xw,isSymbol:Jie,isUndefined:sl,log:Zie,promisify:O9}));function F8e(){if(PG)return f6;function t(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);c&&(f=f.filter((function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable}))),u.push.apply(u,f)}return u}function e(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach((function(f){r(l,f,u[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach((function(f){Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(u,f))}))}return l}function r(l,c,u){return(c=i(c))in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function n(l,c,u){return c&&(function(f,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,i(y.key),y)}})(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),l}function i(l){var c=(function(u,f){if(typeof u!="object"||u===null)return u;var h=u[Symbol.toPrimitive];if(h!==void 0){var p=h.call(u,f);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)})(l,"string");return typeof c=="symbol"?c:String(c)}PG=1;var o=x9.Buffer,a=roe.inspect,s=a&&a.custom||"inspect";return f6=(function(){function l(){(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return n(l,[{key:"push",value:function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=c+u.data;return f}},{key:"concat",value:function(c){if(this.length===0)return o.alloc(0);for(var u,f,h,p=o.allocUnsafe(c>>>0),y=this.head,m=0;y;)u=y.data,f=p,h=m,o.prototype.copy.call(u,f,h),m+=y.data.length,y=y.next;return p}},{key:"consume",value:function(c,u){var f;return c<this.head.data.length?(f=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):f=c===this.head.data.length?this.shift():u?this._getString(c):this._getBuffer(c),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var u=this.head,f=1,h=u.data;for(c-=h.length;u=u.next;){var p=u.data,y=c>p.length?p.length:c;if(y===p.length?h+=p:h+=p.slice(0,c),(c-=y)===0){y===p.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=p.slice(y));break}++f}return this.length-=f,h}},{key:"_getBuffer",value:function(c){var u=o.allocUnsafe(c),f=this.head,h=1;for(f.data.copy(u),c-=f.data.length;f=f.next;){var p=f.data,y=c>p.length?p.length:c;if(p.copy(u,u.length-c,0,y),(c-=y)===0){y===p.length?(++h,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=p.slice(y));break}++h}return this.length-=h,u}},{key:s,value:function(c,u){return a(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),l})(),f6}function kG(t,e){aM(t,e),k2(t)}function k2(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function aM(t,e){t.emit("error",e)}var noe={destroy:function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,br.nextTick(aM,this,t)):br.nextTick(aM,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(o){!e&&o?r._writableState?r._writableState.errorEmitted?br.nextTick(k2,r):(r._writableState.errorEmitted=!0,br.nextTick(kG,r,o)):br.nextTick(kG,r,o):e?(br.nextTick(k2,r),e(o)):br.nextTick(k2,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}},Xh={},ioe={};function ma(t,e,r){r||(r=Error);var n=(function(i){var o,a;function s(l,c,u){return i.call(this,(function(f,h,p){return typeof e=="string"?e:e(f,h,p)})(l,c,u))||this}return a=i,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s})(r);n.prototype.name=r.name,n.prototype.code=t,ioe[t]=n}function TG(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(n){return String(n)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}ma("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),ma("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",(function(s,l,c){return(c===void 0||c>s.length)&&(c=s.length),s.substring(c-l.length,c)===l})(t," argument"))o="The ".concat(t," ").concat(n," ").concat(TG(e,"type"));else{var a=(function(s,l,c){return typeof c!="number"&&(c=0),!(c+l.length>s.length)&&s.indexOf(l,c)!==-1})(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(TG(e,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),ma("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ma("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),ma("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ma("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),ma("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ma("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ma("ERR_STREAM_WRITE_AFTER_END","write after end"),ma("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ma("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),ma("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xh.codes=ioe;var U8e=Xh.codes.ERR_INVALID_OPT_VALUE,d6,MG,h6,NG,ooe={getHighWaterMark:function(t,e,r,n){var i=(function(o,a,s){return o.highWaterMark!=null?o.highWaterMark:a?o[s]:null})(e,n,r);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new U8e(n?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}},H8e=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},bb=mb(Object.freeze({__proto__:null,default:H8e})),q8e=function(t,e){if(p6("noDeprecation"))return t;var r=!1;return function(){if(!r){if(p6("throwDeprecation"))throw new Error(e);p6("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}};function p6(t){try{if(!ja.localStorage)return!1}catch{return!1}var e=ja.localStorage[t];return e!=null&&String(e).toLowerCase()==="true"}function aoe(){if(MG)return d6;function t(b){var x=this;this.next=null,this.entry=null,this.finish=function(){(function(I,C,T){var j=I.entry;for(I.entry=null;j;){var O=j.callback;C.pendingcb--,O(T),j=j.next}C.corkedRequestsFree.next=I})(x,b)}}var e;MG=1,d6=P,P.WritableState=D;var r={deprecate:q8e},n=Kie,i=x9.Buffer,o=(ja!==void 0?ja:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,s=noe,l=ooe.getHighWaterMark,c=Xh.codes,u=c.ERR_INVALID_ARG_TYPE,f=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,p=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,m=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,A=s.errorOrDestroy;function _(){}function D(b,x,I){e=e||Vg(),b=b||{},typeof I!="boolean"&&(I=x instanceof e),this.objectMode=!!b.objectMode,I&&(this.objectMode=this.objectMode||!!b.writableObjectMode),this.highWaterMark=l(this,b,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=b.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(j,O){var k=j._writableState,E=k.sync,M=k.writecb;if(typeof M!="function")throw new h;if((function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0})(k),O)(function(q,W,V,Q,te){--W.pendingcb,V?(br.nextTick(te,Q),br.nextTick(R,q,W),q._writableState.errorEmitted=!0,A(q,Q)):(te(Q),q._writableState.errorEmitted=!0,A(q,Q),R(q,W))})(j,k,E,O,M);else{var H=L(k)||j.destroyed;H||k.corked||k.bufferProcessing||!k.bufferedRequest||N(j,k),E?br.nextTick(F,j,k,H,M):F(j,k,H,M)}})(x,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function P(b){var x=this instanceof(e=e||Vg());if(!x&&!a.call(P,this))return new P(b);this._writableState=new D(b,this,x),this.writable=!0,b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final)),n.call(this)}function U(b,x,I,C,T,j,O){x.writelen=C,x.writecb=O,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new y("write")):I?b._writev(T,x.onwrite):b._write(T,j,x.onwrite),x.sync=!1}function F(b,x,I,C){I||(function(T,j){j.length===0&&j.needDrain&&(j.needDrain=!1,T.emit("drain"))})(b,x),x.pendingcb--,C(),R(b,x)}function N(b,x){x.bufferProcessing=!0;var I=x.bufferedRequest;if(b._writev&&I&&I.next){var C=x.bufferedRequestCount,T=new Array(C),j=x.corkedRequestsFree;j.entry=I;for(var O=0,k=!0;I;)T[O]=I,I.isBuf||(k=!1),I=I.next,O+=1;T.allBuffers=k,U(b,x,!0,x.length,T,"",j.finish),x.pendingcb++,x.lastBufferedRequest=null,j.next?(x.corkedRequestsFree=j.next,j.next=null):x.corkedRequestsFree=new t(x),x.bufferedRequestCount=0}else{for(;I;){var E=I.chunk,M=I.encoding,H=I.callback;if(U(b,x,!1,x.objectMode?1:E.length,E,M,H),I=I.next,x.bufferedRequestCount--,x.writing)break}I===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=I,x.bufferProcessing=!1}function L(b){return b.ending&&b.length===0&&b.bufferedRequest===null&&!b.finished&&!b.writing}function B(b,x){b._final((function(I){x.pendingcb--,I&&A(b,I),x.prefinished=!0,b.emit("prefinish"),R(b,x)}))}function R(b,x){var I=L(x);if(I&&((function(T,j){j.prefinished||j.finalCalled||(typeof T._final!="function"||j.destroyed?(j.prefinished=!0,T.emit("prefinish")):(j.pendingcb++,j.finalCalled=!0,br.nextTick(B,T,j)))})(b,x),x.pendingcb===0&&(x.finished=!0,b.emit("finish"),x.autoDestroy))){var C=b._readableState;(!C||C.autoDestroy&&C.endEmitted)&&b.destroy()}return I}return bb(P,n),D.prototype.getBuffer=function(){for(var b=this.bufferedRequest,x=[];b;)x.push(b),b=b.next;return x},(function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(b){return!!a.call(this,b)||this===P&&b&&b._writableState instanceof D}})):a=function(b){return b instanceof this},P.prototype.pipe=function(){A(this,new p)},P.prototype.write=function(b,x,I){var C,T=this._writableState,j=!1,O=!T.objectMode&&(C=b,i.isBuffer(C)||C instanceof o);return O&&!i.isBuffer(b)&&(b=(function(k){return i.from(k)})(b)),typeof x=="function"&&(I=x,x=null),O?x="buffer":x||(x=T.defaultEncoding),typeof I!="function"&&(I=_),T.ending?(function(k,E){var M=new v;A(k,M),br.nextTick(E,M)})(this,I):(O||(function(k,E,M,H){var q;return M===null?q=new m:typeof M=="string"||E.objectMode||(q=new u("chunk",["string","Buffer"],M)),!q||(A(k,q),br.nextTick(H,q),!1)})(this,T,b,I))&&(T.pendingcb++,j=(function(k,E,M,H,q,W){if(!M){var V=(function(Z,ae,he){return Z.objectMode||Z.decodeStrings===!1||typeof ae!="string"||(ae=i.from(ae,he)),ae})(E,H,q);H!==V&&(M=!0,q="buffer",H=V)}var Q=E.objectMode?1:H.length;E.length+=Q;var te=E.length<E.highWaterMark;if(te||(E.needDrain=!0),E.writing||E.corked){var X=E.lastBufferedRequest;E.lastBufferedRequest={chunk:H,encoding:q,isBuf:M,callback:W,next:null},X?X.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else U(k,E,!1,Q,H,q,W);return te})(this,T,O,b,x,I)),j},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||N(this,b))},P.prototype.setDefaultEncoding=function(b){if(typeof b=="string"&&(b=b.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((b+"").toLowerCase())>-1))throw new w(b);return this._writableState.defaultEncoding=b,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(b,x,I){I(new f("_write()"))},P.prototype._writev=null,P.prototype.end=function(b,x,I){var C=this._writableState;return typeof b=="function"?(I=b,b=null,x=null):typeof x=="function"&&(I=x,x=null),b!=null&&this.write(b,x),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(T,j,O){j.ending=!0,R(T,j),O&&(j.finished?br.nextTick(O):T.once("finish",O)),j.ended=!0,T.writable=!1})(this,C,I),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}}),P.prototype.destroy=s.destroy,P.prototype._undestroy=s.undestroy,P.prototype._destroy=function(b,x){x(b)},d6}function Vg(){if(NG)return h6;NG=1;var t=Object.keys||function(c){var u=[];for(var f in c)u.push(f);return u};h6=a;var e=soe(),r=aoe();bb(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];a.prototype[o]||(a.prototype[o]=r.prototype[o])}function a(c){if(!(this instanceof a))return new a(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||br.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),h6}var z8e=ze.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function T2(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),(function(e){if(e&&!z8e(e))throw new Error("Unknown encoding: "+e)})(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=K8e;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=V8e;break;default:return void(this.write=W8e)}this.charBuffer=new ze(6),this.charReceived=0,this.charLength=0}function W8e(t){return t.toString(this.encoding)}function K8e(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function V8e(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}T2.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;if(n=(e+=t.toString(this.encoding,0,n)).length-1,(i=e.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},T2.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},T2.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};var RG=mb(Object.freeze({__proto__:null,StringDecoder:T2})),LG=Xh.codes.ERR_STREAM_PREMATURE_CLOSE;function G8e(){}var g6,DG,BG,jG,m6,$G,I9=function t(e,r,n){if(typeof r=="function")return t(e,null,r);r||(r={}),n=(function(y){var m=!1;return function(){if(!m){m=!0;for(var v=arguments.length,w=new Array(v),A=0;A<v;A++)w[A]=arguments[A];y.apply(this,w)}}})(n||G8e);var i=r.readable||r.readable!==!1&&e.readable,o=r.writable||r.writable!==!1&&e.writable,a=function(){e.writable||l()},s=e._writableState&&e._writableState.finished,l=function(){o=!1,s=!0,i||n.call(e)},c=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,c=!0,o||n.call(e)},f=function(y){n.call(e,y)},h=function(){var y;return i&&!c?(e._readableState&&e._readableState.ended||(y=new LG),n.call(e,y)):o&&!s?(e._writableState&&e._writableState.ended||(y=new LG),n.call(e,y)):void 0},p=function(){e.req.on("finish",l)};return(function(y){return y.setHeader&&typeof y.abort=="function"})(e)?(e.on("complete",l),e.on("abort",h),e.req?p():e.on("request",p)):o&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",u),e.on("finish",l),r.error!==!1&&e.on("error",f),e.on("close",h),function(){e.removeListener("complete",l),e.removeListener("abort",h),e.removeListener("request",p),e.req&&e.req.removeListener("finish",l),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",l),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",h)}};function Y8e(){if(DG)return g6;var t;function e(m,v,w){return(v=(function(A){var _=(function(D,P){if(typeof D!="object"||D===null)return D;var U=D[Symbol.toPrimitive];if(U!==void 0){var F=U.call(D,P);if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(D)})(A,"string");return typeof _=="symbol"?_:String(_)})(v))in m?Object.defineProperty(m,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[v]=w,m}DG=1;var r=I9,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),s=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(m,v){return{value:m,done:v}}function f(m){var v=m[n];if(v!==null){var w=m[c].read();w!==null&&(m[s]=null,m[n]=null,m[i]=null,v(u(w,!1)))}}function h(m){br.nextTick(f,m)}var p=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((e(t={get stream(){return this[c]},next:function(){var m=this,v=this[o];if(v!==null)return Promise.reject(v);if(this[a])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise((function(D,P){br.nextTick((function(){m[o]?P(m[o]):D(u(void 0,!0))}))}));var w,A=this[s];if(A)w=new Promise((function(D,P){return function(U,F){D.then((function(){P[a]?U(u(void 0,!0)):P[l](U,F)}),F)}})(A,this));else{var _=this[c].read();if(_!==null)return Promise.resolve(u(_,!1));w=new Promise(this[l])}return this[s]=w,w}},Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var m=this;return new Promise((function(v,w){m[c].destroy(null,(function(A){A?w(A):v(u(void 0,!0))}))}))})),t),p);return g6=function(m){var v,w=Object.create(y,(e(v={},c,{value:m,writable:!0}),e(v,n,{value:null,writable:!0}),e(v,i,{value:null,writable:!0}),e(v,o,{value:null,writable:!0}),e(v,a,{value:m._readableState.endEmitted,writable:!0}),e(v,l,{value:function(A,_){var D=w[c].read();D?(w[s]=null,w[n]=null,w[i]=null,A(u(D,!1))):(w[n]=A,w[i]=_)},writable:!0}),v));return w[s]=null,r(m,(function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=w[i];return _!==null&&(w[s]=null,w[n]=null,w[i]=null,_(A)),void(w[o]=A)}var D=w[n];D!==null&&(w[s]=null,w[n]=null,w[i]=null,D(u(void 0,!0))),w[a]=!0})),m.on("readable",h.bind(null,w)),w},g6}function soe(){if($G)return m6;var t;$G=1,m6=P,P.ReadableState=D,w9.EventEmitter;var e=function(H,q){return H.listeners(q).length},r=Kie,n=x9.Buffer,i=(ja!==void 0?ja:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,a=roe;o=a&&a.debuglog?a.debuglog("stream"):function(){};var s,l,c,u=F8e(),f=noe,h=ooe.getHighWaterMark,p=Xh.codes,y=p.ERR_INVALID_ARG_TYPE,m=p.ERR_STREAM_PUSH_AFTER_EOF,v=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;bb(P,r);var A=f.errorOrDestroy,_=["error","close","destroy","pause","resume"];function D(H,q,W){t=t||Vg(),H=H||{},typeof W!="boolean"&&(W=q instanceof t),this.objectMode=!!H.objectMode,W&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=h(this,H,"readableHighWaterMark",W),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(s||(s=RG.StringDecoder),this.decoder=new s(H.encoding),this.encoding=H.encoding)}function P(H){if(t=t||Vg(),!(this instanceof P))return new P(H);var q=this instanceof t;this._readableState=new D(H,this,q),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),r.call(this)}function U(H,q,W,V,Q){o("readableAddChunk",q);var te,X=H._readableState;if(q===null)X.reading=!1,(function(Z,ae){if(o("onEofChunk"),!ae.ended){if(ae.decoder){var he=ae.decoder.end();he&&he.length&&(ae.buffer.push(he),ae.length+=ae.objectMode?1:he.length)}ae.ended=!0,ae.sync?B(Z):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,R(Z)))}})(H,X);else if(Q||(te=(function(Z,ae){var he;se=ae,n.isBuffer(se)||se instanceof i||typeof ae=="string"||ae===void 0||Z.objectMode||(he=new y("chunk",["string","Buffer","Uint8Array"],ae));var se;return he})(X,q)),te)A(H,te);else if(X.objectMode||q&&q.length>0)if(typeof q=="string"||X.objectMode||Object.getPrototypeOf(q)===n.prototype||(q=(function(Z){return n.from(Z)})(q)),V)X.endEmitted?A(H,new w):F(H,X,q,!0);else if(X.ended)A(H,new m);else{if(X.destroyed)return!1;X.reading=!1,X.decoder&&!W?(q=X.decoder.write(q),X.objectMode||q.length!==0?F(H,X,q,!1):b(H,X)):F(H,X,q,!1)}else V||(X.reading=!1,b(H,X));return!X.ended&&(X.length<X.highWaterMark||X.length===0)}function F(H,q,W,V){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,H.emit("data",W)):(q.length+=q.objectMode?1:W.length,V?q.buffer.unshift(W):q.buffer.push(W),q.needReadable&&B(H)),b(H,q)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(H,q){q(H)},P.prototype.push=function(H,q){var W,V=this._readableState;return V.objectMode?W=!0:typeof H=="string"&&((q=q||V.defaultEncoding)!==V.encoding&&(H=n.from(H,q),q=""),W=!0),U(this,H,q,!1,W)},P.prototype.unshift=function(H){return U(this,H,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(H){s||(s=RG.StringDecoder);var q=new s(H);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,V="";W!==null;)V+=q.write(W.data),W=W.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var N=1073741824;function L(H,q){return H<=0||q.length===0&&q.ended?0:q.objectMode?1:H!=H?q.flowing&&q.length?q.buffer.head.data.length:q.length:(H>q.highWaterMark&&(q.highWaterMark=(function(W){return W>=N?W=N:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W})(H)),H<=q.length?H:q.ended?q.length:(q.needReadable=!0,0))}function B(H){var q=H._readableState;o("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(o("emitReadable",q.flowing),q.emittedReadable=!0,br.nextTick(R,H))}function R(H){var q=H._readableState;o("emitReadable_",q.destroyed,q.length,q.ended),q.destroyed||!q.length&&!q.ended||(H.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,j(H)}function b(H,q){q.readingMore||(q.readingMore=!0,br.nextTick(x,H,q))}function x(H,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var W=q.length;if(o("maybeReadMore read 0"),H.read(0),W===q.length)break}q.readingMore=!1}function I(H){var q=H._readableState;q.readableListening=H.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:H.listenerCount("data")>0&&H.resume()}function C(H){o("readable nexttick read 0"),H.read(0)}function T(H,q){o("resume",q.reading),q.reading||H.read(0),q.resumeScheduled=!1,H.emit("resume"),j(H),q.flowing&&!q.reading&&H.read(0)}function j(H){var q=H._readableState;for(o("flow",q.flowing);q.flowing&&H.read()!==null;);}function O(H,q){return q.length===0?null:(q.objectMode?W=q.buffer.shift():!H||H>=q.length?(W=q.decoder?q.buffer.join(""):q.buffer.length===1?q.buffer.first():q.buffer.concat(q.length),q.buffer.clear()):W=q.buffer.consume(H,q.decoder),W);var W}function k(H){var q=H._readableState;o("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,br.nextTick(E,q,H))}function E(H,q){if(o("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,q.readable=!1,q.emit("end"),H.autoDestroy)){var W=q._writableState;(!W||W.autoDestroy&&W.finished)&&q.destroy()}}function M(H,q){for(var W=0,V=H.length;W<V;W++)if(H[W]===q)return W;return-1}return P.prototype.read=function(H){o("read",H),H=parseInt(H,10);var q=this._readableState,W=H;if(H!==0&&(q.emittedReadable=!1),H===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return o("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?k(this):B(this),null;if((H=L(H,q))===0&&q.ended)return q.length===0&&k(this),null;var V,Q=q.needReadable;return o("need readable",Q),(q.length===0||q.length-H<q.highWaterMark)&&o("length less than watermark",Q=!0),q.ended||q.reading?o("reading or ended",Q=!1):Q&&(o("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(H=L(W,q))),(V=H>0?O(H,q):null)===null?(q.needReadable=q.length<=q.highWaterMark,H=0):(q.length-=H,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),W!==H&&q.ended&&k(this)),V!==null&&this.emit("data",V),V},P.prototype._read=function(H){A(this,new v("_read()"))},P.prototype.pipe=function(H,q){var W=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=H;break;case 1:V.pipes=[V.pipes,H];break;default:V.pipes.push(H)}V.pipesCount+=1,o("pipe count=%d opts=%j",V.pipesCount,q);var Q=(!q||q.end!==!1)&&H!==br.stdout&&H!==br.stderr?X:fe;function te(pe,xe){o("onunpipe"),pe===W&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,o("cleanup"),H.removeListener("close",ne),H.removeListener("finish",oe),H.removeListener("drain",Z),H.removeListener("error",se),H.removeListener("unpipe",te),W.removeListener("end",X),W.removeListener("end",fe),W.removeListener("data",he),ae=!0,!V.awaitDrain||H._writableState&&!H._writableState.needDrain||Z())}function X(){o("onend"),H.end()}V.endEmitted?br.nextTick(Q):W.once("end",Q),H.on("unpipe",te);var Z=(function(pe){return function(){var xe=pe._readableState;o("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&e(pe,"data")&&(xe.flowing=!0,j(pe))}})(W);H.on("drain",Z);var ae=!1;function he(pe){o("ondata");var xe=H.write(pe);o("dest.write",xe),xe===!1&&((V.pipesCount===1&&V.pipes===H||V.pipesCount>1&&M(V.pipes,H)!==-1)&&!ae&&(o("false write response, pause",V.awaitDrain),V.awaitDrain++),W.pause())}function se(pe){o("onerror",pe),fe(),H.removeListener("error",se),e(H,"error")===0&&A(H,pe)}function ne(){H.removeListener("finish",oe),fe()}function oe(){o("onfinish"),H.removeListener("close",ne),fe()}function fe(){o("unpipe"),W.unpipe(H)}return W.on("data",he),(function(pe,xe,Se){if(typeof pe.prependListener=="function")return pe.prependListener(xe,Se);pe._events&&pe._events[xe]?Array.isArray(pe._events[xe])?pe._events[xe].unshift(Se):pe._events[xe]=[Se,pe._events[xe]]:pe.on(xe,Se)})(H,"error",se),H.once("close",ne),H.once("finish",oe),H.emit("pipe",W),V.flowing||(o("pipe resume"),W.resume()),H},P.prototype.unpipe=function(H){var q=this._readableState,W={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return H&&H!==q.pipes||(H||(H=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,H&&H.emit("unpipe",this,W)),this;if(!H){var V=q.pipes,Q=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var te=0;te<Q;te++)V[te].emit("unpipe",this,{hasUnpiped:!1});return this}var X=M(q.pipes,H);return X===-1||(q.pipes.splice(X,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),H.emit("unpipe",this,W)),this},P.prototype.on=function(H,q){var W=r.prototype.on.call(this,H,q),V=this._readableState;return H==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):H==="readable"&&(V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,o("on readable",V.length,V.reading),V.length?B(this):V.reading||br.nextTick(C,this))),W},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(H,q){var W=r.prototype.removeListener.call(this,H,q);return H==="readable"&&br.nextTick(I,this),W},P.prototype.removeAllListeners=function(H){var q=r.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||br.nextTick(I,this),q},P.prototype.resume=function(){var H=this._readableState;return H.flowing||(o("resume"),H.flowing=!H.readableListening,(function(q,W){W.resumeScheduled||(W.resumeScheduled=!0,br.nextTick(T,q,W))})(this,H)),H.paused=!1,this},P.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(H){var q=this,W=this._readableState,V=!1;for(var Q in H.on("end",(function(){if(o("wrapped end"),W.decoder&&!W.ended){var X=W.decoder.end();X&&X.length&&q.push(X)}q.push(null)})),H.on("data",(function(X){o("wrapped data"),W.decoder&&(X=W.decoder.write(X)),W.objectMode&&X==null||(W.objectMode||X&&X.length)&&(q.push(X)||(V=!0,H.pause()))})),H)this[Q]===void 0&&typeof H[Q]=="function"&&(this[Q]=(function(X){return function(){return H[X].apply(H,arguments)}})(Q));for(var te=0;te<_.length;te++)H.on(_[te],this.emit.bind(this,_[te]));return this._read=function(X){o("wrapped _read",X),V&&(V=!1,H.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return l===void 0&&(l=Y8e()),l(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),P._fromList=O,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(H,q){return c===void 0&&(c=jG?BG:(jG=1,BG=function(){throw new Error("Readable.from is not available in the browser")})),c(P,H,q)}),m6}var loe=Wl,d_=Xh.codes,J8e=d_.ERR_METHOD_NOT_IMPLEMENTED,Q8e=d_.ERR_MULTIPLE_CALLBACK,X8e=d_.ERR_TRANSFORM_ALREADY_TRANSFORMING,Z8e=d_.ERR_TRANSFORM_WITH_LENGTH_0,M2=Vg();function eMe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Q8e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Wl(t){if(!(this instanceof Wl))return new Wl(t);M2.call(this,t),this._transformState={afterTransform:eMe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",tMe)}function tMe(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?FG(this,null,null):this._flush((function(e,r){FG(t,e,r)}))}function FG(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Z8e;if(t._transformState.transforming)throw new X8e;return t.push(null)}bb(Wl,M2),Wl.prototype.push=function(t,e){return this._transformState.needTransform=!1,M2.prototype.push.call(this,t,e)},Wl.prototype._transform=function(t,e,r){r(new J8e("_transform()"))},Wl.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Wl.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Wl.prototype._destroy=function(t,e){M2.prototype._destroy.call(this,t,(function(r){e(r)}))};var y6,rMe=Ew,coe=loe;function Ew(t){if(!(this instanceof Ew))return new Ew(t);coe.call(this,t)}bb(Ew,coe),Ew.prototype._transform=function(t,e,r){r(null,t)};var uoe=Xh.codes,nMe=uoe.ERR_MISSING_ARGS,iMe=uoe.ERR_STREAM_DESTROYED;function UG(t){if(t)throw t}function HG(t){t()}function oMe(t,e){return t.pipe(e)}var aMe=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=(function(a){return a.length?typeof a[a.length-1]!="function"?UG:a.pop():UG})(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new nMe("streams");var o=e.map((function(a,s){var l=s<e.length-1;return(function(c,u,f,h){h=(function(m){var v=!1;return function(){v||(v=!0,m.apply(void 0,arguments))}})(h);var p=!1;c.on("close",(function(){p=!0})),y6===void 0&&(y6=I9),y6(c,{readable:u,writable:f},(function(m){if(m)return h(m);p=!0,h()}));var y=!1;return function(m){if(!p&&!y)return y=!0,(function(v){return v.setHeader&&typeof v.abort=="function"})(c)?c.abort():typeof c.destroy=="function"?c.destroy():void h(m||new iMe("pipe"))}})(a,l,s>0,(function(c){n||(n=c),c&&o.forEach(HG),l||(o.forEach(HG),i(n))}))}));return e.reduce(oMe)};(function(t,e){(e=oM.exports=soe()).Stream=e,e.Readable=e,e.Writable=aoe(),e.Duplex=Vg(),e.Transform=loe,e.PassThrough=rMe,e.finished=I9,e.pipeline=aMe})(0,oM.exports);var Gg=oM.exports;function sMe(t={}){const e={},r=new Gg.Duplex({objectMode:!0,read:()=>{},write:function(o,a,s){let l=null;try{o.id?(function(c){const{id:u}=c;if(u===null)return;const f=e[u];if(!f)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(f.res,c),setTimeout(f.end)})(o):(function(c){t!=null&&t.retryOnMessage&&c.method===t.retryOnMessage&&Object.values(e).forEach((({req:u,retryCount:f=0})=>{if(!u.id)return;if(f>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);const h=e[u.id];h&&(h.retryCount=f+1),i(u)})),n.emit("notification",c)})(o)}catch(c){l=c}s(l)}}),n=new $ie;return{events:n,middleware:(o,a,s,l)=>{e[o.id]={req:o,res:a,next:s,end:l},i(o)},stream:r};function i(o){r.push(o)}}var x3={},sM={exports:{}},lMe=function t(e,r){if(e&&r)return t(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(i){n[i]=e[i]})),n;function n(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var a=e.apply(this,i),s=i[i.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach((function(l){a[l]=s[l]})),a}},qG=lMe;function Hx(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function zG(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}sM.exports=qG(Hx),sM.exports.strict=qG(zG),Hx.proto=Hx((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Hx(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return zG(this)},configurable:!0})}));var cMe=sM.exports,E3={};Object.defineProperty(E3,"__esModule",{value:!0}),E3.Substream=void 0;const uMe=Gg;class fMe extends uMe.Duplex{constructor({parent:e,name:r}){super({objectMode:!0}),this._parent=e,this._name=r}_read(){}_write(e,r,n){this._parent.push({name:this._name,data:e}),n()}}E3.Substream=fMe;var dMe=ja&&ja.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x3,"__esModule",{value:!0}),x3.ObjectMultiplex=void 0;const v6=Gg,hMe=dMe(cMe),pMe=E3,WG=Symbol("IGNORE_SUBSTREAM");let gMe=class extends v6.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new pMe.Substream({parent:this,name:t});return this._substreams[t]=e,(function(r,n){const i=(0,hMe.default)(n);(0,v6.finished)(r,{readable:!1},i),(0,v6.finished)(r,{writable:!1},i)})(this,(r=>e.destroy(r||void 0))),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=WG}_read(){}_write(t,e,r){const{name:n,data:i}=t;if(!n)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),r();const o=this._substreams[n];return o?(o!==WG&&o.push(i),r()):(console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r())}};x3.ObjectMultiplex=gMe;var mMe=s_(x3.ObjectMultiplex);const Bs=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Bs.writable=t=>Bs(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",Bs.readable=t=>Bs(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",Bs.duplex=t=>Bs.writable(t)&&Bs.readable(t),Bs.transform=t=>Bs.duplex(t)&&typeof t._transform=="function";var js,yMe=Bs,vMe=class extends N8e{constructor(t,{jsonRpcStreamName:e,logger:r=console,maxEventListeners:n=100,rpcMiddleware:i=[]}){if(super({logger:r,maxEventListeners:n,rpcMiddleware:i}),!yMe.duplex(t))throw new Error(En.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new mMe;Gg.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=sMe({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),Gg.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",(a=>{const{method:s,params:l}=a;s==="metamask_accountsChanged"?this._handleAccountsChanged(l):s==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(l):s==="metamask_chainChanged"?this._handleChainChanged(l):Fie.includes(s)?this.emit("message",{type:s,data:l}):s==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(En.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let r=`MetaMask: Lost connection to "${t}".`;e!=null&&e.stack&&(r+=`
${e.stack}`),this._log.warn(r),this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){Uie(t)&&(r=>!!r&&typeof r=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(En.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},wMe=class extends vMe{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:r=console,maxEventListeners:n=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:r,maxEventListeners:n,rpcMiddleware:A8e(r)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},iM(this,js,void 0),this._initializeStateAsync(),zl(this,js,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(o=>{const{method:a}=o;Fie.includes(a)&&(this.emit("data",o),this.emit("notification",o.params.result))})),i)if(document.readyState==="complete")OG(this._rpcEngine,this._log);else{const o=()=>{OG(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(En.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(En.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),tl(this,js)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(En.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),tl(this,js)&&!t&&zl(this,js,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(En.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(En.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},P2(t,e))}catch(r){e(r)}}))}send(t,e){return this._sentWarnings.send||(this._log.warn(En.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise(((r,n)=>{try{this._rpcRequest({method:t,params:e},P2(r,n,!1))}catch(i){n(i)}}))}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,Hie),e=!0;break;case"net_version":e=tl(this,js)??null;break;default:throw new Error(En.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((t=>{this.on("_initialized",(()=>t()))})),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw hv({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise(((e,r)=>{this._rpcRequest(t,P2(e,r))}))}},{get:(t,e,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(En.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...r))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==tl(this,js)&&(zl(this,js,e),this._state.initialized&&this.emit("networkChanged",tl(this,js)))}};js=new WeakMap;const Fe=Ji("MM_SDK");let KG;Fe.color="#FFAC1C";var foe={},Tf={};Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.EthereumProviderError=Tf.EthereumRpcError=void 0;const bMe=Nie;class doe extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return bMe.default(this.serialize(),xMe,2)}}Tf.EthereumRpcError=doe;function xMe(t,e){if(e!=="[Circular]")return e}Tf.EthereumProviderError=class extends doe{constructor(t,e,r){if(!(function(n){return Number.isInteger(n)&&n>=1e3&&n<=4999})(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}};var P9={},$u={};Object.defineProperty($u,"__esModule",{value:!0}),$u.errorValues=$u.errorCodes=void 0,$u.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},$u.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=$u,r=Tf,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:a(n)};function a(f,h=i){if(Number.isInteger(f)){const p=f.toString();if(u(e.errorValues,p))return e.errorValues[p].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return h}function s(f){if(!Number.isInteger(f))return!1;const h=f.toString();return!!e.errorValues[h]||!!l(f)}function l(f){return f>=-32099&&f<=-32e3}function c(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function u(f,h){return Object.prototype.hasOwnProperty.call(f,h)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=s,t.serializeError=function(f,{fallbackError:h=o,shouldIncludeStack:p=!1}={}){var y,m;if(!h||!Number.isInteger(h.code)||typeof h.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&u(f,"code")&&s(f.code)){const A=f;v.code=A.code,A.message&&typeof A.message=="string"?(v.message=A.message,u(A,"data")&&(v.data=A.data)):(v.message=a(v.code),v.data={originalError:c(f)})}else{v.code=h.code;const A=(y=f)===null||y===void 0?void 0:y.message;v.message=A&&typeof A=="string"?A:h.message,v.data={originalError:c(f)}}const w=(m=f)===null||m===void 0?void 0:m.stack;return p&&f&&w&&typeof w=="string"&&(v.stack=w),v}})(P9);var S3={};Object.defineProperty(S3,"__esModule",{value:!0}),S3.ethErrors=void 0;const k9=Tf,hoe=P9,xi=$u;function ya(t,e){const[r,n]=poe(e);return new k9.EthereumRpcError(t,r||hoe.getMessageFromCode(t),n)}function Py(t,e){const[r,n]=poe(e);return new k9.EthereumProviderError(t,r||hoe.getMessageFromCode(t),n)}function poe(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}S3.ethErrors={rpc:{parse:t=>ya(xi.errorCodes.rpc.parse,t),invalidRequest:t=>ya(xi.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ya(xi.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ya(xi.errorCodes.rpc.methodNotFound,t),internal:t=>ya(xi.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ya(e,t)},invalidInput:t=>ya(xi.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ya(xi.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ya(xi.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ya(xi.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ya(xi.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ya(xi.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Py(xi.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Py(xi.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Py(xi.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Py(xi.errorCodes.provider.disconnected,t),chainDisconnected:t=>Py(xi.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new k9.EthereumProviderError(e,r,n)}}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Tf;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=P9;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=S3;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=$u;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(foe);var goe={exports:{}};goe.exports=(function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)r.d(o,a,(function(s){return n[s]}).bind(null,a));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=90)})({17:function(t,e,r){e.__esModule=!0,e.default=void 0;var n=r(18),i=(function(){function o(){}return o.getFirstMatch=function(a,s){var l=s.match(a);return l&&l.length>0&&l[1]||""},o.getSecondMatch=function(a,s){var l=s.match(a);return l&&l.length>1&&l[2]||""},o.matchAndReturnConst=function(a,s,l){if(a.test(s))return l},o.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map((function(l){return parseInt(l,10)||0}));if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map((function(l){return parseInt(l,10)||0}));if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},o.getVersionPrecision=function(a){return a.split(".").length},o.compareVersions=function(a,s,l){l===void 0&&(l=!1);var c=o.getVersionPrecision(a),u=o.getVersionPrecision(s),f=Math.max(c,u),h=0,p=o.map([a,s],(function(y){var m=f-o.getVersionPrecision(y),v=y+new Array(m+1).join(".0");return o.map(v.split("."),(function(w){return new Array(20-w.length).join("0")+w})).reverse()}));for(l&&(h=f-Math.min(c,u)),f-=1;f>=h;){if(p[0][f]>p[1][f])return 1;if(p[0][f]===p[1][f]){if(f===h)return 0;f-=1}else if(p[0][f]<p[1][f])return-1}},o.map=function(a,s){var l,c=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(l=0;l<a.length;l+=1)c.push(s(a[l]));return c},o.find=function(a,s){var l,c;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(l=0,c=a.length;l<c;l+=1){var u=a[l];if(s(u,l))return u}},o.assign=function(a){for(var s,l,c=a,u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];if(Object.assign)return Object.assign.apply(Object,[a].concat(f));var p=function(){var y=f[s];typeof y=="object"&&y!==null&&Object.keys(y).forEach((function(m){c[m]=y[m]}))};for(s=0,l=f.length;s<l;s+=1)p();return a},o.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},o.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},o})();e.default=i,t.exports=e.default},18:function(t,e,r){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var s=(function(){function l(){}var c,u,f;return l.getParser=function(h,p){if(p===void 0&&(p=!1),typeof h!="string")throw new Error("UserAgent should be a string");return new i.default(h,p)},l.parse=function(h){return new i.default(h).getResult()},c=l,f=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&a(c.prototype,u),f&&a(c,f),l})();e.default=s,t.exports=e.default},91:function(t,e,r){e.__esModule=!0,e.default=void 0;var n=l(r(92)),i=l(r(93)),o=l(r(94)),a=l(r(95)),s=l(r(17));function l(u){return u&&u.__esModule?u:{default:u}}var c=(function(){function u(h,p){if(p===void 0&&(p=!1),h==null||h==="")throw new Error("UserAgent parameter can't be empty");this._ua=h,this.parsedResult={},p!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(h){return h.test(this._ua)},f.parseBrowser=function(){var h=this;this.parsedResult.browser={};var p=s.default.find(n.default,(function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some((function(m){return h.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(h){return h?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var h=this;this.parsedResult.os={};var p=s.default.find(i.default,(function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some((function(m){return h.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(h){var p=this.getOS().name;return h?String(p).toLowerCase()||"":p||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(h){h===void 0&&(h=!1);var p=this.getPlatform().type;return h?String(p).toLowerCase()||"":p||""},f.parsePlatform=function(){var h=this;this.parsedResult.platform={};var p=s.default.find(o.default,(function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some((function(m){return h.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(h){return h?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var h=this;this.parsedResult.engine={};var p=s.default.find(a.default,(function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some((function(m){return h.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return s.default.assign({},this.parsedResult)},f.satisfies=function(h){var p=this,y={},m=0,v={},w=0;if(Object.keys(h).forEach((function(L){var B=h[L];typeof B=="string"?(v[L]=B,w+=1):typeof B=="object"&&(y[L]=B,m+=1)})),m>0){var A=Object.keys(y),_=s.default.find(A,(function(L){return p.isOS(L)}));if(_){var D=this.satisfies(y[_]);if(D!==void 0)return D}var P=s.default.find(A,(function(L){return p.isPlatform(L)}));if(P){var U=this.satisfies(y[P]);if(U!==void 0)return U}}if(w>0){var F=Object.keys(v),N=s.default.find(F,(function(L){return p.isBrowser(L,!0)}));if(N!==void 0)return this.compareVersion(v[N])}},f.isBrowser=function(h,p){p===void 0&&(p=!1);var y=this.getBrowserName().toLowerCase(),m=h.toLowerCase(),v=s.default.getBrowserTypeByAlias(m);return p&&v&&(m=v.toLowerCase()),m===y},f.compareVersion=function(h){var p=[0],y=h,m=!1,v=this.getBrowserVersion();if(typeof v=="string")return h[0]===">"||h[0]==="<"?(y=h.substr(1),h[1]==="="?(m=!0,y=h.substr(2)):p=[],h[0]===">"?p.push(1):p.push(-1)):h[0]==="="?y=h.substr(1):h[0]==="~"&&(m=!0,y=h.substr(1)),p.indexOf(s.default.compareVersions(v,y,m))>-1},f.isOS=function(h){return this.getOSName(!0)===String(h).toLowerCase()},f.isPlatform=function(h){return this.getPlatformType(!0)===String(h).toLowerCase()},f.isEngine=function(h){return this.getEngineName(!0)===String(h).toLowerCase()},f.is=function(h,p){return p===void 0&&(p=!1),this.isBrowser(h,p)||this.isOS(h)||this.isPlatform(h)},f.some=function(h){var p=this;return h===void 0&&(h=[]),h.some((function(y){return p.is(y)}))},u})();e.default=c,t.exports=e.default},92:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var l={name:"Googlebot"},c=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/opera/i],describe:function(s){var l={name:"Opera"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/opr\/|opios/i],describe:function(s){var l={name:"Opera"},c=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/SamsungBrowser/i],describe:function(s){var l={name:"Samsung Internet for Android"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/Whale/i],describe:function(s){var l={name:"NAVER Whale Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/MZBrowser/i],describe:function(s){var l={name:"MZ Browser"},c=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/focus/i],describe:function(s){var l={name:"Focus"},c=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/swing/i],describe:function(s){var l={name:"Swing"},c=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/coast/i],describe:function(s){var l={name:"Opera Coast"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var l={name:"Opera Touch"},c=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/yabrowser/i],describe:function(s){var l={name:"Yandex Browser"},c=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/ucbrowser/i],describe:function(s){var l={name:"UC Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/Maxthon|mxios/i],describe:function(s){var l={name:"Maxthon"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/epiphany/i],describe:function(s){var l={name:"Epiphany"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/puffin/i],describe:function(s){var l={name:"Puffin"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/sleipnir/i],describe:function(s){var l={name:"Sleipnir"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/k-meleon/i],describe:function(s){var l={name:"K-Meleon"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/micromessenger/i],describe:function(s){var l={name:"WeChat"},c=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/qqbrowser/i],describe:function(s){var l={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},c=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/msie|trident/i],describe:function(s){var l={name:"Internet Explorer"},c=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/\sedg\//i],describe:function(s){var l={name:"Microsoft Edge"},c=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/edg([ea]|ios)/i],describe:function(s){var l={name:"Microsoft Edge"},c=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/vivaldi/i],describe:function(s){var l={name:"Vivaldi"},c=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/seamonkey/i],describe:function(s){var l={name:"SeaMonkey"},c=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/sailfish/i],describe:function(s){var l={name:"Sailfish"},c=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return c&&(l.version=c),l}},{test:[/silk/i],describe:function(s){var l={name:"Amazon Silk"},c=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/phantom/i],describe:function(s){var l={name:"PhantomJS"},c=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/slimerjs/i],describe:function(s){var l={name:"SlimerJS"},c=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var l={name:"BlackBerry"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var l={name:"WebOS Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/bada/i],describe:function(s){var l={name:"Bada"},c=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/tizen/i],describe:function(s){var l={name:"Tizen"},c=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/qupzilla/i],describe:function(s){var l={name:"QupZilla"},c=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var l={name:"Firefox"},c=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/electron/i],describe:function(s){var l={name:"Electron"},c=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/MiuiBrowser/i],describe:function(s){var l={name:"Miui"},c=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/chromium/i],describe:function(s){var l={name:"Chromium"},c=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/chrome|crios|crmo/i],describe:function(s){var l={name:"Chrome"},c=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/GSA/i],describe:function(s){var l={name:"Google Search"},c=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){var l=!s.test(/like android/i),c=s.test(/android/i);return l&&c},describe:function(s){var l={name:"Android Browser"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/playstation 4/i],describe:function(s){var l={name:"PlayStation 4"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/safari|applewebkit/i],describe:function(s){var l={name:"Safari"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/.*/i],describe:function(s){var l=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,s),version:i.default.getSecondMatch(l,s)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(s){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:o.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(s){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(s){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),c=i.default.getWindowsVersionName(l);return{name:o.OS_MAP.Windows,version:l,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var l={name:o.OS_MAP.iOS},c=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return c&&(l.version=c),l}},{test:[/macintosh/i],describe:function(s){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),c=i.default.getMacOSVersionName(l),u={name:o.OS_MAP.MacOS,version:l};return c&&(u.versionName=c),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:l}}},{test:function(s){var l=!s.test(/like android/i),c=s.test(/android/i);return l&&c},describe:function(s){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),c=i.default.getAndroidVersionName(l),u={name:o.OS_MAP.Android,version:l};return c&&(u.versionName=c),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),c={name:o.OS_MAP.WebOS};return l&&l.length&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:o.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(s){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(s){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.PlayStation4,version:l}}}];e.default=a,t.exports=e.default},94:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var l=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",c={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(c.model=l),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){var l=s.test(/ipod|iphone/i),c=s.test(/like (ipod|iphone)/i);return l&&!c},describe:function(s){var l=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var l=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:o.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:o.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(s){var l={name:o.ENGINE_MAP.Trident},c=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){return s.test(/presto/i)},describe:function(s){var l={name:o.ENGINE_MAP.Presto},c=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){var l=s.test(/gecko/i),c=s.test(/like gecko/i);return l&&!c},describe:function(s){var l={name:o.ENGINE_MAP.Gecko},c=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var l={name:o.ENGINE_MAP.WebKit},c=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}}];e.default=a,t.exports=e.default}});var moe=s_(goe.exports);const So={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class xs{constructor({shouldSetOnWindow:e,connectionStream:r,shouldSendMetadata:n=!1,shouldShimWeb3:i,sdkInstance:o}){const a=new EMe({connectionStream:r,shouldSendMetadata:n,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),s=new Proxy(a,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=o,e&&typeof window<"u")try{l=a,window.ethereum=l,window.dispatchEvent(new Event("ethereum#initialized"))}catch(c){Fe("[Ethereum] Unable to set global provider - window.ethereum may be read-only",c)}var l;if(i&&typeof window<"u")try{(function(c,u=console){let f=!1,h=!1;if(!window.web3){const p="__isMetaMaskShim__";let y={currentProvider:c};Object.defineProperty(y,p,{value:!0,enumerable:!0,configurable:!1,writable:!1}),y=new Proxy(y,{get:(m,v,...w)=>(v!=="currentProvider"||f?v==="currentProvider"||v===p||h||(h=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),c.request({method:"metamask_logWeb3ShimUsage"}).catch((A=>{u.debug("MetaMask: Failed to log web3 shim usage.",A)}))):(f=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(m,v,...w)),set:(...m)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...m))}),Object.defineProperty(window,"web3",{value:y,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(c){Fe("[Ethereum] Unable to shim web3 - window.web3 may be read-only",c)}this.provider.on("display_uri",(c=>{this.sdkInstance.emit(So.DisplayURI,c)})),this.provider.on("_initialized",(()=>{const c={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(So.Initialized,c),Fe("[Ethereum: constructor()] provider initialized",c)}))}static init(e){var r;return Fe("[Ethereum: init()] Initializing Ethereum service"),this.instance=new xs(e),(r=this.instance)===null||r===void 0?void 0:r.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class Sw{constructor({useDeepLink:e,preferredOpenLink:r,debug:n=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=r,this.state.debug=n}openDeeplink(e,r,n){return(function(i,o,a,s){const{state:l}=i;Fe(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),Fe(`[PlatfformManager: openDeeplink()] deepLink --> ${a}`);try{if(l.preferredOpenLink)return void l.preferredOpenLink(l.useDeeplink?a:o,s);if(Fe(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${l.useDeeplink} link=${l.useDeeplink?a:o}`),l.useDeeplink)typeof window<"u"&&(window.location.href=a);else if(typeof document<"u"){const c=document.createElement("a");c.href=o,c.target="_self",c.rel="noreferrer noopener",c.click()}}catch(c){console.log("[PlatfformManager: openDeeplink()] can't open link",c)}})(this,e,r,n)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return(function(){const e=xs.getProvider()||(window==null?void 0:window.ethereum);return Fe(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())})()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,r;const n=moe.parse(window.navigator.userAgent);return((e=n==null?void 0:n.platform)===null||e===void 0?void 0:e.type)==="mobile"||((r=n==null?void 0:n.platform)===null||r===void 0?void 0:r.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Li.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!(window!=null&&window.navigator)||eo!==void 0&&((e=eo==null?void 0:eo.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return Sw.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return Sw.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return(function(e){const{state:r}=e;return r.platformType?r.platformType:e.isReactNative()?Li.ReactNative:e.isNotBrowser()?Li.NonBrowser:e.isMetaMaskMobileWebView()?Li.MetaMaskMobileWebview:e.isMobile()?Li.MobileWeb:Li.DesktopWeb})(this)}}const yoe=t=>qe(void 0,void 0,void 0,(function*(){if(Sw.isBrowser()){const{StorageManagerWeb:r}=yield Promise.resolve().then((function(){return XMe}));return new r(t)}const e={persistChannelConfig:()=>qe(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>qe(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>qe(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>qe(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>qe(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>qe(void 0,void 0,void 0,(function*(){})),terminate:()=>qe(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(e)}));class EMe extends wMe{constructor({connectionStream:e,shouldSendMetadata:r,autoRequestAccounts:n=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:r}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Fe(`[SDKProvider: constructor()] autoRequestAccounts=${n}`),this.state.autoRequestAccounts=n}forceInitializeState(){return qe(this,void 0,void 0,(function*(){return Fe(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){Fe("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:r}=this._state;return r&&r.length!==0?((e=r[0])===null||e===void 0?void 0:e.toLowerCase())||"":(Fe("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,r){return this._handleAccountsChanged(e,r)}handleDisconnect({terminate:e=!1}){(function({terminate:r=!1,instance:n}){const{state:i}=n;Fe(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${r}`,n),r&&(n._state.accounts=null,n._state.isUnlocked=!1,n._state.isPermanentlyDisconnected=!0,n._state.initialized=!1),n._handleAccountsChanged([]),n._state.isConnected=!1,n.emit("disconnect",foe.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return qe(this,void 0,void 0,(function*(){return(function(e){var r,n;return qe(this,void 0,void 0,(function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let o;if(i.providerStateRequested)Fe("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let a;i.providerStateRequested=!0;let s=null,l=!1,c=!1;const u=yield yoe({enabled:!0});if(u){const f=yield u.getPersistedChannelConfig({});l=(r=f==null?void 0:f.relayPersistence)!==null&&r!==void 0&&r,a=yield u.getCachedChainId();const h=yield u.getCachedAccounts();h.length>0&&(s=h[0])}if(Fe(`[SDKProvider: initializeStateAsync()] relayPersistence=${l}`,{relayPersistence:l,cachedChainId:a,cachedSelectedAddress:s}),l)if(a&&s)o={accounts:[s],chainId:a,isUnlocked:!1},c=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(f){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",f),void(i.providerStateRequested=!1)}if(((n=o==null?void 0:o.accounts)===null||n===void 0?void 0:n.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{Fe("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const f=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=f}e._initializeState(o),i.providerStateRequested=!1,c&&(e._state.isConnected=!0,e.emit("connect",{chainId:o==null?void 0:o.chainId}))}}))})(this)}))}_initializeState(e){return Fe("[SDKProvider: _initializeState()]",e),(function(r,n,i){return Fe("[SDKProvider: initializeState()] set state._initialized to false"),r._state.initialized=!1,n(i)})(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:r}={}){this.state.chainId=e,this.state.networkVersion=r,(function({instance:n,chainId:i,networkVersion:o,superHandleChainChanged:a}){Fe(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let s=o;o||(Fe("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s="1"),i!==KG&&(_n.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),KG=i),n._state.isConnected=!0,n.emit("connect",{chainId:i}),a({chainId:i,networkVersion:s})})({instance:this,chainId:e,networkVersion:r,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var _w,Zh={name:"@metamask/sdk",version:"0.34.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(_w||(_w={}));const Aw="https://metamask.app.link/connect",Cw="metamask://connect",VG={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},SMe=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,Nt={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},Ow={[Nt.ETH_REQUESTACCOUNTS]:!0,[Nt.ETH_SENDTRANSACTION]:!0,[Nt.ETH_SIGNTRANSACTION]:!0,[Nt.ETH_SIGN]:!0,[Nt.PERSONAL_SIGN]:!0,[Nt.ETH_ACCOUNTS]:!1,[Nt.ETH_CHAINID]:!1,[Nt.PERSONAL_SIGN]:!0,[Nt.ETH_SIGNTYPEDDATA]:!0,[Nt.ETH_SIGNTYPEDDATA_V3]:!0,[Nt.ETH_SIGNTYPEDDATA_V4]:!0,[Nt.WALLET_REQUESTPERMISSIONS]:!0,[Nt.WALLET_GETPERMISSIONS]:!0,[Nt.WALLET_WATCHASSET]:!0,[Nt.WALLET_ADDETHEREUMCHAIN]:!0,[Nt.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[Nt.METAMASK_CONNECTSIGN]:!0,[Nt.METAMASK_CONNECTWITH]:!0,[Nt.PERSONAL_EC_RECOVER]:!0,[Nt.METAMASK_BATCH]:!0,[Nt.METAMASK_OPEN]:!0},_Me=Object.keys(Ow).filter((t=>Ow[t]===!0)).map((t=>t.toLowerCase())),voe=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map((t=>t.toLowerCase())),w6=".sdk-comm",_3="providerType",lM=".MMSDK_cached_address",cM=".MMSDK_cached_chainId",Rs={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},AMe=1e6;var ml;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(ml||(ml={}));const CMe=typeof window<"u"&&window.localStorage;function OMe({instance:t,msg:e}){return qe(this,void 0,void 0,(function*(){if(t._initialized||(Fe("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),Fe(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const r=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:(function(n){let i;if(ze!==void 0)i=ze.from(n,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const o=new TextEncoder().encode(n);i=Array.from(o).map((a=>a.toString(16).padStart(2,"0"))).join("")}else{if(typeof eo!="object"||!("Buffer"in eo))throw new Error("Unable to convert string to hex: No available method.");i=eo.Buffer.from(n,"utf8").toString("hex")}return`0x${i}`})(e);return t.activeProvider.request({method:Nt.METAMASK_CONNECTWITH,params:[{method:Nt.PERSONAL_SIGN,params:[r]}]})}))}function GG(t){var e,r;return qe(this,void 0,void 0,(function*(){Fe("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const n=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});Fe(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${n}`)}catch(n){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",n)}localStorage.setItem(_3,"extension"),t.extensionActive=!0,t.emit(So.ProviderUpdate,ml.EXTENSION),t.options.enableAnalytics&&((r=t.analytics)===null||r===void 0||r.send({event:On.SDK_USE_EXTENSION}))}))}function A3(t){let e;if(ze!==void 0)e=ze.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,((r,n)=>String.fromCharCode(parseInt(n,16)))));else{if(typeof eo!="object"||!("Buffer"in eo))throw new Error("Unable to base64 encode: No available method.");e=eo.Buffer.from(t,"utf8").toString("base64")}return e}function IMe(t,e,r,n){var i,o,a,s,l,c,u,f,h,p,y,m,v,w,A,_,D,P,U,F;return qe(this,void 0,void 0,(function*(){const N=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),L=(o=t.state.remote)===null||o===void 0?void 0:o.isConnected(),B=(a=t.state.remote)===null||a===void 0?void 0:a.isPaused(),R=xs.getProvider(),b=(s=t.state.remote)===null||s===void 0?void 0:s.getChannelId(),x=(l=t.state.remote)===null||l===void 0?void 0:l.isAuthorized(),{deeplinkProtocol:I}=t.state,{method:C,data:T,triggeredInstaller:j}=(M=>{var H,q,W,V;let Q;ze.isBuffer(M)?(Q=M.toJSON(),Q._isBuffer=!0):Q=M;const te=(H=Q==null?void 0:Q.data)===null||H===void 0?void 0:H.method;let X=!1;return typeof((q=Q==null?void 0:Q.data)===null||q===void 0?void 0:q.params)=="object"&&((V=(W=Q==null?void 0:Q.data)===null||W===void 0?void 0:W.params)===null||V===void 0?void 0:V.__triggeredInstaller)===!0&&(X=!0,Q.data.params=Q.data.params.wrappedParams),{method:te,data:Q,triggeredInstaller:X}})(e);if(Fe(`[RCPMS: write()] method='${C}' isRemoteReady=${N} channelId=${b} isSocketConnected=${L} isRemotePaused=${B} providerConnected=${R.isConnected()}`,e),!b)return C!==Nt.METAMASK_GETPROVIDERSTATE&&Fe(`[RCPMS: write()] ${C} --> channelId is undefined`),n(new Error("disconnected"));Fe(`[RCPMS: write()] remote.isPaused()=${(c=t.state.remote)===null||c===void 0?void 0:c.isPaused()} authorized=${x} ready=${N} socketConnected=${L}`,e);const O=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),k=(h=(f=t.state.platformManager)===null||f===void 0?void 0:f.isMobileWeb())!==null&&h!==void 0&&h,E=(y=(p=t.state.remote)===null||p===void 0?void 0:p.hasDeeplinkProtocol())!==null&&y!==void 0&&y&&k&&x;try{if(!j){const q=JSON.stringify(T==null?void 0:T.data);if(q.length>AMe)return n(new Error(`Message size ${q.length} exceeds maximum allowed size of 1000000 bytes`));(m=t.state.remote)===null||m===void 0||m.sendMessage(T==null?void 0:T.data).then((()=>{Fe(`[RCPMS: _write()] ${C} sent successfully`)})).catch((W=>{Fe("[RCPMS: _write()] error sending message",W)}))}if(!O)return Fe(`[RCPMS: _write()] unsecure platform for method ${C} -- return callback`),n();if(j)return Fe("[RCPMS: _write()] prevent deeplink -- installation completed separately."),n();const M=(A=(w=(v=t.state.remote)===null||v===void 0?void 0:v.getKeyInfo())===null||w===void 0?void 0:w.ecies.public)!==null&&A!==void 0?A:"";let H=encodeURI(`channelId=${b}&pubkey=${M}&comm=socket&t=d&v=2&hr=${t.state.hideReturnToAppNotification?1:0}`);if(E){const q=JSON.stringify(T==null?void 0:T.data),W=(_=t.state.remote)===null||_===void 0?void 0:_.encrypt(q);if(!W)return Fe("[RCPMS: _write()] error encrypting message"),n(new Error("RemoteCommunicationPostMessageStream - disconnected"));H+=`&scheme=${I}&rpc=${A3(W)}`}if(!(!((D=t.state.platformManager)===null||D===void 0)&&D.isMetaMaskInstalled()))return Fe("[RCPMS: _write()] prevent deeplink until installation is completed."),n();Ow[C]?(Fe(`[RCPMS: _write()] redirect link for '${C}' socketConnected=${L} connect?${H}`),(P=t.state.platformManager)===null||P===void 0||P.openDeeplink(`${Aw}?${H}`,`${Cw}?${H}`,"_self")):!((U=t.state.remote)===null||U===void 0)&&U.isPaused()?(Fe(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${C}`),(F=t.state.platformManager)===null||F===void 0||F.openDeeplink(`${Aw}?redirect=true&${H}`,`${Cw}?redirect=true&${H}`,"_self")):Fe(`[RCPMS: _write()] method ${C} doesn't need redirect.`)}catch(M){return Fe("[RCPMS: _write()] error sending message",M),n(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return n()}))}class PMe extends Gg.Duplex{constructor({name:e,remote:r,deeplinkProtocol:n,hideReturnToAppNotification:i,platformManager:o}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,hideReturnToAppNotification:!1,platformManager:null},this.state._name=e,this.state.remote=r,this.state.deeplinkProtocol=n,this.state.hideReturnToAppNotification=i??this.state.hideReturnToAppNotification,this.state.platformManager=o,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Xe.MESSAGE,this._onMessage)}_write(e,r,n){return qe(this,void 0,void 0,(function*(){return IMe(this,e,0,n)}))}_read(){}_onMessage(e){return(function(r,n){try{if(Fe("[RCPMS: onMessage()] message",n),!n||typeof n!="object"||typeof(n==null?void 0:n.data)!="object")return;if(!(n!=null&&n.name))return void Fe("[RCPMS: onMessage()] ignore message without name",n);if((n==null?void 0:n.name)!==_w.PROVIDER)return void Fe(`[RCPMS: onMessage()] ignore message with wrong name message=${n}`);if(ze.isBuffer(n)){const i=ze.from(n);r.push(i)}else r.push(n)}catch(i){Fe(`[RCPMS: onMessage()] ignore message error err=${i}`)}})(this,e)}start(){}}let YG=1;const woe=t=>new Promise((e=>{setTimeout((()=>{e(!0)}),t)})),kMe=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:r,shouldShimWeb3:n,platformManager:i,installer:o,sdk:a,remoteConnection:s,debug:l})=>qe(void 0,void 0,void 0,(function*(){var c,u;const f=(({name:B,remoteConnection:R})=>{if(!R||!(R!=null&&R.getConnector()))throw new Error("Missing remote connection parameter");return new PMe({name:B,remote:R==null?void 0:R.getConnector(),deeplinkProtocol:R==null?void 0:R.state.deeplinkProtocol,hideReturnToAppNotification:R==null?void 0:R.state.hideReturnToAppNotification,platformManager:R==null?void 0:R.getPlatformManager()})})({name:_w.INPAGE,target:_w.CONTENT_SCRIPT,remoteConnection:s}),h=i.getPlatformType(),p=a.options.dappMetadata,y=`Sdk/Javascript SdkVersion/${Zh.version} Platform/${h} dApp/${(c=p.url)!==null&&c!==void 0?c:p.name} dAppTitle/${p.name}`;let m=null,v=null;const w=(u=a.options.storage)===null||u===void 0?void 0:u.storageManager;if(w){try{const B=yield w.getCachedAccounts();B.length>0&&(m=B[0])}catch(B){console.error(`[initializeMobileProvider] failed to get cached addresses: ${B}`)}try{const B=yield w.getCachedChainId();B&&(v=B)}catch(B){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${B}`)}}Fe(`[initializeMobileProvider] cachedAccountAddress: ${m}, cachedChainId: ${v}`);const A=!(!r||h===Li.NonBrowser||h===Li.ReactNative),_=xs.init({shouldSetOnWindow:A,connectionStream:f,shouldShimWeb3:n,sdkInstance:a});let D=!1;const P=B=>{D=B},U=()=>D,F=(B,R,b,x)=>qe(void 0,void 0,void 0,(function*(){var I,C,T,j,O,k,E,M,H;const q=xs.getProvider();if(D){q.emit("display_uri",(s==null?void 0:s.state.qrcodeLink)||""),s==null||s.showActiveModal();let se=U();for(;se;){const ne=U(),oe=s==null?void 0:s.isAuthorized();se=ne&&!oe,Fe(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${ne} authorized: ${oe}`),yield woe(1e3)}return Fe("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),b(...R)}const W=i.isMetaMaskInstalled(),V=s==null?void 0:s.isConnected();let Q=null,te=null,X=null;if(Q=(I=q.getSelectedAddress())!==null&&I!==void 0?I:m,X=q.getChainId()||v,Q&&w&&Q!==m&&w.persistAccounts([Q]).catch((se=>{console.error(`[initializeMobileProvider] failed to persist account: ${se}`)})),X&&(v=X,w&&w.persistChainId(X).catch((se=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${se}`)}))),Fe("[initializeMobileProvider: sendRequest()]",{selectedAddress:Q,chainId:X}),x&&Fe(`[initializeMobileProvider: sendRequest()] method=${B} ongoing=${D} selectedAddress=${Q} isInstalled=${W} checkInstallationOnAllCalls=${t} socketConnected=${V}`),Q&&B.toLowerCase()===Nt.ETH_ACCOUNTS.toLowerCase())return[Q];if(X&&B.toLowerCase()===Nt.ETH_CHAINID.toLowerCase())return X;const Z=[Nt.ETH_REQUESTACCOUNTS,Nt.WALLET_REQUESTPERMISSIONS,Nt.METAMASK_CONNECTSIGN,Nt.METAMASK_CONNECTWITH],ae=!Ow[B],he=(C=a.options.readonlyRPCMap)===null||C===void 0?void 0:C[X];if(he&&ae)try{const se=(T=R==null?void 0:R[0])===null||T===void 0?void 0:T.params,ne=yield(({rpcEndpoint:oe,method:fe,sdkInfo:pe,params:xe})=>qe(void 0,void 0,void 0,(function*(){const Se=JSON.stringify({jsonrpc:"2.0",method:fe,params:xe,id:(YG+=1,YG)}),ce={Accept:"application/json","Content-Type":"application/json"};let Oe;oe.includes("infura")&&(ce["Metamask-Sdk-Info"]=pe);try{Oe=yield Vre(oe,{method:"POST",headers:ce,body:Se})}catch(ke){throw ke instanceof Error?new Error(`Failed to fetch from RPC: ${ke.message}`):new Error(`Failed to fetch from RPC: ${ke}`)}if(!Oe.ok)throw new Error(`Server responded with a status of ${Oe.status}`);return(yield Oe.json()).result})))({rpcEndpoint:he,sdkInfo:y,method:B,params:se||[]});return x&&Fe(`initializeProvider::ReadOnlyRPCResponse ${ne}`),ne}catch(se){console.warn(`[initializeMobileProvider: sendRequest()] method=${B} readOnlyRPCRequest failed:`,se)}if((!W||W&&!V)&&B!==Nt.METAMASK_GETPROVIDERSTATE){const se=((j=R==null?void 0:R[0])===null||j===void 0?void 0:j.params)||[];if(Z.indexOf(B)!==-1||t){P(!0);const ne=B===Nt.METAMASK_CONNECTWITH,oe=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:ne?{method:B,id:oe,params:se}:void 0}),yield new Promise(((fe,pe)=>{s!=null&&s.isAuthorized()&&(Fe("[initializeMobileProvider: sendRequest()] already authorized"),fe(!0)),s==null||s.getConnector().once(Xe.AUTHORIZED,(()=>{fe(!0)})),a.once(Xe.PROVIDER_UPDATE,(xe=>{Fe(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${xe}`),xe===ml.EXTENSION?pe(Xe.PROVIDER_UPDATE):pe(new Error("Connection Terminated"))}))}))}catch(fe){if(ml.EXTENSION===fe){if(Fe(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${B} on the active provider`),B.toLowerCase()===Nt.METAMASK_CONNECTSIGN.toLowerCase()){const pe=yield(O=a.getProvider())===null||O===void 0?void 0:O.request({method:Nt.ETH_REQUESTACCOUNTS,params:[]});if(!pe.length)throw new Error("SDK state invalid -- undefined accounts");const xe=yield(k=a.getProvider())===null||k===void 0?void 0:k.request({method:Nt.PERSONAL_SIGN,params:[se[0],pe[0]]});return a.emit(So.ConnectWithResponse,xe),xe}if(B.toLowerCase()===Nt.METAMASK_CONNECTWITH.toLowerCase()){const[pe]=se,xe=yield(({method:Se,sdk:ce,params:Oe})=>qe(void 0,void 0,void 0,(function*(){var ke,ve,We,Ze;if(!ce.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Fe("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",Se,Oe);const Ye=yield(ke=ce.getProvider())===null||ke===void 0?void 0:ke.request({method:Nt.ETH_REQUESTACCOUNTS,params:[]});if(!Ye.length)throw new Error("SDK state invalid -- undefined accounts");if((Se==null?void 0:Se.toLowerCase())===Nt.PERSONAL_SIGN.toLowerCase()){const jt={method:Se,params:[Oe[0],Ye[0]]};return yield(ve=ce.getProvider())===null||ve===void 0?void 0:ve.request(jt)}if((Se==null?void 0:Se.toLowerCase())===Nt.ETH_SENDTRANSACTION.toLowerCase()){const jt={method:Se,params:[Object.assign(Object.assign({},Oe[0]),{from:Ye[0]})]};return yield(We=ce.getProvider())===null||We===void 0?void 0:We.request(jt)}return voe.includes(Se.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Se} -- not handled by the extension -- call separately`),Ye):yield(Ze=ce.getProvider())===null||Ze===void 0?void 0:Ze.request({method:Se,params:Oe})})))({method:pe.method,sdk:a,params:pe.params});return a.emit(So.ConnectWithResponse,xe),xe}return Fe(`[initializeMobileProvider: sendRequest()] sending '${B}' on active provider`,se),yield(E=a.getProvider())===null||E===void 0?void 0:E.request({method:B,params:se})}throw fe===Xe.REJECTED?(s==null||s.closeModal(),(M=a.getProvider())===null||M===void 0||M.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Fe(`[initializeMobileProvider: sendRequest()] failed to start installer: ${fe}`),fe)}finally{P(!1)}if(B===Nt.ETH_REQUESTACCOUNTS)return te=yield new Promise((fe=>{const pe=setInterval((()=>{const{accounts:xe}=q.getState();xe&&(clearInterval(pe),fe(xe))}),100)})),Fe(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Q} --- SKIP rpc call`),te;if(B===Nt.METAMASK_CONNECTWITH)try{let fe=0;const pe=5,xe=({resolve:ke,reject:ve})=>{fe+=1;const We=s==null?void 0:s.getConnector().getRPCMethodTracker(),Ze=We==null?void 0:We[oe];return Fe(`TRACKER: update method ${oe}`,Ze),Ze!=null&&Ze.result?(Fe("[initializeMobileProvider: sendRequest()] found result",Ze.result),a.emit(So.ConnectWithResponse,Ze.result),void ke(Ze.result)):Ze!=null&&Ze.error?(Fe("[initializeMobileProvider: sendRequest()] found error",Ze.error),void ve(Ze.error)):fe>=pe?(Fe("[initializeMobileProvider: sendRequest()] max message count reached without result"),void ve(new Error("Max message count reached without result"))):void Fe("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let Se,ce;const Oe=yield new Promise(((ke,ve)=>{const We=s==null?void 0:s.getConnector().getRPCMethodTracker();Fe(`TRACKER: method ${oe}`,We),We!=null&&We[oe].result?(Fe("[initializeMobileProvider: sendRequest()] found result",We==null?void 0:We[oe].result),ke(We==null?void 0:We[oe].result)):We!=null&&We[oe].error&&(Fe("[initializeMobileProvider: sendRequest()] found error",We==null?void 0:We[oe].error),ve(We==null?void 0:We[oe].error)),ce=()=>xe({resolve:ke,reject:ve}),Se=s==null?void 0:s.getConnector().on(Xe.RPC_UPDATE,ce)}));return ce&&(Se==null||Se.off(Xe.RPC_UPDATE,ce)),Fe("TRACKER: result",Oe),Oe}catch(fe){throw Fe("[initializeMobileProvider: sendRequest()] error:",fe),fe}return R[0]&&typeof R[0]=="object"&&(R[0].params={__triggeredInstaller:!0,wrappedParams:R[0].params}),b(...R)}if(i.isSecure()&&Ow[B])return b(...R);if(a.isExtensionActive())return Fe(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${B}' to it`,R,se),yield(H=a.getProvider())===null||H===void 0?void 0:H.request({method:B,params:se});throw Fe(`[initializeMobileProvider: sendRequest()] method=${B} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const se=yield b(...R);if(Fe(`[initializeMobileProvider: sendRequest()] method=${B} rpcResponse`,se),B===Nt.WALLET_REQUESTPERMISSIONS){const ne=se.reduce(((oe,fe)=>{var pe;if(fe.parentCapability==="eth_accounts"){const xe=(pe=fe.caveats.find((Se=>Se.type==="restrictReturnedAccounts")))===null||pe===void 0?void 0:pe.value;xe&&oe.push(...xe)}return oe}),[]);Fe("[initializeMobileProvider: sendRequest()] accountsToPersist:",ne),ne.length>0&&(q.handleAccountsChanged(ne,!1),w==null||w.persistAccounts(ne))}return se}catch(se){throw console.error("[initializeMobileProvider: sendRequest()] error:",se),se}})),{request:N}=_;_.request=(...B)=>qe(void 0,void 0,void 0,(function*(){return F(B==null?void 0:B[0].method,B,N,l)}));const{send:L}=_;return _.send=(...B)=>qe(void 0,void 0,void 0,(function*(){return F(B==null?void 0:B[0],B,L,l)})),Fe("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),f.start(),_}));function TMe(t){var e,r,n,i;return qe(this,void 0,void 0,(function*(){const{options:o}=t,a={communicationLayerPreference:(e=o.communicationLayerPreference)!==null&&e!==void 0?e:Rh.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:(r=o.injectProvider)===null||r===void 0||r,shouldShimWeb3:(n=o.shouldShimWeb3)===null||n===void 0||n,extensionOnly:(i=o.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},s=yield kMe(a);t.activeProvider=s,(function(l){var c,u,f,h;(u=(c=l.remoteConnection)===null||c===void 0?void 0:c.getConnector())===null||u===void 0||u.on(So.ConnectionStatus,(p=>{l.emit(So.ConnectionStatus,p)})),(h=(f=l.remoteConnection)===null||f===void 0?void 0:f.getConnector())===null||h===void 0||h.on(So.ServiceStatus,(p=>{l.emit(So.ServiceStatus,p)}))})(t)}))}const MMe="sdk";class NMe{constructor({serverUrl:e,enabled:r,originatorInfo:n}){this.serverURL=Wg,this.serverURL=e,this.originatorInfo=n,this.enabled=r==null||r}send({event:e,params:r}){if(!this.enabled)return;const n=Object.assign(Object.assign({id:MMe,event:e,sdkVersion:Zh.version},this.originatorInfo),{params:r});Fe(`[Analytics: send()] event: ${e}`,n),Tc(n,this.serverURL).catch((i=>{Fe(`[Analytics: send()] error: ${i}`)}))}}const RMe=()=>{if(typeof document>"u")return;let t;const e=document.getElementsByTagName("link");for(let r=0;r<e.length;r++)e[r].getAttribute("rel")!=="icon"&&e[r].getAttribute("rel")!=="shortcut icon"||(t=e[r].getAttribute("href"));return t},LMe=163400;function JG(t){var e,r,n;const{dappMetadata:i}=t,o=(function({url:u,name:f}){var h;const p=u+f,y=A3(p);if(!localStorage)return"";let m=(h=localStorage.getItem(y))!==null&&h!==void 0?h:"";if(!m){m=Wu();try{localStorage.setItem(y,m)}catch{return""}}return m})({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:"no_url",name:(r=i==null?void 0:i.name)!==null&&r!==void 0?r:"no_name"}),a=(n=t.platformManager)===null||n===void 0?void 0:n.getPlatformType(),s=a===Li.DesktopWeb,l=a===Li.MetaMaskMobileWebview;let c="N/A";return s?c="extension":l&&(c="mobile"),{id:o,from:c}}const qx=(t,e,r)=>{if(vb(t))if(r||e&&typeof e=="object"&&e!==null&&"error"in e){const n=r||(e==null?void 0:e.error);n&&n.code===4001?_n.analytics.track("sdk_action_rejected",{action:t}):_n.analytics.track("sdk_action_failed",{action:t})}else _n.analytics.track("sdk_action_succeeded",{action:t})},boe=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(r,n)=>n==="request"?function(i){var o,a;return qe(this,void 0,void 0,(function*(){Fe("[wrapExtensionProvider()] Overwriting request method",i);const{method:s,params:l}=i,c=_Me.includes(s.toLowerCase()),{id:u,from:f}=JG(e);if(c&&((o=e.analytics)===null||o===void 0||o.send({event:On.SDK_RPC_REQUEST,params:{method:s,from:f,id:u}})),vb(s)&&_n.analytics.track("sdk_action_requested",{action:s}),s===Nt.METAMASK_BATCH&&Array.isArray(l))return(({target:y,args:m,trackEvent:v,sdkInstance:w})=>qe(void 0,void 0,void 0,(function*(){var A,_;if(m.method!=="metamask_batch")throw new Error("Invalid usage");const D=[],P=(A=m==null?void 0:m.params)!==null&&A!==void 0?A:[];for(const N of P){const L=yield y==null?void 0:y.request({method:N.method,params:N.params});D.push(L)}const{id:U,from:F}=JG(w);v&&((_=w.analytics)===null||_===void 0||_.send({event:On.SDK_RPC_REQUEST_DONE,params:{method:m.method,from:F,id:U}}));for(const N of D)qx(m.method,N,null);return D})))({target:r,args:i,trackEvent:c,sdkInstance:e});if(s.toLowerCase()===Nt.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(l))return(({target:y,params:m})=>qe(void 0,void 0,void 0,(function*(){let v,w=null;try{const A=yield y.request({method:Nt.ETH_REQUESTACCOUNTS,params:[]});if(!A.length)throw new Error("SDK state invalid -- undefined accounts");return v=yield y.request({method:Nt.PERSONAL_SIGN,params:[m[0],A[0]]}),v}catch(A){throw w=A,A}finally{qx(Nt.PERSONAL_SIGN,v,w)}})))({target:r,params:l});if(s.toLowerCase()===Nt.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(l))return(({target:y,params:m})=>qe(void 0,void 0,void 0,(function*(){const[v]=m,w=v.method,A=v.params;let _,D=null;try{const P=yield y.request({method:Nt.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(P)||!P.length)throw new Error("SDK state invalid -- undefined accounts");return(w==null?void 0:w.toLowerCase())===Nt.PERSONAL_SIGN.toLowerCase()?(_=yield y.request({method:w,params:[A[0],P[0]]}),_):(w==null?void 0:w.toLowerCase())===Nt.ETH_SENDTRANSACTION.toLowerCase()?(_=yield y.request({method:w,params:[Object.assign(Object.assign({},A[0]),{from:P[0]})]}),_):voe.includes(w.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${w} -- not handled by the extension -- call separately`),_=P,_):(_=yield y.request({method:w,params:A}),_)}catch(P){throw D=P,P}finally{qx(w,_,D)}})))({target:r,params:l});let h,p=null;try{return h=yield r.request(i),h}catch(y){throw p=y,y}finally{c&&((a=e.analytics)===null||a===void 0||a.send({event:On.SDK_RPC_REQUEST_DONE,params:{method:s,from:f,id:u}})),qx(s,h,p)}}))}:n==="getChainId"?function(){return t.chainId}:n==="getNetworkVersion"?function(){return t.networkVersion}:n==="getSelectedAddress"?function(){return t.selectedAddress}:n==="isConnected"?function(){return t._state.isConnected}:r[n]})};var C3;function DMe({mustBeMetaMask:t,sdkInstance:e}){return qe(this,void 0,void 0,(function*(){if(typeof window>"u")throw new Error("window not available");try{const r=yield new Promise(((n,i)=>{const o=setTimeout((()=>{i(new Error("eip6963RequestProvider timed out"))}),500);window.addEventListener(C3.Announce,(a=>{const s=a,{detail:{info:l,provider:c}={}}=s,{name:u,rdns:f,uuid:h}=l??{};SMe.test(h)&&u.startsWith(VG.NAME)&&VG.RDNS.includes(f)&&(clearTimeout(o),n(c))})),window.dispatchEvent(new Event(C3.Request))}));return boe({provider:r,sdkInstance:e})}catch{throw new Error("Provider not found")}}))}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(C3||(C3={}));const BMe=t=>qe(void 0,void 0,void 0,(function*(){const{options:e}=t,{infuraAPIKey:r}=e;if(!r)return;const n={"0x1":`https://mainnet.infura.io/v3/${r}`,"0x5":`https://goerli.infura.io/v3/${r}`,"0xaa36a7":`https://sepolia.infura.io/v3/${r}`,"0xe708":`https://linea-mainnet.infura.io/v3/${r}`,"0xe704":`https://linea-goerli.infura.io/v3/${r}`,"0x89":`https://polygon-mainnet.infura.io/v3/${r}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${r}`,"0x45":`https://optimism-mainnet.infura.io/v3/${r}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${r}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${r}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${r}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${r}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${r}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${r}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${r}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${r}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${r}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${r}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${r}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${r}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${r}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${r}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),n):t.options.readonlyRPCMap=n})),jMe=t=>qe(void 0,void 0,void 0,(function*(){const{options:e}=t,{readonlyRPCMap:r}=e;if(r)try{Fe("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",r),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}}));function $Me(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(c){try{l(n.next(c))}catch(u){o(u)}}function s(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof r?u:new r((function(f){f(u)}))).then(a,s)}l((n=n.apply(t,[])).next())}))}function FMe(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return(function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(f){u=[6,f],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}})([l,c])}}}var QG="INSTALLED",XG="NOT_INSTALLED",ZG="REGISTERED",eY="REGISTERING",tY="RELOADING",rY={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},zx="REGISTRATION_IN_PROGRESS",nY="FORWARDER_ID",UMe=(function(){function t(e){var r=e===void 0?{}:e,n=r.forwarderOrigin,i=n===void 0?"https://fwd.metamask.io":n,o=r.forwarderMode,a=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=a,this.state=t.isMetaMaskInstalled()?QG:XG;var s=t._detectBrowser();this.downloadUrl=s?rY[s]:rY.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),a===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(zx)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return $Me(this,0,void 0,(function(){return FMe(this,(function(r){switch(r.label){case 0:switch(this.state){case tY:return[3,1];case XG:return[3,2];case QG:return[3,3];case eY:return[3,5];case ZG:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=tY,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=eY,[4,t._register()];case 4:return r.sent(),this.state=ZG,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),r.label=8;case 8:return[2]}}))}))},t.prototype.startOnboarding=function(){sessionStorage.setItem(zx,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(zx)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(zx,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var r=document.body,n=document.createElement("iframe");n.setAttribute("height","0"),n.setAttribute("width","0"),n.setAttribute("style","display: none;"),n.setAttribute("src",e),n.setAttribute("id",nY),r.insertBefore(n,r.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(nY))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=moe.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t})();function HMe(t,{wait:e=!1}){return qe(this,void 0,void 0,(function*(){return Fe(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield woe(1e3)),yield t.checkInstallation()}))}class qMe{constructor({remote:e,preferDesktop:r,platformManager:n,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=r,this.state.platformManager=n,this.state.debug=i}startDesktopOnboarding(){return(function(){return qe(this,void 0,void 0,(function*(){Fe("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new UMe().startOnboarding()}))})()}redirectToProperInstall(){return qe(this,void 0,void 0,(function*(){return(function(e){var r,n;return qe(this,void 0,void 0,(function*(){const{state:i}=e,o=(r=i.platformManager)===null||r===void 0?void 0:r.getPlatformType();if(Fe(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===Li.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(n=i.remote)===null||n===void 0?void 0:n.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(a){throw i.isInstalling=!1,a}return!0}))})(this)}))}checkInstallation(){return qe(this,void 0,void 0,(function*(){return(function(e){var r;return qe(this,void 0,void 0,(function*(){const{state:n}=e,i=(r=n.platformManager)===null||r===void 0?void 0:r.isMetaMaskInstalled();return Fe(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())}))})(this)}))}start({wait:e=!1,connectWith:r}){return qe(this,void 0,void 0,(function*(){this.state.connectWith=r,Fe(`[MetaMaskInstaller: start()] wait=${e}`,r),yield HMe(this,{wait:e})}))}}class xoe{constructor({debug:e,sdkVersion:r}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=r}loadComponent(e){return qe(this,void 0,void 0,(function*(){if(!this.defined[e]){this.defined[e]=!0;try{const r=yield Promise.resolve().then((function(){return _Ne}));console.log("loader",r),r.defineCustomElements()}catch(r){console.error(`Failed to load ${e} modal:`,r)}}}))}renderInstallModal(e){var r;return qe(this,void 0,void 0,(function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const n=document.createElement("mm-install-modal");n.link=e.link,n.preferDesktop=e.preferDesktop,n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),n.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),n.addEventListener("trackAnalytics",(i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)})),e.parentElement.appendChild(n)}))}renderSelectModal(e){var r;return qe(this,void 0,void 0,(function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const n=document.createElement("mm-select-modal");n.link=e.link,n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.preferDesktop=e.preferDesktop,n.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),n.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(n),setTimeout((()=>this.updateQRCode(e.link)),100)}))}renderPendingModal(e){var r;return qe(this,void 0,void 0,(function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const n=document.createElement("mm-pending-modal");n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.displayOTP=e.displayOTP,n.addEventListener("close",e.onClose),n.addEventListener("updateOTPValue",(({detail:{otpValue:i}})=>e.updateOTPValue(i))),e.onDisconnect&&n.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(n)}))}updateOTPValue(e){const r=()=>{var n;const i=(n=this.containers.pending)===null||n===void 0?void 0:n.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout((()=>{r()}),800)}updateQRCode(e){var r,n;const i=(r=this.containers.install)===null||r===void 0?void 0:r.querySelector("mm-install-modal");if(i)i.link=e;else{const o=(n=this.containers.select)===null||n===void 0?void 0:n.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach((([e,r])=>{var n;(n=r==null?void 0:r.parentNode)===null||n===void 0||n.removeChild(r),this.containers[e]=void 0}))}}const zMe=({link:t,debug:e,installer:r,terminate:n,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:a})=>{let s=null,l=null;Fe("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Fe(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),Fe(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),Fe(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),Fe(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const c=u=>{var f;Fe("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,l),l!=null&&l.parentNode&&((f=l.parentNode)===null||f===void 0||f.removeChild(l)),l=null,s=null,u===!0&&(n==null||n())};return{mount:u=>{if(Fe("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",l),l)return l.style.display="block",void(s==null||s.updateQRCode(u));s=new xoe({debug:e,sdkVersion:Zh.version}),l=document.createElement("div"),document.body.appendChild(l),window.extension?s.renderSelectModal({parentElement:l,connectWithExtension:()=>{c(),i==null||i()},onClose:c,link:t,preferDesktop:o!=null&&o}).catch((f=>{console.error(f)})):s.renderInstallModal({parentElement:l,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:r,onClose:c,onAnalyticsEvent:a}).catch((f=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",f)}))},unmount:c}},WMe=({onDisconnect:t,debug:e})=>{let r=null,n=null;const i=()=>{Fe("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",r),r!=null&&r.parentNode&&r.parentNode.removeChild(r),r=null,n=null},o=s=>{Fe("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s),n&&n.updateOTPValue(s)},a=({displayOTP:s}={displayOTP:!0})=>{Fe("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",r),r?r.style.display="block":(n=new xoe({debug:e,sdkVersion:Zh.version}),r=document.createElement("div"),document.body.appendChild(r),n.renderPendingModal({parentElement:r,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:s}).catch((l=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",l)})))};return a(),{mount:a,unmount:i,updateOTPValue:o}};function Eoe(t,e){var r,n,i,o;t.connector||(Fe("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new V5e({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Zh.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(Fe("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(n=(r=e.timer)===null||r===void 0?void 0:r.stopBackgroundTimer)===null||n===void 0||n.call(r),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,(()=>!1),1e4)))}function uM(t){t.listeners.forEach((({event:e,handler:r})=>{var n;(n=t.connector)===null||n===void 0||n.off(e,r)})),t.listeners=[]}function KMe(t,e,r){return qe(this,void 0,void 0,(function*(){const n=setTimeout((()=>{_n.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return new Promise(((i,o)=>{if(!t.connector)return void o(new Error("No connector available"));Fe("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:r});const a=`${t.useDeeplink?Cw:Aw}?${r}`;(function(s,l,c){var u,f,h,p;s.installModal=(f=(u=l.modals).install)===null||f===void 0?void 0:f.call(u,{link:c,preferDesktop:s.preferDesktop,installer:l.getMetaMaskInstaller(),terminate:()=>{Fe("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),l.sdk.terminate().catch((y=>{console.warn("[MMSDK] failed to terminate connection",y)}))},debug:s.developerMode,connectWithExtension:()=>{var y;return(y=l.connectWithExtensionProvider)===null||y===void 0||y.call(l),!1},onAnalyticsEvent:({event:y,params:m})=>{var v,w,A;const _=Object.assign(Object.assign({},m),{sdkVersion:l.sdk.getVersion(),dappId:(v=l.dappMetadata)===null||v===void 0?void 0:v.name,source:l._source,url:(w=l.dappMetadata)===null||w===void 0?void 0:w.url});(A=s.analytics)===null||A===void 0||A.send({event:y,params:_})}}),(p=(h=s.installModal)===null||h===void 0?void 0:h.mount)===null||p===void 0||p.call(h,c)})(t,e,a),e.sdk.once(Xe.PROVIDER_UPDATE,(s=>qe(this,void 0,void 0,(function*(){if(Fe("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),s===ml.TERMINATE){const l={code:4001,message:"User rejected the request."};return clearTimeout(n),void o(l)}o(s)})))),t.connector.once(Xe.AUTHORIZED,(()=>{clearTimeout(n),i()})),t.connector.once(Xe.REJECTED,(()=>{clearTimeout(n),o(Xe.REJECTED)})),t.connector.once(Xe.CLIENTS_READY,(()=>qe(this,void 0,void 0,(function*(){Fe("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(n),i()}))))}))}))}function Soe(t,e){function r(n,i){var o;(o=t.connector)===null||o===void 0||o.on(n,i),t.listeners.push({event:n,handler:i})}t.connector&&(uM(t),r(Xe.WALLET_INIT,(({accounts:n,chainId:i})=>qe(this,void 0,void 0,(function*(){Fe(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${n} chainId=${i}`);const o=xs.getProvider();o._setConnected();const a={accounts:n,chainId:i,isUnlocked:!1};o._initializeState(a),o.emit("chainChanged",i),o.emit("accountsChanged",n)})))),r(Xe.AUTHORIZED,(()=>qe(this,void 0,void 0,(function*(){var n,i,o,a;try{Fe("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const s=xs.getProvider();s._setConnected(),(i=(n=t.pendingModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,Fe("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s.getState()),yield s.forceInitializeState()}catch{}})))),r(Xe.TERMINATE,(()=>{var n,i,o,a,s;(i=(n=t.pendingModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(s=t.connector)===null||s===void 0||s.disconnect({terminate:!0}),t.authorized=!1,xs.getProvider().handleDisconnect({terminate:!0}),uM(t),Fe("[RemoteConnection: setupListeners()] All listeners cleaned up")})))}function VMe(t,e,{initialCheck:r,connectWith:n}={}){var i,o,a,s,l,c,u,f,h,p,y,m,v,w,A,_,D,P,U;return qe(this,void 0,void 0,(function*(){try{if(Eoe(t,e),!t.connector)throw new Error("no connector defined");Soe(t);const F=xs.getProvider();t.authorized=!1,F.emit("connecting");const N=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Fe(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${r}`,N);let L=(o=N==null?void 0:N.channelId)!==null&&o!==void 0?o:"",B=(s=(a=t.connector.getKeyInfo())===null||a===void 0?void 0:a.ecies.public)!==null&&s!==void 0?s:"",R=(c=(l=t.connector.getKeyInfo())===null||l===void 0?void 0:l.ecies.private)!==null&&c!==void 0?c:"";if(r&&!N)return Promise.resolve();if(!N&&!r){const V=yield t.connector.generateChannelIdConnect();L=(u=V.channelId)!==null&&u!==void 0?u:"",B=(f=V.pubKey)!==null&&f!==void 0?f:"",R=(h=V.privKey)!==null&&h!==void 0?h:"";const Q=Date.now();(p=t.connector.state.storageManager)===null||p===void 0||p.persistChannelConfig({channelId:L,localKey:R,lastActive:Q,validUntil:Q+Kg})}if(r&&(N!=null&&N.channelId))return!((y=t.connector)===null||y===void 0)&&y.isConnected()||(Fe(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${r}`,N),yield(m=t.connector)===null||m===void 0?void 0:m.connectToChannel({channelId:L})),Promise.resolve();N&&!(!((v=t.connector)===null||v===void 0)&&v.isConnected())&&(Fe("[RemoteConnection: startConnection()] reconnecting to channel",N),yield(w=t.connector)===null||w===void 0?void 0:w.connectToChannel({channelId:L}));const b=!((A=t.platformManager)===null||A===void 0)&&A.isSecure()?"":"&t=q",x=Zh.version,{iconUrl:I,name:C,url:T,scheme:j}=e.dappMetadata||{},O=(_=t.platformManager)===null||_===void 0?void 0:_.getPlatformType();let k="N/A";typeof window<"u"&&window.location&&window.location.hostname?k=window.location.hostname:C!==void 0?k=C:T!==void 0&&(k=T);const E={url:T??"",title:C??"",icon:I,scheme:j??"",apiVersion:x,dappId:k||T||"N/A",anonId:e.anonId,platform:O??"",source:(D=e._source)!==null&&D!==void 0?D:""},M=A3(JSON.stringify(E));let H=`channelId=${L}&v=2&comm=${(P=t.communicationLayerPreference)!==null&&P!==void 0?P:""}&pubkey=${B}${b}&originatorInfo=${M}&hr=${t.hideReturnToAppNotification?1:0}`;if(n){H+=`&rpc=${A3(JSON.stringify(n))}`;const V=t.connector.getRPCMethodTracker();V&&(V[`${n.id}`]=Object.assign(Object.assign({},n),{id:`${n.id}`,timestamp:Date.now()}))}const q=encodeURI(H),W=`${t.useDeeplink?Cw:Aw}?${H}`;if(t.qrcodeLink=W,t.developerMode&&Fe(`[RemoteConnection: startConnection()] qrcodeLink=${q}`),F.emit("display_uri",W),_n.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(U=t.platformManager)===null||U===void 0?void 0:U.isSecure()){const V=setTimeout((()=>{_n.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return yield(function(Q,te){var X,Z;return qe(this,void 0,void 0,(function*(){const ae=`${Aw}?${te}`,he=`${Cw}?${te}`;(Z=(X=Q.platformManager)===null||X===void 0?void 0:X.openDeeplink)===null||Z===void 0||Z.call(X,ae,he,"_self")}))})(t,q),new Promise(((Q,te)=>{var X,Z,ae;if(!((X=t.connector)===null||X===void 0)&&X.isAuthorized())return clearTimeout(V),void Q();(Z=t.connector)===null||Z===void 0||Z.once(Xe.AUTHORIZED,(()=>{clearTimeout(V),Q()})),(ae=t.connector)===null||ae===void 0||ae.once(Xe.REJECTED,(()=>{clearTimeout(V),te(Xe.REJECTED)}))}))}return KMe(t,e,q)}catch(F){throw console.error("[startConnection] error",F),F}}))}class GMe{constructor(e){var r,n,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const o=((r=e.logging)===null||r===void 0?void 0:r.developerMode)===!0||((n=e.logging)===null||n===void 0?void 0:n.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.hideReturnToAppNotification=e.sdk.options.hideReturnToAppNotification,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=zMe),e.modals.otp||(e.modals.otp=WMe)}startConnection(e){return qe(this,void 0,void 0,(function*(){return VMe(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var r,n,i;return qe(this,void 0,void 0,(function*(){const o=yield(n=(r=e.options.storage)===null||r===void 0?void 0:r.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();if(!this.options.ecies){const a={privateKey:o==null?void 0:o.localKey};this.options.ecies=a}Eoe(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),Soe(this.state,this.options)}))}showActiveModal(){return(function(e){var r,n,i,o;e.authorized?Fe("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(n=(r=e.pendingModal).mount)===null||n===void 0||n.call(r):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))})(this.state)}closeModal(){var e,r,n,i;(r=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||r===void 0||r.call(e),(i=(n=this.state.installModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var r,n,i;Fe("[RemoteConnection: disconnect()]",e),e!=null&&e.terminate&&(xs.getProvider().handleDisconnect({terminate:!0}),(n=(r=this.state.pendingModal)===null||r===void 0?void 0:r.unmount)===null||n===void 0||n.call(r),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),(function(o){Fe("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(uM(o),o.connector.disconnect({terminate:!0}).catch((a=>{Fe("[RemoteConnection: cleanupConnector()] error disconnecting connector",a)})))})(this.state)}}function YMe(t){var e,r,n,i,o,a,s,l,c,u,f,h;return qe(this,void 0,void 0,(function*(){const{options:p}=t;if(p.logging=(e=p.logging)!==null&&e!==void 0?e:{},p.communicationLayerPreference=(r=p.communicationLayerPreference)!==null&&r!==void 0?r:Rh.SOCKET,p.enableDebug!==void 0&&(Ji.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),p.enableAnalytics=(n=p.enableAnalytics)===null||n===void 0||n,p.injectProvider=(i=p.injectProvider)===null||i===void 0||i,p.shouldShimWeb3=(o=p.shouldShimWeb3)===null||o===void 0||o,p.extensionOnly=(a=p.extensionOnly)===null||a===void 0||a,p.useDeeplink=(s=p.useDeeplink)===null||s===void 0||s,p.hideReturnToAppNotification=(l=p.hideReturnToAppNotification)!==null&&l!==void 0&&l,p.storage=(c=p.storage)!==null&&c!==void 0?c:{enabled:!0},p.headless){Ji("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const _=()=>{},D={install:()=>({mount:_,unmount:_})},P={installer:_};p.modals=D,p.ui=P}const y=((u=p.logging)===null||u===void 0?void 0:u.developerMode)===!0;t.debug=((f=p.logging)===null||f===void 0?void 0:f.sdk)||y,Fe("[MetaMaskSDK: performSDKInitialization()] options",t.options);const m=Object.assign({},p.logging);y&&(m.sdk=!0,m.eciesLayer=!0,m.keyExchangeLayer=!0,m.remoteLayer=!0,m.serviceLayer=!0,m.plaintext=!0),yield(function(_){var D;return qe(this,void 0,void 0,(function*(){const{options:P}=_;_.platformManager=new Sw({useDeepLink:(D=P.useDeeplink)!==null&&D!==void 0&&D,preferredOpenLink:P.openDeeplink,debug:_.debug})}))})(t),yield(function(_){var D,P,U,F,N;return qe(this,void 0,void 0,(function*(){const{options:L}=_,B=(D=_.platformManager)===null||D===void 0?void 0:D.getPlatformType();_.analytics=new NMe({serverUrl:(P=L.communicationServerUrl)!==null&&P!==void 0?P:Wg,enabled:L.enableAnalytics,originatorInfo:{url:(U=L.dappMetadata.url)!==null&&U!==void 0?U:"",title:(F=L.dappMetadata.name)!==null&&F!==void 0?F:"",dappId:_.getDappId(),platform:B??"",source:(N=L._source)!==null&&N!==void 0?N:"",anonId:""}})}))})(t),yield(function(_){var D,P,U;return qe(this,void 0,void 0,(function*(){if(!_.options.enableAnalytics||!(!((D=_.platformManager)===null||D===void 0)&&D.isBrowser())&&!(!((P=_.platformManager)===null||P===void 0)&&P.isReactNative()))return;const F=_.getVersion(),N=_.getDappId(),L=yield _.getAnonId(),B=(U=_.platformManager)===null||U===void 0?void 0:U.getPlatformType(),R=_.options._source;_n.analytics.setGlobalProperty("sdk_version",F),_n.analytics.setGlobalProperty("dapp_id",N),_n.analytics.setGlobalProperty("anon_id",L),_n.analytics.setGlobalProperty("platform",B),_n.analytics.setGlobalProperty("integration_type",R),_n.analytics.enable(),_n.analytics.track("sdk_initialized",{})}))})(t),yield(function(_){var D;return qe(this,void 0,void 0,(function*(){const{options:P}=_;((D=P.storage)===null||D===void 0?void 0:D.enabled)!==!0||P.storage.storageManager||(P.storage.storageManager=yield yoe(P.storage))}))})(t),yield(function(_){return qe(this,void 0,void 0,(function*(){const{options:D}=_,P=/^(http|https):\/\/[^\s]*$/;if(D.dappMetadata){D.dappMetadata.iconUrl&&!P.test(D.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),D.dappMetadata.iconUrl=void 0),D.dappMetadata.base64Icon&&D.dappMetadata.base64Icon.length>LMe&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),D.dappMetadata.base64Icon=void 0),D.dappMetadata.url&&!P.test(D.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const U=RMe();if(U&&!D.dappMetadata.iconUrl&&!D.dappMetadata.base64Icon){const F=`${window.location.protocol}//${window.location.host}${U}`;D.dappMetadata.iconUrl=F}}_.dappMetadata=D.dappMetadata}))})(t),yield BMe(t),yield jMe(t);const{metamaskBrowserExtension:v,preferExtension:w,shouldReturn:A}=yield(function(_){var D,P,U,F;return qe(this,void 0,void 0,(function*(){const{options:N}=_;let L,B=!1,R=!1;if(typeof window<"u"&&window.ethereum&&!(!((D=_.platformManager)===null||D===void 0)&&D.isMetaMaskMobileWebView())){B=localStorage.getItem(_3)==="extension";try{L=yield DMe({mustBeMetaMask:!0,sdkInstance:_}),window.extension=L,L.on(Rs.CHAIN_CHANGED,(b=>{Fe(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${b}`),_.sdkProvider&&_.getMobileProvider().emit(Rs.CHAIN_CHANGED,b)})),L.on(Rs.ACCOUNTS_CHANGED,(b=>qe(this,void 0,void 0,(function*(){var x;Fe(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${b}`);const I=!!_.sdkProvider,C=!!_.extensionActive;if(I&&_.getMobileProvider().emit(Rs.ACCOUNTS_CHANGED,b),C&&(b==null?void 0:b.length)===0&&(yield(x=_.getProvider())===null||x===void 0?void 0:x.request({method:Nt.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield _.terminate()}catch(T){Fe("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",T)}})))),L.on(Rs.DISCONNECT,(b=>{Fe(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${b}`),_.sdkProvider&&_.getMobileProvider().emit(Rs.DISCONNECT,b)})),L.on(Rs.CONNECT,(b=>{Fe(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${b}`),_.sdkProvider&&_.getMobileProvider().emit(Rs.CONNECT,b)})),L.on(Rs.CONNECTED,(b=>{Fe("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",b),_.sdkProvider&&_.getMobileProvider().emit(Rs.CONNECTED,b)}))}catch{window.extension=void 0}}else!((P=_.platformManager)===null||P===void 0)&&P.isMetaMaskMobileWebView()&&((U=_.analytics)===null||U===void 0||U.send({event:On.SDK_USE_INAPP_BROWSER}),_.activeProvider=boe({provider:window.ethereum,sdkInstance:_}),_._initialized=!0,R=!0);return L&&N.extensionOnly&&(Fe("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(F=_.analytics)===null||F===void 0||F.send({event:On.SDK_USE_EXTENSION}),_.activeProvider=L,_.extensionActive=!0,_.extension=L,_._initialized=!0,R=!0),{preferExtension:B,shouldReturn:R,metamaskBrowserExtension:L}}))})(t);if(A)Fe("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield(function(_,D){var P,U,F,N,L;return qe(this,void 0,void 0,(function*(){const{options:B}=_,R=Object.assign({},B.logging);_.remoteConnection=new GMe({anonId:yield _.getAnonId(),preferDesktop:(P=B.preferDesktop)!==null&&P!==void 0&&P,communicationLayerPreference:(U=B.communicationLayerPreference)!==null&&U!==void 0?U:Rh.SOCKET,analytics:_.analytics,dappMetadata:B.dappMetadata,_source:B._source,enableAnalytics:(F=B.enableAnalytics)===null||F===void 0||F,timer:B.timer,sdk:_,platformManager:_.platformManager,transports:B.transports,communicationServerUrl:B.communicationServerUrl,storage:(N=B.storage)!==null&&N!==void 0?N:{enabled:!0},getMetaMaskInstaller:()=>{if(!_.installer)throw new Error("Invalid SDK status -- installer not initialized");return _.installer},logging:R,connectWithExtensionProvider:D===void 0?void 0:()=>GG(_),modals:Object.assign(Object.assign({},B.modals),{onPendingModalDisconnect:_.terminate.bind(_)})}),yield _.remoteConnection.initRemoteCommunication({sdkInstance:_}),_.installer=new qMe({remote:_.remoteConnection,preferDesktop:(L=B.preferDesktop)!==null&&L!==void 0&&L,platformManager:_.platformManager,debug:_.debug})}))})(t,v),yield TMe(t),yield(function(_,D){var P,U;return qe(this,void 0,void 0,(function*(){const{options:F}=_;D?(Fe("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(P=_.analytics)===null||P===void 0||P.send({event:On.SDK_EXTENSION_UTILIZED}),GG(_).catch((N=>{console.warn("Can't connect with MetaMask extension...",N),localStorage.removeItem(_3)}))):F.checkInstallationImmediately&&(!((U=_.platformManager)===null||U===void 0)&&U.isDesktopWeb()?(Fe("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),_.connect().catch((N=>{Fe(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${N}`)}))):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),_._initialized=!0}))})(t,w);try{yield(h=t.remoteConnection)===null||h===void 0?void 0:h.startConnection({initialCheck:!0})}catch(_){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",_)}t.emit(So.ProviderUpdate,ml.INITIALIZED)}}))}const JMe={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,hideReturnToAppNotification:!1,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:"direct",i18nOptions:{enabled:!1}};class QMe extends C6e{constructor(e){var r,n,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",Ji.disable(),this.options=Object.assign(Object.assign({},JMe),e);const o=((r=this.options.logging)===null||r===void 0?void 0:r.developerMode)===!0;if((!((n=this.options.logging)===null||n===void 0)&&n.sdk||o)&&Ji.enable("MM_SDK"),Fe("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=this.options.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");this.options.dappMetadata=Object.assign(Object.assign({},this.options.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.init().then((()=>{Fe("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)})).catch((a=>{console.error("[MetaMaskSDK: constructor()] error during initialization",a)}))}init(){return qe(this,void 0,void 0,(function*(){return(function(e){var r;return qe(this,void 0,void 0,(function*(){if(typeof window<"u"&&(!((r=window.mmsdk)===null||r===void 0)&&r.isInitialized()))return Fe("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return Fe("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return Fe("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=YMe(e),yield e.sdkInitPromise}catch(n){throw console.error(n),n}return e.sdkInitPromise}))})(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return qe(this,void 0,void 0,(function*(){return(function(e){return qe(this,void 0,void 0,(function*(){if(e._initialized||(Fe("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),Fe(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const r=e.activeProvider.getSelectedAddress();return r?[r]:e.activeProvider.request({method:Nt.ETH_REQUESTACCOUNTS,params:[]})}))})(this)}))}connectAndSign({msg:e}){return qe(this,void 0,void 0,(function*(){return OMe({instance:this,msg:e})}))}connectWith(e){return qe(this,void 0,void 0,(function*(){return(function({instance:r,rpc:n}){return qe(this,void 0,void 0,(function*(){if(r._initialized||(Fe("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield r.init()),Fe(`[MetaMaskSDK: connectWith()] method: ${n.method} rpc=${n}`),!r.activeProvider)throw new Error("SDK state invalid -- undefined provider");return r.activeProvider.request({method:Nt.METAMASK_CONNECTWITH,params:[n]})}))})({instance:this,rpc:e})}))}resume(){return(function(e){var r,n,i;return qe(this,void 0,void 0,(function*(){if(!(!((n=(r=e.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||n===void 0)&&n.isReady()))return Fe("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());Fe("[MetaMaskSDK: resume()] channel is ready")}))})(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return(function(e){var r,n,i;return qe(this,void 0,void 0,(function*(){if(!(!((r=e.platformManager)===null||r===void 0)&&r.isMetaMaskMobileWebView())){if(CMe&&(window.localStorage.removeItem(_3),window.localStorage.removeItem(cM),window.localStorage.removeItem(lM)),e.extensionActive){try{yield(n=e.activeProvider)===null||n===void 0?void 0:n.request({method:Nt.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){Fe("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(So.ProviderUpdate,ml.TERMINATE),void Fe("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(So.ProviderUpdate,ml.TERMINATE))}e.emit(So.ProviderUpdate,ml.TERMINATE),Fe(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}}))})(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!r)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return r}getChannelId(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||r===void 0?void 0:r.channelId}getRPCHistory(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getRPCMethodTracker()}getVersion(){return Zh.version}getDappId(){var e,r,n,i;return typeof window>"u"||window.location===void 0?(i=(r=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:(n=this.options.dappMetadata)===null||n===void 0?void 0:n.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,r;return qe(this,void 0,void 0,(function*(){if(this._anonId)return this._anonId;let n;return n=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((r=this.platformManager)===null||r===void 0)&&r.isReactNative()?yield this.getReactNativeAnonId():Wu(),this._anonId=n,n}))}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const r=localStorage.getItem(e);if(r)return r;const n=Wu();return localStorage.setItem(e,n),n}catch(r){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",r),Wu()}}getReactNativeAnonId(){return qe(this,void 0,void 0,(function*(){const e=this.ANON_ID_STORAGE_KEY;try{const r=require("@react-native-async-storage/async-storage").default,n=yield r.getItem(e);if(n)return n;const i=Wu();return yield r.setItem(e,i),i}catch(r){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",r),Wu()}}))}getWalletStatus(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.ping()}_keyCheck(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.keyCheck()}_getServiceStatus(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,r){return super.emit(e,r)}on(e,r){return super.on(e,r)}}var XMe=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return qe(this,void 0,void 0,(function*(){const e=JSON.stringify(t);Fe(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(w6,e)}))}getPersistedChannelConfig(){return qe(this,void 0,void 0,(function*(){let t;try{if(Fe(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(w6),Fe("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return Fe("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}}))}persistAccounts(t){return qe(this,void 0,void 0,(function*(){Fe(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(lM,e)}))}getCachedAccounts(){return qe(this,void 0,void 0,(function*(){try{const t=localStorage.getItem(lM);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}}))}persistChainId(t){return qe(this,void 0,void 0,(function*(){Fe(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(cM,t)}))}getCachedChainId(){return qe(this,void 0,void 0,(function*(){try{const t=localStorage.getItem(cM);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}}))}terminate(){return qe(this,void 0,void 0,(function*(){Fe(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(w6)}))}}});const ZMe="hydrated",eNe=!1,tNe=!0;var rNe=Object.defineProperty,T9=new WeakMap,Ef=t=>T9.get(t),M9=(t,e)=>T9.set(e.$lazyInstance$=t,e),iY=(t,e)=>e in t,Ah=(t,e)=>(0,console.error)(t,e),b6=new Map,N2=new Map,_oe="slot-fb{display:contents}slot-fb[hidden]{display:none}",h_=typeof window<"u"?window:{},ll=h_.document||{head:{}},ui={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,r,n)=>t.addEventListener(e,r,n),rel:(t,e,r,n)=>t.removeEventListener(e,r,n),ce:(t,e)=>new CustomEvent(t,e)},Aoe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),fM=!1,oY=[],Coe=[],nNe=(t,e)=>r=>{t.push(r),fM||(fM=!0,4&ui.$flags$?N9(dM):ui.raf(dM))},aY=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(r){Ah(r)}t.length=0},dM=()=>{aY(oY),aY(Coe),(fM=oY.length>0)&&ui.raf(dM)},N9=t=>(e=>Promise.resolve(e))().then(t),iNe=nNe(Coe),sY={},R9=t=>(t=typeof t)=="object"||t==="function";function Ooe(t){var e,r,n;return(n=(r=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}((t,e)=>{for(var r in e)rNe(t,r,{get:e[r],enumerable:!0})})({},{err:()=>Ioe,map:()=>oNe,ok:()=>hM,unwrap:()=>aNe,unwrapErr:()=>sNe});var hM=t=>({isOk:!0,isErr:!1,value:t}),Ioe=t=>({isOk:!1,isErr:!0,value:t});function oNe(t,e){if(t.isOk){const r=e(t.value);return r instanceof Promise?r.then((n=>hM(n))):hM(r)}if(t.isErr){const r=t.value;return Ioe(r)}throw"should never get here"}var L9,aNe=t=>{if(t.isOk)return t.value;throw t.value},sNe=t=>{if(t.isErr)return t.value;throw t.value},Ue=(t,e,...r)=>{let n=null,i=!1,o=!1;const a=[],s=c=>{for(let u=0;u<c.length;u++)n=c[u],Array.isArray(n)?s(n):n!=null&&typeof n!="boolean"&&((i=typeof t!="function"&&!R9(n))&&(n=String(n)),i&&o?a[a.length-1].$text$+=n:a.push(i?O3(null,n):n),o=i)};if(s(r),e){const c=e.className||e.class;c&&(e.class=typeof c!="object"?c:Object.keys(c).filter((u=>c[u])).join(" "))}if(typeof t=="function")return t(e===null?{}:e,a,cNe);const l=O3(t,null);return l.$attrs$=e,a.length>0&&(l.$children$=a),l},O3=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),lNe={},cNe={forEach:(t,e)=>t.map(lY).forEach(e),map:(t,e)=>t.map(lY).map(e).map(uNe)},lY=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),uNe=t=>{if(typeof t.vtag=="function"){const r={...t.vattrs};return t.vkey&&(r.key=t.vkey),t.vname&&(r.name=t.vname),Ue(t.vtag,r,...t.vchildren||[])}const e=O3(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},p_=t=>Ef(t).$hostElement$,Mf=(t,e,r)=>{const n=p_(t);return{emit:i=>Poe(n,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},Poe=(t,e,r)=>{const n=ui.ce(e,r);return t.dispatchEvent(n),n},cY=new WeakMap,fNe=t=>{const e=t.$cmpMeta$,r=t.$hostElement$,n=e.$flags$;e.$tagName$;const i=((o,a,s)=>{var l;const c=koe(a),u=N2.get(c);if(o=o.nodeType===11?o:ll,u)if(typeof u=="string"){o=o.head||o;let f,h=cY.get(o);if(h||cY.set(o,h=new Set),!h.has(c)){{f=ll.createElement("style"),f.innerHTML=u;const p=(l=ui.$nonce$)!=null?l:Ooe(ll);if(p!=null&&f.setAttribute("nonce",p),!(1&a.$flags$))if(o.nodeName==="HEAD"){const y=o.querySelectorAll("link[rel=preconnect]"),m=y.length>0?y[y.length-1].nextSibling:o.querySelector("style");o.insertBefore(f,m)}else if("host"in o)if(Aoe){const y=new CSSStyleSheet;y.replaceSync(u),o.adoptedStyleSheets=[y,...o.adoptedStyleSheets]}else{const y=o.querySelector("style");y?y.innerHTML=u+y.innerHTML:o.prepend(f)}else o.append(f);1&a.$flags$&&o.nodeName!=="HEAD"&&o.insertBefore(f,null)}4&a.$flags$&&(f.innerHTML+=_oe),h&&h.add(c)}}else o.adoptedStyleSheets.includes(u)||(o.adoptedStyleSheets=[...o.adoptedStyleSheets,u]);return c})(r.shadowRoot?r.shadowRoot:r.getRootNode(),e);10&n&&2&n&&(r["s-sc"]=i,r.classList.add(i+"-h"))},koe=(t,e)=>"sc-"+t.$tagName$,uY=(t,e,r,n,i,o)=>{if(r!==n){let a=iY(t,e),s=e.toLowerCase();if(e==="class"){const l=t.classList,c=fY(r),u=fY(n);l.remove(...c.filter((f=>f&&!u.includes(f)))),l.add(...u.filter((f=>f&&!c.includes(f))))}else if(e==="style"){for(const l in r)n&&n[l]!=null||(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in n)r&&n[l]===r[l]||(l.includes("-")?t.style.setProperty(l,n[l]):t.style[l]=n[l])}else if(a||e[0]!=="o"||e[1]!=="n"){const l=R9(n);if((a||l&&n!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=n;else{const c=n??"";e==="list"?a=!1:r!=null&&t[e]==c||(typeof t.__lookupSetter__(e)=="function"?t[e]=c:t.setAttribute(e,c))}}catch{}n==null||n===!1?n===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!a||4&o||i)&&!l&&(n=n===!0?"":n,t.setAttribute(e,n))}else if(e=e[2]==="-"?e.slice(3):iY(h_,s)?s.slice(2):s[2]+e.slice(3),r||n){const l=e.endsWith(Toe);e=e.replace(hNe,""),r&&ui.rel(t,e,r,l),n&&ui.ael(t,e,n,l)}}},dNe=/\s/,fY=t=>t?t.split(dNe):[],Toe="Capture",hNe=new RegExp(Toe+"$"),Moe=(t,e,r)=>{const n=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||sY,o=e.$attrs$||sY;for(const a of dY(Object.keys(i)))a in o||uY(n,a,i[a],void 0,r,e.$flags$);for(const a of dY(Object.keys(o)))uY(n,a,i[a],o[a],r,e.$flags$)};function dY(t){return t.includes("ref")?[...t.filter((e=>e!=="ref")),"ref"]:t}var Na=!1,D9=(t,e,r,n)=>{const i=e.$children$[r];let o,a,s=0;if(i.$text$!==null)o=i.$elm$=ll.createTextNode(i.$text$);else{if(Na||(Na=i.$tag$==="svg"),o=i.$elm$=ll.createElementNS(Na?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),Na&&i.$tag$==="foreignObject"&&(Na=!1),Moe(null,i,Na),o.getRootNode().querySelector("body"),i.$children$)for(s=0;s<i.$children$.length;++s)a=D9(t,i,s),a&&o.appendChild(a);i.$tag$==="svg"?Na=!1:o.tagName==="foreignObject"&&(Na=!0)}return o["s-hn"]=L9,o},hY=(t,e,r,n,i,o)=>{let a,s=t;for(s.shadowRoot&&s.tagName===L9&&(s=s.shadowRoot);i<=o;++i)n[i]&&(a=D9(null,r,i),a&&(n[i].$elm$=a,R2(s,a,e)))},pY=(t,e,r)=>{for(let n=e;n<=r;++n){const i=t[n];if(i){const o=i.$elm$;o&&o.remove()}}},Wx=(t,e,r=!1)=>t.$tag$===e.$tag$,zy=(t,e,r=!1)=>{const n=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;s===null?(Moe(t,e,Na=a==="svg"||a!=="foreignObject"&&Na),i!==null&&o!==null?((l,c,u,f,h=!1)=>{let p,y=0,m=0,v=c.length-1,w=c[0],A=c[v],_=f.length-1,D=f[0],P=f[_];for(;y<=v&&m<=_;)w==null?w=c[++y]:A==null?A=c[--v]:D==null?D=f[++m]:P==null?P=f[--_]:Wx(w,D,h)?(zy(w,D,h),w=c[++y],D=f[++m]):Wx(A,P,h)?(zy(A,P,h),A=c[--v],P=f[--_]):Wx(w,P,h)?(zy(w,P,h),R2(l,w.$elm$,A.$elm$.nextSibling),w=c[++y],P=f[--_]):Wx(A,D,h)?(zy(A,D,h),R2(l,A.$elm$,w.$elm$),A=c[--v],D=f[++m]):(p=D9(c&&c[m],u,m),D=f[++m],p&&R2(w.$elm$.parentNode,p,w.$elm$));y>v?hY(l,f[_+1]==null?null:f[_+1].$elm$,u,f,m,_):m>_&&pY(c,y,v)})(n,i,e,o,r):o!==null?(t.$text$!==null&&(n.textContent=""),hY(n,null,e,o,0,o.length-1)):!r&&tNe&&i!==null&&pY(i,0,i.length-1),Na&&a==="svg"&&(Na=!1)):t.$text$!==s&&(n.data=s)},R2=(t,e,r)=>t==null?void 0:t.insertBefore(e,r),pNe=(t,e,r=!1)=>{const n=t.$hostElement$,i=t.$cmpMeta$,o=t.$vnode$||O3(null,null),a=(s=e)&&s.$tag$===lNe?e:Ue(null,null,e);var s;if(L9=n.tagName,r&&a.$attrs$)for(const l of Object.keys(a.$attrs$))n.hasAttribute(l)&&!["key","ref","style","class"].includes(l)&&(a.$attrs$[l]=n[l]);a.$tag$=null,a.$flags$|=4,t.$vnode$=a,a.$elm$=o.$elm$=n.shadowRoot||n,n["s-sc"],1&i.$flags$,zy(o,a,r)},Noe=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((r=>t.$onRenderResolve$=r)))},B9=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(Noe(t,t.$ancestorComponent$),iNe((()=>gNe(t,e))))),gNe=(t,e)=>{const r=t.$hostElement$;t.$cmpMeta$.$tagName$;const n=t.$lazyInstance$;if(!n)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return mNe(void 0,(()=>vNe(t,n,e)))},mNe=(t,e)=>yNe(t)?t.then(e).catch((r=>{console.error(r),e()})):e(),yNe=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",vNe=async(t,e,r)=>{var n;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const o=i["s-rc"];r&&fNe(t),t.$cmpMeta$.$tagName$,wNe(t,e,i,r),o&&(o.map((a=>a())),i["s-rc"]=void 0);{const a=(n=i["s-p"])!=null?n:[],s=()=>bNe(t);a.length===0?s():(Promise.all(a).then(s),t.$flags$|=4,a.length=0)}},wNe=(t,e,r,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,pNe(t,e,n)}catch(i){Ah(i,t.$hostElement$)}return null},bNe=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,r=()=>{},n=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?r():(t.$flags$|=64,Loe(e),j9(n,"componentDidLoad"),t.$onReadyResolve$(e),i||Roe()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&N9((()=>B9(t,!1))),t.$flags$&=-517},Roe=t=>{Loe(ll.documentElement),N9((()=>Poe(h_,"appload",{detail:{namespace:"sdk-install-modal-web"}})))},j9=(t,e,r)=>{if(t&&t[e])try{return t[e](r)}catch(n){Ah(n)}},Loe=t=>{var e;return t.classList.add((e=ZMe)!=null?e:"hydrated")},xNe=(t,e,r,n)=>{const i=Ef(t);if(!i)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=i.$hostElement$,a=i.$instanceValues$.get(e),s=i.$flags$,l=i.$lazyInstance$;var c,u;c=r,u=n.$members$[e][0],r=c==null||R9(c)?c:4&u?c!=="false"&&(c===""||!!c):1&u?String(c):c;const f=Number.isNaN(a)&&Number.isNaN(r);if((!(8&s)||a===void 0)&&r!==a&&!f&&(i.$instanceValues$.set(e,r),l)){if(n.$watchers$&&128&s){const h=n.$watchers$[e];h&&h.map((p=>{try{l[p](r,a,e)}catch(y){Ah(y,o)}}))}(18&s)==2&&B9(i,!1)}},Doe=(t,e,r)=>{var n,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const a=Object.entries((n=e.$members$)!=null?n:{});if(a.map((([s,[l]])=>{(31&l||2&r&&32&l)&&Object.defineProperty(o,s,{get(){return c=s,Ef(this).$instanceValues$.get(c);var c},set(c){xNe(this,s,c,e)},configurable:!0,enumerable:!0})})),1&r){const s=new Map;o.attributeChangedCallback=function(l,c,u){ui.jmp((()=>{var f;const h=s.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const p=Ef(this),y=p==null?void 0:p.$flags$;if(y&&!(8&y)&&128&y&&u!==c){const m=p.$lazyInstance$,v=(f=e.$watchers$)==null?void 0:f[l];v==null||v.forEach((w=>{m[w]!=null&&m[w].call(m,u,c,l)}))}return}}this[h]=(u!==null||typeof this[h]!="boolean")&&u}))},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...a.filter((([l,c])=>15&c[0])).map((([l,c])=>{const u=c[1]||l;return s.set(u,l),u}))]))}}return t},ENe=async(t,e,r,n)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,r.$lazyBundleId$){const s=((l,c,u)=>{const f=l.$tagName$.replace(/-/g,"_"),h=l.$lazyBundleId$;if(!h)return;const p=b6.get(h);if(p)return p[f];{const y=m=>(b6.set(h,m),m[f]);if(h==="mm-install-modal_3")return Promise.resolve().then((function(){return BNe})).then(y,Ah)}return Rr(()=>import(`./${h}.entry.js`),[]).then((y=>(b6.set(h,y),y[f])),Ah)})(r);if(s&&"then"in s?i=await s:i=s,!i)throw new Error(`Constructor for "${r.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(r.$watchers$=i.watchers,Doe(i,r,2),i.isProxied=!0),r.$tagName$,e.$flags$|=8;try{new i(e)}catch(l){Ah(l)}e.$flags$&=-9,e.$flags$|=128,pM(e.$lazyInstance$)}else{i=t.constructor;const s=t.localName;customElements.whenDefined(s).then((()=>e.$flags$|=128))}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);const l=koe(r);N2.has(l)||(r.$tagName$,((c,u,f)=>{let h=N2.get(c);Aoe&&f?(h=h||new CSSStyleSheet,typeof h=="string"?h=u:h.replaceSync(u)):h=u,N2.set(c,h)})(l,s,!!(1&r.$flags$)))}}const o=e.$ancestorComponent$,a=()=>B9(e,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()},pM=t=>{j9(t,"connectedCallback")},gY=t=>{j9(t,"disconnectedCallback")},SNe=(t,e={})=>{var r;const n=[],i=e.exclude||[],o=h_.customElements,a=ll.head,s=a.querySelector("meta[charset]"),l=ll.createElement("style"),c=[];let u,f=!0;Object.assign(ui,e),ui.$resourcesUrl$=new URL(e.resourcesUrl||"./",ll.baseURI).href;let h=!1;if(t.map((p=>{p[1].map((y=>{var m;const v={$flags$:y[0],$tagName$:y[1],$members$:y[2],$listeners$:y[3]};4&v.$flags$&&(h=!0),v.$members$=y[2],v.$watchers$=(m=y[4])!=null?m:{};const w=v.$tagName$,A=class extends HTMLElement{constructor(_){if(super(_),this.hasRegisteredEventListeners=!1,((D,P)=>{const U={$flags$:0,$hostElement$:D,$cmpMeta$:P,$instanceValues$:new Map};U.$onReadyPromise$=new Promise((F=>U.$onReadyResolve$=F)),D["s-p"]=[],D["s-rc"]=[],T9.set(D,U)})(_=this,v),1&v.$flags$)if(_.shadowRoot){if(_.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${v.$tagName$}! Mode is set to ${_.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else _.attachShadow({mode:"open"})}connectedCallback(){Ef(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),f?c.push(this):ui.jmp((()=>(_=>{if((1&ui.$flags$)==0){const D=Ef(_),P=D.$cmpMeta$;if(P.$tagName$,1&D.$flags$)D!=null&&D.$lazyInstance$?pM(D.$lazyInstance$):D!=null&&D.$onReadyPromise$&&D.$onReadyPromise$.then((()=>pM(D.$lazyInstance$)));else{D.$flags$|=1;{let U=_;for(;U=U.parentNode||U.host;)if(U["s-p"]){Noe(D,D.$ancestorComponent$=U);break}}P.$members$&&Object.entries(P.$members$).map((([U,[F]])=>{if(31&F&&_.hasOwnProperty(U)){const N=_[U];delete _[U],_[U]=N}})),ENe(_,D,P)}}})(this)))}disconnectedCallback(){ui.jmp((()=>(async _=>{if((1&ui.$flags$)==0){const D=Ef(_);D!=null&&D.$lazyInstance$?gY(D.$lazyInstance$):D!=null&&D.$onReadyPromise$&&D.$onReadyPromise$.then((()=>gY(D.$lazyInstance$)))}})(this)))}componentOnReady(){return Ef(this).$onReadyPromise$}};v.$lazyBundleId$=p[0],i.includes(w)||o.get(w)||(n.push(w),o.define(w,Doe(A,v,1)))}))})),n.length>0&&(h&&(l.textContent+=_oe),l.textContent+=n.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");const p=(r=ui.$nonce$)!=null?r:Ooe(ll);p!=null&&l.setAttribute("nonce",p),a.insertBefore(l,s?s.nextSibling:a.firstChild)}f=!1,c.length?c.map((p=>p.connectedCallback())):ui.jmp((()=>u=setTimeout(Roe,30)))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var _Ne=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,SNe([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>ui.$nonce$=t});const ANe={fontFamily:"Roboto, sans-serif"},$9=({className:t},e)=>Ue("div",{style:ANe,class:t},e),x6=({Icon:t,text:e})=>Ue("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Ue("div",{class:"flexItem1"},Ue(t,null)),Ue("div",{class:"flexItem11"},Ue("span",{style:{lineHeight:"2",color:"black"}},e))),CNe=()=>Ue("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Ue("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),ONe=()=>Ue("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),INe=()=>Ue("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),PNe=()=>Ue("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Ue("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Ue("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function F9({version:t}){return Ue("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const U9=()=>Ue("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("rect",{width:"16",height:"16",fill:"white"}),Ue("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),H9=()=>Ue("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Ue("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Sd(t,e){return t.toString(2).padStart(e,"0")}function mY(t,e){const r=t%e;return r>=0?r:e+r}function Qo(t,e){return new Array(t).fill(e)}function yY(...t){let e=0;for(const n of t)e=Math.max(e,n.length);const r=[];for(let n=0;n<e;n++)for(const i of t)n>=i.length||r.push(i[n]);return new Uint8Array(r)}function vY(t,e,r){if(r<0||r+e.length>t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r+n])return!1;return!0}function wY(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map((r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n}))},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map((r=>{if((function(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)})(r),r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]}))}}}class Vo{static size(e,r){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return r!==void 0&&(e={width:Math.min(e.width,r.width),height:Math.min(e.height,r.height)}),e}static fromString(e){const r=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),n=r.length,i=new Array(n);let o;for(const a of r){const s=a.split("").map((l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)}));if(o&&s.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${s.length}`);o=s.length,i.push(s)}return o||(o=0),new Vo({height:n,width:o},i)}constructor(e,r){const{height:n,width:i}=Vo.size(e);this.data=r||Array.from({length:n},(()=>Qo(i,void 0))),this.height=n,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:r,y:n}=this.xy(e);return{height:this.height-n,width:this.width-r}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=mY(e.x,this.width),e.y=mY(e.y,this.height),e}rect(e,r,n){const{x:i,y:o}=this.xy(e),{height:a,width:s}=Vo.size(r,this.size({x:i,y:o}));for(let l=0;l<a;l++)for(let c=0;c<s;c++)this.data[o+l][i+c]=typeof n=="function"?n({x:c,y:l},this.data[o+l][i+c]):n;return this}rectRead(e,r,n){return this.rect(e,r,((i,o)=>(n(i,o),o)))}hLine(e,r,n){return this.rect(e,{width:r,height:1},n)}vLine(e,r,n){return this.rect(e,{width:1,height:r},n)}border(e=2,r){const n=this.height+2*e,i=this.width+2*e,o=Qo(e,r),a=Array.from({length:e},(()=>Qo(i,r)));return new Vo({height:n,width:i},[...a,...this.data.map((s=>[...o,...s,...o])),...a])}embed(e,r){return this.rect(e,r.size(),(({x:n,y:i})=>r.data[i][n]))}rectSlice(e,r=this.size()){const n=new Vo(Vo.size(r,this.size(this.xy(e))));return this.rect(e,r,(({x:i,y:o},a)=>n.data[o][i]=a)),n}inverse(){const{height:e,width:r}=this;return new Vo({height:r,width:e}).rect({x:0,y:0},1/0,(({x:n,y:i})=>this.data[n][i]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:r,width:n}=this;return new Vo({height:e*r,width:e*n}).rect({x:0,y:0},1/0,(({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)]))}clone(){return new Vo(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:r})=>this.data[r][e]))}assertDrawn(){this.rectRead(0,1/0,((e,r)=>{if(typeof r!="boolean")throw new Error("Invalid color type="+typeof r)}))}toString(){return this.data.map((e=>e.map((r=>r===void 0?"?":r?"X":" ")).join(""))).join(`
`)}toASCII(){const{height:e,width:r,data:n}=this;let i="";for(let o=0;o<e;o+=2){for(let a=0;a<r;a++){const s=n[o][a],l=o+1>=e||n[o+1][a];s||l?!s&&l?i+="":s&&!l?i+="":s&&l&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const e="\x1B[0m",r=`\x1B[1;47m  ${e}`,n=`\x1B[40m  ${e}`;return this.data.map((i=>i.map((o=>o?n:r)).join(""))).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,(({x:r,y:n},i)=>{i&&(e+=`<rect x="${r}" y="${n}" width="1" height="1" />`)})),e+="</svg>",e}toGIF(){const e=s=>[255&s,s>>>8&255],r=[...e(this.width),...e(this.height)],n=[];this.rectRead(0,1/0,((s,l)=>n.push(+(l===!0))));const i=126,o=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...Qo(381,0),44,0,0,0,0,...r,0,7],a=Math.floor(n.length/i);for(let s=0;s<a;s++)o.push(127,128,...n.slice(i*s,i*(s+1)).map((l=>+l)));return o.push(n.length%i+1,128,...n.slice(a*i).map((s=>+s))),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:r,width:n}=this.size(),i=new Uint8Array(r*n*(e?3:4));let o=0;for(let a=0;a<r;a++)for(let s=0;s<n;s++){const l=this.data[a][s]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:r,width:n,data:i}}}const bY=["low","medium","quartile","high"],xY=["numeric","alphanumeric","byte","kanji","eci"],kNe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],TNe={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},MNe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Di={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=Di.size.encode(t)-6-1,r=e-6,n=Math.ceil(r/28);let i=Math.floor(r/n);i%2?i+=1:r%n*2>=n&&(i+=2);const o=[6];for(let a=1;a<n;a++)o.push(e-(n-a)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const r=Di.ECCode[t]<<3|e;let n=r;for(let i=0;i<10;i++)n=n<<1^1335*(n>>9);return(r<<10|n)^Di.formatMask},versionBits(t){let e=t;for(let r=0;r<12;r++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:wY("0123456789"),alphanumerc:wY("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][Di.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const r=kNe[t-1],n=TNe[e][t-1],i=MNe[e][t-1],o=Math.floor(r/i)-n,a=i-r%i;return{words:n,numBlocks:i,shortBlocks:a,blockLen:o,capacity:8*(r-n*i),total:(n+o)*i+i-a}}},gM=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],gt={tables:(t=>{const e=Qo(256,0),r=Qo(256,0);for(let n=0,i=1;n<256;n++)e[n]=i,r[i]=n,i<<=1,256&i&&(i^=285);return{exp:e,log:r}})(),exp:t=>gt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return gt.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:gt.tables.exp[(gt.tables.log[t]+gt.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>gt.tables.exp[gt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return gt.tables.exp[255-gt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let r=Qo(t+1,0);return r[0]=e,gt.polynomial(r)},degree:t=>t.length-1,coefficient:(t,e)=>t[gt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const r=Qo(t.length+e.length-1,0);for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[n+i]=gt.add(r[n+i],gt.mul(t[n],e[i]));return gt.polynomial(r)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const r=Qo(t.length,0);for(let n=0;n<t.length;n++)r[n]=gt.mul(t[n],e);return gt.polynomial(r)},mulPolyMonomial(t,e,r){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(r==0)return[0];const n=Qo(t.length+e,0);for(let i=0;i<t.length;i++)n[i]=gt.mul(t[i],r);return gt.polynomial(n)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let r=t,n=e;r.length>n.length&&([r,n]=[n,r]);let i=Qo(n.length,0),o=n.length-r.length,a=n.slice(0,o);for(let s=0;s<a.length;s++)i[s]=a[s];for(let s=o;s<n.length;s++)i[s]=gt.add(r[s-o],n[s]);return gt.polynomial(i)},remainderPoly(t,e){const r=Array.from(t);for(let n=0;n<t.length-e.length+1;n++){const i=r[n];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(r[n+o]=gt.add(r[n+o],gt.mul(e[o],i)))}return r.slice(t.length-e.length+1,r.length)},divisorPoly(t){let e=[1];for(let r=0;r<t;r++)e=gt.mulPoly(e,[1,gt.pow(2,r)]);return e},evalPoly(t,e){if(e==0)return gt.coefficient(t,0);let r=t[0];for(let n=1;n<t.length;n++)r=gt.add(gt.mul(e,r),t[n]);return r},euclidian(t,e,r){gt.degree(t)<gt.degree(e)&&([t,e]=[e,t]);let n=t,i=e,o=[0],a=[1];for(;2*gt.degree(i)>=r;){let c=n,u=o;if(n=i,o=a,n[0]===0)throw new Error("rLast[0] === 0");i=c;let f=[0];const h=gt.inv(n[0]);for(;gt.degree(i)>=gt.degree(n)&&i[0]!==0;){const p=gt.degree(i)-gt.degree(n),y=gt.mul(i[0],h);f=gt.addPoly(f,gt.monomial(p,y)),i=gt.addPoly(i,gt.mulPolyMonomial(n,p,y))}if(f=gt.mulPoly(f,o),a=gt.addPoly(f,u),gt.degree(i)>=gt.degree(n))throw new Error(`Division failed r: ${i}, rLast: ${n}`)}const s=gt.coefficient(a,0);if(s==0)throw new Error("sigmaTilde(0) was zero");const l=gt.inv(s);return[gt.mulPolyScalar(a,l),gt.mulPolyScalar(i,l)]}};function NNe(t,e){const{words:r,shortBlocks:n,numBlocks:i,blockLen:o,total:a}=Di.capacity(t,e),s=(l=r,{encode(c){const u=gt.divisorPoly(l),f=Array.from(c);return f.push(...u.slice(0,-1).fill(0)),Uint8Array.from(gt.remainderPoly(f,u))},decode(c){const u=c.slice(),f=gt.polynomial(Array.from(c));let h=Qo(l,0),p=!1;for(let _=0;_<l;_++){const D=gt.evalPoly(f,gt.exp(_));h[h.length-1-_]=D,D!==0&&(p=!0)}if(!p)return u;h=gt.polynomial(h);const y=gt.monomial(l,1),[m,v]=gt.euclidian(y,h,l),w=Qo(gt.degree(m),0);let A=0;for(let _=1;_<256&&A<w.length;_++)gt.evalPoly(m,_)===0&&(w[A++]=gt.inv(_));if(A!==w.length)throw new Error("RS.decode: wrong errors number");for(let _=0;_<w.length;_++){const D=u.length-1-gt.log(w[_]);if(D<0)throw new Error("RS.decode: wrong error location");const P=gt.inv(w[_]);let U=1;for(let F=0;F<w.length;F++)_!==F&&(U=gt.mul(U,gt.add(1,gt.mul(w[F],P))));u[D]=gt.add(u[D],gt.mul(gt.evalPoly(v,P),gt.inv(U)))}return u}});var l;return{encode(c){const u=[],f=[];for(let m=0;m<i;m++){const v=o+(m<n?0:1);u.push(c.subarray(0,v)),f.push(s.encode(c.subarray(0,v))),c=c.subarray(v)}const h=yY(...u),p=yY(...f),y=new Uint8Array(h.length+p.length);return y.set(h),y.set(p,h.length),y},decode(c){if(c.length!==a)throw new Error(`interleave.decode: len(data)=${c.length}, total=${a}`);const u=[];for(let p=0;p<i;p++){const y=p<n;u.push(new Uint8Array(r+o+(y?0:1)))}let f=0;for(let p=0;p<o;p++)for(let y=0;y<i;y++)u[y][p]=c[f++];for(let p=n;p<i;p++)u[p][o]=c[f++];for(let p=o;p<o+r;p++)for(let y=0;y<i;y++){const m=y<n;u[y][p+(m?0:1)]=c[f++]}const h=[];for(const p of u)h.push(...Array.from(s.decode(p)).slice(0,-r));return Uint8Array.from(h)}}}function EY(t,e,r,n){let i="",o=r.length;if(n==="numeric"){const f=Di.alphabet.numeric.decode(r.split("")),h=f.length;for(let p=0;p<h-2;p+=3)i+=Sd(100*f[p]+10*f[p+1]+f[p+2],10);h%3==1?i+=Sd(f[h-1],4):h%3==2&&(i+=Sd(10*f[h-2]+f[h-1],7))}else if(n==="alphanumeric"){const f=Di.alphabet.alphanumerc.decode(r.split("")),h=f.length;for(let p=0;p<h-1;p+=2)i+=Sd(45*f[p]+f[p+1],11);h%2==1&&(i+=Sd(f[h-1],6))}else{if(n!=="byte")throw new Error("encode: unsupported type");{const f=(function(h){if(typeof h!="string")throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array(new TextEncoder().encode(h))})(r);o=f.length,i=Array.from(f).map((h=>Sd(h,8))).join("")}}const{capacity:a}=Di.capacity(t,e),s=Sd(o,Di.lengthBits(t,n));let l=Di.modeBits[n]+s+i;if(l.length>a)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,a-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let f=0;l.length!==a;f++)l+=c[f%16];const u=Uint8Array.from(l.match(/(.{8})/g).map((f=>+`0b${f}`)));return NNe(t,e).encode(u)}function SY(t,e,r,n,i=!1){const o=(function(l,c,u,f=!1){const h=Di.size.encode(l);let p=new Vo(h+2);const y=new Vo(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);p=p.embed(0,y).embed({x:-y.width,y:0},y).embed({x:0,y:-y.height},y),p=p.rectSlice(1,h);const m=new Vo(1).rect(0,1,!0).border(1,!1).border(1,!0),v=Di.alignmentPatterns(l);for(const w of v)for(const A of v)p.data[w][A]===void 0&&p.embed({x:A-2,y:w-2},m);p=p.hLine({x:0,y:6},1/0,(({x:w},A)=>A===void 0?w%2==0:A)).vLine({x:6,y:0},1/0,(({y:w},A)=>A===void 0?w%2==0:A));{const w=Di.formatBits(c,u),A=_=>!f&&(w>>_&1)==1;for(let _=0;_<6;_++)p.data[_][8]=A(_);for(let _=6;_<8;_++)p.data[_+1][8]=A(_);for(let _=8;_<15;_++)p.data[h-15+_][8]=A(_);for(let _=0;_<8;_++)p.data[8][h-_-1]=A(_);for(let _=8;_<9;_++)p.data[8][15-_-1+1]=A(_);for(let _=9;_<15;_++)p.data[8][15-_-1]=A(_);p.data[h-8][8]=!f}if(l>=7){const w=Di.versionBits(l);for(let A=0;A<18;A+=1){const _=!f&&(w>>A&1)==1,D=Math.floor(A/3),P=A%3+h-8-3;p.data[D][P]=_,p.data[P][D]=_}}return p})(t,e,n,i);let a=0;const s=8*r.length;if((function(l,c,u){const f=l.height,h=gM[c];let p=-1,y=f-1;for(let m=f-1;m>0;m-=2){for(m==6&&(m=5);;y+=p){for(let v=0;v<2;v+=1){const w=m-v;l.data[y][w]===void 0&&u(w,y,h(w,y))}if(y+p<0||y+p>=f)break}p=-p}})(o,n,((l,c,u)=>{let f=!1;a<s&&(f=(r[a>>>3]>>(7-a&7)&1)!=0,a++),o.data[c][l]=f!==u})),a!==s)throw new Error("QR: bytes left after draw");return o}function RNe(t){const e=t.inverse(),r=p=>{let y=0;for(let m,v=0,w=1;v<p.length;v++)m===p[v]&&(w++,v!==p.length-1)||(w>=5&&(y+=w-5+3),m=p[v],w=1);return y};let n=0;t.data.forEach((p=>n+=r(p))),e.data.forEach((p=>n+=r(p)));let i=0,o=t.data;const a=t.width-1,s=t.height-1;for(let p=0;p<a;p++)for(let y=0;y<s;y++){const m=p+1,v=y+1;o[p][y]===o[m][y]&&o[m][y]===o[p][v]&&o[m][y]===o[m][v]&&(i+=3)}const l=p=>{const y=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],v=[...y,...m],w=[...m,...y];let A=0;for(let _=0;_<p.length;_++)vY(p,v,_)&&(A+=40),vY(p,w,_)&&(A+=40);return A};let c=0;for(const p of t.data)c+=l(p);for(const p of e.data)c+=l(p);let u=0;t.rectRead(0,1/0,((p,y)=>u+=y?1:0));const f=u/(t.height*t.width)*100,h=10*Math.floor(Math.abs(f-50)/5);return n+i+c+h}function Boe(t,e="raw",r={}){const n=r.ecc!==void 0?r.ecc:"medium";(function(u){if(!bY.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${bY}`)})(n);const i=r.encoding!==void 0?r.encoding:(function(u){let f="numeric";for(let h of u)if(!Di.alphabet.numeric.has(h)&&(f="alphanumeric",!Di.alphabet.alphanumerc.has(h)))return"byte";return f})(t);(function(u){if(!xY.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${xY}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),r.mask!==void 0&&(function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!gM[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)})(r.mask);let o,a=r.version,s=new Error("Unknown error");if(a!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(a),o=EY(a,n,t,i);else for(let u=1;u<=40;u++)try{o=EY(u,n,t,i),a=u;break}catch(f){s=f}if(!a||!o)throw s;let l=(function(u,f,h,p){if(p===void 0){const y=(function(){let m,v=1/0;return{add(w,A){w>=v||(m=A,v=w)},get:()=>m,score:()=>v}})();for(let m=0;m<gM.length;m++)y.add(RNe(SY(u,f,h,m,!0)),m);p=y.get()}if(p===void 0)throw new Error("Cannot find mask");return SY(u,f,h,p)})(a,n,o,r.mask);l.assertDrawn();const c=r.border===void 0?2:r.border;if(!Number.isSafeInteger(c))throw new Error("Wrong border type="+typeof c);if(l=l.border(c,!1),r.scale!==void 0&&(l=l.scale(r.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG();if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}const E6={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class q9{constructor(e){var r;this.translations=E6,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(r=e==null?void 0:e.baseUrl)!==null&&r!==void 0?r:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some((r=>r.toLowerCase().startsWith("en"))))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const r=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(r)}async loadTranslations(e){const r=e.split("-")[0];if(r!=="en"&&this.supportedLocales.includes(r))try{const n=`${this.baseUrl}/${r}.json`,i=await fetch(n);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(n){console.warn(` Failed to load ${r} translations, falling back to English:`,n),this.translations=E6}else this.translations=E6}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,r){const n=e.split(".");let i=r;for(const o of n){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var vv;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(vv||(vv={}));const joe=class{constructor(t){M9(this,t),this.close=Mf(this,"close"),this.startDesktopOnboarding=Mf(this,"startDesktopOnboarding"),this.trackAnalytics=Mf(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new q9}componentDidLoad(){this.trackAnalytics.emit({event:vv.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:vv.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:vv.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=n=>this.i18nInstance.t(n),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=Boe(this.link,"svg",{ecc:"medium",scale:2});return Ue($9,{className:"install-model"},Ue("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Ue("div",{class:"modal"},Ue("div",{class:"closeButtonContainer"},Ue("div",{class:"right"},Ue("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Ue(U9,null)))),Ue("div",{class:"logoContainer"},Ue(H9,null)),Ue("div",null,Ue("div",{class:"tabcontainer"},Ue("div",{class:"flexContainer"},Ue("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),Ue("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),Ue("div",{style:{display:e===1?"none":"block"}},Ue("div",{class:"flexContainer"},Ue("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},r&&Ue("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:r}),Ue("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",Ue("br",null),Ue("span",{class:"blue"},Ue("b",null,t("META_MASK_MOBILE_APP"))))))),Ue("div",{style:{display:e===2?"none":"block"}},Ue("div",{class:"item"},Ue(x6,{Icon:ONe,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),Ue("div",{class:"item"},Ue(x6,{Icon:CNe,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Ue("div",{class:"item"},Ue(x6,{Icon:INe,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Ue("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Ue(PNe,null),Ue("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Ue(F9,{version:this.sdkVersion})))}get el(){return p_(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};joe.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const $oe=class{constructor(t){M9(this,t),this.close=Mf(this,"close"),this.disconnect=Mf(this,"disconnect"),this.updateOTPValue=Mf(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new q9}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,r=this.sdkVersion,n=i=>this.i18nInstance.t(i);return Ue($9,{className:"pending-modal"},Ue("div",{class:"backdrop",onClick:()=>this.onClose()}),Ue("div",{class:"modal"},Ue("div",{class:"closeButtonContainer"},Ue("div",{class:"right"},Ue("span",{class:"closeButton",onClick:()=>this.onClose()},Ue(U9,null)))),Ue("div",{class:"logoContainer"},Ue(H9,null)),Ue("div",null,Ue("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Ue("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},n(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Ue("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&Ue("div",{class:"notice"},"* ",n("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Ue("div",{style:{marginTop:"20px"}},Ue("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},n("PENDING_MODAL.DISCONNECT")))),Ue(F9,{version:r})))}get el(){return p_(this)}};$oe.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const LNe=()=>Ue("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),DNe=()=>Ue("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue("rect",{width:"400",height:"300",fill:"white"}),Ue("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Ue("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Ue("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Ue("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Ue("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Ue("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Ue("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Ue("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Ue("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Ue("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Ue("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Ue("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Ue("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Ue("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Ue("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Ue("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Ue("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Ue("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Ue("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Ue("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Ue("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Ue("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),Foe=class{constructor(t){M9(this,t),this.close=Mf(this,"close"),this.connectWithExtension=Mf(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new q9,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,r=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=Boe(this.link,"svg",{ecc:"medium",scale:2});return Ue($9,{className:"select-modal"},Ue("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Ue("div",{class:"modal"},Ue("div",{class:"closeButtonContainer"},Ue("div",{class:"right"},Ue("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Ue(U9,null)))),Ue("div",{class:"logoContainer"},Ue(H9,null)),Ue("div",null,Ue("div",{class:"tabcontainer"},Ue("div",{class:"flexContainer"},Ue("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(r===1?"tabactive":"")},t("DESKTOP")),Ue("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(r===2?"tabactive":"")},t("MOBILE")))),Ue("div",{style:{display:r===1?"none":"block"}},Ue("div",{class:"flexContainer"},Ue("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Ue("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:n}),Ue("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),Ue("br",null),Ue("span",{class:"blue"},Ue("b",null,t("META_MASK_MOBILE_APP"))))))),Ue("div",{style:{display:r===2?"none":"block"}},Ue("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Ue(DNe,null)),Ue("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Ue("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Ue(LNe,null),Ue("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),Ue(F9,{version:e})))}get el(){return p_(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};Foe.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var BNe=Object.freeze({__proto__:null,mm_install_modal:joe,mm_pending_modal:$oe,mm_select_modal:Foe});class jNe extends zre{async init(e){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw Mt.notConnectedError();if(!this.coreOptions)throw dt.invalidParams("Please initialize Web3Auth with valid options");this.status=vt.AUTHORIZING,this.emit(yt.AUTHORIZING,{connector:this.name});const e=await this.provider.request({method:rV.GET_ACCOUNTS});if(e&&e.length>0){const r=p6e(e[0],this.name);if(r&&!h6e(r))return this.status=vt.AUTHORIZED,this.emit(yt.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:r}}),{idToken:r};const n=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(f=>f.chainId===n);if(!i)throw dt.invalidParams("chainConfig is required before authentication");const{chainNamespace:o}=i,a={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await XPe(a,o),l=`0x${Buffer.from(s,"utf8").toString("hex")}`,c=await this.provider.request({method:rV.PERSONAL_SIGN,params:[l,e[0]]}),u=await ZPe(o,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return g6e(e[0],this.name,u),this.status=vt.AUTHORIZED,this.emit(yt.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:u}}),{idToken:u}}throw Mt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&m6e(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(yt.DISCONNECTED)}}class $Ne extends jNe{constructor(e){super(e),Pe(this,"connectorNamespace",kf.EIP155),Pe(this,"currentChainNamespace",tr.EIP155),Pe(this,"type",jl.EXTERNAL),Pe(this,"name",mt.METAMASK),Pe(this,"status",vt.NOT_READY),Pe(this,"metamaskProvider",null),Pe(this,"metamaskSDK",null),Pe(this,"metamaskOptions",void 0),Pe(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==vt.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){await super.init(e);const r=this.coreOptions.chains.find(s=>s.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});const n=await o6e(window),i={name:i6e(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:n??void 0},o=Br(this.metamaskOptions||{},{dappMetadata:i});this.metamaskSDK=new QMe(be(be({},o),{},{_source:"web3auth",preferDesktop:!0}));const a=await this.metamaskSDK.init();a&&(this.metamaskSDK=a),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=vt.READY,this.emit(yt.READY,mt.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,Mt.connectionError("Failed to rehydrate.")}catch(s){this.emit(yt.REHYDRATION_ERROR,s)}}async connect({chainId:e,getIdentityToken:r}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw Mt.notConnectedError("Connector is not initialized");const n=this.coreOptions.chains.find(h=>h.chainId===e);if(!n)throw Mt.connectionError("Chain config is not available");const i=!this.isInjected&&!this.rehydrated,o=Date.now(),a={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:i0(n),chain_name:n==null?void 0:n.displayName,chain_namespace:n==null?void 0:n.chainNamespace};try{if(this.status!==vt.CONNECTING){var s;this.status=vt.CONNECTING,this.emit(yt.CONNECTING,{connector:mt.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(s=this.metamaskOptions)!==null&&s!==void 0&&s.headless&&this.metamaskSDK.getProvider().on("display_uri",m=>{this.updateConnectorData({uri:m})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw Mt.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);const p=m=>{m.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",p),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=vt.CONNECTED,i){var l,c;(l=this.analytics)===null||l===void 0||l.track(Cr.CONNECTION_STARTED,a),(c=this.analytics)===null||c===void 0||c.track(Cr.CONNECTION_COMPLETED,be(be({},a),{},{duration:Date.now()-o}))}let y;return this.emit(yt.CONNECTED,{connector:mt.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider,identityTokenInfo:y}),r&&(y=await this.getIdentityToken()),this.metamaskProvider}catch(h){if(this.status=vt.READY,this.rehydrated||this.emit(yt.ERRORED,h),this.rehydrated=!1,i){var u,f;(u=this.analytics)===null||u===void 0||u.track(Cr.CONNECTION_STARTED,a),(f=this.analytics)===null||f===void 0||f.track(Cr.CONNECTION_FAILED,be(be(be({},a),FPe(h)),{},{duration:Date.now()-o}))}throw h instanceof ws?h:Mt.connectionError("Failed to login with MetaMask wallet",h)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw Mt.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=vt.NOT_READY,this.metamaskProvider=null):this.status=vt.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw Mt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,r=!1){super.checkSwitchChainRequirements(e,r);const n=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await n()}catch(i){if((i==null?void 0:i.code)===4902){const o=this.coreOptions.chains.find(a=>a.chainId===e.chainId&&[tr.EIP155].includes(a.chainNamespace));await this.addChain(o),await n()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw Mt.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const FNe=t=>({coreOptions:e,analytics:r})=>new $Ne({connectorSettings:t,coreOptions:e,analytics:r}),UNe=["walletScope"];class HNe extends pm{constructor(e,r){if(super(),Pe(this,"coreOptions",void 0),Pe(this,"status",vt.NOT_READY),Pe(this,"aaProvider",null),Pe(this,"connectors",[]),Pe(this,"commonJRPCProvider",null),Pe(this,"analytics",void 0),Pe(this,"plugins",{}),Pe(this,"storage",void 0),Pe(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),Pe(this,"loginMode",uw.NO_MODAL),!e.clientId)throw dt.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?st.enableAll():st.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new qTe,this.analytics.setGlobalProperties({integration_type:zTe.NATIVE_SDK}),this.loadState(r),this.state.idToken&&this.coreOptions.ssr&&(this.status=this.coreOptions.initialAuthenticationMode===Pf.CONNECT_AND_SIGN?vt.AUTHORIZED:vt.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(r=>r.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==vt.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}get idToken(){return this.state.idToken||null}set provider(e){throw new Error("Not implemented")}async init(e){const r=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:jre.WEB_NO_MODAL,sdk_version:Ure,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let n={};try{var i,o;const{signal:s}=e||{};let l;try{var a;l=await $re({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(a=this.coreOptions.accountAbstractionConfig)===null||a===void 0?void 0:a.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){const f=await kR(u);throw st.error("Failed to fetch project configurations",f),dt.notReady("failed to fetch project configurations",f)}this.initAccountAbstractionConfig(l),this.initChainsConfig(l),this.initCachedConnectorAndChainId(),this.initUIConfig(l),this.initWalletServicesConfig(l),this.initSessionTimeConfig(l),this.analytics.setGlobalProperties({team_id:l.teamId}),n=this.getInitializationTrackData(),await oc(()=>this.setupCommonJRPCProvider(),s),this.on(yt.CONNECTORS_UPDATED,async({connectors:u})=>{await oc(()=>Promise.all(u.map(this.setupConnector.bind(this))),s,()=>{var h;((h=this.connectors)===null||h===void 0?void 0:h.length)>0&&this.cleanup()}),this.status===vt.NOT_READY&&(this.status=vt.READY,this.emit(yt.READY))}),await oc(()=>this.loadConnectors({projectConfig:l}),s),await oc(()=>this.initPlugins(),s);const c=this.getConnector(mt.AUTH);n=be(be({},n),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(c==null||(i=c.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Cr.SDK_INITIALIZATION_COMPLETED,be(be({},n),{},{duration:Date.now()-r}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Cr.SDK_INITIALIZATION_FAILED,be(be(be({},n),Vp(s)),{},{duration:Date.now()-r})),st.error("Failed to initialize modal",s),s}}getConnector(e,r){return this.connectors.find(n=>n.name!==e?!1:r?n.connectorNamespace===kf.MULTICHAIN?!0:n.connectorNamespace===r:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var r;if(e.chainId===((r=this.currentChain)===null||r===void 0?void 0:r.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw dt.invalidParams("Invalid chainId");if(fc.includes(this.status)&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw dt.notReady("No wallet is ready")}async connectTo(e,r,n){this.loginMode=n||"no-modal";const i=this.getConnector(e,r==null?void 0:r.chainNamespace);if(!i||!this.commonJRPCProvider)throw dt.notFound(`Please add wallet connector for ${e} wallet, before connecting`);const o=this.getInitialChainIdForConnector(i),a=be(be({},r),{},{chainId:o.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===Pf.CONNECT_AND_SIGN}),s=Date.now();let l;if(e===mt.AUTH){var c;const u=r,f=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});l={connector:e,connector_type:i.type,chain_id:i0(o),chain_name:o.displayName,chain_namespace:o.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:f==null?void 0:f.isDefault,auth_ux_mode:(c=i.authInstance)===null||c===void 0||(c=c.options)===null||c===void 0?void 0:c.uxMode}}else l={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:i0(o),chain_name:o.displayName,chain_namespace:o.chainNamespace};return this.analytics.track(Cr.CONNECTION_STARTED,l),new Promise((u,f)=>{let h=!1,p=!1;const y=()=>{this.removeListener(yt.CONNECTED,w),this.removeListener(yt.ERRORED,_),this.removeListener(yt.AUTHORIZED,A)},m=async()=>{a.getIdentityToken?h&&p&&await v():h&&await v()},v=async()=>{try{const D=await i.getUserInfo();this.analytics.track(Cr.CONNECTION_COMPLETED,be(be({},l),{},{is_mfa_enabled:D==null?void 0:D.isMfaEnabled,duration:Date.now()-s})),y(),u(this.provider)}catch(D){y(),f(D)}},w=async()=>{h=!0,await m()},A=async()=>{p=!0,await m()},_=async D=>{this.analytics.track(Cr.CONNECTION_FAILED,be(be(be({},l),Vp(D)),{},{duration:Date.now()-s})),y(),f(D)};this.once(yt.CONNECTED,w),a.getIdentityToken&&this.once(yt.AUTHORIZED,A),this.once(yt.ERRORED,_),i.connect(a),this.setCurrentChain(o.chainId)})}async logout(e={cleanup:!1}){if(!fc.includes(this.status)||!this.connectedConnector)throw Mt.notConnectedError("No wallet is connected");this.connectedConnector.status!==vt.DISCONNECTING&&await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(st.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),!t3.includes(this.status)||!this.connectedConnector)throw Mt.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var r;if(!fc.includes(this.status)||!this.connectedConnector)throw Mt.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==mt.AUTH)throw Mt.unsupportedOperation("EnableMFA is not supported for this connector.");const n=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(r=n.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode};try{this.analytics.track(Cr.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(o){throw this.analytics.track(Cr.MFA_ENABLEMENT_FAILED,be(be({},i),Vp(o))),o}}async manageMFA(e){var r;if(!fc.includes(this.status)||!this.connectedConnector)throw Mt.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==mt.AUTH)throw Mt.unsupportedOperation("ManageMFA is not supported for this connector.");const n=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(r=n.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode};try{this.analytics.track(Cr.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(o){throw this.analytics.track(Cr.MFA_MANAGEMENT_FAILED,be(be({},i),Vp(o))),o}}async getIdentityToken(){if(!t3.includes(this.status)||!this.connectedConnector)throw Mt.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(Cr.IDENTITY_TOKEN_STARTED,e);const r=await this.connectedConnector.getIdentityToken();return this.analytics.track(Cr.IDENTITY_TOKEN_COMPLETED,e),r}catch(r){throw this.analytics.track(Cr.IDENTITY_TOKEN_FAILED,be(be({},e),Vp(r))),r}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const r=new Map,n=[...e.chains||[],...this.coreOptions.chains||[]];for(const a of n){const s=r.get(a.chainId);s?r.set(a.chainId,be(be({},s),a)):r.set(a.chainId,a)}if(this.coreOptions.chains=Array.from(r.values()),this.coreOptions.chains.length===0)throw st.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),dt.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values(tr));for(const a of this.coreOptions.chains){if(!a.chainNamespace||!i.has(a.chainNamespace))throw st.error(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`),dt.invalidParams(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`);if(a.chainNamespace!==tr.OTHER&&!PT(a.chainId))throw st.error(`Please provide a valid chainId in chains for chain ${a.chainId}`),dt.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${a.chainId}`);if(a.chainNamespace!==tr.OTHER)try{new URL(a.rpcTarget)}catch(s){throw st.error(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`,s),dt.invalidParams(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw st.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),dt.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const a of this.coreOptions.accountAbstractionConfig.chains){if(!PT(a.chainId))throw st.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`),dt.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`);try{var o;new URL((o=a.bundlerConfig)===null||o===void 0?void 0:o.url)}catch(s){throw st.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`,s),dt.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`)}if(!r.has(a.chainId))throw st.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`),dt.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`)}}}initAccountAbstractionConfig(e){var r;if(!!!(this.coreOptions.accountAbstractionConfig||e!=null&&e.smartAccounts))return;const i=(e==null?void 0:e.smartAccounts)||{},{walletScope:o}=i,a=vR(i,UNe),s=new Map,l=[...(a==null?void 0:a.chains)||[],...((r=this.coreOptions.accountAbstractionConfig)===null||r===void 0?void 0:r.chains)||[]];for(const c of l){const u=s.get(c.chainId);u?s.set(c.chainId,be(be({},u),c)):s.set(c.chainId,c)}this.coreOptions.accountAbstractionConfig=be(be({},Br(a||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=o===eke.ALL)}initUIConfig(e){this.coreOptions.uiConfig=Br.all([{mode:"light",uxMode:ki.POPUP},sIe(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initSessionTimeConfig(e){this.coreOptions.sessionTime||e.sessionTime&&(this.coreOptions.sessionTime=e.sessionTime)}initCachedConnectorAndChainId(){const e=this.state.currentChainId,r=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!PT(this.coreOptions.defaultChainId))throw dt.invalidParams("Please provide a valid defaultChainId in constructor");const n=r?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:n})}initWalletServicesConfig(e){var r,n,i,o,a,s;const{enableKeyExport:l,walletUi:c}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:f=!0,enableNftDisplay:h=!0,enableWalletConnect:p=!0,enableBuyButton:y=!0,enableSendButton:m=!0,enableSwapButton:v=!0,enableReceiveButton:w=!0,enableShowAllTokensButton:A=!0,enableConfirmationModal:_=!1,enableDefiPositionsDisplay:D=!0,portfolioWidgetPosition:P=DPe.BOTTOM_LEFT,defaultPortfolio:U="token"}=c||{},F={showWidgetButton:u,hideNftDisplay:!h,hideTokenDisplay:!f,hideTransfers:!m,hideTopup:!y,hideReceive:!w,hideSwap:!v,hideShowAllTokens:!A,hideWalletConnect:!p,hideDefiPositionsDisplay:!D,buttonPosition:P,defaultPortfolio:U},N=Br.all([F,((r=this.coreOptions.walletServicesConfig)===null||r===void 0?void 0:r.whiteLabel)||{}]),L=(n=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&n!==void 0?n:_?xK.MODAL:xK.AUTO_APPROVE,B=(o=(a=(s=this.coreOptions.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&a!==void 0?a:l)!==null&&o!==void 0?o:!0;this.coreOptions.walletServicesConfig=be(be({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:L,whiteLabel:N,enableKeyExport:B})}getInitializationTrackData(){try{var e,r,n,i,o;const a=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(l=>l.chainId===this.coreOptions.defaultChainId),s=Array.from(new Set((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(l=>B8(l.rpcTarget)))).filter(Boolean);return be(be(be({chain_ids:(n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(l=>i0(l)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(l=>l.displayName),chain_rpc_targets:s,default_chain_id:a?i0(a):void 0,default_chain_name:a==null?void 0:a.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},Fre(this.coreOptions.uiConfig)),VTe(this.coreOptions.accountAbstractionConfig)),GTe(this.coreOptions.walletServicesConfig))}catch(a){return st.error("Failed to get initialization track data",a),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await i9.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const r=this.getInitialChainIdForConnector(e),n=this.checkIfAutoConnect(e);await e.init({autoConnect:n,chainId:r.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===Pf.CONNECT_AND_SIGN})}catch(r){st.error(r,e.name)}}async loadConnectors({projectConfig:e,modalMode:r}){var n;const i=[...this.coreOptions.connectors||[],c6e()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},a=!!e.externalWalletAuth,s=a&&((n=this.coreOptions.multiInjectedProviderDiscovery)!==null&&n!==void 0?n:!0),l=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(kT()&&l.has(tr.EIP155)&&i.push(FNe(r?{headless:!0}:void 0)),s&&kT()){if(l.has(tr.SOLANA)){const{createSolanaMipd:u,hasSolanaWalletStandardFeatures:f,walletStandardConnector:h}=await Rr(async()=>{const{createSolanaMipd:y,hasSolanaWalletStandardFeatures:m,walletStandardConnector:v}=await import("./index-Bu65bykP.js");return{createSolanaMipd:y,hasSolanaWalletStandardFeatures:m,walletStandardConnector:v}},__vite__mapDeps([3,4,5,6])),p=u();p.on("register",async(...y)=>{const m=y.filter(f).map(v=>h(v)(o));this.setConnectors(m)}),i.push(...p.get().filter(y=>f(y)).map(h))}if(l.has(tr.EIP155)){const{createMipd:u,injectedEvmConnector:f}=await Rr(async()=>{const{createMipd:p,injectedEvmConnector:y}=await import("./index-BQhWQ6u8.js");return{createMipd:p,injectedEvmConnector:y}},[]),h=u();h.subscribe(p=>{const y=p.map(m=>f(m)(o));this.setConnectors(y)}),i.push(...h.getProviders().map(f))}}if(kT()&&a&&(l.has(tr.SOLANA)||l.has(tr.EIP155))){const{walletConnectV2Connector:u}=await Rr(async()=>{const{walletConnectV2Connector:f}=await import("./index-Byi7oW2l.js");return{walletConnectV2Connector:f}},__vite__mapDeps([7,4,6]));i.push(u())}const c=i.map(u=>u(o));this.setConnectors(c)}async initPlugins(){const{chains:e,plugins:r}=this.coreOptions,n=r||[];e.some(o=>o.chainNamespace===tr.EIP155||o.chainNamespace===tr.SOLANA)&&n.push(d6e());for(const o of n){const a=o();this.plugins[a.name]||(this.plugins[a.name]=a)}}setConnectors(e){const r=o=>`${o.connectorNamespace}-${o.name}`,n=new Set(this.connectors.map(r)),i=e.map(o=>{const a=r(o);return n.has(a)?null:(n.add(a),o)}).filter(o=>o!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(yt.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(yt.CONNECTED,async r=>{var n,i;if(!this.commonJRPCProvider)throw dt.notFound("CommonJrpcProvider not found");const{provider:o,identityTokenInfo:a}=r;if(a&&this.setState({idToken:a.idToken}),this.coreOptions.ssr)try{const f=await e.getIdentityToken();if(!f.idToken)throw Mt.connectionError("No idToken found");this.setState({idToken:f.idToken})}catch(f){st.error(f),this.status=vt.ERRORED,this.emit(yt.ERRORED,f,this.loginMode);return}let s=o.provider||o;const{accountAbstractionConfig:l}=this.coreOptions;if(((n=this.currentChain)===null||n===void 0?void 0:n.chainNamespace)===tr.EIP155&&(l==null||(i=l.chains)===null||i===void 0?void 0:i.some(f=>{var h;return f.chainId===((h=this.currentChain)===null||h===void 0?void 0:h.chainId)}))&&(r.connector===mt.AUTH||this.coreOptions.useAAWithExternalWallet)){var u;const{accountAbstractionProvider:f,toEoaProvider:h}=await Rr(async()=>{const{accountAbstractionProvider:v,toEoaProvider:w}=await import("./index-89lyly64.js").then(A=>A.h);return{accountAbstractionProvider:v,toEoaProvider:w}},__vite__mapDeps([8,5,4])),p=r.connector===mt.AUTH?await h(o):o,y=new Set((l==null||(u=l.chains)===null||u===void 0?void 0:u.map(v=>v.chainId))||[]),m=await f({accountAbstractionConfig:l,provider:p,chain:this.currentChain,chains:this.coreOptions.chains.filter(v=>y.has(v.chainId)),useProviderAsTransport:r.connector===mt.AUTH});this.aaProvider=m,r.connector!==mt.AUTH&&this.coreOptions.useAAWithExternalWallet&&(s=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(s),this.setState({connectedConnectorName:r.connector}),this.cacheWallet(r.connector),this.status=vt.CONNECTED,st.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(be(be({},r),{},{connector:r.connector})),this.emit(yt.CONNECTED,be(be({},r),{},{loginMode:this.loginMode}))}),e.on(yt.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=vt.READY;const r=this.state.cachedConnector;this.connectedConnectorName===r&&this.clearCache(),st.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async n=>{if(n.SUPPORTED_CONNECTORS.includes(e.name)&&n.status===Hs.CONNECTED)return n.disconnect().catch(i=>{i.code!==5211&&st.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(yt.DISCONNECTED)}),e.on(yt.CONNECTING,r=>{this.status=vt.CONNECTING,this.emit(yt.CONNECTING,r),st.debug("connecting",this.status,this.connectedConnectorName)}),e.on(yt.ERRORED,r=>{this.status=vt.ERRORED,this.clearCache(),this.emit(yt.ERRORED,r,this.loginMode),st.debug("errored",this.status,this.connectedConnectorName)}),e.on(yt.REHYDRATION_ERROR,r=>{this.status=vt.READY,this.clearCache(),this.emit(yt.REHYDRATION_ERROR,r)}),e.on(yt.CONNECTOR_DATA_UPDATED,r=>{st.debug("connector data updated",r),this.emit(yt.CONNECTOR_DATA_UPDATED,r)}),e.on(yt.CACHE_CLEAR,r=>{st.debug("connector cache clear",r),this.clearCache()}),e.on(yt.MFA_ENABLED,r=>{var n;st.debug("mfa enabled",r);const i=this.connectedConnector;this.analytics.track(Cr.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(n=i.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode,is_mfa_enabled:r}),this.emit(yt.MFA_ENABLED,r)}),e.on(yt.AUTHORIZING,r=>{this.status=vt.AUTHORIZING,this.emit(yt.AUTHORIZING,r),st.debug("authorizing",this.status,this.connectedConnectorName)}),e.on(yt.AUTHORIZED,r=>{this.status=vt.AUTHORIZED,this.setState({idToken:r.identityTokenInfo.idToken}),this.emit(yt.AUTHORIZED,r),st.debug("authorized",this.status,this.connectedConnectorName)})}checkInitRequirements(){if(this.status===vt.READY)throw dt.notReady("Connector is already initialized")}checkIfAutoConnect(e){var r;let n=this.cachedConnector===e.name;return n&&(r=this.currentChain)!==null&&r!==void 0&&r.chainNamespace&&(e.connectorNamespace===kf.MULTICHAIN?n=!0:n=e.connectorNamespace===this.currentChain.chainNamespace),n}getInitialChainIdForConnector(e){var r;let n=this.currentChain;if(((r=n)===null||r===void 0?void 0:r.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==kf.MULTICHAIN&&(n=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!n))throw dt.invalidParams(`No chain found for ${e.connectorNamespace}`);return n}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(n=>n.chainId===e))throw dt.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async r=>{try{var n;if(!r.SUPPORTED_CONNECTORS.includes(e.connector)||r.pluginNamespace!==Wre.MULTICHAIN&&r.pluginNamespace!==((n=this.currentChain)===null||n===void 0?void 0:n.chainNamespace)||r.status===Hs.CONNECTED)return;await r.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await r.connect()}catch(i){if(i.code===5211)return;st.error(i)}})}setState(e){this.state=be(be({},this.state),e),this.storage.setItem(AK,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}const r=this.storage.getItem(AK);r&&(this.state=nke(r))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?ike({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&dw("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&dw("localStorage")?window.localStorage:new zte}}const qNe="6.16.0";function zNe(t,e,r){const n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Wi(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,o)=>(n[e[o]]=i,n),{})}function Bt(t,e,r){for(let n in e){let i=e[n];const o=r?r[n]:null;o&&zNe(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function d0(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>d0(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return d0(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${d0(n,e)}: ${d0(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function hi(t,e){return t&&t.code===e}function z9(t){return hi(t,"CALL_EXCEPTION")}function sn(t,e,r){let n=t;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${d0(r)}`);for(const a in r){if(a==="shortMessage")continue;const s=r[a];o.push(a+"="+d0(s))}}o.push(`code=${e}`),o.push(`version=${qNe}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Bt(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Bt(i,{shortMessage:n}),i}function Ge(t,e,r,n){if(!t)throw sn(e,r,n)}function Ae(t,e,r,n){Ge(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Uoe(t,e,r){r==null&&(r=""),r&&(r=": "+r),Ge(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ge(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function xb(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),Ge(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Hoe(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<n.length;o++)n[o]=parseInt(t.substring(i,i+2),16),i+=2;return n}Ae(!1,"invalid BytesLike value",e||"value",t)}function rr(t,e){return Hoe(t,e,!1)}function Gi(t,e){return Hoe(t,e,!0)}function Zr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function W9(t){return Zr(t,!0)||t instanceof Uint8Array}const _Y="0123456789abcdef";function ht(t){const e=rr(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=_Y[(i&240)>>4]+_Y[i&15]}return r}function cn(t){return"0x"+t.map(e=>ht(e).substring(2)).join("")}function k0(t){return Zr(t,!0)?(t.length-2)/2:rr(t).length}function bn(t,e,r){const n=rr(t);return r!=null&&r>n.length&&Ge(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ht(n.slice(e??0,r??n.length))}function qoe(t,e,r){const n=rr(t);Ge(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),ht(i)}function Mc(t,e){return qoe(t,e,!0)}function WNe(t,e){return qoe(t,e,!1)}const Eb=BigInt(0),ms=BigInt(1),h0=9007199254740991;function I3(t,e){const r=g_(t,"value"),n=BigInt(Qt(e,"width"));if(Ge(r>>n===Eb,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-ms){const i=(ms<<n)-ms;return-((~r&i)+ms)}return r}function zoe(t,e){let r=xt(t,"value");const n=BigInt(Qt(e,"width")),i=ms<<n-ms;if(r<Eb){r=-r,Ge(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(ms<<n)-ms;return(~r&o)+ms}else Ge(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Qd(t,e){const r=g_(t,"value"),n=BigInt(Qt(e,"bits"));return r&(ms<<n)-ms}function xt(t,e){switch(typeof t){case"bigint":return t;case"number":return Ae(Number.isInteger(t),"underflow",e||"value",t),Ae(t>=-h0&&t<=h0,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){Ae(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}Ae(!1,"invalid BigNumberish value",e||"value",t)}function g_(t,e){const r=xt(t,e);return Ge(r>=Eb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const AY="0123456789abcdef";function m_(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=AY[r>>4],e+=AY[r&15];return BigInt(e)}return xt(t)}function Qt(t,e){switch(typeof t){case"bigint":return Ae(t>=-h0&&t<=h0,"overflow",e||"value",t),Number(t);case"number":return Ae(Number.isInteger(t),"underflow",e||"value",t),Ae(t>=-h0&&t<=h0,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Qt(BigInt(t),e)}catch(r){Ae(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}Ae(!1,"invalid numeric value",e||"value",t)}function KNe(t){return Qt(m_(t))}function $f(t,e){const r=g_(t,"value");let n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Qt(e,"width");if(i===0&&r===Eb)return"0x";for(Ge(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Nn(t,e){const r=g_(t,"value");if(r===Eb)return new Uint8Array(0);let n=r.toString(16);n.length%2&&(n="0"+n);const i=new Uint8Array(n.length/2);for(let o=0;o<i.length;o++){const a=o*2;i[o]=parseInt(n.substring(a,a+2),16)}return i}function ds(t){let e=ht(W9(t)?t:Nn(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const CY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const OY=BigInt(58);function VNe(t){const e=rr(t);let r=m_(e),n="";for(;r;)n=CY[Number(r%OY)]+n,r/=OY;for(let i=0;i<e.length&&!e[i];i++)n=CY[0]+n;return n}function GNe(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return rr(e)}function YNe(t){const e=rr(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var L0;class Woe{constructor(e,r,n){Te(this,"filter");Te(this,"emitter");$e(this,L0);ge(this,L0,r),Bt(this,{emitter:e,filter:n})}async removeListener(){ee(this,L0)!=null&&await this.emitter.off(this.filter,ee(this,L0))}}L0=new WeakMap;function JNe(t,e,r,n,i){Ae(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Koe(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t==="OVERRUN"?r.length-e-1:0}function QNe(t,e,r,n,i){return t==="OVERLONG"?(Ae(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Koe(t,e,r))}const XNe=Object.freeze({error:JNe,ignore:Koe,replace:QNe});function ZNe(t,e){e==null&&(e=XNe.error);const r=rr(t,"bytes"),n=[];let i=0;for(;i<r.length;){const o=r[i++];if(o>>7===0){n.push(o);continue}let a=null,s=null;if((o&224)===192)a=1,s=127;else if((o&240)===224)a=2,s=2047;else if((o&248)===240)a=3,s=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let l=o&(1<<8-a-1)-1;for(let c=0;c<a;c++){let u=r[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-a,r,n,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-a,r,n,l);continue}if(l<=s){i+=e("OVERLONG",i-1-a,r,n,l);continue}n.push(l)}}return n}function Ec(t,e){Ae(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=t.charCodeAt(n);Ae(n<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function eRe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function P3(t,e){return eRe(ZNe(t,e))}function Voe(t){async function e(r,n){Ge(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();Ge(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Ge(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const a=new AbortController,s=setTimeout(()=>{o=sn("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{o=sn("request cancelled","CANCELLED"),a.abort()});const l=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal});let c;try{c=await fetch(r.url,l)}catch(p){throw clearTimeout(s),o||p}clearTimeout(s);const u={};c.headers.forEach((p,y)=>{u[y.toLowerCase()]=p});const f=await c.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:h}}return e}const tRe=12,rRe=250;let IY=Voe();const nRe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),iRe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let S6=!1;async function Goe(t,e){try{const r=t.match(nRe);if(!r)throw new Error("invalid data");return new Nf(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?GNe(r[3]):aRe(r[3]))}catch{return new Nf(599,"BAD REQUEST (invalid data: URI)",{},null,new Ff(t))}}function Yoe(t){async function e(r,n){try{const i=r.match(iRe);if(!i)throw new Error("invalid link");return new Ff(`${t}${i[2]}`)}catch{return new Nf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ff(r))}}return e}const Kx={data:Goe,ipfs:Yoe("https://gateway.ipfs.io/ipfs/")},Joe=new WeakMap;var rh,Xu;class oRe{constructor(e){$e(this,rh);$e(this,Xu);ge(this,rh,[]),ge(this,Xu,!1),Joe.set(e,()=>{if(!ee(this,Xu)){ge(this,Xu,!0);for(const r of ee(this,rh))setTimeout(()=>{r()},0);ge(this,rh,[])}})}addListener(e){Ge(!ee(this,Xu),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),ee(this,rh).push(e)}get cancelled(){return ee(this,Xu)}checkSignal(){Ge(!this.cancelled,"cancelled","CANCELLED",{})}}rh=new WeakMap,Xu=new WeakMap;function Vx(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var D0,B0,ns,Vl,j0,$0,Gn,qo,Gl,nh,ih,oh,qs,is,Zu,ah,Wy;const G3=class G3{constructor(e){$e(this,ah);$e(this,D0);$e(this,B0);$e(this,ns);$e(this,Vl);$e(this,j0);$e(this,$0);$e(this,Gn);$e(this,qo);$e(this,Gl);$e(this,nh);$e(this,ih);$e(this,oh);$e(this,qs);$e(this,is);$e(this,Zu);ge(this,$0,String(e)),ge(this,D0,!1),ge(this,B0,!0),ge(this,ns,{}),ge(this,Vl,""),ge(this,j0,3e5),ge(this,is,{slotInterval:rRe,maxAttempts:tRe}),ge(this,Zu,null)}get url(){return ee(this,$0)}set url(e){ge(this,$0,String(e))}get body(){return ee(this,Gn)==null?null:new Uint8Array(ee(this,Gn))}set body(e){if(e==null)ge(this,Gn,void 0),ge(this,qo,void 0);else if(typeof e=="string")ge(this,Gn,Ec(e)),ge(this,qo,"text/plain");else if(e instanceof Uint8Array)ge(this,Gn,e),ge(this,qo,"application/octet-stream");else if(typeof e=="object")ge(this,Gn,Ec(JSON.stringify(e))),ge(this,qo,"application/json");else throw new Error("invalid body")}hasBody(){return ee(this,Gn)!=null}get method(){return ee(this,Vl)?ee(this,Vl):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),ge(this,Vl,String(e).toUpperCase())}get headers(){const e=Object.assign({},ee(this,ns));return ee(this,Gl)&&(e.authorization=`Basic ${YNe(Ec(ee(this,Gl)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&ee(this,qo)&&(e["content-type"]=ee(this,qo)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){ee(this,ns)[String(e).toLowerCase()]=String(r)}clearHeaders(){ge(this,ns,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return ee(this,Gl)||null}setCredentials(e,r){Ae(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),ge(this,Gl,`${e}:${r}`)}get allowGzip(){return ee(this,B0)}set allowGzip(e){ge(this,B0,!!e)}get allowInsecureAuthentication(){return!!ee(this,D0)}set allowInsecureAuthentication(e){ge(this,D0,!!e)}get timeout(){return ee(this,j0)}set timeout(e){Ae(e>=0,"timeout must be non-zero","timeout",e),ge(this,j0,e)}get preflightFunc(){return ee(this,nh)||null}set preflightFunc(e){ge(this,nh,e)}get processFunc(){return ee(this,ih)||null}set processFunc(e){ge(this,ih,e)}get retryFunc(){return ee(this,oh)||null}set retryFunc(e){ge(this,oh,e)}get getUrlFunc(){return ee(this,Zu)||IY}set getUrlFunc(e){ge(this,Zu,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${ee(this,Gn)?ht(ee(this,Gn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(ee(this,is).slotInterval=e.slotInterval),e.maxAttempts!=null&&(ee(this,is).maxAttempts=e.maxAttempts)}send(){return Ge(ee(this,qs)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),ge(this,qs,new oRe(this)),rt(this,ah,Wy).call(this,0,PY()+this.timeout,0,this,new Nf(0,"",{},null,this))}cancel(){Ge(ee(this,qs)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Joe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Ge(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new G3(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,ge(i,ns,Object.assign({},ee(this,ns))),ee(this,Gn)&&ge(i,Gn,new Uint8Array(ee(this,Gn))),ge(i,qo,ee(this,qo)),i}clone(){const e=new G3(this.url);return ge(e,Vl,ee(this,Vl)),ee(this,Gn)&&ge(e,Gn,ee(this,Gn)),ge(e,qo,ee(this,qo)),ge(e,ns,Object.assign({},ee(this,ns))),ge(e,Gl,ee(this,Gl)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),ge(e,nh,ee(this,nh)),ge(e,ih,ee(this,ih)),ge(e,oh,ee(this,oh)),ge(e,is,Object.assign({},ee(this,is))),ge(e,Zu,ee(this,Zu)),e}static lockConfig(){S6=!0}static getGateway(e){return Kx[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(S6)throw new Error("gateways locked");Kx[e]=r}static registerGetUrl(e){if(S6)throw new Error("gateways locked");IY=e}static createGetUrlFunc(e){return Voe(e)}static createDataGateway(){return Goe}static createIpfsGatewayFunc(e){return Yoe(e)}};D0=new WeakMap,B0=new WeakMap,ns=new WeakMap,Vl=new WeakMap,j0=new WeakMap,$0=new WeakMap,Gn=new WeakMap,qo=new WeakMap,Gl=new WeakMap,nh=new WeakMap,ih=new WeakMap,oh=new WeakMap,qs=new WeakMap,is=new WeakMap,Zu=new WeakMap,ah=new WeakSet,Wy=async function(e,r,n,i,o){var u,f,h;if(e>=ee(this,is).maxAttempts)return o.makeServerError("exceeded maximum retry limit");Ge(PY()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await sRe(n);let a=this.clone();const s=(a.url.split(":")[0]||"").toLowerCase();if(s in Kx){const p=await Kx[s](a.url,Vx(ee(i,qs)));if(p instanceof Nf){let y=p;if(this.processFunc){Vx(ee(i,qs));try{y=await this.processFunc(a,y)}catch(m){(m.throttle==null||typeof m.stall!="number")&&y.makeServerError("error in post-processing function",m).assertOk()}}return y}a=p}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await this.getUrlFunc(a,Vx(ee(i,qs)));let c=new Nf(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return rt(u=a.redirect(p),ah,Wy).call(u,e+1,r,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,c,e))){const p=c.headers["retry-after"];let y=ee(this,is).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(y=parseInt(p)),rt(f=a.clone(),ah,Wy).call(f,e+1,r,y,i,c)}if(this.processFunc){Vx(ee(i,qs));try{c=await this.processFunc(a,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let y=ee(this,is).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(y=p.stall),rt(h=a.clone(),ah,Wy).call(h,e+1,r,y,i,c)}}return c};let Ff=G3;var qw,zw,Ww,zo,F0,sh;const pL=class pL{constructor(e,r,n,i,o){$e(this,qw);$e(this,zw);$e(this,Ww);$e(this,zo);$e(this,F0);$e(this,sh);ge(this,qw,e),ge(this,zw,r),ge(this,Ww,Object.keys(n).reduce((a,s)=>(a[s.toLowerCase()]=String(n[s]),a),{})),ge(this,zo,i==null?null:new Uint8Array(i)),ge(this,F0,o||null),ge(this,sh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${ee(this,zo)?ht(ee(this,zo)):"null"}>`}get statusCode(){return ee(this,qw)}get statusMessage(){return ee(this,zw)}get headers(){return Object.assign({},ee(this,Ww))}get body(){return ee(this,zo)==null?null:new Uint8Array(ee(this,zo))}get bodyText(){try{return ee(this,zo)==null?"":P3(ee(this,zo))}catch{Ge(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ge(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new pL(599,n,this.headers,this.body,ee(this,F0)||void 0);return ge(i,sh,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:Ae(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Bt(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return ee(this,zo)!=null}get request(){return ee(this,F0)}ok(){return ee(this,sh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=ee(this,sh);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{ee(this,zo)&&(i=P3(ee(this,zo)))}catch{}Ge(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};qw=new WeakMap,zw=new WeakMap,Ww=new WeakMap,zo=new WeakMap,F0=new WeakMap,sh=new WeakMap;let Nf=pL;function PY(){return new Date().getTime()}function aRe(t){return Ec(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function sRe(t){return new Promise(e=>setTimeout(e,t))}const lRe=BigInt(-1),ts=BigInt(0),p0=BigInt(1),cRe=BigInt(5),qp={};let T0="0000";for(;T0.length<80;)T0+=T0;function _d(t){let e=T0;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function ky(t,e,r){const n=BigInt(e.width);if(e.signed){const i=p0<<n-p0;Ge(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ts?t=I3(Qd(t,n),n):t=-I3(Qd(-t,n),n)}else{const i=p0<<n;Ge(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-p0}return t}function _6(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ae(o,"invalid fixed format","format",t),e=o[1]!=="u",r=parseInt(o[2]),n=parseInt(o[3])}}else if(t){const o=t,a=(s,l,c)=>o[s]==null?c:(Ae(typeof o[s]===l,"invalid fixed format ("+s+" not "+l+")","format."+s,o[s]),o[s]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}Ae(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),Ae(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function uRe(t,e){let r="";t<ts&&(r="-",t*=lRe);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=T0+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var os,Ur,Hi,Lr,Md,Bl,yM,vM,wM,bM;const Fu=class Fu{constructor(e,r,n){$e(this,Lr);Te(this,"format");$e(this,os);$e(this,Ur);$e(this,Hi);Te(this,"_value");xb(e,qp,"FixedNumber"),ge(this,Ur,r),ge(this,os,n);const i=uRe(r,n.decimals);Bt(this,{format:n.name,_value:i}),ge(this,Hi,_d(n.decimals))}get signed(){return ee(this,os).signed}get width(){return ee(this,os).width}get decimals(){return ee(this,os).decimals}get value(){return ee(this,Ur)}addUnsafe(e){return rt(this,Lr,yM).call(this,e)}add(e){return rt(this,Lr,yM).call(this,e,"add")}subUnsafe(e){return rt(this,Lr,vM).call(this,e)}sub(e){return rt(this,Lr,vM).call(this,e,"sub")}mulUnsafe(e){return rt(this,Lr,wM).call(this,e)}mul(e){return rt(this,Lr,wM).call(this,e,"mul")}mulSignal(e){rt(this,Lr,Md).call(this,e);const r=ee(this,Ur)*ee(e,Ur);return Ge(r%ee(this,Hi)===ts,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),rt(this,Lr,Bl).call(this,r/ee(this,Hi),"mulSignal")}divUnsafe(e){return rt(this,Lr,bM).call(this,e)}div(e){return rt(this,Lr,bM).call(this,e,"div")}divSignal(e){Ge(ee(e,Ur)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),rt(this,Lr,Md).call(this,e);const r=ee(this,Ur)*ee(this,Hi);return Ge(r%ee(e,Ur)===ts,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),rt(this,Lr,Bl).call(this,r/ee(e,Ur),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=_d(i):i<0&&(r*=_d(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=ee(this,Ur);return ee(this,Ur)<ts&&(e-=ee(this,Hi)-p0),e=ee(this,Ur)/ee(this,Hi)*ee(this,Hi),rt(this,Lr,Bl).call(this,e,"floor")}ceiling(){let e=ee(this,Ur);return ee(this,Ur)>ts&&(e+=ee(this,Hi)-p0),e=ee(this,Ur)/ee(this,Hi)*ee(this,Hi),rt(this,Lr,Bl).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=cRe*_d(r-1);let i=this.value+n;const o=_d(r);return i=i/o*o,ky(i,ee(this,os),"round"),new Fu(qp,i,ee(this,os))}isZero(){return ee(this,Ur)===ts}isNegative(){return ee(this,Ur)<ts}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Fu.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:Qt(r),o=_6(n);let a=xt(e,"value");const s=i-o.decimals;if(s>0){const l=_d(s);Ge(a%l===ts,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else s<0&&(a*=_d(-s));return ky(a,o,"fromValue"),new Fu(qp,a,o)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Ae(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=_6(r);let o=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=T0;Ge(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const s=BigInt(n[1]+o+a);return ky(s,i,"fromString"),new Fu(qp,s,i)}static fromBytes(e,r){let n=m_(rr(e,"value"));const i=_6(r);return i.signed&&(n=I3(n,i.width)),ky(n,i,"fromBytes"),new Fu(qp,n,i)}};os=new WeakMap,Ur=new WeakMap,Hi=new WeakMap,Lr=new WeakSet,Md=function(e){Ae(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Bl=function(e,r){return e=ky(e,ee(this,os),r),new Fu(qp,e,ee(this,os))},yM=function(e,r){return rt(this,Lr,Md).call(this,e),rt(this,Lr,Bl).call(this,ee(this,Ur)+ee(e,Ur),r)},vM=function(e,r){return rt(this,Lr,Md).call(this,e),rt(this,Lr,Bl).call(this,ee(this,Ur)-ee(e,Ur),r)},wM=function(e,r){return rt(this,Lr,Md).call(this,e),rt(this,Lr,Bl).call(this,ee(this,Ur)*ee(e,Ur)/ee(this,Hi),r)},bM=function(e,r){return Ge(ee(e,Ur)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),rt(this,Lr,Md).call(this,e),rt(this,Lr,Bl).call(this,ee(this,Ur)*ee(this,Hi)/ee(e,Ur),r)};let mM=Fu;function fRe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function kY(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function TY(t,e,r,n){const i=[];for(;r<e+1+n;){const o=Qoe(t,r);i.push(o.result),r+=o.consumed,Ge(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function Qoe(t,e){Ge(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{Ge(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=kY(t,e+1,n);return r(e+1+n+i),TY(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),TY(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=kY(t,e+1,n);r(e+1+n+i);const o=ht(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:o}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=ht(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:fRe(t[e])}}function Sb(t){const e=rr(t,"data"),r=Qoe(e,0);return Ae(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function MY(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Xoe(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(Xoe(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=MY(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(rr(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=MY(e.length);return r.unshift(183+r.length),r.concat(e)}const NY="0123456789abcdef";function Sc(t){let e="0x";for(const r of Xoe(t))e+=NY[r>>4],e+=NY[r&15];return e}function dRe(t,e){let r=18;return r=Qt(e,"unit"),mM.fromValue(t,r,{decimals:r,width:512}).toString()}function hRe(t){return dRe(t,18)}const Qi=32,xM=new Uint8Array(Qi),pRe=["then"],Gx={},Zoe=new WeakMap;function Rd(t){return Zoe.get(t)}function RY(t,e){Zoe.set(t,e)}function Ty(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function EM(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof Yg?EM(Rd(n),n,r):n):t.reduce((n,i,o)=>{let a=e.getValue(i);return i in n||(r&&a instanceof Yg&&(a=EM(Rd(a),a,r)),n[i]=a),n},{})}var U0;const m0=class m0 extends Array{constructor(...r){const n=r[0];let i=r[1],o=(r[2]||[]).slice(),a=!0;n!==Gx&&(i=r,o=[],a=!1);super(i.length);$e(this,U0);i.forEach((c,u)=>{this[u]=c});const s=o.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(RY(this,Object.freeze(i.map((c,u)=>{const f=o[u];return f!=null&&s.get(f)===1?f:null}))),ge(this,U0,[]),ee(this,U0)==null&&ee(this,U0),!a)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=Qt(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const y=c[p];return y instanceof Error&&Ty(`index ${p}`,y),y}if(pRe.indexOf(u)>=0)return Reflect.get(c,u,f);const h=c[u];if(h instanceof Function)return function(...p){return h.apply(this===f?c:this,p)};if(!(u in c))return c.getValue.apply(this===f?c:this,[u])}return Reflect.get(c,u,f)}});return RY(l,Rd(this)),l}toArray(r){const n=[];return this.forEach((i,o)=>{i instanceof Error&&Ty(`index ${o}`,i),r&&i instanceof m0&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=Rd(this);return n.reduce((i,o,a)=>(Ge(o!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),EM(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=Rd(this),o=[],a=[];for(let s=r;s<n;s++)o.push(this[s]),a.push(i[s]);return new m0(Gx,o,a)}filter(r,n){const i=Rd(this),o=[],a=[];for(let s=0;s<this.length;s++){const l=this[s];l instanceof Error&&Ty(`index ${s}`,l),r.call(n,l,s,this)&&(o.push(l),a.push(i[s]))}return new m0(Gx,o,a)}map(r,n){const i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Ty(`index ${o}`,a),i.push(r.call(n,a,o,this))}return i}getValue(r){const n=Rd(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&Ty(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new m0(Gx,r,n)}};U0=new WeakMap;let Yg=m0;function LY(t){let e=Nn(t);return Ge(e.length<=Qi,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Qi,offset:e.length}),e.length!==Qi&&(e=Gi(cn([xM.slice(e.length%Qi),e]))),e}class Hc{constructor(e,r,n,i){Te(this,"name");Te(this,"type");Te(this,"localName");Te(this,"dynamic");Bt(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){Ae(!1,e,this.localName,r)}}var Yl,lh,H0,L2;class SM{constructor(){$e(this,H0);$e(this,Yl);$e(this,lh);ge(this,Yl,[]),ge(this,lh,0)}get data(){return cn(ee(this,Yl))}get length(){return ee(this,lh)}appendWriter(e){return rt(this,H0,L2).call(this,Gi(e.data))}writeBytes(e){let r=Gi(e);const n=r.length%Qi;return n&&(r=Gi(cn([r,xM.slice(n)]))),rt(this,H0,L2).call(this,r)}writeValue(e){return rt(this,H0,L2).call(this,LY(e))}writeUpdatableValue(){const e=ee(this,Yl).length;return ee(this,Yl).push(xM),ge(this,lh,ee(this,lh)+Qi),r=>{ee(this,Yl)[e]=LY(r)}}}Yl=new WeakMap,lh=new WeakMap,H0=new WeakSet,L2=function(e){return ee(this,Yl).push(e),ge(this,lh,ee(this,lh)+e.length),e.length};var yo,Wo,ch,uh,ef,Uh,AM,eae;const gL=class gL{constructor(e,r,n){$e(this,Uh);Te(this,"allowLoose");$e(this,yo);$e(this,Wo);$e(this,ch);$e(this,uh);$e(this,ef);Bt(this,{allowLoose:!!r}),ge(this,yo,Gi(e)),ge(this,ch,0),ge(this,uh,null),ge(this,ef,n??1024),ge(this,Wo,0)}get data(){return ht(ee(this,yo))}get dataLength(){return ee(this,yo).length}get consumed(){return ee(this,Wo)}get bytes(){return new Uint8Array(ee(this,yo))}subReader(e){const r=new gL(ee(this,yo).slice(ee(this,Wo)+e),this.allowLoose,ee(this,ef));return ge(r,uh,this),r}readBytes(e,r){let n=rt(this,Uh,eae).call(this,0,e,!!r);return rt(this,Uh,AM).call(this,e),ge(this,Wo,ee(this,Wo)+n.length),n.slice(0,e)}readValue(){return m_(this.readBytes(Qi))}readIndex(){return KNe(this.readBytes(Qi))}};yo=new WeakMap,Wo=new WeakMap,ch=new WeakMap,uh=new WeakMap,ef=new WeakMap,Uh=new WeakSet,AM=function(e){var r;if(ee(this,uh))return rt(r=ee(this,uh),Uh,AM).call(r,e);ge(this,ch,ee(this,ch)+e),Ge(ee(this,ef)<1||ee(this,ch)<=ee(this,ef)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${ee(this,ef)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Gi(ee(this,yo)),offset:ee(this,Wo),length:e,info:{bytesRead:ee(this,ch),dataLength:this.dataLength}})},eae=function(e,r,n){let i=Math.ceil(r/Qi)*Qi;return ee(this,Wo)+i>ee(this,yo).length&&(this.allowLoose&&n&&ee(this,Wo)+r<=ee(this,yo).length?i=r:Ge(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Gi(ee(this,yo)),length:ee(this,yo).length,offset:ee(this,Wo)+i})),ee(this,yo).slice(ee(this,Wo),ee(this,Wo)+i)};let _M=gL;function k3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function K9(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function gRe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");k3(t.outputLen),k3(t.blockLen)}function Jg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tae(t,e){K9(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const A6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rae=t=>t instanceof Uint8Array,mRe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),C6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ls=(t,e)=>t<<32-e|t>>>e,yRe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yRe)throw new Error("Non little-endian hardware is not supported");function vRe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function y_(t){if(typeof t=="string"&&(t=vRe(t)),!rae(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function wRe(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!rae(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class V9{clone(){return this._cloneInto()}}function G9(t){const e=n=>t().update(y_(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function bRe(t=32){if(A6&&typeof A6.getRandomValues=="function")return A6.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class nae extends V9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,gRe(e);const n=y_(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jg(this),this.iHash.update(e),this}digestInto(e){Jg(this),K9(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iae=(t,e,r)=>new nae(t,e).update(r).digest();iae.create=(t,e)=>new nae(t,e);function xRe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),l=n?4:0,c=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+c,s,n)}class oae extends V9{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C6(this.buffer)}update(e){Jg(this);const{view:r,buffer:n,blockLen:i}=this;e=y_(e);const o=e.length;for(let a=0;a<o;){const s=Math.min(i-this.pos,o-a);if(s===i){const l=C6(e);for(;i<=o-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jg(this),tae(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;xRe(n,i-8,BigInt(this.length*8),o),this.process(n,0);const s=C6(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)s.setUint32(4*f,u[f],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}}const ERe=(t,e,r)=>t&e^~t&r,SRe=(t,e,r)=>t&e^t&r^e&r,_Re=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vu=new Uint32Array(64);class ARe extends oae{constructor(){super(64,32,8,!1),this.A=yu[0]|0,this.B=yu[1]|0,this.C=yu[2]|0,this.D=yu[3]|0,this.E=yu[4]|0,this.F=yu[5]|0,this.G=yu[6]|0,this.H=yu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:l}=this;return[e,r,n,i,o,a,s,l]}set(e,r,n,i,o,a,s,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)vu[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=vu[f-15],p=vu[f-2],y=Ls(h,7)^Ls(h,18)^h>>>3,m=Ls(p,17)^Ls(p,19)^p>>>10;vu[f]=m+vu[f-7]+y+vu[f-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=Ls(s,6)^Ls(s,11)^Ls(s,25),p=u+h+ERe(s,l,c)+_Re[f]+vu[f]|0,m=(Ls(n,2)^Ls(n,13)^Ls(n,22))+SRe(n,i,o)|0;u=c,c=l,l=s,s=a+p|0,a=o,o=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,l,c,u)}roundClean(){vu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aae=G9(()=>new ARe),Yx=BigInt(2**32-1),CM=BigInt(32);function sae(t,e=!1){return e?{h:Number(t&Yx),l:Number(t>>CM&Yx)}:{h:Number(t>>CM&Yx)|0,l:Number(t&Yx)|0}}function lae(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=sae(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}const CRe=(t,e)=>BigInt(t>>>0)<<CM|BigInt(e>>>0),ORe=(t,e,r)=>t>>>r,IRe=(t,e,r)=>t<<32-r|e>>>r,PRe=(t,e,r)=>t>>>r|e<<32-r,kRe=(t,e,r)=>t<<32-r|e>>>r,TRe=(t,e,r)=>t<<64-r|e>>>r-32,MRe=(t,e,r)=>t>>>r-32|e<<64-r,NRe=(t,e)=>e,RRe=(t,e)=>t,cae=(t,e,r)=>t<<r|e>>>32-r,uae=(t,e,r)=>e<<r|t>>>32-r,fae=(t,e,r)=>e<<r-32|t>>>64-r,dae=(t,e,r)=>t<<r-32|e>>>64-r;function LRe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const DRe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),BRe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,jRe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),$Re=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,FRe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),URe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,er={fromBig:sae,split:lae,toBig:CRe,shrSH:ORe,shrSL:IRe,rotrSH:PRe,rotrSL:kRe,rotrBH:TRe,rotrBL:MRe,rotr32H:NRe,rotr32L:RRe,rotlSH:cae,rotlSL:uae,rotlBH:fae,rotlBL:dae,add:LRe,add3L:DRe,add3H:BRe,add4L:jRe,add4H:$Re,add5H:URe,add5L:FRe},[HRe,qRe]=er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),wu=new Uint32Array(80),bu=new Uint32Array(80);class zRe extends oae{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:p,Gl:y,Hh:m,Hl:v}=this;return[e,r,n,i,o,a,s,l,c,u,f,h,p,y,m,v]}set(e,r,n,i,o,a,s,l,c,u,f,h,p,y,m,v){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=y|0,this.Hh=m|0,this.Hl=v|0}process(e,r){for(let _=0;_<16;_++,r+=4)wu[_]=e.getUint32(r),bu[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const D=wu[_-15]|0,P=bu[_-15]|0,U=er.rotrSH(D,P,1)^er.rotrSH(D,P,8)^er.shrSH(D,P,7),F=er.rotrSL(D,P,1)^er.rotrSL(D,P,8)^er.shrSL(D,P,7),N=wu[_-2]|0,L=bu[_-2]|0,B=er.rotrSH(N,L,19)^er.rotrBH(N,L,61)^er.shrSH(N,L,6),R=er.rotrSL(N,L,19)^er.rotrBL(N,L,61)^er.shrSL(N,L,6),b=er.add4L(F,R,bu[_-7],bu[_-16]),x=er.add4H(b,U,B,wu[_-7],wu[_-16]);wu[_]=x|0,bu[_]=b|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:p,Fl:y,Gh:m,Gl:v,Hh:w,Hl:A}=this;for(let _=0;_<80;_++){const D=er.rotrSH(f,h,14)^er.rotrSH(f,h,18)^er.rotrBH(f,h,41),P=er.rotrSL(f,h,14)^er.rotrSL(f,h,18)^er.rotrBL(f,h,41),U=f&p^~f&m,F=h&y^~h&v,N=er.add5L(A,P,F,qRe[_],bu[_]),L=er.add5H(N,w,D,U,HRe[_],wu[_]),B=N|0,R=er.rotrSH(n,i,28)^er.rotrBH(n,i,34)^er.rotrBH(n,i,39),b=er.rotrSL(n,i,28)^er.rotrBL(n,i,34)^er.rotrBL(n,i,39),x=n&o^n&s^o&s,I=i&a^i&l^a&l;w=m|0,A=v|0,m=p|0,v=y|0,p=f|0,y=h|0,{h:f,l:h}=er.add(c|0,u|0,L|0,B|0),c=s|0,u=l|0,s=o|0,l=a|0,o=n|0,a=i|0;const C=er.add3L(B,b,I);n=er.add3H(C,L,R,x),i=C|0}({h:n,l:i}=er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=er.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l}=er.add(this.Ch|0,this.Cl|0,s|0,l|0),{h:c,l:u}=er.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=er.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:y}=er.add(this.Fh|0,this.Fl|0,p|0,y|0),{h:m,l:v}=er.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:w,l:A}=er.add(this.Hh|0,this.Hl|0,w|0,A|0),this.set(n,i,o,a,s,l,c,u,f,h,p,y,m,v,w,A)}roundClean(){wu.fill(0),bu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const WRe=G9(()=>new zRe);function KRe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const DY=KRe();DY.crypto||DY.msCrypto;function VRe(t){switch(t){case"sha256":return aae.create();case"sha512":return WRe.create()}Ae(!1,"invalid hashing algorithm name","algorithm",t)}const[hae,pae,gae]=[[],[],[]],GRe=BigInt(0),My=BigInt(1),YRe=BigInt(2),JRe=BigInt(7),QRe=BigInt(256),XRe=BigInt(113);for(let t=0,e=My,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],hae.push(2*(5*n+r)),pae.push((t+1)*(t+2)/2%64);let i=GRe;for(let o=0;o<7;o++)e=(e<<My^(e>>JRe)*XRe)%QRe,e&YRe&&(i^=My<<(My<<BigInt(o))-My);gae.push(i)}const[ZRe,e9e]=lae(gae,!0),BY=(t,e,r)=>r>32?fae(t,e,r):cae(t,e,r),jY=(t,e,r)=>r>32?dae(t,e,r):uae(t,e,r);function t9e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,l=(a+2)%10,c=r[l],u=r[l+1],f=BY(c,u,1)^r[s],h=jY(c,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=f,t[a+p+1]^=h}let i=t[2],o=t[3];for(let a=0;a<24;a++){const s=pae[a],l=BY(i,o,s),c=jY(i,o,s),u=hae[a];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=ZRe[n],t[1]^=e9e[n]}r.fill(0)}class Y9 extends V9{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,k3(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mRe(this.state)}keccak(){t9e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Jg(this);const{blockLen:r,state:n}=this;e=y_(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Jg(this,!1),K9(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return k3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new Y9(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const r9e=(t,e,r)=>G9(()=>new Y9(e,t,r)),n9e=r9e(1,136,256/8);let mae=!1;const yae=function(t){return n9e(t)};let vae=yae;function Tn(t){const e=rr(t,"data");return ht(vae(e))}Tn._=yae;Tn.lock=function(){mae=!0};Tn.register=function(t){if(mae)throw new TypeError("keccak256 is locked");vae=t};Object.freeze(Tn);const wae=function(t){return VRe("sha256").update(t).digest()};let bae=wae,xae=!1;function mm(t){const e=rr(t,"data");return ht(bae(e))}mm._=wae;mm.lock=function(){xae=!0};mm.register=function(t){if(xae)throw new Error("sha256 is locked");bae=t};Object.freeze(mm);Object.freeze(mm);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const i9e=BigInt(1),o9e=BigInt(2),v_=t=>t instanceof Uint8Array,a9e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qg(t){if(!v_(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=a9e[t[r]];return e}function J9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Iw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Ch(t){return J9(Qg(t))}function Q9(t){if(!v_(t))throw new Error("Uint8Array expected");return J9(Qg(Uint8Array.from(t).reverse()))}function Xg(t,e){return Iw(t.toString(16).padStart(e*2,"0"))}function X9(t,e){return Xg(t,e).reverse()}function rs(t,e,r){let n;if(typeof e=="string")try{n=Iw(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(v_(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Pw(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!v_(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}const Z9=t=>(o9e<<BigInt(t-1))-i9e,O6=t=>new Uint8Array(t),$Y=t=>Uint8Array.from(t);function Eae(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=O6(t),i=O6(t),o=0;const a=()=>{n.fill(1),i.fill(0),o=0},s=(...f)=>r(i,n,...f),l=(f=O6())=>{i=s($Y([0]),f),n=s(),f.length!==0&&(i=s($Y([1]),f),n=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=s();const p=n.slice();h.push(p),f+=n.length}return Pw(...h)};return(f,h)=>{a(),l(f);let p;for(;!(p=h(c()));)l();return a(),p}}const s9e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function _b(t,e,r={}){const n=(i,o,a)=>{const s=s9e[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(a&&l===void 0)&&!s(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return t}const l9e=Object.freeze(Object.defineProperty({__proto__:null,bitMask:Z9,bytesToHex:Qg,bytesToNumberBE:Ch,bytesToNumberLE:Q9,concatBytes:Pw,createHmacDrbg:Eae,ensureBytes:rs,hexToBytes:Iw,hexToNumber:J9,numberToBytesBE:Xg,numberToBytesLE:X9,validateObject:_b},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ti=BigInt(0),Cn=BigInt(1),Ld=BigInt(2),c9e=BigInt(3),OM=BigInt(4),FY=BigInt(5),UY=BigInt(8);BigInt(9);BigInt(16);function wo(t,e){const r=t%e;return r>=ti?r:e+r}function u9e(t,e,r){if(r<=ti||e<ti)throw new Error("Expected power/modulo > 0");if(r===Cn)return ti;let n=Cn;for(;e>ti;)e&Cn&&(n=n*t%r),t=t*t%r,e>>=Cn;return n}function va(t,e,r){let n=t;for(;e-- >ti;)n*=n,n%=r;return n}function IM(t,e){if(t===ti||e<=ti)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=wo(t,e),n=e,i=ti,o=Cn;for(;r!==ti;){const s=n/r,l=n%r,c=i-o*s;n=r,r=l,i=o,o=c}if(n!==Cn)throw new Error("invert: does not exist");return wo(i,e)}function f9e(t){const e=(t-Cn)/Ld;let r,n,i;for(r=t-Cn,n=0;r%Ld===ti;r/=Ld,n++);for(i=Ld;i<t&&u9e(i,e,t)!==t-Cn;i++);if(n===1){const a=(t+Cn)/OM;return function(l,c){const u=l.pow(c,a);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(r+Cn)/Ld;return function(s,l){if(s.pow(l,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=n,u=s.pow(s.mul(s.ONE,i),r),f=s.pow(l,o),h=s.pow(l,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let p=1;for(let m=s.sqr(h);p<c&&!s.eql(m,s.ONE);p++)m=s.sqr(m);const y=s.pow(u,Cn<<BigInt(c-p-1));u=s.sqr(y),f=s.mul(f,y),h=s.mul(h,u),c=p}return f}}function d9e(t){if(t%OM===c9e){const e=(t+Cn)/OM;return function(n,i){const o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%UY===FY){const e=(t-FY)/UY;return function(n,i){const o=n.mul(i,Ld),a=n.pow(o,e),s=n.mul(i,a),l=n.mul(n.mul(s,Ld),a),c=n.mul(s,n.sub(l,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return f9e(t)}const h9e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function p9e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=h9e.reduce((n,i)=>(n[i]="function",n),e);return _b(t,r)}function g9e(t,e,r){if(r<ti)throw new Error("Expected power > 0");if(r===ti)return t.ONE;if(r===Cn)return e;let n=t.ONE,i=e;for(;r>ti;)r&Cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Cn;return n}function m9e(t,e){const r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function Sae(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function y9e(t,e,r=!1,n={}){if(t<=ti)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=Sae(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=d9e(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Z9(i),ZERO:ti,ONE:Cn,create:l=>wo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ti<=l&&l<t},is0:l=>l===ti,isOdd:l=>(l&Cn)===Cn,neg:l=>wo(-l,t),eql:(l,c)=>l===c,sqr:l=>wo(l*l,t),add:(l,c)=>wo(l+c,t),sub:(l,c)=>wo(l-c,t),mul:(l,c)=>wo(l*c,t),pow:(l,c)=>g9e(s,l,c),div:(l,c)=>wo(l*IM(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>IM(l,t),sqrt:n.sqrt||(l=>a(s,l)),invertBatch:l=>m9e(s,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?X9(l,o):Xg(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?Q9(l):Ch(l)}});return Object.freeze(s)}function _ae(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Aae(t){const e=_ae(t);return e+Math.ceil(e/2)}function v9e(t,e,r=!1){const n=t.length,i=_ae(e),o=Aae(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const a=r?Ch(t):Q9(t),s=wo(a,e-Cn)+Cn;return r?X9(s,i):Xg(s,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w9e=BigInt(0),I6=BigInt(1);function b9e(t,e){const r=(i,o)=>{const a=o.negate();return i?a:o},n=i=>{const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>w9e;)o&I6&&(a=a.add(s)),s=s.double(),o>>=I6;return a},precomputeWindow(i,o){const{windows:a,windowSize:s}=n(o),l=[];let c=i,u=c;for(let f=0;f<a;f++){u=c,l.push(u);for(let h=1;h<s;h++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,a){const{windows:s,windowSize:l}=n(i);let c=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let y=0;y<s;y++){const m=y*l;let v=Number(a&f);a>>=p,v>l&&(v-=h,a+=I6);const w=m,A=m+Math.abs(v)-1,_=y%2!==0,D=v<0;v===0?u=u.add(r(_,o[w])):c=c.add(r(D,o[A]))}return{p:c,f:u}},wNAFCached(i,o,a,s){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,s(c))),this.wNAF(l,c,a)}}}function Cae(t){return p9e(t.Fp),_b(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Sae(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x9e(t){const e=Cae(t);_b(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:E9e,hexToBytes:S9e}=l9e,Xd={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Xd;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:E9e(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Xd,r=typeof t=="string"?S9e(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Xd._parseInt(r.subarray(2)),{d:a,l:s}=Xd._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),l=r(a);return`30${r(a+o+4)}02${l}${i}02${s}${n}`}},ac=BigInt(0),Ra=BigInt(1);BigInt(2);const HY=BigInt(3);BigInt(4);function _9e(t){const e=x9e(t),{Fp:r}=e,n=e.toBytes||((y,m,v)=>{const w=m.toAffine();return Pw(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),i=e.fromBytes||(y=>{const m=y.subarray(1),v=r.fromBytes(m.subarray(0,r.BYTES)),w=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:v,y:w}});function o(y){const{a:m,b:v}=e,w=r.sqr(y),A=r.mul(w,y);return r.add(r.add(A,r.mul(y,m)),v)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return typeof y=="bigint"&&ac<y&&y<e.n}function s(y){if(!a(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:m,nByteLength:v,wrapPrivateKey:w,n:A}=e;if(m&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Qg(y)),typeof y!="string"||!m.includes(y.length))throw new Error("Invalid key");y=y.padStart(v*2,"0")}let _;try{_=typeof y=="bigint"?y:Ch(rs("private key",y,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof y}`)}return w&&(_=wo(_,A)),s(_),_}const c=new Map;function u(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,v,w){if(this.px=m,this.py=v,this.pz=w,m==null||!r.isValid(m))throw new Error("x required");if(v==null||!r.isValid(v))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required")}static fromAffine(m){const{x:v,y:w}=m||{};if(!m||!r.isValid(v)||!r.isValid(w))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const A=_=>r.eql(_,r.ZERO);return A(v)&&A(w)?f.ZERO:new f(v,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const v=r.invertBatch(m.map(w=>w.pz));return m.map((w,A)=>w.toAffine(v[A])).map(f.fromAffine)}static fromHex(m){const v=f.fromAffine(i(rs("pointHex",m)));return v.assertValidity(),v}static fromPrivateKey(m){return f.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y:v}=this.toAffine();if(!r.isValid(m)||!r.isValid(v))throw new Error("bad point: x or y not FE");const w=r.sqr(v),A=o(m);if(!r.eql(w,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:v,py:w,pz:A}=this,{px:_,py:D,pz:P}=m,U=r.eql(r.mul(v,P),r.mul(_,A)),F=r.eql(r.mul(w,P),r.mul(D,A));return U&&F}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:v}=e,w=r.mul(v,HY),{px:A,py:_,pz:D}=this;let P=r.ZERO,U=r.ZERO,F=r.ZERO,N=r.mul(A,A),L=r.mul(_,_),B=r.mul(D,D),R=r.mul(A,_);return R=r.add(R,R),F=r.mul(A,D),F=r.add(F,F),P=r.mul(m,F),U=r.mul(w,B),U=r.add(P,U),P=r.sub(L,U),U=r.add(L,U),U=r.mul(P,U),P=r.mul(R,P),F=r.mul(w,F),B=r.mul(m,B),R=r.sub(N,B),R=r.mul(m,R),R=r.add(R,F),F=r.add(N,N),N=r.add(F,N),N=r.add(N,B),N=r.mul(N,R),U=r.add(U,N),B=r.mul(_,D),B=r.add(B,B),N=r.mul(B,R),P=r.sub(P,N),F=r.mul(B,L),F=r.add(F,F),F=r.add(F,F),new f(P,U,F)}add(m){u(m);const{px:v,py:w,pz:A}=this,{px:_,py:D,pz:P}=m;let U=r.ZERO,F=r.ZERO,N=r.ZERO;const L=e.a,B=r.mul(e.b,HY);let R=r.mul(v,_),b=r.mul(w,D),x=r.mul(A,P),I=r.add(v,w),C=r.add(_,D);I=r.mul(I,C),C=r.add(R,b),I=r.sub(I,C),C=r.add(v,A);let T=r.add(_,P);return C=r.mul(C,T),T=r.add(R,x),C=r.sub(C,T),T=r.add(w,A),U=r.add(D,P),T=r.mul(T,U),U=r.add(b,x),T=r.sub(T,U),N=r.mul(L,C),U=r.mul(B,x),N=r.add(U,N),U=r.sub(b,N),N=r.add(b,N),F=r.mul(U,N),b=r.add(R,R),b=r.add(b,R),x=r.mul(L,x),C=r.mul(B,C),b=r.add(b,x),x=r.sub(R,x),x=r.mul(L,x),C=r.add(C,x),R=r.mul(b,C),F=r.add(F,R),R=r.mul(T,C),U=r.mul(I,U),U=r.sub(U,R),R=r.mul(I,b),N=r.mul(T,N),N=r.add(N,R),new f(U,F,N)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,c,m,v=>{const w=r.invertBatch(v.map(A=>A.pz));return v.map((A,_)=>A.toAffine(w[_])).map(f.fromAffine)})}multiplyUnsafe(m){const v=f.ZERO;if(m===ac)return v;if(s(m),m===Ra)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,m);let{k1neg:A,k1:_,k2neg:D,k2:P}=w.splitScalar(m),U=v,F=v,N=this;for(;_>ac||P>ac;)_&Ra&&(U=U.add(N)),P&Ra&&(F=F.add(N)),N=N.double(),_>>=Ra,P>>=Ra;return A&&(U=U.negate()),D&&(F=F.negate()),F=new f(r.mul(F.px,w.beta),F.py,F.pz),U.add(F)}multiply(m){s(m);let v=m,w,A;const{endo:_}=e;if(_){const{k1neg:D,k1:P,k2neg:U,k2:F}=_.splitScalar(v);let{p:N,f:L}=this.wNAF(P),{p:B,f:R}=this.wNAF(F);N=p.constTimeNegate(D,N),B=p.constTimeNegate(U,B),B=new f(r.mul(B.px,_.beta),B.py,B.pz),w=N.add(B),A=L.add(R)}else{const{p:D,f:P}=this.wNAF(v);w=D,A=P}return f.normalizeZ([w,A])[0]}multiplyAndAddUnsafe(m,v,w){const A=f.BASE,_=(P,U)=>U===ac||U===Ra||!P.equals(A)?P.multiplyUnsafe(U):P.multiply(U),D=_(this,v).add(_(m,w));return D.is0()?void 0:D}toAffine(m){const{px:v,py:w,pz:A}=this,_=this.is0();m==null&&(m=_?r.ONE:r.inv(A));const D=r.mul(v,m),P=r.mul(w,m),U=r.mul(A,m);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:D,y:P}}isTorsionFree(){const{h:m,isTorsionFree:v}=e;if(m===Ra)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:v}=e;return m===Ra?this:v?v(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(f,this,m)}toHex(m=!0){return Qg(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,p=b9e(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function A9e(t){const e=Cae(t);return _b(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function C9e(t){const e=A9e(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(C){return ac<C&&C<r.ORDER}function s(C){return wo(C,n)}function l(C){return IM(C,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=_9e({...e,toBytes(C,T,j){const O=T.toAffine(),k=r.toBytes(O.x),E=Pw;return j?E(Uint8Array.from([T.hasEvenY()?2:3]),k):E(Uint8Array.from([4]),k,r.toBytes(O.y))},fromBytes(C){const T=C.length,j=C[0],O=C.subarray(1);if(T===i&&(j===2||j===3)){const k=Ch(O);if(!a(k))throw new Error("Point is not on curve");const E=f(k);let M=r.sqrt(E);const H=(M&Ra)===Ra;return(j&1)===1!==H&&(M=r.neg(M)),{x:k,y:M}}else if(T===o&&j===4){const k=r.fromBytes(O.subarray(0,r.BYTES)),E=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:k,y:E}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),p=C=>Qg(Xg(C,e.nByteLength));function y(C){const T=n>>Ra;return C>T}function m(C){return y(C)?s(-C):C}const v=(C,T,j)=>Ch(C.slice(T,j));class w{constructor(T,j,O){this.r=T,this.s=j,this.recovery=O,this.assertValidity()}static fromCompact(T){const j=e.nByteLength;return T=rs("compactSignature",T,j*2),new w(v(T,0,j),v(T,j,2*j))}static fromDER(T){const{r:j,s:O}=Xd.toSig(rs("DER",T));return new w(j,O)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:j,s:O,recovery:k}=this,E=F(rs("msgHash",T));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const M=k===2||k===3?j+e.n:j;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(k&1)===0?"02":"03",q=c.fromHex(H+p(M)),W=l(M),V=s(-E*W),Q=s(O*W),te=c.BASE.multiplyAndAddUnsafe(q,V,Q);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Iw(this.toDERHex())}toDERHex(){return Xd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Iw(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const A={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=Aae(e.n);return v9e(e.randomBytes(C),e.n)},precompute(C=8,T=c.BASE){return T._setWindowSize(C),T.multiply(BigInt(3)),T}};function _(C,T=!0){return c.fromPrivateKey(C).toRawBytes(T)}function D(C){const T=C instanceof Uint8Array,j=typeof C=="string",O=(T||j)&&C.length;return T?O===i||O===o:j?O===2*i||O===2*o:C instanceof c}function P(C,T,j=!0){if(D(C))throw new Error("first arg must be private key");if(!D(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(u(C)).toRawBytes(j)}const U=e.bits2int||function(C){const T=Ch(C),j=C.length*8-e.nBitLength;return j>0?T>>BigInt(j):T},F=e.bits2int_modN||function(C){return s(U(C))},N=Z9(e.nBitLength);function L(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(ac<=C&&C<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Xg(C,e.nByteLength)}function B(C,T,j=R){if(["recovered","canonical"].some(Z=>Z in j))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:k}=e;let{lowS:E,prehash:M,extraEntropy:H}=j;E==null&&(E=!0),C=rs("msgHash",C),M&&(C=rs("prehashed msgHash",O(C)));const q=F(C),W=u(T),V=[L(W),L(q)];if(H!=null){const Z=H===!0?k(r.BYTES):H;V.push(rs("extraEntropy",Z))}const Q=Pw(...V),te=q;function X(Z){const ae=U(Z);if(!h(ae))return;const he=l(ae),se=c.BASE.multiply(ae).toAffine(),ne=s(se.x);if(ne===ac)return;const oe=s(he*s(te+ne*W));if(oe===ac)return;let fe=(se.x===ne?0:2)|Number(se.y&Ra),pe=oe;return E&&y(oe)&&(pe=m(oe),fe^=1),new w(ne,pe,fe)}return{seed:Q,k2sig:X}}const R={lowS:e.lowS,prehash:!1},b={lowS:e.lowS,prehash:!1};function x(C,T,j=R){const{seed:O,k2sig:k}=B(C,T,j),E=e;return Eae(E.hash.outputLen,E.nByteLength,E.hmac)(O,k)}c.BASE._setWindowSize(8);function I(C,T,j,O=b){var se;const k=C;if(T=rs("msgHash",T),j=rs("publicKey",j),"strict"in O)throw new Error("options.strict was renamed to lowS");const{lowS:E,prehash:M}=O;let H,q;try{if(typeof k=="string"||k instanceof Uint8Array)try{H=w.fromDER(k)}catch(ne){if(!(ne instanceof Xd.Err))throw ne;H=w.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){const{r:ne,s:oe}=k;H=new w(ne,oe)}else throw new Error("PARSE");q=c.fromHex(j)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(E&&H.hasHighS())return!1;M&&(T=e.hash(T));const{r:W,s:V}=H,Q=F(T),te=l(V),X=s(Q*te),Z=s(W*te),ae=(se=c.BASE.multiplyAndAddUnsafe(q,X,Z))==null?void 0:se.toAffine();return ae?s(ae.x)===W:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:P,sign:x,verify:I,ProjectivePoint:c,Signature:w,utils:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function O9e(t){return{hash:t,hmac:(e,...r)=>iae(t,e,wRe(...r)),randomBytes:bRe}}function I9e(t,e){const r=n=>C9e({...t,...O9e(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oae=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),P9e=BigInt(1),PM=BigInt(2),zY=(t,e)=>(t+e/PM)/e;function k9e(t){const e=Oae,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=va(u,r,e)*u%e,h=va(f,r,e)*u%e,p=va(h,PM,e)*c%e,y=va(p,i,e)*p%e,m=va(y,o,e)*y%e,v=va(m,s,e)*m%e,w=va(v,l,e)*v%e,A=va(w,s,e)*m%e,_=va(A,r,e)*u%e,D=va(_,a,e)*y%e,P=va(D,n,e)*c%e,U=va(P,PM,e);if(!kM.eql(kM.sqr(U),t))throw new Error("Cannot find square root");return U}const kM=y9e(Oae,void 0,void 0,{sqrt:k9e}),Mu=I9e({a:BigInt(0),b:BigInt(7),Fp:kM,n:qY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=qY,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-P9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=zY(o*t,e),l=zY(-n*t,e);let c=wo(t-s*r-l*i,e),u=wo(-s*n-l*o,e);const f=c>a,h=u>a;if(f&&(c=e-c),h&&(u=e-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:u}}}},aae);BigInt(0);Mu.ProjectivePoint;const kw="0x0000000000000000000000000000000000000000",WY="0x0000000000000000000000000000000000000000000000000000000000000000",KY=BigInt(0),VY=BigInt(1),TM=BigInt(2),GY=BigInt(27),YY=BigInt(28),Jx=BigInt(35),Iae=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),T9e=Iae/TM,M9e=Symbol.for("nodejs.util.inspect.custom"),Ad={};function P6(t){return Mc(Nn(t),32)}var q0,zs,z0,tf;const _a=class _a{constructor(e,r,n,i){$e(this,q0);$e(this,zs);$e(this,z0);$e(this,tf);xb(e,Ad,"Signature"),ge(this,q0,r),ge(this,zs,n),ge(this,z0,i),ge(this,tf,null)}get r(){return ee(this,q0)}set r(e){Ae(k0(e)===32,"invalid r","value",e),ge(this,q0,ht(e))}get s(){return Ae(parseInt(ee(this,zs).substring(0,3))<8,"non-canonical s; use ._s","s",ee(this,zs)),ee(this,zs)}set s(e){Ae(k0(e)===32,"invalid s","value",e),ge(this,zs,ht(e))}get _s(){return ee(this,zs)}isValid(){return BigInt(ee(this,zs))<=T9e}get v(){return ee(this,z0)}set v(e){const r=Qt(e,"value");Ae(r===27||r===28,"invalid v","v",e),ge(this,z0,r)}get networkV(){return ee(this,tf)}get legacyChainId(){const e=this.networkV;return e==null?null:_a.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=rr(this.s);return this.yParity&&(e[0]|=128),ht(e)}get compactSerialized(){return cn([this.r,this.yParityAndS])}get serialized(){return cn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Iae-BigInt(this._s),r=55-this.v,n=new _a(Ad,this.r,P6(e),r);return this.networkV&&ge(n,tf,this.networkV),n}clone(){const e=new _a(Ad,this.r,this._s,this.v);return this.networkV&&ge(e,tf,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[M9e](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=xt(e,"v");return r==GY||r==YY?KY:(Ae(r>=Jx,"invalid EIP-155 v","v",e),(r-Jx)/TM)}static getChainIdV(e,r){return xt(e)*TM+BigInt(35+r-27)}static getNormalizedV(e){const r=xt(e);return r===KY||r===GY?27:r===VY||r===YY?28:(Ae(r>=Jx,"invalid v","v",e),r&VY?27:28)}static from(e){function r(c,u){Ae(c,u,"signature",e)}if(e==null)return new _a(Ad,WY,WY,27);if(typeof e=="string"){const c=rr(e,"signature");if(c.length===64){const u=ht(c.slice(0,32)),f=c.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new _a(Ad,u,ht(f),h)}if(c.length===65){const u=ht(c.slice(0,32)),f=ht(c.slice(32,64)),h=_a.getNormalizedV(c[64]);return new _a(Ad,u,f,h)}r(!1,"invalid raw signature length")}if(e instanceof _a)return e.clone();const n=e.r;r(n!=null,"missing r");const i=P6(n),o=(function(c,u){if(c!=null)return P6(c);if(u!=null){r(Zr(u,32),"invalid yParityAndS");const f=rr(u);return f[0]&=127,ht(f)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:a,v:s}=(function(c,u,f){if(c!=null){const h=xt(c);return{networkV:h>=Jx?h:void 0,v:_a.getNormalizedV(h)}}if(u!=null)return r(Zr(u,32),"invalid yParityAndS"),{v:rr(u)[0]&128?28:27};if(f!=null){switch(Qt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),l=new _a(Ad,i,o,s);return a&&ge(l,tf,a),r(e.yParity==null||Qt(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};q0=new WeakMap,zs=new WeakMap,z0=new WeakMap,tf=new WeakMap;let Co=_a;var Jl;const Dd=class Dd{constructor(e){$e(this,Jl);Ae(k0(e)===32,"invalid private key","privateKey","[REDACTED]"),ge(this,Jl,ht(e))}get privateKey(){return ee(this,Jl)}get publicKey(){return Dd.computePublicKey(ee(this,Jl))}get compressedPublicKey(){return Dd.computePublicKey(ee(this,Jl),!0)}sign(e){Ae(k0(e)===32,"invalid digest length","digest",e);const r=Mu.sign(Gi(e),Gi(ee(this,Jl)),{lowS:!0});return Co.from({r:$f(r.r,32),s:$f(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Dd.computePublicKey(e);return ht(Mu.getSharedSecret(Gi(ee(this,Jl)),rr(r),!1))}static computePublicKey(e,r){let n=rr(e,"key");if(n.length===32){const o=Mu.getPublicKey(n,!!r);return ht(o)}if(n.length===64){const o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}const i=Mu.ProjectivePoint.fromHex(n);return ht(i.toRawBytes(r))}static recoverPublicKey(e,r){Ae(k0(e)===32,"invalid digest length","digest",e);const n=Co.from(r);let i=Mu.Signature.fromCompact(Gi(cn([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const o=i.recoverPublicKey(Gi(e));return Ae(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,n){const i=Mu.ProjectivePoint.fromHex(Dd.computePublicKey(e).substring(2)),o=Mu.ProjectivePoint.fromHex(Dd.computePublicKey(r).substring(2));return"0x"+i.add(o).toHex(!!n)}};Jl=new WeakMap;let Tw=Dd;const N9e=BigInt(0),R9e=BigInt(36);function JY(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=rr(Tn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const eL={};for(let t=0;t<10;t++)eL[String(t)]=String(t);for(let t=0;t<26;t++)eL[String.fromCharCode(65+t)]=String(10+t);const QY=15;function L9e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>eL[n]).join("");for(;e.length>=QY;){let n=e.substring(0,QY);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const D9e=(function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function B9e(t){t=t.toLowerCase();let e=N9e;for(let r=0;r<t.length;r++)e=e*R9e+D9e[t[r]];return e}function Dr(t){if(Ae(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=JY(t);return Ae(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Ae(t.substring(2,4)===L9e(t),"bad icap checksum","address",t);let e=B9e(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return JY("0x"+e)}Ae(!1,"invalid address","address",t)}function j9e(t){const e=Dr(t.from);let n=xt(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Dr(bn(Tn(Sc([e,n])),12))}function Pae(t){return t&&typeof t.getAddress=="function"}async function k6(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Ge(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),Ae(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Dr(r)}function Xi(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Dr(t):(Ge(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),k6(t,e.resolveName(t)));if(Pae(t))return k6(t,t.getAddress());if(t&&typeof t.then=="function")return k6(t,t);Ae(!1,"unsupported addressable value","target",t)}const $l={};function bt(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Bi($l,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Sr(t,e){return new Bi($l,`bytes${e||""}`,t,{size:e})}const XY=Symbol.for("_ethers_typed");var fh;const Fl=class Fl{constructor(e,r,n,i){Te(this,"type");Te(this,"value");$e(this,fh);Te(this,"_typedSymbol");i==null&&(i=null),xb($l,e,"Typed"),Bt(this,{_typedSymbol:XY,type:r,value:n}),ge(this,fh,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return ee(this,fh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return ee(this,fh)===!0?-1:ee(this,fh)===!1?this.value.length:null}static from(e,r){return new Fl($l,e,r)}static uint8(e){return bt(e,8)}static uint16(e){return bt(e,16)}static uint24(e){return bt(e,24)}static uint32(e){return bt(e,32)}static uint40(e){return bt(e,40)}static uint48(e){return bt(e,48)}static uint56(e){return bt(e,56)}static uint64(e){return bt(e,64)}static uint72(e){return bt(e,72)}static uint80(e){return bt(e,80)}static uint88(e){return bt(e,88)}static uint96(e){return bt(e,96)}static uint104(e){return bt(e,104)}static uint112(e){return bt(e,112)}static uint120(e){return bt(e,120)}static uint128(e){return bt(e,128)}static uint136(e){return bt(e,136)}static uint144(e){return bt(e,144)}static uint152(e){return bt(e,152)}static uint160(e){return bt(e,160)}static uint168(e){return bt(e,168)}static uint176(e){return bt(e,176)}static uint184(e){return bt(e,184)}static uint192(e){return bt(e,192)}static uint200(e){return bt(e,200)}static uint208(e){return bt(e,208)}static uint216(e){return bt(e,216)}static uint224(e){return bt(e,224)}static uint232(e){return bt(e,232)}static uint240(e){return bt(e,240)}static uint248(e){return bt(e,248)}static uint256(e){return bt(e,256)}static uint(e){return bt(e,256)}static int8(e){return bt(e,-8)}static int16(e){return bt(e,-16)}static int24(e){return bt(e,-24)}static int32(e){return bt(e,-32)}static int40(e){return bt(e,-40)}static int48(e){return bt(e,-48)}static int56(e){return bt(e,-56)}static int64(e){return bt(e,-64)}static int72(e){return bt(e,-72)}static int80(e){return bt(e,-80)}static int88(e){return bt(e,-88)}static int96(e){return bt(e,-96)}static int104(e){return bt(e,-104)}static int112(e){return bt(e,-112)}static int120(e){return bt(e,-120)}static int128(e){return bt(e,-128)}static int136(e){return bt(e,-136)}static int144(e){return bt(e,-144)}static int152(e){return bt(e,-152)}static int160(e){return bt(e,-160)}static int168(e){return bt(e,-168)}static int176(e){return bt(e,-176)}static int184(e){return bt(e,-184)}static int192(e){return bt(e,-192)}static int200(e){return bt(e,-200)}static int208(e){return bt(e,-208)}static int216(e){return bt(e,-216)}static int224(e){return bt(e,-224)}static int232(e){return bt(e,-232)}static int240(e){return bt(e,-240)}static int248(e){return bt(e,-248)}static int256(e){return bt(e,-256)}static int(e){return bt(e,-256)}static bytes1(e){return Sr(e,1)}static bytes2(e){return Sr(e,2)}static bytes3(e){return Sr(e,3)}static bytes4(e){return Sr(e,4)}static bytes5(e){return Sr(e,5)}static bytes6(e){return Sr(e,6)}static bytes7(e){return Sr(e,7)}static bytes8(e){return Sr(e,8)}static bytes9(e){return Sr(e,9)}static bytes10(e){return Sr(e,10)}static bytes11(e){return Sr(e,11)}static bytes12(e){return Sr(e,12)}static bytes13(e){return Sr(e,13)}static bytes14(e){return Sr(e,14)}static bytes15(e){return Sr(e,15)}static bytes16(e){return Sr(e,16)}static bytes17(e){return Sr(e,17)}static bytes18(e){return Sr(e,18)}static bytes19(e){return Sr(e,19)}static bytes20(e){return Sr(e,20)}static bytes21(e){return Sr(e,21)}static bytes22(e){return Sr(e,22)}static bytes23(e){return Sr(e,23)}static bytes24(e){return Sr(e,24)}static bytes25(e){return Sr(e,25)}static bytes26(e){return Sr(e,26)}static bytes27(e){return Sr(e,27)}static bytes28(e){return Sr(e,28)}static bytes29(e){return Sr(e,29)}static bytes30(e){return Sr(e,30)}static bytes31(e){return Sr(e,31)}static bytes32(e){return Sr(e,32)}static address(e){return new Fl($l,"address",e)}static bool(e){return new Fl($l,"bool",!!e)}static bytes(e){return new Fl($l,"bytes",e)}static string(e){return new Fl($l,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Fl($l,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===XY}static dereference(e,r){if(Fl.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};fh=new WeakMap;let Bi=Fl;class $9e extends Hc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Bi.dereference(r,"string");try{n=Dr(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Dr($f(e.readValue(),20))}}class F9e extends Hc{constructor(r){super(r.name,r.type,"_",r.dynamic);Te(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function kae(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(c=>{const u=c.localName;return Ge(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:r}),Ge(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:r}),l[u]=!0,r[u]})}else Ae(!1,"invalid tuple value","tuple",r);Ae(e.length===n.length,"types/value length mismatch","tuple",r);let i=new SM,o=new SM,a=[];e.forEach((l,c)=>{let u=n[c];if(l.dynamic){let f=o.length;l.encode(o,u);let h=i.writeUpdatableValue();a.push(p=>{h(p+f)})}else l.encode(i,u)}),a.forEach(l=>{l(i.length)});let s=t.appendWriter(i);return s+=t.appendWriter(o),s}function Tae(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(o=>{let a=null;if(o.dynamic){let s=t.readIndex(),l=i.subReader(s);try{a=o.decode(l)}catch(c){if(hi(c,"BUFFER_OVERRUN"))throw c;a=c,a.baseType=o.name,a.name=o.localName,a.type=o.type}}else try{a=o.decode(t)}catch(s){if(hi(s,"BUFFER_OVERRUN"))throw s;a=s,a.baseType=o.name,a.name=o.localName,a.type=o.type}if(a==null)throw new Error("investigate");r.push(a),n.push(o.localName||null)}),Yg.fromItems(r,n)}class U9e extends Hc{constructor(r,n,i){const o=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",o,i,a);Te(this,"coder");Te(this,"length");Bt(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=Bi.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,r.writeValue(i.length)),Uoe(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let s=0;s<i.length;s++)a.push(this.coder);return kae(r,a,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Ge(n*Qi<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Qi,length:r.dataLength}));let i=[];for(let o=0;o<n;o++)i.push(new F9e(this.coder));return Tae(r,i)}}class H9e extends Hc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Bi.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Mae extends Hc{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Gi(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class q9e extends Mae{constructor(e){super("bytes",e)}decode(e){return ht(super.decode(e))}}class z9e extends Hc{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);Te(this,"size");Bt(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=Gi(Bi.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return ht(r.readBytes(this.size))}}const W9e=new Uint8Array([]);class K9e extends Hc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(W9e)}decode(e){return e.readBytes(0),null}}const V9e=BigInt(0),G9e=BigInt(1),Y9e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class J9e extends Hc{constructor(r,n,i){const o=(n?"int":"uint")+r*8;super(o,o,i,!1);Te(this,"size");Te(this,"signed");Bt(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=xt(Bi.dereference(n,this.type)),o=Qd(Y9e,Qi*8);if(this.signed){let a=Qd(o,this.size*8-1);(i>a||i<-(a+G9e))&&this._throwError("value out-of-bounds",n),i=zoe(i,8*Qi)}else(i<V9e||i>Qd(o,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=Qd(r.readValue(),this.size*8);return this.signed&&(n=I3(n,this.size*8)),n}}class Q9e extends Mae{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Ec(Bi.dereference(r,"string")))}decode(e){return P3(super.decode(e))}}class Qx extends Hc{constructor(r,n){let i=!1;const o=[];r.forEach(s=>{s.dynamic&&(i=!0),o.push(s.type)});const a="tuple("+o.join(",")+")";super("tuple",a,n,i);Te(this,"coders");Bt(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,o)=>{const a=o.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,o)=>{let a=i.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[o]))}),Object.freeze(r)}encode(r,n){const i=Bi.dereference(n,"tuple");return kae(r,this.coders,i)}decode(r){return Tae(r,this.coders)}}function T6(t,e){return{address:Dr(t),storageKeys:e.map((r,n)=>(Ae(Zr(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function ep(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(Ae(r.length===2,"invalid slot set",`value[${n}]`,r),T6(r[0],r[1])):(Ae(r!=null&&typeof r=="object","invalid address-slot set","value",t),T6(r.address,r.storageKeys)));Ae(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return T6(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Nae(t){return{address:Dr(t.address),nonce:xt(t.nonce!=null?t.nonce:0),chainId:xt(t.chainId!=null?t.chainId:0),signature:Co.from(t.signature)}}function X9e(t){let e;return typeof t=="string"?e=Tw.computePublicKey(t,!1):e=t.publicKey,Dr(Tn("0x"+e.substring(4)).substring(26))}function Z9e(t,e){return X9e(Tw.recoverPublicKey(t,e))}const Zn=BigInt(0),eLe=BigInt(2),tLe=BigInt(27),rLe=BigInt(28),nLe=BigInt(35),iLe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oLe=Symbol.for("nodejs.util.inspect.custom"),M6=4096*32,D2=128;function aLe(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rr(t.blobToKzgCommitment(ht(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rr(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return rr(t.blobToKZGCommitment(ht(n)));Ae(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return rr(t.computeBlobProof(ht(n),ht(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return rr(t.computeBlobKZGProof(ht(n),ht(i)));Ae(!1,"unsupported KZG library","kzg",t)}}}function ZY(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=mm(e).substring(4),"0x"+r}function ym(t){return t==="0x"?null:Dr(t)}function w_(t,e){try{return ep(t)}catch(r){Ae(!1,r.message,e,t)}}function sLe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:ym(i[1]),nonce:qr(i[2],"nonce"),chainId:qr(i[0],"chainId"),signature:Co.from({yParity:tp(i[3],"yParity"),r:Mc(i[4],32),s:Mc(i[5],32)})})}return r}catch(r){Ae(!1,r.message,e,t)}}function tp(t,e){return t==="0x"?0:Qt(t,e)}function qr(t,e){if(t==="0x")return Zn;const r=xt(t,e);return Ae(r<=iLe,"value exceeds uint size",e,r),r}function pr(t,e){const r=xt(t,"value"),n=Nn(r);return Ae(n.length<=32,"value too large",`tx.${e}`,r),n}function b_(t){return ep(t).map(e=>[e.address,e.storageKeys])}function lLe(t){return t.map(e=>[pr(e.chainId,"chainId"),e.address,pr(e.nonce,"nonce"),pr(e.signature.yParity,"yParity"),Nn(e.signature.r),Nn(e.signature._s)])}function cLe(t,e){Ae(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)Ae(Zr(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function uLe(t){const e=Sb(t);Ae(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:tp(e[0],"nonce"),gasPrice:qr(e[1],"gasPrice"),gasLimit:qr(e[2],"gasLimit"),to:ym(e[3]),value:qr(e[4],"value"),data:ht(e[5]),chainId:Zn};if(e.length===6)return r;const n=qr(e[6],"v"),i=qr(e[7],"r"),o=qr(e[8],"s");if(i===Zn&&o===Zn)r.chainId=n;else{let a=(n-nLe)/eLe;a<Zn&&(a=Zn),r.chainId=a,Ae(a!==Zn||n===tLe||n===rLe,"non-canonical legacy v","v",e[6]),r.signature=Co.from({r:Mc(e[7],32),s:Mc(e[8],32),v:n})}return r}function fLe(t,e){const r=[pr(t.nonce,"nonce"),pr(t.gasPrice||0,"gasPrice"),pr(t.gasLimit,"gasLimit"),t.to||"0x",pr(t.value,"value"),t.data];let n=Zn;if(t.chainId!=Zn)n=xt(t.chainId,"tx.chainId"),Ae(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==Zn&&(r.push(Nn(n)),r.push("0x"),r.push("0x")),Sc(r);let i=BigInt(27+e.yParity);return n!==Zn?i=Co.getChainIdV(n,e.v):BigInt(e.v)!==i&&Ae(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Nn(i)),r.push(Nn(e.r)),r.push(Nn(e._s)),Sc(r)}function x_(t,e){let r;try{if(r=tp(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{Ae(!1,"invalid yParity","yParity",e[0])}const n=Mc(e[1],32),i=Mc(e[2],32),o=Co.from({r:n,s:i,yParity:r});t.signature=o}function dLe(t){const e=Sb(rr(t).slice(1));Ae(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ht(t));const r={type:2,chainId:qr(e[0],"chainId"),nonce:tp(e[1],"nonce"),maxPriorityFeePerGas:qr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qr(e[4],"gasLimit"),to:ym(e[5]),value:qr(e[6],"value"),data:ht(e[7]),accessList:w_(e[8],"accessList")};return e.length===9||x_(r,e.slice(9)),r}function hLe(t,e){const r=[pr(t.chainId,"chainId"),pr(t.nonce,"nonce"),pr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pr(t.maxFeePerGas||0,"maxFeePerGas"),pr(t.gasLimit,"gasLimit"),t.to||"0x",pr(t.value,"value"),t.data,b_(t.accessList||[])];return e&&(r.push(pr(e.yParity,"yParity")),r.push(Nn(e.r)),r.push(Nn(e.s))),cn(["0x02",Sc(r)])}function pLe(t){const e=Sb(rr(t).slice(1));Ae(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ht(t));const r={type:1,chainId:qr(e[0],"chainId"),nonce:tp(e[1],"nonce"),gasPrice:qr(e[2],"gasPrice"),gasLimit:qr(e[3],"gasLimit"),to:ym(e[4]),value:qr(e[5],"value"),data:ht(e[6]),accessList:w_(e[7],"accessList")};return e.length===8||x_(r,e.slice(8)),r}function gLe(t,e){const r=[pr(t.chainId,"chainId"),pr(t.nonce,"nonce"),pr(t.gasPrice||0,"gasPrice"),pr(t.gasLimit,"gasLimit"),t.to||"0x",pr(t.value,"value"),t.data,b_(t.accessList||[])];return e&&(r.push(pr(e.yParity,"recoveryParam")),r.push(Nn(e.r)),r.push(Nn(e.s))),cn(["0x01",Sc(r)])}function mLe(t){let e=Sb(rr(t).slice(1)),r="3",n=null,i=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],s=e[2],l=e[3];Ae(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),Ae(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),Ae(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),Ae(a.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),Ae(a.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:a[c],commitment:s[c],proof:l[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=Qt(e[1]);const a=e[2],s=e[3],l=e[4];Ae(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),Ae(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),Ae(Array.isArray(s),"invalid EIP-7594 network format: commitments not an array","fields[3]",s),Ae(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),Ae(a.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),Ae(a.length*D2===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<a.length;c++){const u=[];for(let f=0;f<D2;f++)u.push(l[c*D2+f]);i.push({data:a[c],commitment:s[c],proof:cn(u)})}e=e[0]}Ae(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",ht(t));const o={type:3,chainId:qr(e[0],"chainId"),nonce:tp(e[1],"nonce"),maxPriorityFeePerGas:qr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qr(e[4],"gasLimit"),to:ym(e[5]),value:qr(e[6],"value"),data:ht(e[7]),accessList:w_(e[8],"accessList"),maxFeePerBlobGas:qr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};i&&(o.blobs=i),Ae(o.to!=null,`invalid address for transaction type: ${r}`,"data",t),Ae(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<o.blobVersionedHashes.length;a++)Ae(Zr(o.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||x_(o,e.slice(11)),o}function yLe(t,e,r){const n=[pr(t.chainId,"chainId"),pr(t.nonce,"nonce"),pr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pr(t.maxFeePerGas||0,"maxFeePerGas"),pr(t.gasLimit,"gasLimit"),t.to||kw,pr(t.value,"value"),t.data,b_(t.accessList||[]),pr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),cLe(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(pr(e.yParity,"yParity")),n.push(Nn(e.r)),n.push(Nn(e.s)),r)){if(t.blobWrapperVersion!=null){const i=Nn(t.blobWrapperVersion),o=[];for(const{proof:a}of r){const s=rr(a),l=s.length/D2;for(let c=0;c<s.length;c+=l)o.push(s.subarray(c,c+l))}return cn(["0x03",Sc([n,i,r.map(a=>a.data),r.map(a=>a.commitment),o])])}return cn(["0x03",Sc([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])])}return cn(["0x03",Sc(n)])}function vLe(t){const e=Sb(rr(t).slice(1));Ae(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ht(t));const r={type:4,chainId:qr(e[0],"chainId"),nonce:tp(e[1],"nonce"),maxPriorityFeePerGas:qr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qr(e[4],"gasLimit"),to:ym(e[5]),value:qr(e[6],"value"),data:ht(e[7]),accessList:w_(e[8],"accessList"),authorizationList:sLe(e[9],"authorizationList")};return e.length===10||x_(r,e.slice(10)),r}function wLe(t,e){const r=[pr(t.chainId,"chainId"),pr(t.nonce,"nonce"),pr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pr(t.maxFeePerGas||0,"maxFeePerGas"),pr(t.gasLimit,"gasLimit"),t.to||"0x",pr(t.value,"value"),t.data,b_(t.accessList||[]),lLe(t.authorizationList||[])];return e&&(r.push(pr(e.yParity,"yParity")),r.push(Nn(e.r)),r.push(Nn(e.s))),cn(["0x04",Sc(r)])}var as,W0,K0,V0,G0,Y0,J0,Q0,X0,Z0,eg,tg,dh,rf,Ws,nf,rg,ng,ig,B2;const $s=class $s{constructor(){$e(this,ig);$e(this,as);$e(this,W0);$e(this,K0);$e(this,V0);$e(this,G0);$e(this,Y0);$e(this,J0);$e(this,Q0);$e(this,X0);$e(this,Z0);$e(this,eg);$e(this,tg);$e(this,dh);$e(this,rf);$e(this,Ws);$e(this,nf);$e(this,rg);$e(this,ng);ge(this,as,null),ge(this,W0,null),ge(this,V0,0),ge(this,G0,Zn),ge(this,Y0,null),ge(this,J0,null),ge(this,Q0,null),ge(this,K0,"0x"),ge(this,X0,Zn),ge(this,Z0,Zn),ge(this,eg,null),ge(this,tg,null),ge(this,dh,null),ge(this,rf,null),ge(this,Ws,null),ge(this,nf,null),ge(this,rg,null),ge(this,ng,null)}get type(){return ee(this,as)}set type(e){switch(e){case null:ge(this,as,null);break;case 0:case"legacy":ge(this,as,0);break;case 1:case"berlin":case"eip-2930":ge(this,as,1);break;case 2:case"london":case"eip-1559":ge(this,as,2);break;case 3:case"cancun":case"eip-4844":ge(this,as,3);break;case 4:case"pectra":case"eip-7702":ge(this,as,4);break;default:Ae(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=ee(this,W0);return e==null&&this.type===3?kw:e}set to(e){ge(this,W0,e==null?null:Dr(e))}get nonce(){return ee(this,V0)}set nonce(e){ge(this,V0,Qt(e,"value"))}get gasLimit(){return ee(this,G0)}set gasLimit(e){ge(this,G0,xt(e))}get gasPrice(){const e=ee(this,Y0);return e==null&&(this.type===0||this.type===1)?Zn:e}set gasPrice(e){ge(this,Y0,e==null?null:xt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ee(this,J0);return e??(this.type===2||this.type===3?Zn:null)}set maxPriorityFeePerGas(e){ge(this,J0,e==null?null:xt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ee(this,Q0);return e??(this.type===2||this.type===3?Zn:null)}set maxFeePerGas(e){ge(this,Q0,e==null?null:xt(e,"maxFeePerGas"))}get data(){return ee(this,K0)}set data(e){ge(this,K0,ht(e))}get value(){return ee(this,X0)}set value(e){ge(this,X0,xt(e,"value"))}get chainId(){return ee(this,Z0)}set chainId(e){ge(this,Z0,xt(e))}get signature(){return ee(this,eg)||null}set signature(e){ge(this,eg,e==null?null:Co.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){const e=ee(this,tg)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){ge(this,tg,e==null?null:ep(e))}get authorizationList(){const e=ee(this,rg)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){ge(this,rg,e==null?null:e.map(r=>Nae(r)))}get maxFeePerBlobGas(){const e=ee(this,dh);return e==null&&this.type===3?Zn:e}set maxFeePerBlobGas(e){ge(this,dh,e==null?null:xt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ee(this,rf);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Ae(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)Ae(Zr(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}ge(this,rf,e)}get blobs(){return ee(this,nf)==null?null:ee(this,nf).map(e=>Object.assign({},e))}set blobs(e){if(e==null){ge(this,nf,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const o=e[i];if(W9(o)){Ge(ee(this,Ws),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=rr(o);if(Ae(a.length<=M6,"blob is too large",`blobs[${i}]`,o),a.length!==M6){const c=new Uint8Array(M6);c.set(a),a=c}const s=ee(this,Ws).blobToKzgCommitment(a),l=ht(ee(this,Ws).computeBlobKzgProof(a,s));r.push({data:ht(a),commitment:ht(s),proof:l}),n.push(ZY(1,s))}else{const a=ht(o.data),s=ht(o.commitment),l=ht(o.proof);r.push({data:a,commitment:s,proof:l}),n.push(ZY(1,s))}}ge(this,nf,r),ge(this,rf,n)}get kzg(){return ee(this,Ws)}set kzg(e){e==null?ge(this,Ws,null):ge(this,Ws,aLe(e))}get blobWrapperVersion(){return ee(this,ng)}set blobWrapperVersion(e){ge(this,ng,e)}get hash(){return this.signature==null?null:Tn(rt(this,ig,B2).call(this,!0,!1))}get unsignedHash(){return Tn(this.unsignedSerialized)}get from(){return this.signature==null?null:Z9e(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Tw.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return rt(this,ig,B2).call(this,!0,!0)}get unsignedSerialized(){return rt(this,ig,B2).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=ee(this,dh)!=null||ee(this,rf);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ge(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ge(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ge(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return $s.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[oLe](){return this.toString()}toString(){const e=[],r=i=>{let o=this[i];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${i}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const n=this.authorizationList;if(n){const i=[];for(const o of n){const a=[];a.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&a.push(`nonce: ${o.nonce}`),o.chainId!=null&&a.push(`chainId: ${o.chainId}`),o.signature&&a.push(`signature: ${o.signature.toString()}`),i.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new $s;if(typeof e=="string"){const n=rr(e);if(n[0]>=127)return $s.from(uLe(n));switch(n[0]){case 1:return $s.from(pLe(n));case 2:return $s.from(dLe(n));case 3:return $s.from(mLe(n));case 4:return $s.from(vLe(n))}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new $s;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Co.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(Ae(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Ae(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Ae(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Ae(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};as=new WeakMap,W0=new WeakMap,K0=new WeakMap,V0=new WeakMap,G0=new WeakMap,Y0=new WeakMap,J0=new WeakMap,Q0=new WeakMap,X0=new WeakMap,Z0=new WeakMap,eg=new WeakMap,tg=new WeakMap,dh=new WeakMap,rf=new WeakMap,Ws=new WeakMap,nf=new WeakMap,rg=new WeakMap,ng=new WeakMap,ig=new WeakSet,B2=function(e,r){Ge(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return fLe(this,n);case 1:return gLe(this,n);case 2:return hLe(this,n);case 3:return yLe(this,n,r?this.blobs:null);case 4:return wLe(this,n)}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let T3=$s;function Dh(t){return Tn(Ec(t))}var bLe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const eJ=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),tJ=4;function xLe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let P=1;P<n;P++)o.push(i+=r());let a=r(),s=e;e+=a;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,h=2**f,p=h>>>1,y=p>>1,m=h-1;let v=0;for(let P=0;P<f;P++)v=v<<1|u();let w=[],A=0,_=h;for(;;){let P=Math.floor(((v-A+1)*i-1)/_),U=0,F=n;for(;F-U>1;){let B=U+F>>>1;P<o[B]?F=B:U=B}if(U==0)break;w.push(U);let N=A+Math.floor(_*o[U]/i),L=A+Math.floor(_*o[U+1]/i)-1;for(;((N^L)&p)==0;)v=v<<1&m|u(),N=N<<1&m,L=L<<1&m|1;for(;N&~L&y;)v=v&p|v<<1&m>>>1|u(),N=N<<1^p,L=(L^p)<<1|p|1;A=N,_=1+L-N}let D=n-4;return w.map(P=>{switch(P-D){case 3:return D+65792+(t[s++]<<16|t[s++]<<8|t[s++]);case 2:return D+256+(t[s++]<<8|t[s++]);case 1:return D+t[s++];default:return P-1}})}function ELe(t){let e=0;return()=>t[e++]}function Rae(t){return ELe(xLe(SLe(t)))}function SLe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,o=0,a=0,s=0;i<r;i++)s=s<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(n[o++]=s>>(a-=8));return n}function _Le(t){return t&1?~t>>1:t>>1}function ALe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=_Le(e());return r}function Mw(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let o=0;o<i;o++)r.push(e+o);e+=i+1}return r}function Lae(t){return Nw(()=>{let e=Mw(t);if(e.length)return e})}function Dae(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(CLe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(OLe(r,t))}return e.flat()}function Nw(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Bae(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)ALe(t,r).forEach((o,a)=>n[a].push(o));return n}function CLe(t,e){let r=1+e(),n=e(),i=Nw(e);return Bae(i.length,1+t,e).flatMap((a,s)=>{let[l,...c]=a;return Array(i[s]).fill().map((u,f)=>{let h=f*n;return[l+f*r,c.map(p=>p+h)]})})}function OLe(t,e){let r=1+e();return Bae(r,1+t,e).map(i=>[i[0],i.slice(1)])}function ILe(t){let e=[],r=Mw(t);return i(n([]),[]),e;function n(o){let a=t(),s=Nw(()=>{let l=Mw(t).map(c=>r[c]);if(l.length)return n(l)});return{S:a,B:s,Q:o}}function i({S:o,B:a},s,l){if(!(o&4&&l===s[s.length-1])){o&2&&(l=s[s.length-1]),o&1&&e.push(s);for(let c of a)for(let u of c.Q)i(c,[...s,u],l)}}}function PLe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function jae(t){return`{${PLe(t)}}`}function kLe(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function Zg(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function TLe(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var MLe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Rw=44032,M3=4352,N3=4449,R3=4519,$ae=19,Fae=21,em=28,L3=Fae*em,NLe=$ae*L3,RLe=Rw+NLe,LLe=M3+$ae,DLe=N3+Fae,BLe=R3+em;function Ky(t){return t>>24&255}function Uae(t){return t&16777215}let MM,rJ,NM,j2;function jLe(){let t=Rae(MLe);MM=new Map(Lae(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),rJ=new Set(Mw(t)),NM=new Map,j2=new Map;for(let[e,r]of Dae(t)){if(!rJ.has(e)&&r.length==2){let[n,i]=r,o=j2.get(n);o||(o=new Map,j2.set(n,o)),o.set(i,e)}NM.set(e,r.reverse())}}function Hae(t){return t>=Rw&&t<RLe}function $Le(t,e){if(t>=M3&&t<LLe&&e>=N3&&e<DLe)return Rw+(t-M3)*L3+(e-N3)*em;if(Hae(t)&&e>R3&&e<BLe&&(t-Rw)%em==0)return t+(e-R3);{let r=j2.get(t);return r&&(r=r.get(e),r)?r:-1}}function qae(t){MM||jLe();let e=[],r=[],n=!1;function i(o){let a=MM.get(o);a&&(n=!0,o|=a),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(Hae(o)){let a=o-Rw,s=a/L3|0,l=a%L3/em|0,c=a%em;i(M3+s),i(N3+l),c>0&&i(R3+c)}else{let a=NM.get(o);a?r.push(...a):i(o)}if(!r.length)break;o=r.pop()}if(n&&e.length>1){let o=Ky(e[0]);for(let a=1;a<e.length;a++){let s=Ky(e[a]);if(s==0||o<=s){o=s;continue}let l=a-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Ky(e[--l]),o<=s))break}o=Ky(e[a])}}return e}function FLe(t){let e=[],r=[],n=-1,i=0;for(let o of t){let a=Ky(o),s=Uae(o);if(n==-1)a==0?n=s:e.push(s);else if(i>0&&i>=a)a==0?(e.push(n,...r),r.length=0,n=s):r.push(s),i=a;else{let l=$Le(n,s);l>=0?n=l:i==0&&a==0?(e.push(n),n=s):(r.push(s),i=a)}}return n>=0&&e.push(n,...r),e}function zae(t){return qae(t).map(Uae)}function ULe(t){return FLe(qae(t))}const nJ=45,Wae=".",Kae=65039,Vae=1,D3=t=>Array.from(t);function Lw(t,e){return t.P.has(e)||t.Q.has(e)}class HLe extends Array{get is_emoji(){return!0}}let RM,Gae,Zd,LM,Yae,M0,N6,Jp,Nd,iJ,DM;function tL(){if(RM)return;let t=Rae(bLe);const e=()=>Mw(t),r=()=>new Set(e()),n=(u,f)=>f.forEach(h=>u.add(h));RM=new Map(Dae(t)),Gae=r(),Zd=e(),LM=new Set(e().map(u=>Zd[u])),Zd=new Set(Zd),Yae=r(),r();let i=Lae(t),o=t();const a=()=>{let u=new Set;return e().forEach(f=>n(u,i[f])),n(u,e()),u};M0=Nw(u=>{let f=Nw(t).map(h=>h+96);if(f.length){let h=u>=o;f[0]-=32,f=Zg(f),h&&(f=`Restricted[${f}]`);let p=a(),y=a(),m=!t();return{N:f,P:p,Q:y,M:m,R:h}}}),N6=r(),Jp=new Map;let s=e().concat(D3(N6)).sort((u,f)=>u-f);s.forEach((u,f)=>{let h=t(),p=s[f]=h?s[f-h]:{V:[],M:new Map};p.V.push(u),N6.has(u)||Jp.set(u,p)});for(let{V:u,M:f}of new Set(Jp.values())){let h=[];for(let y of u){let m=M0.filter(w=>Lw(w,y)),v=h.find(({G:w})=>m.some(A=>w.has(A)));v||(v={G:new Set,V:[]},h.push(v)),v.V.push(y),n(v.G,m)}let p=h.flatMap(y=>D3(y.G));for(let{G:y,V:m}of h){let v=new Set(p.filter(w=>!y.has(w)));for(let w of m)f.set(w,v)}}Nd=new Set;let l=new Set;const c=u=>Nd.has(u)?l.add(u):Nd.add(u);for(let u of M0){for(let f of u.P)c(f);for(let f of u.Q)c(f)}for(let u of Nd)!Jp.has(u)&&!l.has(u)&&Jp.set(u,Vae);n(Nd,zae(Nd)),iJ=ILe(t).map(u=>HLe.from(u)).sort(TLe),DM=new Map;for(let u of iJ){let f=[DM];for(let h of u){let p=f.map(y=>{let m=y.get(h);return m||(m=new Map,y.set(h,m)),m});h===Kae?f.push(...p):f=p}for(let h of f)h.V=u}}function rL(t){return(Jae(t)?"":`${nL(E_([t]))} `)+jae(t)}function nL(t){return`"${t}"`}function qLe(t){if(t.length>=4&&t[2]==nJ&&t[3]==nJ)throw new Error(`invalid label extension: "${Zg(t.slice(0,4))}"`)}function zLe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function WLe(t){let e=t[0],r=eJ.get(e);if(r)throw wv(`leading ${r}`);let n=t.length,i=-1;for(let o=1;o<n;o++){e=t[o];let a=eJ.get(e);if(a){if(i==o)throw wv(`${r} + ${a}`);i=o+1,r=a}}if(i==n)throw wv(`trailing ${r}`)}function E_(t,e=1/0,r=jae){let n=[];KLe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let a=0;a<o;a++){let s=t[a];Jae(s)&&(n.push(Zg(t.slice(i,a))),n.push(r(s)),i=a+1)}return n.push(Zg(t.slice(i,o))),n.join("")}function KLe(t){return tL(),Zd.has(t)}function Jae(t){return tL(),Yae.has(t)}function VLe(t){return QLe(GLe(t,ULe,e7e))}function GLe(t,e,r){if(!t)return[];tL();let n=0;return t.split(Wae).map(i=>{let o=kLe(i),a={input:o,offset:n};n+=o.length+1;try{let s=a.tokens=ZLe(o,e,r),l=s.length,c;if(!l)throw new Error("empty label");let u=a.output=s.flat();if(zLe(u),!(a.emoji=l>1||s[0].is_emoji)&&u.every(h=>h<128))qLe(u),c="ASCII";else{let h=s.flatMap(p=>p.is_emoji?[]:p);if(!h.length)c="Emoji";else{if(Zd.has(u[0]))throw wv("leading combining mark");for(let m=1;m<l;m++){let v=s[m];if(!v.is_emoji&&Zd.has(v[0]))throw wv(`emoji + combining mark: "${Zg(s[m-1])} + ${E_([v[0]])}"`)}WLe(u);let p=D3(new Set(h)),[y]=JLe(p);XLe(y,h),YLe(y,p),c=y.N}}a.type=c}catch(s){a.error=s}return a})}function YLe(t,e){let r,n=[];for(let i of e){let o=Jp.get(i);if(o===Vae)return;if(o){let a=o.M.get(i);if(r=r?r.filter(s=>a.has(s)):D3(a),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(o=>Lw(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function JLe(t){let e=M0;for(let r of t){let n=e.filter(i=>Lw(i,r));if(!n.length)throw M0.some(i=>Lw(i,r))?Xae(e[0],r):Qae(r);if(e=n,n.length==1)break}return e}function QLe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${nL(E_(e,63))}: ${i}`)}return Zg(n)}).join(Wae)}function Qae(t){return new Error(`disallowed character: ${rL(t)}`)}function Xae(t,e){let r=rL(e),n=M0.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function wv(t){return new Error(`illegal placement: ${t}`)}function XLe(t,e){for(let r of e)if(!Lw(t,r))throw Xae(t,r);if(t.M){let r=zae(e);for(let n=1,i=r.length;n<i;n++)if(LM.has(r[n])){let o=n+1;for(let a;o<i&&LM.has(a=r[o]);o++)for(let s=n;s<o;s++)if(r[s]==a)throw new Error(`duplicate non-spacing marks: ${rL(a)}`);if(o-n>tJ)throw new Error(`excessive non-spacing marks: ${nL(E_(r.slice(n-1,o)))} (${o-n}/${tJ})`);n=o}}}function ZLe(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let o=t7e(t);if(o)i.length&&(n.push(e(i)),i=[]),n.push(r(o));else{let a=t.pop();if(Nd.has(a))i.push(a);else{let s=RM.get(a);if(s)i.push(...s);else if(!Gae.has(a))throw Qae(a)}}}return i.length&&n.push(e(i)),n}function e7e(t){return t.filter(e=>e!=Kae)}function t7e(t,e){let r=DM,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:o}=r;o&&(n=o,t.length=i)}return n}const Zae=new Uint8Array(32);Zae.fill(0);function oJ(t){return Ae(t.length!==0,"invalid ENS name; empty component","comp",t),t}function ese(t){const e=Ec(r7e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(oJ(e.slice(n,i))),n=i+1);return Ae(n<e.length,"invalid ENS name; empty component","name",t),r.push(oJ(e.slice(n))),r}function r7e(t){try{if(t.length===0)throw new Error("empty label");return VLe(t)}catch(e){Ae(!1,`invalid ENS name (${e.message})`,"name",t)}}function BM(t){Ae(typeof t=="string","invalid ENS name; not a string","name",t),Ae(t.length,"invalid ENS name (empty label)","name",t);let e=Zae;const r=ese(t);for(;r.length;)e=Tn(cn([e,Tn(r.pop())]));return ht(e)}function n7e(t,e){const r=e;return Ae(r<=255,"DNS encoded label cannot exceed 255","length",r),ht(cn(ese(t).map(n=>{Ae(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}const tse=new Uint8Array(32);tse.fill(0);const i7e=BigInt(-1),rse=BigInt(0),nse=BigInt(1),o7e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function a7e(t){const e=rr(t),r=e.length%32;return r?cn([e,tse.slice(r)]):ht(e)}const s7e=$f(nse,32),l7e=$f(rse,32),aJ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},R6=["name","version","chainId","verifyingContract","salt"];function sJ(t){return function(e){return Ae(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const c7e={name:sJ("name"),version:sJ("version"),chainId:function(t){const e=xt(t,"domain.chainId");return Ae(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ds(e)},verifyingContract:function(t){try{return Dr(t).toLowerCase()}catch{}Ae(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=rr(t,"domain.salt");return Ae(e.length===32,'invalid domain value "salt"',"domain.salt",t),ht(e)}};function L6(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);Ae(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=Qd(o7e,r?n-1:n),o=r?(i+nse)*i7e:rse;return function(a){const s=xt(a,"value");return Ae(s>=o&&s<=i,`value out-of-bounds for ${t}`,"value",s),$f(r?zoe(s,256):s,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Ae(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=rr(n);return Ae(i.length===r,`invalid length for ${t}`,"value",n),a7e(n)}}}switch(t){case"address":return function(e){return Mc(Dr(e),32)};case"bool":return function(e){return e?s7e:l7e};case"bytes":return function(e){return Tn(e)};case"string":return function(e){return Dh(e)}}return null}function lJ(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function Xx(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Kw,Ql,og,Y3,ise;const Aa=class Aa{constructor(e){$e(this,Y3);Te(this,"primaryType");$e(this,Kw);$e(this,Ql);$e(this,og);ge(this,Ql,new Map),ge(this,og,new Map);const r=new Map,n=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:f,index:h}=Xx(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:c,type:f+(h||"")}}),r.set(l,new Set),n.set(l,[]),i.set(l,new Set)}),ge(this,Kw,JSON.stringify(o));for(const l in o){const c=new Set;for(const u of o[l]){Ae(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const f=Xx(u.type).base;Ae(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!L6(f)&&(Ae(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(l),r.get(l).add(f))}}const a=Array.from(n.keys()).filter(l=>n.get(l).length===0);Ae(a.length!==0,"missing primary type","types",e),Ae(a.length===1,`ambiguous primary types or unused types: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Bt(this,{primaryType:a[0]});function s(l,c){Ae(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of r.get(l))if(n.has(u)){s(u,c);for(const f of c)i.get(f).add(u)}c.delete(l)}s(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),ee(this,Ql).set(l,lJ(l,o[l])+u.map(f=>lJ(f,o[f])).join(""))}}get types(){return JSON.parse(ee(this,Kw))}getEncoder(e){let r=ee(this,og).get(e);return r||(r=rt(this,Y3,ise).call(this,e),ee(this,og).set(e,r)),r}encodeType(e){const r=ee(this,Ql).get(e);return Ae(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Tn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(L6(e))return n(e,r);const i=Xx(e).array;if(i)return Ae(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(a=>this._visit(i.prefix,a,n));const o=this.types[e];if(o)return o.reduce((a,{name:s,type:l})=>(a[s]=this._visit(l,r[s],n),a),{});Ae(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Aa(e)}static getPrimaryType(e){return Aa.from(e).primaryType}static hashStruct(e,r,n){return Aa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=aJ[n];Ae(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>R6.indexOf(n.name)-R6.indexOf(i.name)),Aa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return cn(["0x1901",Aa.hashDomain(e),Aa.from(r).hash(n)])}static hash(e,r,n){return Tn(Aa.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const s in e)e[s]==null&&delete e[s];const o={};e.verifyingContract&&!Zr(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=Aa.from(r);a.visit(n,(s,l)=>(s==="address"&&!Zr(l,20)&&(o[l]="0x"),l));for(const s in o)o[s]=await i(s);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=a.visit(n,(s,l)=>s==="address"&&o[l]?o[l]:l),{domain:e,value:n}}static getPayload(e,r,n){Aa.hashDomain(e);const i={},o=[];R6.forEach(l=>{const c=e[l];c!=null&&(i[l]=c7e[l](c),o.push({name:l,type:aJ[l]}))});const a=Aa.from(r);r=a.types;const s=Object.assign({},r);return Ae(s.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),s.EIP712Domain=o,a.encode(n),{types:s,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return ht(rr(c));if(l.match(/^u?int/))return xt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return Ae(typeof c=="string","invalid string","value",c),c}Ae(!1,"unsupported type","type",l)})}}};Kw=new WeakMap,Ql=new WeakMap,og=new WeakMap,Y3=new WeakSet,ise=function(e){{const i=L6(e);if(i)return i}const r=Xx(e).array;if(r){const i=r.prefix,o=this.getEncoder(i);return a=>{Ae(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let s=a.map(o);return ee(this,Ql).has(i)&&(s=s.map(Tn)),Tn(cn(s))}}const n=this.types[e];if(n){const i=Dh(ee(this,Ql).get(e));return o=>{const a=n.map(({name:s,type:l})=>{const c=this.getEncoder(l)(o[s]);return ee(this,Ql).has(l)?Tn(c):c});return a.unshift(i),cn(a)}}Ae(!1,`unknown type: ${e}`,"type",e)};let B3=Aa;function Zi(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const u7e="external public payable override",f7e=Zi(u7e.split(" ")),ose="constant external internal payable private public pure view override",d7e=Zi(ose.split(" ")),ase="constructor error event fallback function receive struct",sse=Zi(ase.split(" ")),lse="calldata memory storage payable indexed",h7e=Zi(lse.split(" ")),p7e="tuple returns",g7e=[ase,lse,p7e,ose].join(" "),m7e=Zi(g7e.split(" ")),y7e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},v7e=new RegExp("^(\\s*)"),w7e=new RegExp("^([0-9]+)"),b7e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cse=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),use=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var li,ss,Vw,jM;const J3=class J3{constructor(e){$e(this,Vw);$e(this,li);$e(this,ss);ge(this,li,0),ge(this,ss,e.slice())}get offset(){return ee(this,li)}get length(){return ee(this,ss).length-ee(this,li)}clone(){return new J3(ee(this,ss))}reset(){ge(this,li,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=rt(this,Vw,jM).call(this,ee(this,li)+1,e.match+1);return ge(this,li,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;ee(this,li)<e.match-1;){const n=this.peek().linkNext;r.push(rt(this,Vw,jM).call(this,ee(this,li)+1,n)),ge(this,li,n)}return ge(this,li,e.match+1),r}peek(){if(ee(this,li)>=ee(this,ss).length)throw new Error("out-of-bounds");return ee(this,ss)[ee(this,li)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return ny(this,li)._++,e}toString(){const e=[];for(let r=ee(this,li);r<ee(this,ss).length;r++){const n=ee(this,ss)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};li=new WeakMap,ss=new WeakMap,Vw=new WeakSet,jM=function(e=0,r=0){return new J3(ee(this,ss).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Es=J3;function Gf(t){const e=[],r=a=>{const s=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${s} at ${o}: ${a}`)};let n=[],i=[],o=0;for(;o<t.length;){let a=t.substring(o),s=a.match(v7e);s&&(o+=s[1].length,a=t.substring(o));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=y7e[a[0]]||"";if(c){if(l.type=c,l.text=a[0],o++,c==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),l.match=n.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=Qt(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(s=a.match(b7e),s){if(l.text=s[1],o+=l.text.length,m7e.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(use)){l.type="TYPE";continue}l.type="ID";continue}if(s=a.match(w7e),s){l.text=s[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${o}`)}return new Es(e.map(a=>Object.freeze(a)))}function cJ(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function S_(t,e){if(e.peekKeyword(sse)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Nc(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function fse(t){let e=Nc(t,d7e);return cJ(e,Zi("constant payable nonpayable".split(" "))),cJ(e,Zi("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function _c(t,e){return t.popParams().map(r=>gi.from(r,e))}function dse(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return xt(t.pop().text);throw new Error("invalid gas")}return null}function Bh(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const x7e=new RegExp(/^(.*)\[([0-9]*)\]$/);function uJ(t){const e=t.match(use);if(Ae(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);Ae(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);Ae(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const pn={},Io=Symbol.for("_ethers_internal"),fJ="_ParamTypeInternal",dJ="_ErrorInternal",hJ="_EventInternal",pJ="_ConstructorInternal",gJ="_FallbackInternal",mJ="_FunctionInternal",yJ="_StructInternal";var ag,$2;const Ca=class Ca{constructor(e,r,n,i,o,a,s,l){$e(this,ag);Te(this,"name");Te(this,"type");Te(this,"baseType");Te(this,"indexed");Te(this,"components");Te(this,"arrayLength");Te(this,"arrayChildren");if(xb(e,pn,"ParamType"),Object.defineProperty(this,Io,{value:fJ}),a&&(a=Object.freeze(a.slice())),i==="array"){if(s==null||l==null)throw new Error("")}else if(s!=null||l!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Bt(this,{name:r,type:n,baseType:i,indexed:o,components:a,arrayLength:s,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,o)=>n.components[o].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return rt(this,ag,$2).call(this,n,e,r,o=>{i[0]=o}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(Ca.isParamType(e))return e;if(typeof e=="string")try{return Ca.from(Gf(e),r)}catch{Ae(!1,"invalid param type","obj",e)}else if(e instanceof Es){let s="",l="",c=null;Nc(e,Zi(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>Ca.from(m)),s=`tuple(${c.map(m=>m.format()).join(",")})`):(s=uJ(e.popType("TYPE")),l=s);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new Ca(pn,"",s,l,null,c,f,u),f=m.value,s+=m.text,l="array",c=null}let h=null;if(Nc(e,h7e).has("indexed")){if(!r)throw new Error("");h=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ca(pn,y,s,l,h,c,f,u)}const n=e.name;Ae(!n||typeof n=="string"&&n.match(cse),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(Ae(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,a=o.match(x7e);if(a){const s=parseInt(a[2]||"-1"),l=Ca.from({type:a[1],components:e.components});return new Ca(pn,n||"",o,"array",i,null,s,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const s=e.components!=null?e.components.map(c=>Ca.from(c)):null;return new Ca(pn,n||"",o,"tuple",i,s,null,null)}return o=uJ(e.type),new Ca(pn,n||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Io]===fJ}};ag=new WeakSet,$2=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,s=r.slice();s.forEach((l,c)=>{var u;rt(u=a,ag,$2).call(u,e,l,n,f=>{s[c]=f})}),i(s);return}if(this.isTuple()){const a=this.components;let s;if(Array.isArray(r))s=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");s=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in r))throw new Error(`missing value for component ${l.name}`);return r[l.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");s.forEach((l,c)=>{var u;rt(u=a[c],ag,$2).call(u,e,l,n,f=>{s[c]=f})}),i(s);return}const o=n(this.type,r);o.then?e.push((async function(){i(await o)})()):i(o)};let gi=Ca;class jh{constructor(e,r,n){Te(this,"type");Te(this,"inputs");xb(e,pn,"Fragment"),n=Object.freeze(n.slice()),Bt(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{jh.from(JSON.parse(e))}catch{}return jh.from(Gf(e))}if(e instanceof Es)switch(e.peekKeyword(sse)){case"constructor":return mc.from(e);case"error":return xo.from(e);case"event":return rl.from(e);case"fallback":case"receive":return Kl.from(e);case"function":return nl.from(e);case"struct":return Oh.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return mc.from(e);case"error":return xo.from(e);case"event":return rl.from(e);case"fallback":case"receive":return Kl.from(e);case"function":return nl.from(e);case"struct":return Oh.from(e)}Ge(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Ae(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return mc.isFragment(e)}static isError(e){return xo.isFragment(e)}static isEvent(e){return rl.isFragment(e)}static isFunction(e){return nl.isFragment(e)}static isStruct(e){return Oh.isFragment(e)}}class __ extends jh{constructor(r,n,i,o){super(r,n,o);Te(this,"name");Ae(typeof i=="string"&&i.match(cse),"invalid identifier","name",i),o=Object.freeze(o.slice()),Bt(this,{name:i})}}function Dw(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class xo extends __{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Io,{value:dJ})}get selector(){return Dh(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Dw(e,this.inputs)),r.join(" ")}static from(e){if(xo.isFragment(e))return e;if(typeof e=="string")return xo.from(Gf(e));if(e instanceof Es){const r=S_("error",e),n=_c(e);return Bh(e),new xo(pn,r,n)}return new xo(pn,e.name,e.inputs?e.inputs.map(gi.from):[])}static isFragment(e){return e&&e[Io]===dJ}}class rl extends __{constructor(r,n,i,o){super(r,"event",n,i);Te(this,"anonymous");Object.defineProperty(this,Io,{value:hJ}),Bt(this,{anonymous:o})}get topicHash(){return Dh(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Dw(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(o=>gi.from(o)),new rl(pn,r,n,!1).topicHash}static from(r){if(rl.isFragment(r))return r;if(typeof r=="string")try{return rl.from(Gf(r))}catch{Ae(!1,"invalid event fragment","obj",r)}else if(r instanceof Es){const n=S_("event",r),i=_c(r,!0),o=!!Nc(r,Zi(["anonymous"])).has("anonymous");return Bh(r),new rl(pn,n,i,o)}return new rl(pn,r.name,r.inputs?r.inputs.map(n=>gi.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Io]===hJ}}class mc extends jh{constructor(r,n,i,o,a){super(r,n,i);Te(this,"payable");Te(this,"gas");Object.defineProperty(this,Io,{value:pJ}),Bt(this,{payable:o,gas:a})}format(r){if(Ge(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${Dw(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(mc.isFragment(r))return r;if(typeof r=="string")try{return mc.from(Gf(r))}catch{Ae(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Es){Nc(r,Zi(["constructor"]));const n=_c(r),i=!!Nc(r,f7e).has("payable"),o=dse(r);return Bh(r),new mc(pn,"constructor",n,i,o)}return new mc(pn,"constructor",r.inputs?r.inputs.map(gi.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Io]===pJ}}class Kl extends jh{constructor(r,n,i){super(r,"fallback",n);Te(this,"payable");Object.defineProperty(this,Io,{value:gJ}),Bt(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(Kl.isFragment(r))return r;if(typeof r=="string")try{return Kl.from(Gf(r))}catch{Ae(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Es){const n=r.toString(),i=r.peekKeyword(Zi(["fallback","receive"]));if(Ae(i,"type must be fallback or receive","obj",n),r.popKeyword(Zi(["fallback","receive"]))==="receive"){const l=_c(r);return Ae(l.length===0,"receive cannot have arguments","obj.inputs",l),Nc(r,Zi(["payable"])),Bh(r),new Kl(pn,[],!0)}let a=_c(r);a.length?Ae(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[gi.from("bytes")];const s=fse(r);if(Ae(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Nc(r,Zi(["returns"])).has("returns")){const l=_c(r);Ae(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return Bh(r),new Kl(pn,a,s==="payable")}if(r.type==="receive")return new Kl(pn,[],!0);if(r.type==="fallback"){const n=[gi.from("bytes")],i=r.stateMutability==="payable";return new Kl(pn,n,i)}Ae(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Io]===gJ}}class nl extends __{constructor(r,n,i,o,a,s){super(r,"function",n,o);Te(this,"constant");Te(this,"outputs");Te(this,"stateMutability");Te(this,"payable");Te(this,"gas");Object.defineProperty(this,Io,{value:mJ}),a=Object.freeze(a.slice()),Bt(this,{constant:i==="view"||i==="pure",gas:s,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return Dh(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Dw(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Dw(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(o=>gi.from(o)),new nl(pn,r,"view",n,[],null).selector}static from(r){if(nl.isFragment(r))return r;if(typeof r=="string")try{return nl.from(Gf(r))}catch{Ae(!1,"invalid function fragment","obj",r)}else if(r instanceof Es){const i=S_("function",r),o=_c(r),a=fse(r);let s=[];Nc(r,Zi(["returns"])).has("returns")&&(s=_c(r));const l=dse(r);return Bh(r),new nl(pn,i,a,o,s,l)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new nl(pn,r.name,n,r.inputs?r.inputs.map(gi.from):[],r.outputs?r.outputs.map(gi.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Io]===mJ}}class Oh extends __{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Io,{value:yJ})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Oh.from(Gf(e))}catch{Ae(!1,"invalid struct fragment","obj",e)}else if(e instanceof Es){const r=S_("struct",e),n=_c(e);return Bh(e),new Oh(pn,r,n)}return new Oh(pn,e.name,e.inputs?e.inputs.map(gi.from):[])}static isFragment(e){return e&&e[Io]===yJ}}const Os=new Map;Os.set(0,"GENERIC_PANIC");Os.set(1,"ASSERT_FALSE");Os.set(17,"OVERFLOW");Os.set(18,"DIVIDE_BY_ZERO");Os.set(33,"ENUM_RANGE_ERROR");Os.set(34,"BAD_STORAGE_DATA");Os.set(49,"STACK_UNDERFLOW");Os.set(50,"ARRAY_RANGE_ERROR");Os.set(65,"OUT_OF_MEMORY");Os.set(81,"UNINITIALIZED_FUNCTION_CALL");const E7e=new RegExp(/^bytes([0-9]*)$/),S7e=new RegExp(/^(u?int)([0-9]*)$/);let D6=null,vJ=1024;function _7e(t,e,r,n){let i="missing revert data",o=null;const a=null;let s=null;if(r){i="execution reverted";const c=rr(r);if(r=ht(r),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ht(c.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],c.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ht(c.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],c.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Os.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?Dr(e.to):null,data:e.data||"0x"};return e.from&&(l.from=Dr(e.from)),sn(i,"CALL_EXCEPTION",{action:t,data:r,reason:o,transaction:l,invocation:a,revert:s})}var of,Qp;const Q3=class Q3{constructor(){$e(this,of)}getDefaultValue(e){const r=e.map(i=>rt(this,of,Qp).call(this,gi.from(i)));return new Qx(r,"_").defaultValue()}encode(e,r){Uoe(r.length,e.length,"types/values length mismatch");const n=e.map(a=>rt(this,of,Qp).call(this,gi.from(a))),i=new Qx(n,"_"),o=new SM;return i.encode(o,r),o.data}decode(e,r,n){const i=e.map(a=>rt(this,of,Qp).call(this,gi.from(a)));return new Qx(i,"_").decode(new _M(r,n,vJ))}static _setDefaultMaxInflation(e){Ae(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),vJ=e}static defaultAbiCoder(){return D6==null&&(D6=new Q3),D6}static getBuiltinCallException(e,r,n){return _7e(e,r,n,Q3.defaultAbiCoder())}};of=new WeakSet,Qp=function(e){if(e.isArray())return new U9e(rt(this,of,Qp).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Qx(e.components.map(n=>rt(this,of,Qp).call(this,n)),e.name);switch(e.baseType){case"address":return new $9e(e.name);case"bool":return new H9e(e.name);case"string":return new Q9e(e.name);case"bytes":return new q9e(e.name);case"":return new K9e(e.name)}let r=e.type.match(S7e);if(r){let n=parseInt(r[2]||"256");return Ae(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new J9e(n/8,r[1]==="int",e.name)}if(r=e.type.match(E7e),r){let n=parseInt(r[1]);return Ae(n!==0&&n<=32,"invalid bytes length","param",e),new z9e(n,e.name)}Ae(!1,"invalid type","type",e.type)};let Bw=Q3;class A7e{constructor(e,r,n){Te(this,"fragment");Te(this,"name");Te(this,"signature");Te(this,"topic");Te(this,"args");const i=e.name,o=e.format();Bt(this,{fragment:e,name:i,signature:o,topic:r,args:n})}}class C7e{constructor(e,r,n,i){Te(this,"fragment");Te(this,"name");Te(this,"args");Te(this,"signature");Te(this,"selector");Te(this,"value");const o=e.name,a=e.format();Bt(this,{fragment:e,name:o,args:n,signature:a,selector:r,value:i})}}class O7e{constructor(e,r,n){Te(this,"fragment");Te(this,"name");Te(this,"args");Te(this,"signature");Te(this,"selector");const i=e.name,o=e.format();Bt(this,{fragment:e,name:i,args:n,signature:o,selector:r})}}class wJ{constructor(e){Te(this,"hash");Te(this,"_isIndexed");Bt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const bJ={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},xJ={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&bJ[t.toString()]&&(e=bJ[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ks,Vs,Gs,Ai,yl,F2,U2;const Bd=class Bd{constructor(e){$e(this,yl);Te(this,"fragments");Te(this,"deploy");Te(this,"fallback");Te(this,"receive");$e(this,Ks);$e(this,Vs);$e(this,Gs);$e(this,Ai);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ge(this,Gs,new Map),ge(this,Ks,new Map),ge(this,Vs,new Map);const n=[];for(const a of r)try{n.push(jh.from(a))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,s.message)}Bt(this,{fragments:Object.freeze(n)});let i=null,o=!1;ge(this,Ai,this.getAbiCoder()),this.fragments.forEach((a,s)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Bt(this,{deploy:a});return;case"fallback":a.inputs.length===0?o=!0:(Ae(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${s}]`,a),i=a,o=i.payable);return;case"function":l=ee(this,Gs);break;case"event":l=ee(this,Vs);break;case"error":l=ee(this,Ks);break;default:return}const c=a.format();l.has(c)||l.set(c,a)}),this.deploy||Bt(this,{deploy:mc.from("constructor()")}),Bt(this,{fallback:i,receive:o})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Bw.defaultAbiCoder()}getFunctionName(e){const r=rt(this,yl,F2).call(this,e,null,!1);return Ae(r,"no matching function","key",e),r.name}hasFunction(e){return!!rt(this,yl,F2).call(this,e,null,!1)}getFunction(e,r){return rt(this,yl,F2).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(ee(this,Gs).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ee(this,Gs).get(i),n)}}getEventName(e){const r=rt(this,yl,U2).call(this,e,null,!1);return Ae(r,"no matching event","key",e),r.name}hasEvent(e){return!!rt(this,yl,U2).call(this,e,null,!1)}getEvent(e,r){return rt(this,yl,U2).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(ee(this,Vs).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ee(this,Vs).get(i),n)}}getError(e,r){if(Zr(e)){const i=e.toLowerCase();if(xJ[i])return xo.from(xJ[i].signature);for(const o of ee(this,Ks).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of ee(this,Ks))o.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?xo.from("error Error(string)"):e==="Panic"?xo.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(a=>JSON.stringify(a.format())).join(", ");Ae(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=xo.from(e).format(),e==="Error(string)")return xo.from("error Error(string)");if(e==="Panic(uint256)")return xo.from("error Panic(uint256)");const n=ee(this,Ks).get(e);return n||null}forEachError(e){const r=Array.from(ee(this,Ks).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ee(this,Ks).get(i),n)}}_decodeParams(e,r){return ee(this,Ai).decode(e,r)}_encodeParams(e,r){return ee(this,Ai).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);Ae(n,"unknown error","fragment",e),e=n}return Ae(bn(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,bn(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);Ae(n,"unknown error","fragment",e),e=n}return cn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);Ae(n,"unknown function","fragment",e),e=n}return Ae(bn(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,bn(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);Ae(n,"unknown function","fragment",e),e=n}return cn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const o=this.getFunction(e);Ae(o,"unknown function","fragment",e),e=o}let n="invalid length for result data";const i=Gi(r);if(i.length%32===0)try{return ee(this,Ai).decode(e.outputs,i)}catch{n="could not decode result data"}Ge(!1,n,"BAD_DATA",{value:ht(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=rr(e,"data"),i=Bw.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const s=ht(n.slice(0,4)),l=this.getError(s);if(l)try{const c=ee(this,Ai).decode(l.inputs,n.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);Ae(n,"unknown function","fragment",e),e=n}return ht(ee(this,Ai).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const o=this.getEvent(e);Ae(o,"unknown event","eventFragment",e),e=o}Ge(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(o,a)=>o.type==="string"?Dh(a):o.type==="bytes"?Tn(ht(a)):(o.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":o.type.match(/^u?int/)?a=$f(a):o.type.match(/^bytes/)?a=WNe(a,32):o.type==="address"&&ee(this,Ai).encode(["address"],[a]),Mc(ht(a),32));for(r.forEach((o,a)=>{const s=e.inputs[a];if(!s.indexed){Ae(o==null,"cannot filter non-indexed parameters; must be null","contract."+s.name,o);return}o==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?Ae(!1,"filtering with tuples or arrays not supported","contract."+s.name,o):Array.isArray(o)?n.push(o.map(l=>i(s,l))):n.push(i(s,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);Ae(a,"unknown event","eventFragment",e),e=a}const n=[],i=[],o=[];return e.anonymous||n.push(e.topicHash),Ae(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,s)=>{const l=r[s];if(a.indexed)if(a.type==="string")n.push(Dh(l));else if(a.type==="bytes")n.push(Tn(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(ee(this,Ai).encode([a.type],[l]))}else i.push(a),o.push(l)}),{data:ee(this,Ai).encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const p=this.getEvent(e);Ae(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;Ae(Zr(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],o=[],a=[];e.inputs.forEach((p,y)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(gi.from({type:"bytes32",name:p.name})),a.push(!0)):(i.push(p),a.push(!1)):(o.push(p),a.push(!1))});const s=n!=null?ee(this,Ai).decode(i,cn(n)):null,l=ee(this,Ai).decode(o,r,!0),c=[],u=[];let f=0,h=0;return e.inputs.forEach((p,y)=>{let m=null;if(p.indexed)if(s==null)m=new wJ(null);else if(a[y])m=new wJ(s[h++]);else try{m=s[h++]}catch(v){m=v}else try{m=l[f++]}catch(v){m=v}c.push(m),u.push(p.name||null)}),Yg.fromItems(c,u)}parseTransaction(e){const r=rr(e.data,"tx.data"),n=xt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ht(r.slice(0,4)));if(!i)return null;const o=ee(this,Ai).decode(i.inputs,r.slice(4));return new C7e(i,i.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new A7e(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=ht(e),n=this.getError(bn(r,0,4));if(!n)return null;const i=ee(this,Ai).decode(n.inputs,bn(r,4));return new O7e(n,n.selector,i)}static from(e){return e instanceof Bd?e:typeof e=="string"?new Bd(JSON.parse(e)):typeof e.formatJson=="function"?new Bd(e.formatJson()):typeof e.format=="function"?new Bd(e.format("json")):new Bd(e)}};Ks=new WeakMap,Vs=new WeakMap,Gs=new WeakMap,Ai=new WeakMap,yl=new WeakSet,F2=function(e,r,n){if(Zr(e)){const o=e.toLowerCase();for(const a of ee(this,Gs).values())if(o===a.selector)return a;return null}if(e.indexOf("(")===-1){const o=[];for(const[a,s]of ee(this,Gs))a.split("(")[0]===e&&o.push(s);if(r){const a=r.length>0?r[r.length-1]:null;let s=r.length,l=!0;Bi.isTyped(a)&&a.type==="overrides"&&(l=!1,s--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==s&&(!l||u!==s-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let f=0;f<r.length;f++)if(Bi.isTyped(r[f])){if(f>=u.length){if(r[f].type==="overrides")continue;o.splice(c,1);break}if(r[f].type!==u[f].baseType){o.splice(c,1);break}}}}if(o.length===1&&r&&r.length!==o[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){const a=o.map(s=>JSON.stringify(s.format())).join(", ");Ae(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return o[0]}const i=ee(this,Gs).get(nl.from(e).format());return i||null},U2=function(e,r,n){if(Zr(e)){const o=e.toLowerCase();for(const a of ee(this,Vs).values())if(o===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const o=[];for(const[a,s]of ee(this,Vs))a.split("(")[0]===e&&o.push(s);if(r){for(let a=o.length-1;a>=0;a--)o[a].inputs.length<r.length&&o.splice(a,1);for(let a=o.length-1;a>=0;a--){const s=o[a].inputs;for(let l=0;l<r.length;l++)if(Bi.isTyped(r[l])&&r[l].type!==s[l].baseType){o.splice(a,1);break}}}if(o.length===0)return null;if(o.length>1&&n){const a=o.map(s=>JSON.stringify(s.format())).join(", ");Ae(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return o[0]}const i=ee(this,Vs).get(rl.from(e).format());return i||null};let $M=Bd;const hse=BigInt(0);function N0(t){return t??null}function An(t){return t==null?null:t.toString()}class EJ{constructor(e,r,n){Te(this,"gasPrice");Te(this,"maxFeePerGas");Te(this,"maxPriorityFeePerGas");Bt(this,{gasPrice:N0(e),maxFeePerGas:N0(r),maxPriorityFeePerGas:N0(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:An(e),maxFeePerGas:An(r),maxPriorityFeePerGas:An(n)}}}function j3(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ht(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=xt(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Qt(t[i],`request.${i}`));return t.accessList&&(e.accessList=ep(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>W9(i)?ht(i):Object.assign({},i))),e}var Xl;class I7e{constructor(e,r){Te(this,"provider");Te(this,"number");Te(this,"hash");Te(this,"timestamp");Te(this,"parentHash");Te(this,"parentBeaconBlockRoot");Te(this,"nonce");Te(this,"difficulty");Te(this,"gasLimit");Te(this,"gasUsed");Te(this,"stateRoot");Te(this,"receiptsRoot");Te(this,"blobGasUsed");Te(this,"excessBlobGas");Te(this,"miner");Te(this,"prevRandao");Te(this,"extraData");Te(this,"baseFeePerGas");$e(this,Xl);ge(this,Xl,e.transactions.map(n=>typeof n!="string"?new jw(n,r):n)),Bt(this,{provider:r,hash:N0(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:N0(e.prevRandao),extraData:e.extraData,baseFeePerGas:N0(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return ee(this,Xl).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=ee(this,Xl).slice();return e.length===0?[]:(Ge(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:o,hash:a,miner:s,prevRandao:l,nonce:c,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:y,timestamp:m,transactions:v}=this;return{_type:"Block",baseFeePerGas:An(e),difficulty:An(r),extraData:n,gasLimit:An(i),gasUsed:An(o),blobGasUsed:An(this.blobGasUsed),excessBlobGas:An(this.excessBlobGas),hash:a,miner:s,prevRandao:l,nonce:c,number:u,parentHash:f,timestamp:m,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:y,transactions:v}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return ee(this,Xl).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=ee(this,Xl)[e];else{const n=e.toLowerCase();for(const i of ee(this,Xl))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;Ae(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return P7e(this)}}Xl=new WeakMap;class Ab{constructor(e,r){Te(this,"provider");Te(this,"transactionHash");Te(this,"blockHash");Te(this,"blockNumber");Te(this,"removed");Te(this,"address");Te(this,"data");Te(this,"topics");Te(this,"index");Te(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Bt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:a,topics:s,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:a,topics:s,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ge(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return k7e(this)}}var Gw;class pse{constructor(e,r){Te(this,"provider");Te(this,"to");Te(this,"from");Te(this,"contractAddress");Te(this,"hash");Te(this,"index");Te(this,"blockHash");Te(this,"blockNumber");Te(this,"logsBloom");Te(this,"gasUsed");Te(this,"blobGasUsed");Te(this,"cumulativeGasUsed");Te(this,"gasPrice");Te(this,"blobGasPrice");Te(this,"type");Te(this,"status");Te(this,"root");$e(this,Gw);ge(this,Gw,Object.freeze(e.logs.map(i=>new Ab(i,r))));let n=hse;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Bt(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return ee(this,Gw)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:o,blockHash:a,blockNumber:s,logsBloom:l,logs:c,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:s,contractAddress:n,cumulativeGasUsed:An(this.cumulativeGasUsed),from:r,gasPrice:An(this.gasPrice),blobGasUsed:An(this.blobGasUsed),blobGasPrice:An(this.blobGasPrice),gasUsed:An(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return mse(this)}reorderedEvent(e){return Ge(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),gse(this,e)}}Gw=new WeakMap;var af;const mL=class mL{constructor(e,r){Te(this,"provider");Te(this,"blockNumber");Te(this,"blockHash");Te(this,"index");Te(this,"hash");Te(this,"type");Te(this,"to");Te(this,"from");Te(this,"nonce");Te(this,"gasLimit");Te(this,"gasPrice");Te(this,"maxPriorityFeePerGas");Te(this,"maxFeePerGas");Te(this,"maxFeePerBlobGas");Te(this,"data");Te(this,"value");Te(this,"chainId");Te(this,"signature");Te(this,"accessList");Te(this,"blobVersionedHashes");Te(this,"authorizationList");$e(this,af);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,ge(this,af,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:o,to:a,from:s,nonce:l,data:c,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:An(this.chainId),data:c,from:s,gasLimit:An(this.gasLimit),gasPrice:An(this.gasPrice),hash:i,maxFeePerGas:An(this.maxFeePerGas),maxPriorityFeePerGas:An(this.maxPriorityFeePerGas),maxFeePerBlobGas:An(this.maxFeePerBlobGas),nonce:l,signature:u,to:a,index:n,type:o,value:An(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Wi({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let o=ee(this,af),a=-1,s=o===-1;const l=async()=>{if(s)return null;const{blockNumber:h,nonce:p}=await Wi({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=h;return}if(s)return null;const y=await this.getTransaction();if(!(y&&y.blockNumber!=null))for(a===-1&&(a=o-3,a<ee(this,af)&&(a=ee(this,af)));a<=h;){if(s)return null;const m=await this.provider.getBlock(a,!0);if(m==null)return;for(const v of m)if(v===this.hash)return;for(let v=0;v<m.length;v++){const w=await m.getTransaction(v);if(w.from===this.from&&w.nonce===this.nonce){if(s)return null;const A=await this.provider.getTransactionReceipt(w.hash);if(A==null||h-A.blockNumber+1<n)return;let _="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?_="repriced":w.data==="0x"&&w.from===w.to&&w.value===hse&&(_="cancelled"),Ge(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:w.replaceableTransaction(o),hash:w.hash,receipt:A})}}a++}},c=h=>{if(h==null||h.status!==0)return h;Ge(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(u);if(u){if(n===1||await u.confirmations()>=n)return c(u)}else if(await l(),n===0)return null;return await new Promise((h,p)=>{const y=[],m=()=>{y.forEach(w=>w())};if(y.push(()=>{s=!0}),i>0){const w=setTimeout(()=>{m(),p(sn("wait for transaction timeout","TIMEOUT"))},i);y.push(()=>{clearTimeout(w)})}const v=async w=>{if(await w.confirmations()>=n){m();try{h(c(w))}catch(A){p(A)}}};if(y.push(()=>{this.provider.off(this.hash,v)}),this.provider.on(this.hash,v),o>=0){const w=async()=>{try{await l()}catch(A){if(hi(A,"TRANSACTION_REPLACED")){m(),p(A);return}}s||this.provider.once("block",w)};y.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mse(this)}reorderedEvent(e){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ge(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gse(this,e)}replaceableTransaction(e){Ae(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new mL(this,this.provider);return ge(r,af,e),r}};af=new WeakMap;let jw=mL;function P7e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function gse(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function mse(t){return{orphan:"drop-transaction",tx:t}}function k7e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class iL extends Ab{constructor(r,n,i){super(r,r.provider);Te(this,"interface");Te(this,"fragment");Te(this,"args");const o=n.decodeEventLog(i,r.data,r.topics);Bt(this,{args:o,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yse extends Ab{constructor(r,n){super(r,r.provider);Te(this,"error");Bt(this,{error:n})}}var sg;class T7e extends pse{constructor(r,n,i){super(i,n);$e(this,sg);ge(this,sg,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?ee(this,sg).getEvent(r.topics[0]):null;if(n)try{return new iL(r,ee(this,sg),n)}catch(i){return new yse(r,i)}return r})}}sg=new WeakMap;var Yw;class oL extends jw{constructor(r,n,i){super(i,n);$e(this,Yw);ge(this,Yw,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new T7e(ee(this,Yw),this.provider,i)}}Yw=new WeakMap;class vse extends Woe{constructor(r,n,i,o){super(r,n,i);Te(this,"log");Bt(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class M7e extends vse{constructor(e,r,n,i,o){super(e,r,n,new iL(o,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Bt(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const SJ=BigInt(0);function wse(t){return t&&typeof t.call=="function"}function bse(t){return t&&typeof t.estimateGas=="function"}function A_(t){return t&&typeof t.resolveName=="function"}function xse(t){return t&&typeof t.sendTransaction=="function"}function Ese(t){if(t!=null){if(A_(t))return t;if(t.provider)return t.provider}}var Jw;class N7e{constructor(e,r,n){$e(this,Jw);Te(this,"fragment");if(Bt(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=$h(e.runner,"resolveName"),o=A_(i)?i:null;ge(this,Jw,(async function(){const a=await Promise.all(r.inputs.map((s,l)=>n[l]==null?null:s.walkAsync(n[l],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>Xi(h,o))):Xi(f,o):f)));return e.interface.encodeFilterTopics(r,a)})())}getTopicFilter(){return ee(this,Jw)}}Jw=new WeakMap;function $h(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function eh(t){return t==null?null:t.provider||null}async function Sse(t,e){const r=Bi.dereference(t,"overrides");Ae(typeof r=="object","invalid overrides parameter","overrides",t);const n=j3(r);return Ae(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Ae(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function R7e(t,e,r){const n=$h(t,"resolveName"),i=A_(n)?n:null;return await Promise.all(e.map((o,a)=>o.walkAsync(r[a],(s,l)=>(l=Bi.dereference(l,s),s==="address"?Xi(l,i):l))))}function L7e(t){const e=async function(a){const s=await Sse(a,["data"]);s.to=await t.getAddress(),s.from&&(s.from=await Xi(s.from,Ese(t.runner)));const l=t.interface,c=xt(s.value||SJ,"overrides.value")===SJ,u=(s.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&Ae(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),Ae(l.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data);const f=l.receive||l.fallback&&l.fallback.payable;return Ae(f||c,"cannot send value to non-payable fallback","overrides.value",s.value),Ae(l.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data),s},r=async function(a){const s=$h(t.runner,"call");Ge(wse(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await s.call(l)}catch(c){throw z9(c)&&c.data?t.interface.makeError(c.data,l):c}},n=async function(a){const s=t.runner;Ge(xse(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await s.sendTransaction(await e(a)),c=eh(t.runner);return new oL(t.interface,c,l)},i=async function(a){const s=$h(t.runner,"estimateGas");return Ge(bse(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(a))},o=async a=>await n(a);return Bt(o,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),o}function D7e(t,e){const r=function(...c){const u=t.interface.getFunction(e,c);return Ge(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},n=async function(...c){const u=r(...c);let f={};if(u.inputs.length+1===c.length&&(f=await Sse(c.pop()),f.from&&(f.from=await Xi(f.from,Ese(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await R7e(t.runner,u.inputs,c);return Object.assign({},f,await Wi({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},i=async function(...c){const u=await s(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;Ge(xse(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...c)),h=eh(t.runner);return new oL(t.interface,h,f)},a=async function(...c){const u=$h(t.runner,"estimateGas");return Ge(bse(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...c))},s=async function(...c){const u=$h(t.runner,"call");Ge(wse(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...c);let h="0x";try{h=await u.call(f)}catch(y){throw z9(y)&&y.data?t.interface.makeError(y.data,f):y}const p=r(...c);return t.interface.decodeFunctionResult(p,h)},l=async(...c)=>r(...c).constant?await i(...c):await o(...c);return Bt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:o,staticCall:i,staticCallResult:s}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return Ge(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function B7e(t,e){const r=function(...i){const o=t.interface.getEvent(e,i);return Ge(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},n=function(...i){return new N7e(t,r(...i),i)};return Bt(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Ge(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const $3=Symbol.for("_ethersInternal_contract"),_se=new WeakMap;function j7e(t,e){_se.set(t[$3],e)}function Ho(t){return _se.get(t[$3])}function $7e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function aL(t,e){let r,n=null;if(Array.isArray(e)){const o=function(a){if(Zr(a,32))return a;const s=t.interface.getEvent(a);return Ae(s,"unknown fragment","name",a),s.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(o):o(a))}else e==="*"?r=[null]:typeof e=="string"?Zr(e,32)?r=[e]:(n=t.interface.getEvent(e),Ae(n,"unknown fragment","event",e),r=[n.topicHash]):$7e(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):Ae(!1,"unknown event name","event",e);r=r.map(o=>{if(o==null)return null;if(Array.isArray(o)){const a=Array.from(new Set(o.map(s=>s.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return o.toLowerCase()});const i=r.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:i,topics:r}}async function Vy(t,e){const{subs:r}=Ho(t);return r.get((await aL(t,e)).tag)||null}async function _J(t,e,r){const n=eh(t.runner);Ge(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:a}=await aL(t,r),{addr:s,subs:l}=Ho(t);let c=l.get(o);if(!c){const f={address:s||t,topics:a},h=v=>{let w=i;if(w==null)try{w=t.interface.getEvent(v.topics[0])}catch{}if(w){const A=w,_=i?t.interface.decodeEventLog(i,v.data,v.topics):[];UM(t,r,_,D=>new M7e(t,D,r,A,v))}else UM(t,r,[],A=>new vse(t,A,r,v))};let p=[];c={tag:o,listeners:[],start:()=>{p.length||p.push(n.on(f,h))},stop:async()=>{if(p.length==0)return;let v=p;p=[],await Promise.all(v),n.off(f,h)}},l.set(o,c)}return c}let FM=Promise.resolve();async function F7e(t,e,r,n){await FM;const i=await Vy(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:s})=>{const l=Array.from(r);n&&l.push(n(s?null:a));try{a.call(t,...l)}catch{}return!s}),i.listeners.length===0&&(i.stop(),Ho(t).subs.delete(i.tag)),o>0}async function UM(t,e,r,n){try{await FM}catch{}const i=F7e(t,e,r,n);return FM=i,await i}const Zx=["then"];var vQ;vQ=$3;const Ev=class Ev{constructor(e,r,n,i){Te(this,"target");Te(this,"interface");Te(this,"runner");Te(this,"filters");Te(this,vQ);Te(this,"fallback");Ae(typeof e=="string"||Pae(e),"invalid value for Contract target","target",e),n==null&&(n=null);const o=$M.from(r);Bt(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,$3,{value:{}});let a,s=null,l=null;if(i){const f=eh(n);l=new oL(this.interface,f,i)}let c=new Map;if(typeof e=="string")if(Zr(e))s=e,a=Promise.resolve(e);else{const f=$h(n,"resolveName");if(!A_(f))throw sn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw sn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ho(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ho(this).addr=f,f});j7e(this,{addrPromise:a,addr:s,deployTx:l,subs:c});const u=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||Zx.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(y){if(!hi(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=>Zx.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return Bt(this,{filters:u}),Bt(this,{fallback:o.receive||o.fallback?L7e(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||Zx.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(y){if(!hi(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=>typeof h=="symbol"||h in f||Zx.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Ev(this.target,this.interface,e)}attach(e){return new Ev(e,this.interface,this.runner)}async getAddress(){return await Ho(this).addrPromise}async getDeployedCode(){const e=eh(this.runner);Ge(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=eh(this.runner);return Ge(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(s){o(s)}};a()})}deploymentTransaction(){return Ho(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),D7e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),B7e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:o}=Ho(this),a=i||await o,{fragment:s,topics:l}=await aL(this,e),c={address:a,topics:l,fromBlock:r,toBlock:n},u=eh(this.runner);return Ge(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(f=>{let h=s;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new iL(f,this.interface,h)}catch(p){return new yse(f,p)}return new Ab(f,u)})}async on(e,r){const n=await _J(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await _J(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await UM(this,e,r,null)}async listenerCount(e){if(e){const i=await Vy(this,e);return i?i.listeners.length:0}const{subs:r}=Ho(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await Vy(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:r}=Ho(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:o})=>o));return n}async off(e,r){const n=await Vy(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ho(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Vy(this,e);if(!r)return this;r.stop(),Ho(this).subs.delete(r.tag)}else{const{subs:r}=Ho(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Ev{constructor(i,o=null){super(i,e,o)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let HM=Ev;function U7e(){return HM}class R0 extends U7e(){}function B6(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ae(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class H7e{constructor(e){Te(this,"name");Bt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const Ase=new RegExp("^(ipfs)://(.*)$","i"),AJ=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ase,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var sf,hh,lf,Xp,X3,Cse;const y0=class y0{constructor(e,r,n){$e(this,lf);Te(this,"provider");Te(this,"address");Te(this,"name");$e(this,sf);$e(this,hh);Bt(this,{provider:e,address:r,name:n}),ge(this,sf,null),ge(this,hh,new R0(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return ee(this,sf)==null&&ge(this,sf,(async()=>{try{return await ee(this,hh).supportsInterface("0x9061b923")}catch(e){if(hi(e,"CALL_EXCEPTION"))return!1;throw ge(this,sf,null),e}})()),await ee(this,sf)}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await rt(this,lf,Xp).call(this,"addr(bytes32)");return o==null||o===kw?null:o}catch(o){if(hi(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const a=await rt(this,lf,Xp).call(this,"addr(bytes32,uint)",[o]);if(Zr(a,20))return Dr(a)}let r=null;for(const o of this.provider.plugins)if(o instanceof H7e&&o.supportsCoinType(e)){r=o;break}if(r==null)return null;const n=await rt(this,lf,Xp).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;Ge(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await rt(this,lf,Xp).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await rt(this,lf,Xp).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",o=parseInt(r[4],16);if(r[5].length===o*2)return`${i}://${VNe("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Ge(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<AJ.length;n++){const i=r.match(AJ[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=B6(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:r});const s=await this.getAddress();if(s==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new R0(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(s!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(s,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await u[a](c);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),o==="erc1155"&&(f=f.replace("{id}",$f(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=B6(f)),e.push({type:"metadata-url",value:f});let h={};const p=await new Ff(f).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const w=p.body;return w&&e.push({type:"!metadata",value:ht(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(Ase)==null)return e.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:y}),y=B6(y)}return e.push({type:"url",value:y}),{linkage:e,url:y}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Ge(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const o=await rt(i=y0,X3,Cse).call(i,e,n);if(o!=null){const a=new y0(e,o,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};sf=new WeakMap,hh=new WeakMap,lf=new WeakSet,Xp=async function(e,r){r=(r||[]).slice();const n=ee(this,hh).interface;r.unshift(BM(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),Ge(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[n7e(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const o=await ee(this,hh)[e](...r);return i?n.decodeFunctionResult(i,o)[0]:o}catch(o){if(!hi(o,"CALL_EXCEPTION"))throw o}return null},X3=new WeakSet,Cse=async function(e,r){const n=await y0.getEnsAddress(e);try{const o=await new R0(n,["function resolver(bytes32) view returns (address)"],e).resolver(BM(r),{enableCcipRead:!0});return o===kw?null:o}catch(i){throw i}return null},$e(y0,X3);let F3=y0;const CJ=BigInt(0);function hr(t,e){return(function(r){return r==null?e:t(r)})}function $w(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function Cb(t,e){return(r=>{const n={};for(const i in t){let o=i;if(e&&i in e&&!(o in r)){for(const a of e[i])if(a in r){o=a;break}}try{const a=t[i](r[o]);a!==void 0&&(n[i]=a)}catch(a){const s=a instanceof Error?a.message:"not-an-error";Ge(!1,`invalid value for value.${i} (${s})`,"BAD_DATA",{value:r})}}return n})}function q7e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}Ae(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function tm(t){return Ae(Zr(t,!0),"invalid data","value",t),t}function fi(t){return Ae(Zr(t,32),"invalid hash","value",t),t}const z7e=Cb({address:Dr,blockHash:fi,blockNumber:Qt,data:tm,index:Qt,removed:hr(q7e,!1),topics:$w(fi),transactionHash:fi,transactionIndex:Qt},{index:["logIndex"]});function W7e(t){return z7e(t)}const K7e=Cb({hash:hr(fi),parentHash:fi,parentBeaconBlockRoot:hr(fi,null),number:Qt,timestamp:Qt,nonce:hr(tm),difficulty:xt,gasLimit:xt,gasUsed:xt,stateRoot:hr(fi,null),receiptsRoot:hr(fi,null),blobGasUsed:hr(xt,null),excessBlobGas:hr(xt,null),miner:hr(Dr),prevRandao:hr(fi,null),extraData:tm,baseFeePerGas:hr(xt)},{prevRandao:["mixHash"]});function V7e(t){const e=K7e(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Ose(r)),e}const G7e=Cb({transactionIndex:Qt,blockNumber:Qt,transactionHash:fi,address:Dr,topics:$w(fi),data:tm,index:Qt,blockHash:fi},{index:["logIndex"]});function Y7e(t){return G7e(t)}const J7e=Cb({to:hr(Dr,null),from:hr(Dr,null),contractAddress:hr(Dr,null),index:Qt,root:hr(ht),gasUsed:xt,blobGasUsed:hr(xt,null),logsBloom:hr(tm),blockHash:fi,hash:fi,logs:$w(Y7e),blockNumber:Qt,cumulativeGasUsed:xt,effectiveGasPrice:hr(xt),blobGasPrice:hr(xt,null),status:hr(Qt),type:hr(Qt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Q7e(t){return J7e(t)}function Ose(t){t.to&&xt(t.to)===CJ&&(t.to="0x0000000000000000000000000000000000000000");const e=Cb({hash:fi,index:hr(Qt,void 0),type:r=>r==="0x"||r==null?0:Qt(r),accessList:hr(ep,null),blobVersionedHashes:hr($w(fi,!0),null),authorizationList:hr($w(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:Dr(r.address),chainId:xt(r.chainId),nonce:xt(r.nonce),signature:Co.from(n)}},!1),null),blockHash:hr(fi,null),blockNumber:hr(Qt,null),transactionIndex:hr(Qt,null),from:Dr,gasPrice:hr(xt),maxPriorityFeePerGas:hr(xt),maxFeePerGas:hr(xt),maxFeePerBlobGas:hr(xt,null),gasLimit:xt,to:hr(Dr,null),value:xt,nonce:Qt,data:tm,creates:hr(Dr,null),chainId:hr(xt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=j9e(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Co.from(t.signature):e.signature=Co.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&xt(e.blockHash)===CJ&&(e.blockHash=null),e}const X7e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Ob{constructor(e){Te(this,"name");Bt(this,{name:e})}clone(){return new Ob(this.name)}}class C_ extends Ob{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);Te(this,"effectiveBlock");Te(this,"txBase");Te(this,"txCreate");Te(this,"txDataZero");Te(this,"txDataNonzero");Te(this,"txAccessListStorageKey");Te(this,"txAccessListAddress");const i={effectiveBlock:r};function o(a,s){let l=(n||{})[a];l==null&&(l=s),Ae(typeof l=="number",`invalud value for ${a}`,"costs",n),i[a]=l}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),Bt(this,i)}clone(){return new C_(this.effectiveBlock,this)}}class O_ extends Ob{constructor(r,n){super("org.ethers.plugins.network.Ens");Te(this,"address");Te(this,"targetNetwork");Bt(this,{address:r||X7e,targetNetwork:n??1})}clone(){return new O_(this.address,this.targetNetwork)}}var Qw,Xw;class Z7e extends Ob{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");$e(this,Qw);$e(this,Xw);ge(this,Qw,r),ge(this,Xw,n)}get url(){return ee(this,Qw)}get processFunc(){return ee(this,Xw)}clone(){return this}}Qw=new WeakMap,Xw=new WeakMap;const j6=new Map;var lg,cg,cf;const v0=class v0{constructor(e,r){$e(this,lg);$e(this,cg);$e(this,cf);ge(this,lg,e),ge(this,cg,xt(r)),ge(this,cf,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return ee(this,lg)}set name(e){ge(this,lg,e)}get chainId(){return ee(this,cg)}set chainId(e){ge(this,cg,xt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===xt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===xt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===xt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(ee(this,cf).values())}attachPlugin(e){if(ee(this,cf).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ee(this,cf).set(e.name,e.clone()),this}getPlugin(e){return ee(this,cf).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new v0(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new C_;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=ep(e.accessList);for(const o in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[o].storageKeys.length}return n}static from(e){if(eDe(),e==null)return v0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=j6.get(e);if(r)return r();if(typeof e=="bigint")return new v0("unknown",e);Ae(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Ae(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new v0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new O_(e.ensAddress,e.ensNetwork)),r}Ae(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=j6.get(e);n&&Ae(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),j6.set(e,r)}};lg=new WeakMap,cg=new WeakMap,cf=new WeakMap;let cl=v0;function OJ(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function IJ(t){return new Z7e(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[o,a]=await Promise.all([n.send(),e()]);i=o;const s=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:OJ(s.maxFee,9),maxPriorityFeePerGas:OJ(s.maxPriorityFee,9)}}catch(o){Ge(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:o})}})}let PJ=!1;function eDe(){if(PJ)return;PJ=!0;function t(e,r,n){const i=function(){const o=new cl(e,r);return n.ensNetwork!=null&&o.attachPlugin(new O_(null,n.ensNetwork)),o.attachPlugin(new C_),(n.plugins||[]).forEach(a=>{o.attachPlugin(a)}),o};cl.register(e,i),cl.register(r,i),n.altNames&&n.altNames.forEach(o=>{cl.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[IJ("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[IJ("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function qM(t){return JSON.parse(JSON.stringify(t))}var Zl,Ia,uf,Ys,ug,H2;class tDe{constructor(e){$e(this,ug);$e(this,Zl);$e(this,Ia);$e(this,uf);$e(this,Ys);ge(this,Zl,e),ge(this,Ia,null),ge(this,uf,4e3),ge(this,Ys,-2)}get pollingInterval(){return ee(this,uf)}set pollingInterval(e){ge(this,uf,e)}start(){ee(this,Ia)||(ge(this,Ia,ee(this,Zl)._setTimeout(rt(this,ug,H2).bind(this),ee(this,uf))),rt(this,ug,H2).call(this))}stop(){ee(this,Ia)&&(ee(this,Zl)._clearTimeout(ee(this,Ia)),ge(this,Ia,null))}pause(e){this.stop(),e&&ge(this,Ys,-2)}resume(){this.start()}}Zl=new WeakMap,Ia=new WeakMap,uf=new WeakMap,Ys=new WeakMap,ug=new WeakSet,H2=async function(){try{const e=await ee(this,Zl).getBlockNumber();if(ee(this,Ys)===-2){ge(this,Ys,e);return}if(e!==ee(this,Ys)){for(let r=ee(this,Ys)+1;r<=e;r++){if(ee(this,Ia)==null)return;await ee(this,Zl).emit("block",r)}ge(this,Ys,e)}}catch{}ee(this,Ia)!=null&&ge(this,Ia,ee(this,Zl)._setTimeout(rt(this,ug,H2).bind(this),ee(this,uf)))};var ph,gh,ff;class sL{constructor(e){$e(this,ph);$e(this,gh);$e(this,ff);ge(this,ph,e),ge(this,ff,!1),ge(this,gh,r=>{this._poll(r,ee(this,ph))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){ee(this,ff)||(ge(this,ff,!0),ee(this,gh).call(this,-2),ee(this,ph).on("block",ee(this,gh)))}stop(){ee(this,ff)&&(ge(this,ff,!1),ee(this,ph).off("block",ee(this,gh)))}pause(e){this.stop()}resume(){this.start()}}ph=new WeakMap,gh=new WeakMap,ff=new WeakMap;var fg,ec;class rDe extends sL{constructor(r,n){super(r);$e(this,fg);$e(this,ec);ge(this,fg,n),ge(this,ec,-2)}pause(r){r&&ge(this,ec,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(ee(this,fg));i!=null&&(ee(this,ec)===-2?ge(this,ec,i.number):i.number>ee(this,ec)&&(n.emit(ee(this,fg),i.number),ge(this,ec,i.number)))}}fg=new WeakMap,ec=new WeakMap;var Z3;class nDe extends sL{constructor(r,n){super(r);$e(this,Z3);ge(this,Z3,qM(n))}async _poll(r,n){throw new Error("@TODO")}}Z3=new WeakMap;var dg;class iDe extends sL{constructor(r,n){super(r);$e(this,dg);ge(this,dg,n)}async _poll(r,n){const i=await n.getTransactionReceipt(ee(this,dg));i&&n.emit(ee(this,dg),i)}}dg=new WeakMap;var tc,hg,pg,df,Pa,eS,Ise;class lL{constructor(e,r){$e(this,eS);$e(this,tc);$e(this,hg);$e(this,pg);$e(this,df);$e(this,Pa);ge(this,tc,e),ge(this,hg,qM(r)),ge(this,pg,rt(this,eS,Ise).bind(this)),ge(this,df,!1),ge(this,Pa,-2)}start(){ee(this,df)||(ge(this,df,!0),ee(this,Pa)===-2&&ee(this,tc).getBlockNumber().then(e=>{ge(this,Pa,e)}),ee(this,tc).on("block",ee(this,pg)))}stop(){ee(this,df)&&(ge(this,df,!1),ee(this,tc).off("block",ee(this,pg)))}pause(e){this.stop(),e&&ge(this,Pa,-2)}resume(){this.start()}}tc=new WeakMap,hg=new WeakMap,pg=new WeakMap,df=new WeakMap,Pa=new WeakMap,eS=new WeakSet,Ise=async function(e){if(ee(this,Pa)===-2)return;const r=qM(ee(this,hg));r.fromBlock=ee(this,Pa)+1,r.toBlock=e;const n=await ee(this,tc).getLogs(r);if(n.length===0){ee(this,Pa)<e-60&&ge(this,Pa,e-60);return}for(const i of n)ee(this,tc).emit(ee(this,hg),i),ge(this,Pa,i.blockNumber)};const oDe=BigInt(2),aDe=10;function e2(t){return t&&typeof t.then=="function"}function q2(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((o,a)=>(o[a]=n[a],o),{})}return n})}class Pse{constructor(e){Te(this,"name");Bt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function sDe(t){return JSON.parse(JSON.stringify(t))}function zM(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function $6(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Zr(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:q2("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:q2("orphan",r),filter:sDe(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?zM(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],o=[],a=s=>{Zr(s)?i.push(s):o.push((async()=>{i.push(await Xi(s,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),o.length&&await Promise.all(o),n.address=zM(i.map(s=>s.toLowerCase()))}return{filter:n,tag:q2("event",n),type:"event"}}Ae(!1,"unknown ProviderEvent","event",t)}function F6(){return new Date().getTime()}const lDe={cacheTimeout:250,pollingInterval:4e3};var Ci,hf,Oi,gg,Ko,mh,pf,rc,Zw,ka,mg,yg,sr,$o,WM,KM,Gy,VM,Yy,z2;class cDe{constructor(e,r){$e(this,sr);$e(this,Ci);$e(this,hf);$e(this,Oi);$e(this,gg);$e(this,Ko);$e(this,mh);$e(this,pf);$e(this,rc);$e(this,Zw);$e(this,ka);$e(this,mg);$e(this,yg);if(ge(this,yg,Object.assign({},lDe,r||{})),e==="any")ge(this,mh,!0),ge(this,Ko,null);else if(e){const n=cl.from(e);ge(this,mh,!1),ge(this,Ko,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else ge(this,mh,!1),ge(this,Ko,null);ge(this,rc,-1),ge(this,pf,new Map),ge(this,Ci,new Map),ge(this,hf,new Map),ge(this,Oi,null),ge(this,gg,!1),ge(this,Zw,1),ge(this,ka,new Map),ge(this,mg,!1)}get pollingInterval(){return ee(this,yg).pollingInterval}get provider(){return this}get plugins(){return Array.from(ee(this,hf).values())}attachPlugin(e){if(ee(this,hf).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ee(this,hf).set(e.name,e.connect(this)),this}getPlugin(e){return ee(this,hf).get(e)||null}get disableCcipRead(){return ee(this,mg)}set disableCcipRead(e){ge(this,mg,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=r.toLowerCase(),a=[];for(let s=0;s<n.length;s++){const l=n[s],c=l.replace("{sender}",i).replace("{data}",o),u=new Ff(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:s,urls:n});let f="unknown error",h;try{h=await u.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}Ge(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),a.push(f)}Ge(!1,`error encountered during CCIP fetch: ${a.map(s=>JSON.stringify(s)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new I7e(V7e(e),this)}_wrapLog(e,r){return new Ab(W7e(e),this)}_wrapTransactionReceipt(e,r){return new pse(Q7e(e),this)}_wrapTransactionResponse(e,r){return new jw(Ose(e),this)}_detectNetwork(){Ge(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ge(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Qt(await rt(this,sr,$o).call(this,{method:"getBlockNumber"}),"%response");return ee(this,rc)>=0&&ge(this,rc,e),e}_getAddress(e){return Xi(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Zr(e))return Zr(e,32)?e:ds(e);if(typeof e=="bigint"&&(e=Qt(e,"blockTag")),typeof e=="number")return e>=0?ds(e):ee(this,rc)>=0?ds(ee(this,rc)+e):this.getBlockNumber().then(r=>ds(r+e));Ae(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?zM(l.map(c=>c.toLowerCase())):l.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(n&&(c!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),c&&(h.fromBlock=c),u&&(h.toBlock=u),n&&(h.blockHash=n),h};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let s;return"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||a!=null&&typeof a!="string"||s!=null&&typeof s!="string"?Promise.all([Promise.all(o),a,s]).then(l=>i(l[0],l[1],l[2])):i(o,a,s)}_getTransactionRequest(e){const r=j3(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const o=Xi(r[i],this);e2(o)?n.push((async function(){r[i]=await o})()):r[i]=o}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);e2(i)?n.push((async function(){r.blockTag=await i})()):r.blockTag=i}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(ee(this,Ko)==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw ee(this,Ko)===i&&ge(this,Ko,null),o}})();return ge(this,Ko,i),(await i).clone()}const e=ee(this,Ko),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(ee(this,mh)?(this.emit("network",n,r),ee(this,Ko)===e&&ge(this,Ko,Promise.resolve(n))):Ge(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:o,priorityFee:a}=await Wi({_block:rt(this,sr,VM).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await rt(this,sr,$o).call(this,{method:"getGasPrice"});return xt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await rt(this,sr,$o).call(this,{method:"getPriorityFee"});return xt(u,"%response")}catch{}return null})()});let s=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=a??BigInt("1000000000"),s=c.baseFeePerGas*oDe+l),new EJ(o,s,l)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new Ff(n.url),o=await n.processFunc(r,this,i);return new EJ(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return e2(r)&&(r=await r),xt(await rt(this,sr,$o).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Wi({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await rt(this,sr,KM).call(this,rt(this,sr,WM).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return xt(await rt(this,sr,Gy).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Qt(await rt(this,sr,Gy).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return ht(await rt(this,sr,Gy).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=xt(r,"position");return ht(await rt(this,sr,Gy).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await Wi({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=T3.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await Wi({network:this.getNetwork(),params:rt(this,sr,VM).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await Wi({network:this.getNetwork(),params:rt(this,sr,$o).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Wi({network:this.getNetwork(),params:rt(this,sr,$o).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await rt(this,sr,$o).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Wi({network:this.getNetwork(),result:rt(this,sr,$o).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:ht(r)}async getLogs(e){let r=this._getFilter(e);e2(r)&&(r=await r);const{network:n,params:i}=await Wi({network:this.getNetwork(),params:rt(this,sr,$o).call(this,{method:"getLogs",filter:r})});return i.map(o=>this._wrapLog(o,n))}_getProvider(e){Ge(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await F3.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Dr(e);const r=BM(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await F3.getEnsAddress(this),o=await new R0(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(o==null||o===kw)return null;const s=await new R0(o,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(s)!==e?null:s}catch(n){if(hi(n,"BAD_DATA")&&n.value==="0x"||hi(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,a)=>{let s=null;const l=(async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),s&&(clearTimeout(s),s=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)});n!=null&&(s=setTimeout(()=>{s!=null&&(s=null,this.off("block",l),a(sn("timeout","TIMEOUT",{reason:"timeout"})))},n)),l(await this.getBlockNumber())})}async waitForBlock(e){Ge(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=ee(this,ka).get(e);r&&(r.timer&&clearTimeout(r.timer),ee(this,ka).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=ny(this,Zw)._++,i=()=>{ee(this,ka).delete(n),e()};if(this.paused)ee(this,ka).set(n,{timer:null,func:i,time:r});else{const o=setTimeout(i,r);ee(this,ka).set(n,{timer:o,func:i,time:F6()})}return n}_forEachSubscriber(e){for(const r of ee(this,Ci).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Pse(e.type);case"block":{const r=new tDe(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new rDe(this,e.type);case"event":return new lL(this,e.filter);case"transaction":return new iDe(this,e.hash);case"orphan":return new nDe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of ee(this,Ci).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),ee(this,Oi)!=null&&r.pause(ee(this,Oi));break}}async on(e,r){const n=await rt(this,sr,z2).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,ee(this,Oi)!=null&&n.subscriber.pause(ee(this,Oi))),this}async once(e,r){const n=await rt(this,sr,z2).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,ee(this,Oi)!=null&&n.subscriber.pause(ee(this,Oi))),this}async emit(e,...r){const n=await rt(this,sr,Yy).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:a})=>{const s=new Woe(this,a?null:o,e);try{o.call(this,...r,s)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),ee(this,Ci).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await rt(this,sr,Yy).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of ee(this,Ci).values())r+=n.length;return r}async listeners(e){if(e){const n=await rt(this,sr,Yy).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of ee(this,Ci).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await rt(this,sr,Yy).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),ee(this,Ci).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await rt(this,sr,z2).call(this,e);n&&i.stop(),ee(this,Ci).delete(r)}else for(const[r,{started:n,subscriber:i}]of ee(this,Ci))n&&i.stop(),ee(this,Ci).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return ee(this,gg)}destroy(){this.removeAllListeners();for(const e of ee(this,ka).keys())this._clearTimeout(e);ge(this,gg,!0)}get paused(){return ee(this,Oi)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(ge(this,rc,-1),ee(this,Oi)!=null){if(ee(this,Oi)==!!e)return;Ge(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),ge(this,Oi,!!e);for(const r of ee(this,ka).values())r.timer&&clearTimeout(r.timer),r.time=F6()-r.time}resume(){if(ee(this,Oi)!=null){this._forEachSubscriber(e=>e.resume()),ge(this,Oi,null);for(const e of ee(this,ka).values()){let r=e.time;r<0&&(r=0),e.time=F6(),setTimeout(e.func,r)}}}}Ci=new WeakMap,hf=new WeakMap,Oi=new WeakMap,gg=new WeakMap,Ko=new WeakMap,mh=new WeakMap,pf=new WeakMap,rc=new WeakMap,Zw=new WeakMap,ka=new WeakMap,mg=new WeakMap,yg=new WeakMap,sr=new WeakSet,$o=async function(e){const r=ee(this,yg).cacheTimeout;if(r<0)return await this._perform(e);const n=q2(e.method,e);let i=ee(this,pf).get(n);return i||(i=this._perform(e),ee(this,pf).set(n,i),setTimeout(()=>{ee(this,pf).get(n)===i&&ee(this,pf).delete(n)},r)),await i},WM=async function(e,r,n){Ge(n<aDe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=j3(e);try{return ht(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(o){if(!this.disableCcipRead&&z9(o)&&o.data&&n>=0&&r==="latest"&&i.to!=null&&bn(o.data,0,4)==="0x556f1830"){const a=o.data,s=await Xi(i.to,this);let l;try{l=pDe(bn(o.data,4))}catch(f){Ge(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}Ge(l.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);Ge(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:s,data:cn([l.selector,hDe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await rt(this,sr,WM).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw o}},KM=async function(e){const{value:r}=await Wi({network:this.getNetwork(),value:e});return r},Gy=async function(e,r,n){let i=this._getAddress(r),o=this._getBlockTag(n);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await rt(this,sr,KM).call(this,rt(this,sr,$o).call(this,Object.assign(e,{address:i,blockTag:o})))},VM=async function(e,r){if(Zr(e,32))return await rt(this,sr,$o).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await rt(this,sr,$o).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},Yy=async function(e,r){let n=await $6(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await $6({orphan:"drop-log",log:r[0]},this)),ee(this,Ci).get(n.tag)||null},z2=async function(e){const r=await $6(e,this),n=r.tag;let i=ee(this,Ci).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},ee(this,Ci).set(n,i)),i};function uDe(t,e){try{const r=GM(t,e);if(r)return P3(r)}catch{}return null}function GM(t,e){if(t==="0x")return null;try{const r=Qt(bn(t,e,e+32)),n=Qt(bn(t,r,r+32));return bn(t,r+32,r+32+n)}catch{}return null}function kJ(t){const e=Nn(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function fDe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const dDe=new Uint8Array([]);function hDe(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(dDe),r+=32;for(let n=0;n<t.length;n++){const i=rr(t[n]);e[n]=kJ(r),e.push(kJ(i.length)),e.push(fDe(i)),r+=32+Math.ceil(i.length/32)*32}return cn(e)}const TJ="0x0000000000000000000000000000000000000000000000000000000000000000";function pDe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ge(k0(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=bn(t,0,32);Ge(bn(r,0,12)===bn(TJ,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=bn(r,12);try{const n=[],i=Qt(bn(t,32,64)),o=Qt(bn(t,i,i+32)),a=bn(t,i+32);for(let s=0;s<o;s++){const l=uDe(a,s*32);if(l==null)throw new Error("abort");n.push(l)}e.urls=n}catch{Ge(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=GM(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Ge(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ge(bn(t,100,128)===bn(TJ,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=bn(t,96,100);try{const n=GM(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Ge(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Cd(t,e){if(t.provider)return t.provider;Ge(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function MJ(t,e){let r=j3(e);if(r.to!=null&&(r.to=Xi(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Xi(n,t)]).then(([i,o])=>(Ae(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else r.from=t.getAddress();return await Wi(r)}class gDe{constructor(e){Te(this,"provider");Bt(this,{provider:e||null})}async getNonce(e){return Cd(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await MJ(this,e)}async populateTransaction(e){const r=Cd(this,"populateTransaction"),n=await MJ(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=xt(n.chainId);Ae(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?Ae(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&Ae(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();Ge(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(Ge(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):Ge(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Wi(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await Cd(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return Cd(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Cd(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Cd(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Cd(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=T3.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){Ge(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function mDe(t){return JSON.parse(JSON.stringify(t))}var qi,Js,yh,gf,vh,vg,Uf,YM,JM;class kse{constructor(e){$e(this,Uf);$e(this,qi);$e(this,Js);$e(this,yh);$e(this,gf);$e(this,vh);$e(this,vg);ge(this,qi,e),ge(this,Js,null),ge(this,yh,rt(this,Uf,YM).bind(this)),ge(this,gf,!1),ge(this,vh,null),ge(this,vg,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){ee(this,gf)||(ge(this,gf,!0),rt(this,Uf,YM).call(this,-2))}stop(){ee(this,gf)&&(ge(this,gf,!1),ge(this,vg,!0),rt(this,Uf,JM).call(this),ee(this,qi).off("block",ee(this,yh)))}pause(e){e&&rt(this,Uf,JM).call(this),ee(this,qi).off("block",ee(this,yh))}resume(){this.start()}}qi=new WeakMap,Js=new WeakMap,yh=new WeakMap,gf=new WeakMap,vh=new WeakMap,vg=new WeakMap,Uf=new WeakSet,YM=async function(e){try{ee(this,Js)==null&&ge(this,Js,this._subscribe(ee(this,qi)));let r=null;try{r=await ee(this,Js)}catch(o){if(!hi(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(r==null){ge(this,Js,null),ee(this,qi)._recoverSubscriber(this,this._recover(ee(this,qi)));return}const n=await ee(this,qi).getNetwork();if(ee(this,vh)||ge(this,vh,n),ee(this,vh).chainId!==n.chainId)throw new Error("chaid changed");if(ee(this,vg))return;const i=await ee(this,qi).send("eth_getFilterChanges",[r]);await this._emitResults(ee(this,qi),i)}catch(r){console.log("@TODO",r)}ee(this,qi).once("block",ee(this,yh))},JM=function(){const e=ee(this,Js);e&&(ge(this,Js,null),e.then(r=>{ee(this,qi).destroyed||ee(this,qi).send("eth_uninstallFilter",[r])}))};var wh;class yDe extends kse{constructor(r,n){super(r);$e(this,wh);ge(this,wh,mDe(n))}_recover(r){return new lL(r,ee(this,wh))}async _subscribe(r){return await r.send("eth_newFilter",[ee(this,wh)])}async _emitResults(r,n){for(const i of n)r.emit(ee(this,wh),r._wrapLog(i,r._network))}}wh=new WeakMap;class vDe extends kse{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const wDe="bigint,boolean,function,number,string,symbol".split(/,/g);function W2(t){if(t==null||wDe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(W2);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function bDe(t){return new Promise(e=>{setTimeout(e,t)})}function zp(t){return t&&t.toLowerCase()}function NJ(t){return t&&typeof t.pollingInterval=="number"}const Tse={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class U6 extends gDe{constructor(r,n){super(r);Te(this,"address");n=Dr(n),Bt(this,{address:n})}connect(r){Ge(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=W2(r),i=[];if(n.from){const a=n.from;i.push((async()=>{const s=await Xi(a,this.provider);Ae(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;i.push((async()=>{n.to=await Xi(a,this.provider)})())}i.length&&await Promise.all(i);const o=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((o,a)=>{const s=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){o(u.replaceableTransaction(n));return}}catch(u){if(hi(u,"CANCELLED")||hi(u,"BAD_DATA")||hi(u,"NETWORK_ERROR")||hi(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,a(u);return}if(hi(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){a(u);return}this.provider.emit("error",sn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)};c()})}async signTransaction(r){const n=W2(r);if(n.from){const o=await Xi(n.from,this.provider);Ae(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=o}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Ec(r):r;return await this.provider.send("personal_sign",[ht(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const o=W2(i),a=await B3.resolveNames(r,n,o,async s=>{const l=await Xi(s);return Ae(l!=null,"TypedData does not support null address","value",s),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(B3.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Ec(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ht(n)])}}var bh,wg,nc,Qs,ls,Ta,vo,eb,QM;class xDe extends cDe{constructor(r,n){super(r,n);$e(this,eb);$e(this,bh);$e(this,wg);$e(this,nc);$e(this,Qs);$e(this,ls);$e(this,Ta);$e(this,vo);ge(this,wg,1),ge(this,bh,Object.assign({},Tse,n||{})),ge(this,nc,[]),ge(this,Qs,null),ge(this,Ta,null),ge(this,vo,null);{let o=null;const a=new Promise(s=>{o=s});ge(this,ls,{promise:a,resolve:o})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(Ae(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&ge(this,Ta,cl.from(r))):i&&(Ae(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),ge(this,Ta,i))}_getOption(r){return ee(this,bh)[r]}get _network(){return Ge(ee(this,Ta),"network is not available yet","NETWORK_ERROR"),ee(this,Ta)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&xt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(ee(this,Ta))return ee(this,Ta)}else return r;return ee(this,vo)?await ee(this,vo):this.ready?(ge(this,vo,(async()=>{try{const n=cl.from(xt(await this.send("eth_chainId",[])));return ge(this,vo,null),n}catch(n){throw ge(this,vo,null),n}})()),await ee(this,vo)):(ge(this,vo,(async()=>{const n={id:ny(this,wg)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],ge(this,vo,null)}catch(o){throw ge(this,vo,null),this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return cl.from(xt(i.result));throw this.getRpcError(n,i)})()),await ee(this,vo))}_start(){ee(this,ls)==null||ee(this,ls).resolve==null||(ee(this,ls).resolve(),ge(this,ls,null),(async()=>{for(;ee(this,Ta)==null&&!this.destroyed;)try{ge(this,Ta,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",sn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await bDe(1e3)}rt(this,eb,QM).call(this)})())}async _waitUntilReady(){if(ee(this,ls)!=null)return await ee(this,ls).promise}_getSubscriber(r){return r.type==="pending"?new vDe(this):r.type==="event"?this._getOption("polling")?new lL(this,r.filter):new yDe(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new Pse("orphan"):super._getSubscriber(r)}get ready(){return ee(this,ls)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let o=i;i==="gasLimit"&&(o="gas"),n[o]=ds(xt(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=ht(r[i]))}),r.accessList&&(n.accessList=ep(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(i=>{const o=Nae(i);return{address:o.address,nonce:ds(o.nonce),chainId:ds(o.chainId),yParity:ds(o.signature.yParity),r:ds(o.signature.r),s:ds(o.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[zp(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[zp(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[zp(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[zp(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(zp):r.filter.address=zp(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:o}=n;if(i==="eth_estimateGas"&&o.message){const l=o.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return sn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:o}});if(l.match(/nonce/i)&&l.match(/too low/i))return sn("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:o}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=XM(o),c=Bw.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],l?l.data:null);return c.info={error:o,payload:r},c}const a=JSON.stringify(SDe(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return sn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:o}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return sn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:o}});if(a.match(/nonce/i)&&a.match(/too low/i))return sn("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:o}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return sn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:o}});if(a.match(/only replay-protected/i))return sn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:o}}})}let s=!!a.match(/the method .* does not exist/i);return s||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(s=!0),s?sn("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:o,payload:r}}):sn("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=ny(this,wg)._++,o=new Promise((a,s)=>{ee(this,nc).push({resolve:a,reject:s,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return rt(this,eb,QM).call(this),o}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const o=await n;if(r>=o.length)throw new Error("no such account");return new U6(this,o[r])}const{accounts:i}=await Wi({network:this.getNetwork(),accounts:n});r=Dr(r);for(const o of i)if(Dr(o)===r)return new U6(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new U6(this,n))}destroy(){ee(this,Qs)&&(clearTimeout(ee(this,Qs)),ge(this,Qs,null));for(const{payload:r,reject:n}of ee(this,nc))n(sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));ge(this,nc,[]),super.destroy()}}bh=new WeakMap,wg=new WeakMap,nc=new WeakMap,Qs=new WeakMap,ls=new WeakMap,Ta=new WeakMap,vo=new WeakMap,eb=new WeakSet,QM=function(){if(ee(this,Qs))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");ge(this,Qs,setTimeout(()=>{ge(this,Qs,null);const n=ee(this,nc);for(ge(this,nc,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==ee(this,bh).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(a=>a.payload)).length>ee(this,bh).batchMaxSize){n.unshift(i.pop());break}(async()=>{const o=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{const a=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:s,reject:l,payload:c}of i){if(this.destroyed){l(sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=a.filter(f=>f.id===c.id)[0];if(u==null){const f=sn("missing response for request","BAD_DATA",{value:a,info:{payload:c}});this.emit("error",f),l(f);continue}if("error"in u){l(this.getRpcError(c,u));continue}s(u.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:s}of i)s(a)}})()}},r))};var mf;class EDe extends xDe{constructor(r,n){super(r,n);$e(this,mf);let i=this._getOption("pollingInterval");i==null&&(i=Tse.pollingInterval),ge(this,mf,i)}_getSubscriber(r){const n=super._getSubscriber(r);return NJ(n)&&(n.pollingInterval=ee(this,mf)),n}get pollingInterval(){return ee(this,mf)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");ge(this,mf,r),this._forEachSubscriber(n=>{NJ(n)&&(n.pollingInterval=ee(this,mf))})}}mf=new WeakMap;function XM(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Zr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=XM(t[e]);if(r)return r}return null}if(typeof t=="string")try{return XM(JSON.parse(t))}catch{}return null}function ZM(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)ZM(t[r],e);if(typeof t=="string")try{return ZM(JSON.parse(t),e)}catch{}}}function SDe(t){const e=[];return ZM(t,e),e}var bg,xg;const jd=class jd extends EDe{constructor(r,n,i){const o=Object.assign({},i??{},{batchMaxCount:1});Ae(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,o);$e(this,bg);$e(this,xg);ge(this,xg,null),i&&i.providerInfo&&ge(this,xg,i.providerInfo),ge(this,bg,async(a,s)=>{const l={method:a,params:s};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const c=await r.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return ee(this,xg)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){Ae(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await ee(this,bg).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await ee(this,bg).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new jd(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const i=r.anyProvider;if(i&&n.ethereum)return new jd(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const o=r.timeout?r.timeout:300;return o===0?null:await new Promise((a,s)=>{let l=[];const c=h=>{l.push(h.detail),i&&u()},u=()=>{if(clearTimeout(f),l.length)if(r&&r.filter){const h=r.filter(l.map(p=>Object.assign({},p.info)));if(h==null)a(null);else if(h instanceof jd)a(h);else{let p=null;if(h.uuid&&(p=l.filter(m=>h.uuid===m.info.uuid)[0]),p){const{provider:y,info:m}=p;a(new jd(y,void 0,{providerInfo:m}))}else s(sn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:p}=l[0];a(new jd(h,void 0,{providerInfo:p}))}else a(null);n.removeEventListener("eip6963:announceProvider",c)},f=setTimeout(()=>{u()},o);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};bg=new WeakMap,xg=new WeakMap;let eN=jd;const _De="10.14.1",ADe={hideWalletDiscovery:!1,connectors:{[e3.AUTH]:{label:"Auth",showOnModal:!0}}},Xr={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Gu={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Xr.MAINNET+"",Xr.TESTNET+"",Xr.CYAN+"",Xr.AQUA+"",Xr.CELESTE+"";Xr.AQUA+"",Gu.SAPPHIRE_MAINNET,Xr.CELESTE+"",Gu.SAPPHIRE_MAINNET,Xr.CYAN+"",Gu.SAPPHIRE_MAINNET,Xr.MAINNET+"",Gu.SAPPHIRE_MAINNET,Xr.TESTNET+"",Gu.SAPPHIRE_DEVNET;Xr.MAINNET+"",Xr.TESTNET+"",Xr.CYAN+"",Xr.AQUA+"",Xr.CELESTE+"";Gu.SAPPHIRE_MAINNET+"",Gu.SAPPHIRE_DEVNET+"",Xr.MAINNET+"",Xr.TESTNET+"",Xr.CYAN+"",Xr.AQUA+"",Xr.CELESTE+"";Xr.MAINNET+"",Xr.TESTNET+"",Xr.CYAN+"",Xr.AQUA+"",Xr.CELESTE+"";const U3=As.getLogger("http-helpers");U3.setLevel($S.levels.INFO);let CDe="torus-default";const ODe="x-api-key";async function Mse(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function Nse(){const t={};return t[ODe]=CDe,t}function Rse(t){U3.info(`Response: ${t.status} ${t.statusText}`),U3.info(`Url: ${t.url}`)}function IDe(t){const e=t.headers.get("x-web3-correlation-id");e&&U3.info(`Request tracing with traceID = ${e}`)}const PDe=async(t,e)=>{let r=null;try{const n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},kDe=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=be(be({},n.headers),Nse())),e.method="GET";const i=Br(n,e),o=await Mse(t,i);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Rse(o),o},tN=(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=be(be({},i.headers),Nse())),r.method="POST";const o=Br(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),PDe(n.timeout||6e4,Mse(t,o).then(a=>{if(n.logTracingHeader&&IDe(a),a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw Rse(a),a}))},TDe=Xr,MDe=Gu,NDe=be(be({},MDe),TDe),g0={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},xa={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},RDe={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish",am:"amharic"},LDe={light:"light"};function RJ(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function DDe(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class BDe extends hb.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")RJ(o,this,r);else{const a=o.length,s=DDe(o);for(let l=0;l<a;l+=1)RJ(s[l],this,r)}return!0}}function LJ(t,e=3,r=50,n="black",i=0,o=20,a="#0346ff"){const s=[];let l;for(l=0;l<e;l+=1)s.push(t(a).rotate((l+1)/e*-i).saturate((l+1)/e*(o/100)).mix(t(n),r/100*(l+1)/e).hex());return s}function jDe(t,e){const r=LJ(t,3,50,"black",0,20,e),n=LJ(t,6,85,"white",0,20,e);return[...r.reverse(),e,...n]}function $De(t,e,r){if(r.primary){const n=jDe(t,r.primary);e.style.setProperty("--app-primary-900",n[0]),e.style.setProperty("--app-primary-800",n[1]),e.style.setProperty("--app-primary-700",n[2]),e.style.setProperty("--app-primary-600",n[3]),e.style.setProperty("--app-primary-500",n[4]),e.style.setProperty("--app-primary-400",n[5]),e.style.setProperty("--app-primary-300",n[6]),e.style.setProperty("--app-primary-200",n[7]),e.style.setProperty("--app-primary-100",n[8]),e.style.setProperty("--app-primary-50",n[9])}r.onPrimary&&e.style.setProperty("--app-on-primary",r.onPrimary)}function cL(t){return t.charAt(0).toUpperCase()+t.slice(1)}const FDe=new Set([lt.CUSTOM,lt.PASSKEYS,lt.TELEGRAM,lt.AUTHENTICATOR]),rN=Object.values(lt).filter(t=>!FDe.has(t)),UDe=rN.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=cL(e),t),{}),HDe={[g0.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[g0.STAGING]:"https://api.web3auth.io/passwordless-service",[g0.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[g0.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},qDe="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",t2={MODAL_VISIBILITY:"MODAL_VISIBILITY"},Kr={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored",AUTHORIZING:"authorizing",AUTHORIZED:"authorized"};let Fw=(function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t})({});function zDe(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var WDe=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-0{inset:0}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes w3a--spin{to{transform:rotate(1turn)}}.w3a-parent-container .w3a--animate-spin{animation:w3a--spin 1s linear infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--gap-y-6{row-gap:1.5rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--rounded-xl{border-radius:.75rem}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--opacity-50{opacity:.5}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media (min-width:768px){.w3a-parent-container .md\\:w3a--hidden{display:none}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;zDe(WDe);const KDe=t=>({ui_modal_login_methods_order:t==null?void 0:t.loginMethodsOrder,ui_modal_z_index:t==null?void 0:t.modalZIndex,ui_modal_display_errors_on_modal:t==null?void 0:t.displayErrorsOnModal,ui_modal_login_grid_col:t==null?void 0:t.loginGridCol,ui_modal_primary_button:t==null?void 0:t.primaryButton,ui_modal_widget_type:t==null?void 0:t.widgetType,ui_modal_target_id_used:!!(t!=null&&t.targetId),ui_modal_logo_alignment:t==null?void 0:t.logoAlignment,ui_modal_border_radius_type:t==null?void 0:t.borderRadiusType,ui_modal_button_radius_type:t==null?void 0:t.buttonRadiusType,ui_modal_sign_in_methods:t==null?void 0:t.signInMethods,ui_modal_add_previous_login_hint:t==null?void 0:t.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t==null?void 0:t.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t==null?void 0:t.displayExternalWalletsCount}),Yu={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Ju={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},Lse="https://images.web3auth.io/web3auth-logo-w.svg",Dse="https://images.web3auth.io/web3auth-logo-w-light.svg",VDe="https://images.web3auth.io/login-wallet-connect.svg",GDe="#0364FF",YDe="#FFFFFF",JDe={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}},QDe=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},XDe=(t,e)=>({classGroupId:t,validator:e}),Bse=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),H3="-",DJ=[],ZDe="arbitrary..",eBe=t=>{const e=rBe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return tBe(a);const s=a.split(H3),l=s[0]===""&&s.length>1?1:0;return jse(s,l,e)},getConflictingClassGroupIds:(a,s)=>{if(s){const l=n[a],c=r[a];return l?c?QDe(c,l):l:c||DJ}return r[a]||DJ}}},jse=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],o=r.nextPart.get(i);if(o){const c=jse(t,e+1,o);if(c)return c}const a=r.validators;if(a===null)return;const s=e===0?t.join(H3):t.slice(e).join(H3),l=a.length;for(let c=0;c<l;c++){const u=a[c];if(u.validator(s))return u.classGroupId}},tBe=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?ZDe+n:void 0})(),rBe=t=>{const{theme:e,classGroups:r}=t;return nBe(r,e)},nBe=(t,e)=>{const r=Bse();for(const n in t){const i=t[n];uL(i,r,n,e)}return r},uL=(t,e,r,n)=>{const i=t.length;for(let o=0;o<i;o++){const a=t[o];iBe(a,e,r,n)}},iBe=(t,e,r,n)=>{if(typeof t=="string"){oBe(t,e,r);return}if(typeof t=="function"){aBe(t,e,r,n);return}sBe(t,e,r,n)},oBe=(t,e,r)=>{const n=t===""?e:$se(e,t);n.classGroupId=r},aBe=(t,e,r,n)=>{if(lBe(t)){uL(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(XDe(r,t))},sBe=(t,e,r,n)=>{const i=Object.entries(t),o=i.length;for(let a=0;a<o;a++){const[s,l]=i[a];uL(l,$se(e,s),r,n)}},$se=(t,e)=>{let r=t;const n=e.split(H3),i=n.length;for(let o=0;o<i;o++){const a=n[o];let s=r.nextPart.get(a);s||(s=Bse(),r.nextPart.set(a,s)),r=s}return r},lBe=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,cBe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(o,a)=>{r[o]=a,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(o){let a=r[o];if(a!==void 0)return a;if((a=n[o])!==void 0)return i(o,a),a},set(o,a){o in r?r[o]=a:i(o,a)}}},nN="!",BJ=":",uBe=[],jJ=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),fBe=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const o=[];let a=0,s=0,l=0,c;const u=i.length;for(let m=0;m<u;m++){const v=i[m];if(a===0&&s===0){if(v===BJ){o.push(i.slice(l,m)),l=m+1;continue}if(v==="/"){c=m;continue}}v==="["?a++:v==="]"?a--:v==="("?s++:v===")"&&s--}const f=o.length===0?i:i.slice(l);let h=f,p=!1;f.endsWith(nN)?(h=f.slice(0,-1),p=!0):f.startsWith(nN)&&(h=f.slice(1),p=!0);const y=c&&c>l?c-l:void 0;return jJ(o,p,h,y)};if(e){const i=e+BJ,o=n;n=a=>a.startsWith(i)?o(a.slice(i.length)):jJ(uBe,!1,a,void 0,!0)}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},dBe=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let o=0;o<r.length;o++){const a=r[o],s=a[0]==="[",l=e.has(a);s||l?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(a)):i.push(a)}return i.length>0&&(i.sort(),n.push(...i)),n}},hBe=t=>({cache:cBe(t.cacheSize),parseClassName:fBe(t),sortModifiers:dBe(t),...eBe(t)}),pBe=/\s+/,gBe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],s=t.trim().split(pBe);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let v=!!m,w=n(v?y.substring(0,m):y);if(!w){if(!v){l=u+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=u+(l.length>0?" "+l:l);continue}v=!1}const A=h.length===0?"":h.length===1?h[0]:o(h).join(":"),_=p?A+nN:A,D=_+w;if(a.indexOf(D)>-1)continue;a.push(D);const P=i(w,v);for(let U=0;U<P.length;++U){const F=P[U];a.push(_+F)}l=u+(l.length>0?" "+l:l)}return l},mBe=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=Fse(r))&&(i&&(i+=" "),i+=n);return i},Fse=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Fse(t[n]))&&(r&&(r+=" "),r+=e);return r},yBe=(t,...e)=>{let r,n,i,o;const a=l=>{const c=e.reduce((u,f)=>f(u),t());return r=hBe(c),n=r.cache.get,i=r.cache.set,o=s,s(l)},s=l=>{const c=n(l);if(c)return c;const u=gBe(l,r);return i(l,u),u};return o=a,(...l)=>o(mBe(...l))},vBe=[],Bn=t=>{const e=r=>r[t]||vBe;return e.isThemeGetter=!0,e},Use=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hse=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wBe=/^\d+\/\d+$/,bBe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xBe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EBe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,SBe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_Be=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wp=t=>wBe.test(t),nr=t=>!!t&&!Number.isNaN(Number(t)),xu=t=>!!t&&Number.isInteger(Number(t)),H6=t=>t.endsWith("%")&&nr(t.slice(0,-1)),Dl=t=>bBe.test(t),qse=()=>!0,ABe=t=>xBe.test(t)&&!EBe.test(t),fL=()=>!1,CBe=t=>SBe.test(t),OBe=t=>_Be.test(t),IBe=t=>!_t(t)&&!At(t),PBe=t=>Yf(t,Kse,fL),_t=t=>Use.test(t),Od=t=>Yf(t,Vse,ABe),$J=t=>Yf(t,BBe,nr),kBe=t=>Yf(t,Yse,qse),TBe=t=>Yf(t,Gse,fL),FJ=t=>Yf(t,zse,fL),MBe=t=>Yf(t,Wse,OBe),r2=t=>Yf(t,Jse,CBe),At=t=>Hse.test(t),Ny=t=>rp(t,Vse),NBe=t=>rp(t,Gse),UJ=t=>rp(t,zse),RBe=t=>rp(t,Kse),LBe=t=>rp(t,Wse),n2=t=>rp(t,Jse,!0),DBe=t=>rp(t,Yse,!0),Yf=(t,e,r)=>{const n=Use.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},rp=(t,e,r=!1)=>{const n=Hse.exec(t);return n?n[1]?e(n[1]):r:!1},zse=t=>t==="position"||t==="percentage",Wse=t=>t==="image"||t==="url",Kse=t=>t==="length"||t==="size"||t==="bg-size",Vse=t=>t==="length",BBe=t=>t==="number",Gse=t=>t==="family-name",Yse=t=>t==="number"||t==="weight",Jse=t=>t==="shadow",jBe=()=>{const t=Bn("color"),e=Bn("font"),r=Bn("text"),n=Bn("font-weight"),i=Bn("tracking"),o=Bn("leading"),a=Bn("breakpoint"),s=Bn("container"),l=Bn("spacing"),c=Bn("radius"),u=Bn("shadow"),f=Bn("inset-shadow"),h=Bn("text-shadow"),p=Bn("drop-shadow"),y=Bn("blur"),m=Bn("perspective"),v=Bn("aspect"),w=Bn("ease"),A=Bn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...D(),At,_t],U=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],N=()=>[At,_t,l],L=()=>[Wp,"full","auto",...N()],B=()=>[xu,"none","subgrid",At,_t],R=()=>["auto",{span:["full",xu,At,_t]},xu,At,_t],b=()=>[xu,"auto",At,_t],x=()=>["auto","min","max","fr",At,_t],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...N()],j=()=>[Wp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],O=()=>[t,At,_t],k=()=>[...D(),UJ,FJ,{position:[At,_t]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",RBe,PBe,{size:[At,_t]}],H=()=>[H6,Ny,Od],q=()=>["","none","full",c,At,_t],W=()=>["",nr,Ny,Od],V=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[nr,H6,UJ,FJ],X=()=>["","none",y,At,_t],Z=()=>["none",nr,At,_t],ae=()=>["none",nr,At,_t],he=()=>[nr,At,_t],se=()=>[Wp,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dl],breakpoint:[Dl],color:[qse],container:[Dl],"drop-shadow":[Dl],ease:["in","out","in-out"],font:[IBe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dl],shadow:[Dl],spacing:["px",nr],text:[Dl],"text-shadow":[Dl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wp,_t,At,v]}],container:["container"],columns:[{columns:[nr,_t,At,s]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[xu,"auto",At,_t]}],basis:[{basis:[Wp,"full","auto",s,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nr,Wp,"auto","initial","none",_t]}],grow:[{grow:["",nr,At,_t]}],shrink:[{shrink:["",nr,At,_t]}],order:[{order:[xu,"first","last","none",At,_t]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":x()}],"auto-rows":[{"auto-rows":x()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[s,"screen",...j()]}],"min-w":[{"min-w":[s,"screen","none",...j()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",r,Ny,Od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,DBe,kBe]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",H6,_t]}],"font-family":[{font:[NBe,TBe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,At,_t]}],"line-clamp":[{"line-clamp":[nr,"none",At,$J]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",At,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",At,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[nr,"from-font","auto",At,Od]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[nr,"auto",At,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xu,At,_t],radial:["",At,_t],conic:[xu,At,_t]},LBe,MBe]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nr,At,_t]}],"outline-w":[{outline:["",nr,Ny,Od]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,n2,r2]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",f,n2,r2]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[nr,Od]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,n2,r2]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[nr,At,_t]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nr]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[At,_t]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[nr]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",At,_t]}],filter:[{filter:["","none",At,_t]}],blur:[{blur:X()}],brightness:[{brightness:[nr,At,_t]}],contrast:[{contrast:[nr,At,_t]}],"drop-shadow":[{"drop-shadow":["","none",p,n2,r2]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",nr,At,_t]}],"hue-rotate":[{"hue-rotate":[nr,At,_t]}],invert:[{invert:["",nr,At,_t]}],saturate:[{saturate:[nr,At,_t]}],sepia:[{sepia:["",nr,At,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",At,_t]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[nr,At,_t]}],"backdrop-contrast":[{"backdrop-contrast":[nr,At,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nr,At,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nr,At,_t]}],"backdrop-invert":[{"backdrop-invert":["",nr,At,_t]}],"backdrop-opacity":[{"backdrop-opacity":[nr,At,_t]}],"backdrop-saturate":[{"backdrop-saturate":[nr,At,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",nr,At,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",At,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nr,"initial",At,_t]}],ease:[{ease:["linear","initial",w,At,_t]}],delay:[{delay:[nr,At,_t]}],animate:[{animate:["none",A,At,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,At,_t]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[At,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At,_t]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[nr,Ny,Od,$J]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$Be=yBe(jBe),q6=new Map;function lr(...t){const e=JSON.stringify(t);if(q6.has(e))return q6.get(e);const r=$Be(xr(t));return q6.set(e,r),r}const FBe=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},UBe=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},HBe=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},qBe=t=>t.charAt(0).toUpperCase()+t.slice(1),Oo=t=>`https://images.web3auth.io/login-modal/${t}.svg`,Qse="https://api.web3auth.io/passwordless-service",zBe=async()=>{try{const t=await kDe(`${Qse}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return st.error("error getting user country",t),null}},WBe=async t=>{try{const e=await tN(`${Qse}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return st.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},Xse=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(RDe,e)?e:xa.en};function KBe(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}const VBe=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};function GBe(t){const{open:e=!0,padding:r=!0,shadow:n=!0,border:i=!1,showCloseIcon:o=!1,onClose:a,children:s,borderRadius:l="large"}=t,[c,u]=ye.useState(!1);ye.useEffect(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);const f=()=>{a&&a()};return c?Y.jsxs("div",{className:lr("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":c,"w3a--translate-y-[100vh]":!c,"w3a--p-4":r,"w3a--shadow-xl sm:w3a--shadow-lg":n,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[o&&Y.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:Y.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:Y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}function YBe(t){const{children:e,open:r,onClose:n,placement:i="center",padding:o=!0,shadow:a=!0,border:s=!1,showCloseIcon:l=!0,borderRadius:c="large"}=t,[u,f]=ye.useState(!1);ye.useEffect(()=>{r?(document.body.style.overflow="hidden",setTimeout(()=>{f(!0)},50)):(f(!1),document.body.style.overflow="")},[r]);const h=ye.useMemo(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),p=ye.useMemo(()=>h[i],[i,h]),y=()=>{n&&n()};return Y.jsx("div",{className:lr("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",p,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:Y.jsxs("div",{className:lr("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":a,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[l&&Y.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:Y.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:y,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:Y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}const Wt=t=>typeof t=="string",Ry=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},HJ=t=>t==null?"":""+t,JBe=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},QBe=/###/g,qJ=t=>t&&t.indexOf("###")>-1?t.replace(QBe,"."):t,zJ=t=>!t||Wt(t),bv=(t,e,r)=>{const n=Wt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(zJ(t))return{};const o=qJ(n[i]);!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return zJ(t)?{}:{obj:t,k:qJ(n[i])}},WJ=(t,e,r)=>{const{obj:n,k:i}=bv(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=bv(t,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=bv(t,a,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},XBe=(t,e,r,n)=>{const{obj:i,k:o}=bv(t,e,Object);i[o]=i[o]||[],i[o].push(r)},q3=(t,e)=>{const{obj:r,k:n}=bv(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},ZBe=(t,e,r)=>{const n=q3(t,r);return n!==void 0?n:q3(e,r)},Zse=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Wt(t[n])||t[n]instanceof String||Wt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Zse(t[n],e[n],r):t[n]=e[n]);return t},Kp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var eje={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const tje=t=>Wt(t)?t.replace(/[&<>"'\/]/g,e=>eje[e]):t;class rje{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const nje=[" ",",","?","!",";"],ije=new rje(20),oje=(t,e,r)=>{e=e||"",r=r||"";const n=nje.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=ije.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(t);if(!o){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o},iN=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<n.length;++l)if(l!==o&&(s+=r),s+=n[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;o+=l-o+1;break}i=a}return i},Uw=t=>t==null?void 0:t.replace("_","-"),aje={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class z3{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||aje,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Wt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new z3(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new z3(this.logger,e)}}var ul=new z3;class I_{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i.apply(i,[e,...r])})}}class KJ extends I_{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){var c,u;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):Wt(n)&&o?s.push(...n.split(o)):s.push(n)));const l=q3(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!a||!Wt(n)?l:iN((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[r],n,o)}addResource(e,r,n,i,o={silent:!1}){const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),WJ(this.data,s,i),o.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const o in n)(Wt(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,o,a={silent:!1,skipCopy:!1}){let s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=q3(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Zse(l,n,o):l={...l,...n},WJ(this.data,s,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var ele={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(o=>{var a;e=((a=this.processors[o])==null?void 0:a.process(e,r,n,i))??e}),e}};const tle=Symbol("i18next/PATH_KEY");function sje(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>{var o;return(o=r==null?void 0:r.revoke)==null||o.call(r),i===tle?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function oN(t,e){const{[tle]:r}=t(sje());return r.join((e==null?void 0:e.keySeparator)??".")}const VJ={},z6=t=>!Wt(t)&&typeof t!="boolean"&&typeof t!="number";class W3 extends I_{constructor(e,r={}){super(),JBe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ul.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const i=this.resolve(e,n);if((i==null?void 0:i.res)===void 0)return!1;const o=z6(i.res);return!(n.returnObjects===!1&&o)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!oje(e,n,i);if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Wt(o)?[o]:o};const c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(i)}return{key:e,namespaces:Wt(o)?[o]:o}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=oN(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?o?{res:`${c}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${s}`:o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:s;const p=this.resolve(e,i);let y=p==null?void 0:p.res;const m=(p==null?void 0:p.usedKey)||s,v=(p==null?void 0:p.exactUsedKey)||s,w=["[object Number]","[object Function]","[object RegExp]"],A=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,D=i.count!==void 0&&!Wt(i.count),P=W3.hasDefaultValue(i),U=D?this.pluralResolver.getSuffix(f,i.count,i):"",F=i.ordinal&&D?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",N=D&&!i.ordinal&&i.count===0,L=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${U}`]||i[`defaultValue${F}`]||i.defaultValue;let B=y;_&&!y&&P&&(B=L);const R=z6(B),b=Object.prototype.toString.apply(B);if(_&&B&&R&&w.indexOf(b)<0&&!(Wt(A)&&Array.isArray(B))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,B,{...i,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(p.res=x,p.usedParams=this.getUsedParamsDetails(i),p):x}if(a){const x=Array.isArray(B),I=x?[]:{},C=x?v:m;for(const T in B)if(Object.prototype.hasOwnProperty.call(B,T)){const j=`${C}${a}${T}`;P&&!y?I[T]=this.translate(j,{...i,defaultValue:z6(L)?L[T]:void 0,joinArrays:!1,ns:l}):I[T]=this.translate(j,{...i,joinArrays:!1,ns:l}),I[T]===j&&(I[T]=B[T])}y=I}}else if(_&&Wt(A)&&Array.isArray(y))y=y.join(A),y&&(y=this.extendTranslation(y,e,i,n));else{let x=!1,I=!1;!this.isValidLookup(y)&&P&&(x=!0,y=L),this.isValidLookup(y)||(I=!0,y=s);const T=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:y,j=P&&L!==y&&this.options.updateMissing;if(I||x||j){if(this.logger.log(j?"updateKey":"missingKey",f,c,s,j?L:y),a){const M=this.resolve(s,{...i,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const k=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&k&&k[0])for(let M=0;M<k.length;M++)O.push(k[M]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(i.lng||this.language):O.push(i.lng||this.language);const E=(M,H,q)=>{var V;const W=P&&q!==y?q:T;this.options.missingKeyHandler?this.options.missingKeyHandler(M,c,H,W,j,i):(V=this.backendConnector)!=null&&V.saveMissing&&this.backendConnector.saveMissing(M,c,H,W,j,i),this.emit("missingKey",M,c,H,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?O.forEach(M=>{const H=this.pluralResolver.getSuffixes(M,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(q=>{E([M],s+q,i[`defaultValue${q}`]||L)})}):E(O,s,L))}y=this.extendTranslation(y,e,i,p,n),I&&y===s&&this.options.appendNamespaceToMissingKey&&(y=`${c}${u}${s}`),(I||x)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${s}`:s,x?y:void 0,i))}return o?(p.res=y,p.usedParams=this.getUsedParamsDetails(i),p):y}extendTranslation(e,r,n,i,o){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Wt(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=n.replace&&!Wt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,n.lng||this.language||i.usedLng,n),u){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;f<y&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(o==null?void 0:o[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Wt(a)?[a]:a;return e!=null&&(s!=null&&s.length)&&n.applyPostProcessor!==!1&&(e=ele.handle(s,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,o,a,s;return Wt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,r),u=c.key;i=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Wt(r.count),p=h&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(Wt(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var w,A;this.isValidLookup(n)||(s=v,!VJ[`${m[0]}-${v}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(s))&&(VJ[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(_=>{var U;if(this.isValidLookup(n))return;a=_;const D=[u];if((U=this.i18nFormat)!=null&&U.addLookupKeys)this.i18nFormat.addLookupKeys(D,u,_,v,r);else{let F;h&&(F=this.pluralResolver.getSuffix(_,r.count,r));const N=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&F.indexOf(L)===0&&D.push(u+F.replace(L,this.options.pluralSeparator)),D.push(u+F),p&&D.push(u+N)),y){const B=`${u}${this.options.contextSeparator||"_"}${r.context}`;D.push(B),h&&(r.ordinal&&F.indexOf(L)===0&&D.push(B+F.replace(L,this.options.pluralSeparator)),D.push(B+F),p&&D.push(B+N))}}let P;for(;P=D.pop();)this.isValidLookup(n)||(o=P,n=this.getResource(_,v,P,r))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Wt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const o of r)delete i[o]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class GJ{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ul.create("languageUtils")}getScriptPartFromCode(e){if(e=Uw(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Uw(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Wt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Wt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Wt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Wt(e)&&o(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}const YJ={zero:0,one:1,two:2,few:3,many:4,other:5},JJ={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class lje{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=ul.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=Uw(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),JJ;if(!e.match(/-|_/))return JJ;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,r)}return this.pluralRulesCache[o]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,o)=>YJ[i]-YJ[o]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const QJ=(t,e,r,n=".",i=!0)=>{let o=ZBe(t,e,r);return!o&&i&&Wt(r)&&(o=iN(t,r,n),o===void 0&&(o=iN(e,r,n))),o},W6=t=>t.replace(/\$/g,"$$$$");class XJ{constructor(e={}){var r;this.logger=ul.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:w,alwaysFormat:A}=e.interpolation;this.escape=r!==void 0?r:tje,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Kp(o):a||"{{",this.suffix=s?Kp(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Kp(h):p||Kp("$t("),this.nestingSuffix=y?Kp(y):m||Kp(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=w||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){var p;let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=y=>{if(y.indexOf(this.formatSeparator)<0){const A=QJ(r,l,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,n,{...i,...r,interpolationkey:y}):A}const m=y.split(this.formatSeparator),v=m.shift().trim(),w=m.join(this.formatSeparator).trim();return this.format(QJ(r,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...i,...r,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>W6(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?W6(this.escape(y)):W6(y)}].forEach(y=>{for(s=0;o=y.regex.exec(e);){const m=o[1].trim();if(a=c(m),a===void 0)if(typeof u=="function"){const w=u(e,o,i);a=Wt(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(f){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else!Wt(a)&&!this.useRawValueToEscape&&(a=HJ(a));const v=y.safeValue(a);if(e=e.replace(o[0],v),f?(y.regex.lastIndex+=a.length,y.regex.lastIndex-=o[0].length):y.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,o,a;const s=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,a);const p=h.match(/'/g),y=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),c&&(a={...c,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${u}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!Wt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),o=r(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&!Wt(o))return o;Wt(o)||(o=HJ(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),l.length&&(o=l.reduce((u,f)=>this.format(u,f,n.lng,{...n,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const cje=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();r[u]||(r[u]=c),c==="false"&&(r[u]=!1),c==="true"&&(r[u]=!0),isNaN(c)||(r[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},ZJ=t=>{const e={};return(r,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=n+JSON.stringify(o);let s=e[a];return s||(s=t(Uw(n),i),e[a]=s),s(r)}},uje=t=>(e,r,n)=>t(Uw(r),n)(e);class fje{constructor(e={}){this.logger=ul.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?ZJ:uje;this.formats={number:n((i,o)=>{const a=new Intl.NumberFormat(i,{...o});return s=>a.format(s)}),currency:n((i,o)=>{const a=new Intl.NumberFormat(i,{...o,style:"currency"});return s=>a.format(s)}),datetime:n((i,o)=>{const a=new Intl.DateTimeFormat(i,{...o});return s=>a.format(s)}),relativetime:n((i,o)=>{const a=new Intl.RelativeTimeFormat(i,{...o});return s=>a.format(s,o.range||"day")}),list:n((i,o)=>{const a=new Intl.ListFormat(i,{...o});return s=>a.format(s)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=ZJ(r)}format(e,r,n,i={}){const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,l)=>{var f;const{formatName:c,formatOptions:u}=cje(l);if(this.formats[c]){let h=s;try{const p=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},y=p.locale||p.lng||i.locale||i.lng||n;h=this.formats[c](s,y,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}const dje=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class hje extends I_{constructor(e,r,n,i={}){var o,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ul.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(o=this.backend)==null?void 0:o.init)==null||a.call(o,n,i.backend,i)}queueLoad(e,r,n,i){const o={},a={},s={},l={};return e.forEach(c=>{let u=!0;r.forEach(f=>{const h=`${c}|${f}`;!n.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,u=!1,a[h]===void 0&&(a[h]=!0),o[h]===void 0&&(o[h]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(s[c]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),o=i[0],a=i[1];r&&this.emit("failedLoading",o,a,r),!r&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{XBe(l.loaded,[o],a),dje(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{s[c][f]===void 0&&(s[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n,i=0,o=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,o*2,a)},o);return}a(c,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,r);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,r,s)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Wt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Wt(r)&&(r=[r]);const o=this.queueLoad(e,r,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${r}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,r,n,i,o,a={},s=()=>{}){var l,c,u,f,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const p={...a,isUpdate:o},y=this.backend.create.bind(this.backend);if(y.length<6)try{let m;y.length===5?m=y(e,r,n,i,p):m=y(e,r,n,i),m&&typeof m.then=="function"?m.then(v=>s(null,v)).catch(s):s(null,m)}catch(m){s(m)}else y(e,r,n,i,s,p)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const K6=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Wt(t[1])&&(e.defaultValue=t[1]),Wt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eQ=t=>{var e,r;return Wt(t.ns)&&(t.ns=[t.ns]),Wt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Wt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},i2=()=>{},pje=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};let tQ=!1;const gje=t=>{var e,r,n,i,o,a,s,l,c;return!!(((n=(r=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:r.name)==null?void 0:n.indexOf("Locize"))>0||((s=(a=(o=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:o.constructor)==null?void 0:a.name)==null?void 0:s.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var f,h,p;return((f=u==null?void 0:u.name)==null?void 0:f.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class xv extends I_{constructor(e={},r){if(super(),this.options=eQ(e),this.services={},this.logger=ul,this.modules={external:[]},pje(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Wt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=K6();this.options={...n,...this.options,...eQ(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!gje(this)&&!tQ&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),tQ=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ul.init(i(this.modules.logger),this.options):ul.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=fje;const u=new GJ(this.options);this.store=new KJ(this.options.resources,this.options);const f=this.services;f.logger=ul,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new lje(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=i(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new XJ(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new hje(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new W3(this.services,this.options),this.translator.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=i2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const s=Ry(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(f),r(u,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e,r=i2){var o,a;let n=r;const i=Wt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&s.indexOf(f)<0&&s.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(a=(o=this.options.preload)==null?void 0:o.forEach)==null||a.call(o,c=>l(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){const i=Ry();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=i2),this.services.backendConnector.reload(e,r,o=>{i.resolve(),n(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ele.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Ry();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},o=(s,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),r&&r(s,(...c)=>this.t(...c))},a=s=>{var u,f;!e&&!s&&this.services.languageDetector&&(s=[]);const l=Wt(s)?s:s&&s[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Wt(s)?[s]:s);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,c)),this.loadResources(c,h=>{o(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const i=(o,a,...s)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([o,a].concat(s)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(o)?u=o.map(f=>(typeof f=="function"&&(f=oN(f,{...this.options,...a})),`${l.keyPrefix}${c}${f}`)):(typeof o=="function"&&(o=oN(o,{...this.options,...a})),u=l.keyPrefix?`${l.keyPrefix}${c}${o}`:o),this.t(u,l)};return Wt(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(r.precheck){const s=r.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}loadNamespaces(e,r){const n=Ry();return this.options.ns?(Wt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Ry();Wt(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const s=a.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((o=this.services)==null?void 0:o.languageUtils)||new GJ(K6());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new xv(e,r);return n.createInstance=xv.createInstance,n}cloneInstance(e={},r=i2){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new xv(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const s=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,f)=>(u[f]={...l[c][f]},u),l[c]),l),{});o.store=new KJ(s,i),o.services.resourceStore=o.store}if(e.interpolation){const l={...K6().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};o.services.interpolator=new XJ(c)}return o.translator=new W3(o.services,i),o.translator.on("*",(s,...l)=>{o.emit(s,...l)}),o.init(i,r),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ro=xv.createInstance();ro.createInstance;ro.dir;ro.init;ro.loadResources;ro.reloadResources;ro.use;ro.changeLanguage;ro.getFixedT;ro.t;ro.exists;ro.setDefaultNamespace;ro.hasLoadedNamespace;ro.loadNamespaces;ro.loadLanguages;const mje=(t,e,r,n)=>{var o,a,s,l;const i=[r,{code:e,...n||{}}];if((a=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Fh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},rQ={},rle=(t,e,r,n)=>{Fh(r)&&rQ[r]||(Fh(r)&&(rQ[r]=new Date),mje(t,e,r,n))},nle=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},aN=(t,e,r)=>{t.loadNamespaces(e,nle(t,r))},nQ=(t,e,r,n)=>{if(Fh(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return aN(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,nle(t,n))},yje=(t,e,r={})=>!e.languages||!e.languages.length?(rle(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Fh=t=>typeof t=="string",vje=t=>typeof t=="object"&&t!==null,wje=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bje={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},xje=t=>bje[t],Eje=t=>t.replace(wje,xje);let sN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Eje,transDefaultProps:void 0};const Sje=(t={})=>{sN={...sN,...t}},_je=()=>sN;let ile;const Aje=t=>{ile=t},Cje=()=>ile,Oje={type:"3rdParty",init(t){Sje(t.options.react),Aje(t)}},Ije=ye.createContext();class Pje{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var V6={exports:{}},G6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iQ;function kje(){if(iQ)return G6;iQ=1;var t=tS();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function s(f,h){var p=h(),y=n({inst:{value:p,getSnapshot:h}}),m=y[0].inst,v=y[1];return o(function(){m.value=p,m.getSnapshot=h,l(m)&&v({inst:m})},[f,p,h]),i(function(){return l(m)&&v({inst:m}),f(function(){l(m)&&v({inst:m})})},[f]),a(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function c(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return G6.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,G6}var oQ;function Tje(){return oQ||(oQ=1,V6.exports=kje()),V6.exports}var Mje=Tje();const Nje=(t,e)=>Fh(e)?e:vje(e)&&Fh(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Rje={t:Nje,ready:!1},Lje=()=>()=>{},ji=(t,e={})=>{var L,B,R;const{i18n:r}=e,{i18n:n,defaultNS:i}=ye.useContext(Ije)||{},o=r||n||Cje();o&&!o.reportNamespaces&&(o.reportNamespaces=new Pje),o||rle(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=ye.useMemo(()=>{var b;return{..._je(),...(b=o==null?void 0:o.options)==null?void 0:b.react,...e}},[o,e]),{useSuspense:s,keyPrefix:l}=a,c=i||((L=o==null?void 0:o.options)==null?void 0:L.defaultNS),u=Fh(c)?[c]:c||["translation"],f=ye.useMemo(()=>u,u);(R=(B=o==null?void 0:o.reportNamespaces)==null?void 0:B.addUsedNamespaces)==null||R.call(B,f);const h=ye.useRef(0),p=ye.useCallback(b=>{if(!o)return Lje;const{bindI18n:x,bindI18nStore:I}=a,C=()=>{h.current+=1,b()};return x&&o.on(x,C),I&&o.store.on(I,C),()=>{x&&x.split(" ").forEach(T=>o.off(T,C)),I&&I.split(" ").forEach(T=>o.store.off(T,C))}},[o,a]),y=ye.useRef(),m=ye.useCallback(()=>{if(!o)return Rje;const b=!!(o.isInitialized||o.initializedStoreOnce)&&f.every(O=>yje(O,o,a)),x=e.lng||o.language,I=h.current,C=y.current;if(C&&C.ready===b&&C.lng===x&&C.keyPrefix===l&&C.revision===I)return C;const j={t:o.getFixedT(x,a.nsMode==="fallback"?f:f[0],l),ready:b,lng:x,keyPrefix:l,revision:I};return y.current=j,j},[o,f,l,a,e.lng]),[v,w]=ye.useState(0),{t:A,ready:_}=Mje.useSyncExternalStore(p,m,m);ye.useEffect(()=>{if(o&&!_&&!s){const b=()=>w(x=>x+1);e.lng?nQ(o,e.lng,f,b):aN(o,f,b)}},[o,e.lng,f,_,s,v]);const D=o||{},P=ye.useRef(null),U=ye.useRef(),F=b=>{const x=Object.getOwnPropertyDescriptors(b);x.__original&&delete x.__original;const I=Object.create(Object.getPrototypeOf(b),x);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:b,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},N=ye.useMemo(()=>{const b=D,x=b==null?void 0:b.language;let I=b;b&&(P.current&&P.current.__original===b?U.current!==x?(I=F(b),P.current=I,U.current=x):I=P.current:(I=F(b),P.current=I,U.current=x));const C=[A,I,_];return C.t=A,C.i18n=I,C.ready=_,C},[A,D,_,D.resolvedLanguage,D.language,D.languages]);if(o&&s&&!_)throw new Promise(b=>{const x=()=>b();e.lng?nQ(o,e.lng,f,x):aN(o,f,x)});return N},Ib=ye.createContext({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:Fw.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),P_=ye.createContext({isDark:!0});var ole={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.qr-code-copied-to-clipboard":"URI copied to clipboard","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click the QR code to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","loader.authorizing-header":"Verify on {{connector}}","loader.authorizing-message":"Weve sent a request to your wallet. Verify on your wallet to confirm that you own this wallet.","loader.authorizing-verify-btn":" Click here to verify","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},ale={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-invalid-test-account":"Invalid test account","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","something-wrong-error":"Something went wrong"},sle={modal:ole,passwordless:ale};const Dje=Object.freeze(Object.defineProperty({__proto__:null,default:sle,modal:ole,passwordless:ale},Symbol.toStringTag,{value:"Module"})),cr=ro.createInstance();cr.use(Oje).init({resources:{en:{translation:sle}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function aQ({isShown:t,onClose:e,children:r,uiConfig:n,sheetClassName:i,showCloseButton:o=!0}){const{borderRadiusType:a="large"}=n,s=l=>{l.stopPropagation(),e&&e()};return Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:lr("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":a==="large","w3a--rounded-2xl":a==="medium","w3a--rounded-none":a==="small"}),onClick:s,"aria-hidden":"true",role:"button"}),Y.jsxs("div",{className:lr(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":a==="large","w3a--rounded-2xl":a==="medium","w3a--rounded-none":a==="small"},i),children:[o&&Y.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:Y.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:Y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),r]})]})}const dL=ye.createContext({analytics:void 0});function Bje(t){const{isDark:e,isLoading:r,selectedChain:n,setSelectedChain:i,chainNamespace:o}=t,[a]=ji(void 0,{i18n:cr}),s=ye.useMemo(()=>{const l=[{id:"all",name:"modal.allChains",icon:""}];for(const c of o)(c===tr.EIP155||c===tr.SOLANA)&&l.push({id:c,name:c===tr.EIP155?"EVM":c,icon:c===tr.EIP155?"ethereum":c});return l},[o]);return r?Y.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((l,c)=>Y.jsx("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${c}`))}):Y.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(l=>Y.jsxs("button",{type:"button",className:lr("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":n===l.id}),onClick:()=>i(l.id),children:[l.icon&&Y.jsx("img",{src:Oo(e?`${l.icon}-dark`:`${l.icon}-light`),alt:l.name,className:"w3a--size-5 w3a--object-contain"}),Y.jsx("span",{className:"first-letter:w3a--capitalize",children:a(l.name)})]},l.id))})}function lle(t){const{hideBackButton:e,disableBackButton:r,onBackClick:n,currentPage:i,selectedButton:o}=t,[a]=ji(void 0,{i18n:cr}),s=()=>{n&&!r&&n()};return Y.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[e?Y.jsx("div",{}):Y.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:s,disabled:r,children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:`w3a--text-app-gray-500 dark:w3a--text-app-gray-200 ${r?"w3a--cursor-not-allowed w3a--opacity-50":"hover:w3a--text-app-gray-900 dark:hover:w3a--text-app-white"}`,children:Y.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),Y.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i===Ju.SELECTED_WALLET?o==null?void 0:o.displayName:i===Ju.CONNECT_WALLET?a("modal.connectYourWallet"):i}),Y.jsx("div",{className:"w3a--z-[-1] w3a--size-5"})]})}const th={SOCIAL:"social",WALLET:"wallet"};function ta(t){const{id:e="",isButton:r=!1,imageData:n="",height:i="auto",width:o="auto",extension:a="svg",darkImageId:s="",darkHoverImageId:l="",imageId:c,hoverImageId:u,fallbackImageId:f}=t,{isDark:h}=ye.useContext(P_),p=ye.useMemo(()=>h&&s?s:c,[h,s,c]),y=ye.useMemo(()=>h&&l?l:u,[h,l,u]);return r?n?Y.jsx("img",{id:e,src:n,height:i,width:o,alt:u,className:lr("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):Y.jsx("img",{id:e,src:`https://images.web3auth.io/${y}.${a}`,height:i,width:o,alt:u,className:lr("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):n?Y.jsx("img",{id:e,src:n,height:i,width:o,alt:c,className:lr("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:m})=>{if(f){const v=m;v.onerror=null,v.src=`https://images.web3auth.io/${f}.svg`}}}):Y.jsx("img",{id:e,src:`https://images.web3auth.io/${p}.${a}`,height:i,width:o,alt:c,className:lr("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:m})=>{if(f){const v=m;v.onerror=null,v.src=`https://images.web3auth.io/${f}.svg`}}})}function jje(t,e,r){const n=t===lt.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===lt.APPLE||t===lt.GITHUB||t===lt.TWITTER?n:`login-${t}-active`;return r?Y.jsx(ta,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):Y.jsx(ta,{width:"20",imageId:n,hoverImageId:i})}function $je(t){const{text:e,showIcon:r,showText:n,method:i,isDark:o,isPrimaryBtn:a,onClick:s,children:l,btnStyle:c,buttonRadius:u="pill"}=t;return Y.jsxs("button",{type:"button",onClick:f=>s&&s(f),className:lr("w3a--btn",c,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[r&&jje(i,o,a),l,n&&Y.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e})]})}var Y6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var sQ;function Fje(){return sQ||(sQ=1,(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Y6)),Y6.exports}var Uje=Fje();const Hje=fr(Uje);function qje(t){const[e]=ji(void 0,{i18n:cr}),{deviceDetails:r,button:n,walletConnectUri:i,onClick:o,label:a,buttonRadius:s}=t,l=ye.useContext(P_),c=ye.useMemo(()=>r.platform!=="desktop"&&n.href&&n.hasWalletConnect&&!n.isInstalled,[r,n]),u=ye.useMemo(()=>n.href?KBe({uri:i,link:n.href}):i,[n,i]),f=()=>{u&&c?window.open(u,"_blank"):o&&o()};return Y.jsxs("button",{type:"button",className:Hje(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:f,children:[Y.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[Y.jsx("figure",{className:"w3a--size-5",children:Y.jsx(ta,{imageData:n.icon,imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:n.imgExtension||"webp"})}),Y.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a})]}),n.hasInjectedWallet&&Y.jsx("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),Y.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(l?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function Jy(t){const{type:e,props:r}=t,n=r,i=r,{text:o,showIcon:a,showText:s,method:l,isDark:c,isPrimaryBtn:u,onClick:f,children:h,btnStyle:p,buttonRadius:y}=n,{label:m,onClick:v,button:w,deviceDetails:A,walletConnectUri:_,buttonRadius:D}=i;return Y.jsxs(Y.Fragment,{children:[e===th.SOCIAL&&Y.jsx($je,{text:o,showIcon:a,showText:s,method:l,isDark:c,isPrimaryBtn:u,onClick:f,btnStyle:p,buttonRadius:y,children:h}),e===th.WALLET&&Y.jsx(qje,{label:m,walletConnectUri:_,onClick:v,button:w,deviceDetails:A,buttonRadius:D})]})}function zje(){const[t]=ji(void 0,{i18n:cr});return Y.jsx("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function Wje(t){const{externalButtons:e,isLoading:r,handleWalletClick:n,deviceDetails:i,walletConnectUri:o,buttonRadius:a}=t;return r?Y.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((s,l)=>Y.jsx("div",{className:lr("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})},`loader-${l}`))}):Y.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(s=>Y.jsx(Jy,{type:th.WALLET,props:{label:s.displayName,onClick:()=>n(s),button:s,deviceDetails:i,walletConnectUri:o,buttonRadius:a}},s.name))})}function Kje(t){const{totalExternalWalletsCount:e,initialWalletCount:r,handleMoreWallets:n,isLoading:i,isDark:o,buttonRadius:a}=t,[s]=ji(void 0,{i18n:cr}),l=()=>{n&&n()};return i&&r<e?Y.jsx("div",{className:lr("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})}):Y.jsxs("button",{type:"button",className:lr("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"}),onClick:l,children:[Y.jsx("img",{src:Oo(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),Y.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),Y.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-r})]})}function Vje(t){const{externalButtons:e,isLoading:r,totalExternalWalletsCount:n,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:a,isDark:s,deviceDetails:l,walletConnectUri:c,buttonRadius:u,isShowAllWallets:f}=t,h=()=>{a()},p=!f;return Y.jsxs(Y.Fragment,{children:[Y.jsx("ul",{className:lr("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!p}),children:e.length===0?Y.jsx(zje,{}):Y.jsx(Wje,{externalButtons:e,isLoading:r,handleWalletClick:o,deviceDetails:l,walletConnectUri:c,buttonRadius:u})}),p&&!r&&i<n&&Y.jsx(Kje,{totalExternalWalletsCount:n,initialWalletCount:i,handleMoreWallets:h,isLoading:r,isDark:s,buttonRadius:u})]})}const vm=function(t,e){let i=t;const o=Qy[e];let a=null,s=0,l=null;const c=[],u={},f=function(F,N){s=i*4+17,a=(function(L){const B=new Array(L);for(let R=0;R<L;R+=1){B[R]=new Array(L);for(let b=0;b<L;b+=1)B[R][b]=null}return B})(s),h(0,0),h(s-7,0),h(0,s-7),m(),y(),w(F,N),i>=7&&v(F),l==null&&(l=D(i,o,c)),A(l,N)},h=function(F,N){for(let L=-1;L<=7;L+=1)if(!(F+L<=-1||s<=F+L))for(let B=-1;B<=7;B+=1)N+B<=-1||s<=N+B||(0<=L&&L<=6&&(B==0||B==6)||0<=B&&B<=6&&(L==0||L==6)||2<=L&&L<=4&&2<=B&&B<=4?a[F+L][N+B]=!0:a[F+L][N+B]=!1)},p=function(){let F=0,N=0;for(let L=0;L<8;L+=1){f(!0,L);const B=Su.getLostPoint(u);(L==0||F>B)&&(F=B,N=L)}return N},y=function(){for(let F=8;F<s-8;F+=1)a[F][6]==null&&(a[F][6]=F%2==0);for(let F=8;F<s-8;F+=1)a[6][F]==null&&(a[6][F]=F%2==0)},m=function(){const F=Su.getPatternPosition(i);for(let N=0;N<F.length;N+=1)for(let L=0;L<F.length;L+=1){const B=F[N],R=F[L];if(a[B][R]==null)for(let b=-2;b<=2;b+=1)for(let x=-2;x<=2;x+=1)b==-2||b==2||x==-2||x==2||b==0&&x==0?a[B+b][R+x]=!0:a[B+b][R+x]=!1}},v=function(F){const N=Su.getBCHTypeNumber(i);for(let L=0;L<18;L+=1){const B=!F&&(N>>L&1)==1;a[Math.floor(L/3)][L%3+s-8-3]=B}for(let L=0;L<18;L+=1){const B=!F&&(N>>L&1)==1;a[L%3+s-8-3][Math.floor(L/3)]=B}},w=function(F,N){const L=o<<3|N,B=Su.getBCHTypeInfo(L);for(let R=0;R<15;R+=1){const b=!F&&(B>>R&1)==1;R<6?a[R][8]=b:R<8?a[R+1][8]=b:a[s-15+R][8]=b}for(let R=0;R<15;R+=1){const b=!F&&(B>>R&1)==1;R<8?a[8][s-R-1]=b:R<9?a[8][15-R-1+1]=b:a[8][15-R-1]=b}a[s-8][8]=!F},A=function(F,N){let L=-1,B=s-1,R=7,b=0;const x=Su.getMaskFunction(N);for(let I=s-1;I>0;I-=2)for(I==6&&(I-=1);;){for(let C=0;C<2;C+=1)if(a[B][I-C]==null){let T=!1;b<F.length&&(T=(F[b]>>>R&1)==1),x(B,I-C)&&(T=!T),a[B][I-C]=T,R-=1,R==-1&&(b+=1,R=7)}if(B+=L,B<0||s<=B){B-=L,L=-L;break}}},_=function(F,N){let L=0,B=0,R=0;const b=new Array(N.length),x=new Array(N.length);for(let j=0;j<N.length;j+=1){const O=N[j].dataCount,k=N[j].totalCount-O;B=Math.max(B,O),R=Math.max(R,k),b[j]=new Array(O);for(let q=0;q<b[j].length;q+=1)b[j][q]=255&F.getBuffer()[q+L];L+=O;const E=Su.getErrorCorrectPolynomial(k),H=Hw(b[j],E.getLength()-1).mod(E);x[j]=new Array(E.getLength()-1);for(let q=0;q<x[j].length;q+=1){const W=q+H.getLength()-x[j].length;x[j][q]=W>=0?H.getAt(W):0}}let I=0;for(let j=0;j<N.length;j+=1)I+=N[j].totalCount;const C=new Array(I);let T=0;for(let j=0;j<B;j+=1)for(let O=0;O<N.length;O+=1)j<b[O].length&&(C[T]=b[O][j],T+=1);for(let j=0;j<R;j+=1)for(let O=0;O<N.length;O+=1)j<x[O].length&&(C[T]=x[O][j],T+=1);return C},D=function(F,N,L){const B=lQ.getRSBlocks(F,N),R=cQ();for(let x=0;x<L.length;x+=1){const I=L[x];R.put(I.getMode(),4),R.put(I.getLength(),Su.getLengthInBits(I.getMode(),F)),I.write(R)}let b=0;for(let x=0;x<B.length;x+=1)b+=B[x].dataCount;if(R.getLengthInBits()>b*8)throw"code length overflow. ("+R.getLengthInBits()+">"+b*8+")";for(R.getLengthInBits()+4<=b*8&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(!1);for(;!(R.getLengthInBits()>=b*8||(R.put(236,8),R.getLengthInBits()>=b*8));)R.put(17,8);return _(R,B)};u.addData=function(F,N){N=N||"Byte";let L=null;switch(N){case"Numeric":L=Gje(F);break;case"Alphanumeric":L=Yje(F);break;case"Byte":L=Jje(F);break;case"Kanji":L=Qje(F);break;default:throw"mode:"+N}c.push(L),l=null},u.isDark=function(F,N){if(F<0||s<=F||N<0||s<=N)throw F+","+N;return a[F][N]},u.getModuleCount=function(){return s},u.make=function(){if(i<1){let F=1;for(;F<40;F++){const N=lQ.getRSBlocks(F,o),L=cQ();for(let R=0;R<c.length;R++){const b=c[R];L.put(b.getMode(),4),L.put(b.getLength(),Su.getLengthInBits(b.getMode(),F)),b.write(L)}let B=0;for(let R=0;R<N.length;R++)B+=N[R].dataCount;if(L.getLengthInBits()<=B*8)break}i=F}f(!1,p())},u.createTableTag=function(F,N){F=F||2,N=typeof N>"u"?F*4:N;let L="";L+='<table style="',L+=" border-width: 0px; border-style: none;",L+=" border-collapse: collapse;",L+=" padding: 0px; margin: "+N+"px;",L+='">',L+="<tbody>";for(let B=0;B<u.getModuleCount();B+=1){L+="<tr>";for(let R=0;R<u.getModuleCount();R+=1)L+='<td style="',L+=" border-width: 0px; border-style: none;",L+=" border-collapse: collapse;",L+=" padding: 0px; margin: 0px;",L+=" width: "+F+"px;",L+=" height: "+F+"px;",L+=" background-color: ",L+=u.isDark(B,R)?"#000000":"#ffffff",L+=";",L+='"/>';L+="</tr>"}return L+="</tbody>",L+="</table>",L},u.createSvgTag=function(F,N,L,B){let R={};typeof arguments[0]=="object"&&(R=arguments[0],F=R.cellSize,N=R.margin,L=R.alt,B=R.title),F=F||2,N=typeof N>"u"?F*4:N,L=typeof L=="string"?{text:L}:L||{},L.text=L.text||null,L.id=L.text?L.id||"qrcode-description":null,B=typeof B=="string"?{text:B}:B||{},B.text=B.text||null,B.id=B.text?B.id||"qrcode-title":null;const b=u.getModuleCount()*F+N*2;let x,I,C,T,j="",O;for(O="l"+F+",0 0,"+F+" -"+F+",0 0,-"+F+"z ",j+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',j+=R.scalable?"":' width="'+b+'px" height="'+b+'px"',j+=' viewBox="0 0 '+b+" "+b+'" ',j+=' preserveAspectRatio="xMinYMin meet"',j+=B.text||L.text?' role="img" aria-labelledby="'+P([B.id,L.id].join(" ").trim())+'"':"",j+=">",j+=B.text?'<title id="'+P(B.id)+'">'+P(B.text)+"</title>":"",j+=L.text?'<description id="'+P(L.id)+'">'+P(L.text)+"</description>":"",j+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',j+='<path d="',C=0;C<u.getModuleCount();C+=1)for(T=C*F+N,x=0;x<u.getModuleCount();x+=1)u.isDark(C,x)&&(I=x*F+N,j+="M"+I+","+T+O);return j+='" stroke="transparent" fill="black"/>',j+="</svg>",j},u.createDataURL=function(F,N){F=F||2,N=typeof N>"u"?F*4:N;const L=u.getModuleCount()*F+N*2,B=N,R=L-N;return t$e(L,L,function(b,x){if(B<=b&&b<R&&B<=x&&x<R){const I=Math.floor((b-B)/F),C=Math.floor((x-B)/F);return u.isDark(C,I)?0:1}else return 1})},u.createImgTag=function(F,N,L){F=F||2,N=typeof N>"u"?F*4:N;const B=u.getModuleCount()*F+N*2;let R="";return R+="<img",R+=' src="',R+=u.createDataURL(F,N),R+='"',R+=' width="',R+=B,R+='"',R+=' height="',R+=B,R+='"',L&&(R+=' alt="',R+=P(L),R+='"'),R+="/>",R};const P=function(F){let N="";for(let L=0;L<F.length;L+=1){const B=F.charAt(L);switch(B){case"<":N+="&lt;";break;case">":N+="&gt;";break;case"&":N+="&amp;";break;case'"':N+="&quot;";break;default:N+=B;break}}return N},U=function(F){F=typeof F>"u"?2:F;const L=u.getModuleCount()*1+F*2,B=F,R=L-F;let b,x,I,C,T;const j={"":""," ":""," ":"","  ":" "},O={"":""," ":""," ":" ","  ":" "};let k="";for(b=0;b<L;b+=2){for(I=Math.floor((b-B)/1),C=Math.floor((b+1-B)/1),x=0;x<L;x+=1)T="",B<=x&&x<R&&B<=b&&b<R&&u.isDark(I,Math.floor((x-B)/1))&&(T=" "),B<=x&&x<R&&B<=b+1&&b+1<R&&u.isDark(C,Math.floor((x-B)/1))?T+=" ":T+="",k+=F<1&&b+1>=R?O[T]:j[T];k+=`
`}return L%2&&F>0?k.substring(0,k.length-L-1)+Array(L+1).join(""):k.substring(0,k.length-1)};return u.createASCII=function(F,N){if(F=F||1,F<2)return U(N);F-=1,N=typeof N>"u"?F*2:N;const L=u.getModuleCount()*F+N*2,B=N,R=L-N;let b,x,I,C;const T=Array(F+1).join(""),j=Array(F+1).join("  ");let O="",k="";for(b=0;b<L;b+=1){for(I=Math.floor((b-B)/F),k="",x=0;x<L;x+=1)C=1,B<=x&&x<R&&B<=b&&b<R&&u.isDark(I,Math.floor((x-B)/F))&&(C=0),k+=C?T:j;for(I=0;I<F;I+=1)O+=k+`
`}return O.substring(0,O.length-1)},u.renderTo2dContext=function(F,N){N=N||2;const L=u.getModuleCount();for(let B=0;B<L;B++)for(let R=0;R<L;R++)F.fillStyle=u.isDark(B,R)?"black":"white",F.fillRect(R*N,B*N,N,N)},u};vm.stringToBytes=function(t){const e=[];for(let r=0;r<t.length;r+=1){const n=t.charCodeAt(r);e.push(n&255)}return e};vm.createStringToBytes=function(t,e){const r=(function(){const i=Zje(t),o=function(){const l=i.read();if(l==-1)throw"eof";return l};let a=0;const s={};for(;;){const l=i.read();if(l==-1)break;const c=o(),u=o(),f=o(),h=String.fromCharCode(l<<8|c),p=u<<8|f;s[h]=p,a+=1}if(a!=e)throw a+" != "+e;return s})(),n=63;return function(i){const o=[];for(let a=0;a<i.length;a+=1){const s=i.charCodeAt(a);if(s<128)o.push(s);else{const l=r[i.charAt(a)];typeof l=="number"?(l&255)==l?o.push(l):(o.push(l>>>8),o.push(l&255)):o.push(n)}}return o}};const Ii={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Qy={L:1,M:0,Q:3,H:2},Eu={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Su=(function(){const t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e=1335,r=7973,n=21522,i={},o=function(a){let s=0;for(;a!=0;)s+=1,a>>>=1;return s};return i.getBCHTypeInfo=function(a){let s=a<<10;for(;o(s)-o(e)>=0;)s^=e<<o(s)-o(e);return(a<<10|s)^n},i.getBCHTypeNumber=function(a){let s=a<<12;for(;o(s)-o(r)>=0;)s^=r<<o(s)-o(r);return a<<12|s},i.getPatternPosition=function(a){return t[a-1]},i.getMaskFunction=function(a){switch(a){case Eu.PATTERN000:return function(s,l){return(s+l)%2==0};case Eu.PATTERN001:return function(s,l){return s%2==0};case Eu.PATTERN010:return function(s,l){return l%3==0};case Eu.PATTERN011:return function(s,l){return(s+l)%3==0};case Eu.PATTERN100:return function(s,l){return(Math.floor(s/2)+Math.floor(l/3))%2==0};case Eu.PATTERN101:return function(s,l){return s*l%2+s*l%3==0};case Eu.PATTERN110:return function(s,l){return(s*l%2+s*l%3)%2==0};case Eu.PATTERN111:return function(s,l){return(s*l%3+(s+l)%2)%2==0};default:throw"bad maskPattern:"+a}},i.getErrorCorrectPolynomial=function(a){let s=Hw([1],0);for(let l=0;l<a;l+=1)s=s.multiply(Hw([1,Nu.gexp(l)],0));return s},i.getLengthInBits=function(a,s){if(1<=s&&s<10)switch(a){case Ii.MODE_NUMBER:return 10;case Ii.MODE_ALPHA_NUM:return 9;case Ii.MODE_8BIT_BYTE:return 8;case Ii.MODE_KANJI:return 8;default:throw"mode:"+a}else if(s<27)switch(a){case Ii.MODE_NUMBER:return 12;case Ii.MODE_ALPHA_NUM:return 11;case Ii.MODE_8BIT_BYTE:return 16;case Ii.MODE_KANJI:return 10;default:throw"mode:"+a}else if(s<41)switch(a){case Ii.MODE_NUMBER:return 14;case Ii.MODE_ALPHA_NUM:return 13;case Ii.MODE_8BIT_BYTE:return 16;case Ii.MODE_KANJI:return 12;default:throw"mode:"+a}else throw"type:"+s},i.getLostPoint=function(a){const s=a.getModuleCount();let l=0;for(let f=0;f<s;f+=1)for(let h=0;h<s;h+=1){let p=0;const y=a.isDark(f,h);for(let m=-1;m<=1;m+=1)if(!(f+m<0||s<=f+m))for(let v=-1;v<=1;v+=1)h+v<0||s<=h+v||m==0&&v==0||y==a.isDark(f+m,h+v)&&(p+=1);p>5&&(l+=3+p-5)}for(let f=0;f<s-1;f+=1)for(let h=0;h<s-1;h+=1){let p=0;a.isDark(f,h)&&(p+=1),a.isDark(f+1,h)&&(p+=1),a.isDark(f,h+1)&&(p+=1),a.isDark(f+1,h+1)&&(p+=1),(p==0||p==4)&&(l+=3)}for(let f=0;f<s;f+=1)for(let h=0;h<s-6;h+=1)a.isDark(f,h)&&!a.isDark(f,h+1)&&a.isDark(f,h+2)&&a.isDark(f,h+3)&&a.isDark(f,h+4)&&!a.isDark(f,h+5)&&a.isDark(f,h+6)&&(l+=40);for(let f=0;f<s;f+=1)for(let h=0;h<s-6;h+=1)a.isDark(h,f)&&!a.isDark(h+1,f)&&a.isDark(h+2,f)&&a.isDark(h+3,f)&&a.isDark(h+4,f)&&!a.isDark(h+5,f)&&a.isDark(h+6,f)&&(l+=40);let c=0;for(let f=0;f<s;f+=1)for(let h=0;h<s;h+=1)a.isDark(h,f)&&(c+=1);const u=Math.abs(100*c/s/s-50)/5;return l+=u*10,l},i})(),Nu=(function(){const t=new Array(256),e=new Array(256);for(let n=0;n<8;n+=1)t[n]=1<<n;for(let n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(let n=0;n<255;n+=1)e[t[n]]=n;const r={};return r.glog=function(n){if(n<1)throw"glog("+n+")";return e[n]},r.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t[n]},r})(),Hw=function(t,e){if(typeof t.length>"u")throw t.length+"/"+e;const r=(function(){let i=0;for(;i<t.length&&t[i]==0;)i+=1;const o=new Array(t.length-i+e);for(let a=0;a<t.length-i;a+=1)o[a]=t[a+i];return o})(),n={};return n.getAt=function(i){return r[i]},n.getLength=function(){return r.length},n.multiply=function(i){const o=new Array(n.getLength()+i.getLength()-1);for(let a=0;a<n.getLength();a+=1)for(let s=0;s<i.getLength();s+=1)o[a+s]^=Nu.gexp(Nu.glog(n.getAt(a))+Nu.glog(i.getAt(s)));return Hw(o,0)},n.mod=function(i){if(n.getLength()-i.getLength()<0)return n;const o=Nu.glog(n.getAt(0))-Nu.glog(i.getAt(0)),a=new Array(n.getLength());for(let s=0;s<n.getLength();s+=1)a[s]=n.getAt(s);for(let s=0;s<i.getLength();s+=1)a[s]^=Nu.gexp(Nu.glog(i.getAt(s))+o);return Hw(a,0).mod(i)},n},lQ=(function(){const t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(i,o){const a={};return a.totalCount=i,a.dataCount=o,a},r={},n=function(i,o){switch(o){case Qy.L:return t[(i-1)*4+0];case Qy.M:return t[(i-1)*4+1];case Qy.Q:return t[(i-1)*4+2];case Qy.H:return t[(i-1)*4+3];default:return}};return r.getRSBlocks=function(i,o){const a=n(i,o);if(typeof a>"u")throw"bad rs block @ typeNumber:"+i+"/errorCorrectionLevel:"+o;const s=a.length/3,l=[];for(let c=0;c<s;c+=1){const u=a[c*3+0],f=a[c*3+1],h=a[c*3+2];for(let p=0;p<u;p+=1)l.push(e(f,h))}return l},r})(),cQ=function(){const t=[];let e=0;const r={};return r.getBuffer=function(){return t},r.getAt=function(n){const i=Math.floor(n/8);return(t[i]>>>7-n%8&1)==1},r.put=function(n,i){for(let o=0;o<i;o+=1)r.putBit((n>>>i-o-1&1)==1)},r.getLengthInBits=function(){return e},r.putBit=function(n){const i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1},r},Gje=function(t){const e=Ii.MODE_NUMBER,r=t,n={};n.getMode=function(){return e},n.getLength=function(a){return r.length},n.write=function(a){const s=r;let l=0;for(;l+2<s.length;)a.put(i(s.substring(l,l+3)),10),l+=3;l<s.length&&(s.length-l==1?a.put(i(s.substring(l,l+1)),4):s.length-l==2&&a.put(i(s.substring(l,l+2)),7))};const i=function(a){let s=0;for(let l=0;l<a.length;l+=1)s=s*10+o(a.charAt(l));return s},o=function(a){if("0"<=a&&a<="9")return a.charCodeAt(0)-48;throw"illegal char :"+a};return n},Yje=function(t){const e=Ii.MODE_ALPHA_NUM,r=t,n={};n.getMode=function(){return e},n.getLength=function(o){return r.length},n.write=function(o){const a=r;let s=0;for(;s+1<a.length;)o.put(i(a.charAt(s))*45+i(a.charAt(s+1)),11),s+=2;s<a.length&&o.put(i(a.charAt(s)),6)};const i=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;if("A"<=o&&o<="Z")return o.charCodeAt(0)-65+10;switch(o){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+o}};return n},Jje=function(t){const e=Ii.MODE_8BIT_BYTE,r=vm.stringToBytes(t),n={};return n.getMode=function(){return e},n.getLength=function(i){return r.length},n.write=function(i){for(let o=0;o<r.length;o+=1)i.put(r[o],8)},n},Qje=function(t){const e=Ii.MODE_KANJI,r=vm.stringToBytes;(function(o,a){const s=r(o);if(s.length!=2||(s[0]<<8|s[1])!=a)throw"sjis not supported."})("",38726);const n=r(t),i={};return i.getMode=function(){return e},i.getLength=function(o){return~~(n.length/2)},i.write=function(o){const a=n;let s=0;for(;s+1<a.length;){let l=(255&a[s])<<8|255&a[s+1];if(33088<=l&&l<=40956)l-=33088;else if(57408<=l&&l<=60351)l-=49472;else throw"illegal char at "+(s+1)+"/"+l;l=(l>>>8&255)*192+(l&255),o.put(l,13),s+=2}if(s<a.length)throw"illegal char at "+(s+1)},i},cle=function(){const t=[],e={};return e.writeByte=function(r){t.push(r&255)},e.writeShort=function(r){e.writeByte(r),e.writeByte(r>>>8)},e.writeBytes=function(r,n,i){n=n||0,i=i||r.length;for(let o=0;o<i;o+=1)e.writeByte(r[o+n])},e.writeString=function(r){for(let n=0;n<r.length;n+=1)e.writeByte(r.charCodeAt(n))},e.toByteArray=function(){return t},e.toString=function(){let r="";r+="[";for(let n=0;n<t.length;n+=1)n>0&&(r+=","),r+=t[n];return r+="]",r},e},Xje=function(){let t=0,e=0,r=0,n="";const i={},o=function(s){n+=String.fromCharCode(a(s&63))},a=function(s){if(s<0)throw"n:"+s;if(s<26)return 65+s;if(s<52)return 97+(s-26);if(s<62)return 48+(s-52);if(s==62)return 43;if(s==63)return 47;throw"n:"+s};return i.writeByte=function(s){for(t=t<<8|s&255,e+=8,r+=1;e>=6;)o(t>>>e-6),e-=6},i.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),r%3!=0){const s=3-r%3;for(let l=0;l<s;l+=1)n+="="}},i.toString=function(){return n},i},Zje=function(t){const e=t;let r=0,n=0,i=0;const o={};o.read=function(){for(;i<8;){if(r>=e.length){if(i==0)return-1;throw"unexpected end of file./"+i}const l=e.charAt(r);if(r+=1,l=="=")return i=0,-1;if(l.match(/^\s$/))continue;n=n<<6|a(l.charCodeAt(0)),i+=6}const s=n>>>i-8&255;return i-=8,s};const a=function(s){if(65<=s&&s<=90)return s-65;if(97<=s&&s<=122)return s-97+26;if(48<=s&&s<=57)return s-48+52;if(s==43)return 62;if(s==47)return 63;throw"c:"+s};return o},e$e=function(t,e){const r=t,n=e,i=new Array(t*e),o={};o.setPixel=function(c,u,f){i[u*r+c]=f},o.write=function(c){c.writeString("GIF87a"),c.writeShort(r),c.writeShort(n),c.writeByte(128),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(255),c.writeByte(255),c.writeByte(255),c.writeString(","),c.writeShort(0),c.writeShort(0),c.writeShort(r),c.writeShort(n),c.writeByte(0);const u=2,f=s(u);c.writeByte(u);let h=0;for(;f.length-h>255;)c.writeByte(255),c.writeBytes(f,h,255),h+=255;c.writeByte(f.length-h),c.writeBytes(f,h,f.length-h),c.writeByte(0),c.writeString(";")};const a=function(c){const u=c;let f=0,h=0;const p={};return p.write=function(y,m){if(y>>>m)throw"length over";for(;f+m>=8;)u.writeByte(255&(y<<f|h)),m-=8-f,y>>>=8-f,h=0,f=0;h=y<<f|h,f=f+m},p.flush=function(){f>0&&u.writeByte(h)},p},s=function(c){const u=1<<c,f=(1<<c)+1;let h=c+1;const p=l();for(let A=0;A<u;A+=1)p.add(String.fromCharCode(A));p.add(String.fromCharCode(u)),p.add(String.fromCharCode(f));const y=cle(),m=a(y);m.write(u,h);let v=0,w=String.fromCharCode(i[v]);for(v+=1;v<i.length;){const A=String.fromCharCode(i[v]);v+=1,p.contains(w+A)?w=w+A:(m.write(p.indexOf(w),h),p.size()<4095&&(p.size()==1<<h&&(h+=1),p.add(w+A)),w=A)}return m.write(p.indexOf(w),h),m.write(f,h),m.flush(),y.toByteArray()},l=function(){const c={};let u=0;const f={};return f.add=function(h){if(f.contains(h))throw"dup key:"+h;c[h]=u,u+=1},f.size=function(){return u},f.indexOf=function(h){return c[h]},f.contains=function(h){return typeof c[h]<"u"},f};return o},t$e=function(t,e,r){const n=e$e(t,e);for(let s=0;s<e;s+=1)for(let l=0;l<t;l+=1)n.setPixel(l,s,r(l,s));const i=cle();n.write(i);const o=Xje(),a=i.toByteArray();for(let s=0;s<a.length;s+=1)o.writeByte(a[s]);return o.flush(),"data:image/gif;base64,"+o};vm.stringToBytes;class ule extends _e.Component{constructor(r){super(r);Te(this,"canvasRef",_e.createRef())}download(r,n){if(this.canvasRef.current){let i;switch(r){case"jpg":i="image/jpeg";break;case"webp":i="image/webp";break;case"png":default:i="image/png";break}const o=this.canvasRef.current.toDataURL(i,1),a=document.createElement("a");a.download=n??"react-qrcode-logo",a.href=o,a.click()}}utf16to8(r){let n="",i,o;const a=r.length;for(i=0;i<a;i++)o=r.charCodeAt(i),o>=1&&o<=127?n+=r.charAt(i):o>2047?(n+=String.fromCharCode(224|o>>12&15),n+=String.fromCharCode(128|o>>6&63),n+=String.fromCharCode(128|o>>0&63)):(n+=String.fromCharCode(192|o>>6&31),n+=String.fromCharCode(128|o>>0&63));return n}drawRoundedSquare(r,n,i,o,a,s,l,c){c.lineWidth=r,c.fillStyle=a,c.strokeStyle=a,i+=r/2,n+=r/2,o-=r,Array.isArray(s)||(s=[s,s,s,s]),s=s.map(y=>(y=Math.min(y,o/2),y<0?0:y));const u=s[0]||0,f=s[1]||0,h=s[2]||0,p=s[3]||0;c.beginPath(),c.moveTo(n+u,i),c.lineTo(n+o-f,i),f&&c.quadraticCurveTo(n+o,i,n+o,i+f),c.lineTo(n+o,i+o-h),h&&c.quadraticCurveTo(n+o,i+o,n+o-h,i+o),c.lineTo(n+p,i+o),p&&c.quadraticCurveTo(n,i+o,n,i+o-p),c.lineTo(n,i+u),u&&c.quadraticCurveTo(n,i,n+u,i),c.closePath(),c.stroke(),l&&c.fill()}drawPositioningPattern(r,n,i,o,a,s,l=[0,0,0,0]){const c=Math.ceil(n);let u,f;typeof l!="number"&&!Array.isArray(l)?(u=l.outer||0,f=l.inner||0):(u=l,f=u);let h,p;typeof s!="string"?(h=s.outer,p=s.inner):(h=s,p=s);let y=o*n+i,m=a*n+i,v=n*7;this.drawRoundedSquare(c,m,y,v,h,u,!1,r),v=n*3,y+=n*2,m+=n*2,this.drawRoundedSquare(c,m,y,v,p,f,!0,r)}isInPositioninZone(r,n,i){return i.some(o=>r>=o.row&&r<=o.row+7&&n>=o.col&&n<=o.col+7)}removeCoordinateBehindLogo(r,n,i,o,a,s,l,c,u,f,h=0,p="square"){if(!r||!f)return!1;const m=Math.ceil(h/c)*c,v=s+u,w=l+u,A=Math.round(i*c)+u,_=Math.round(n*c)+u,D=Math.ceil((i+1)*c)-Math.floor(i*c),P=Math.ceil((n+1)*c)-Math.floor(n*c),U=A+D,F=_+P;if(p==="square"){const N=v-m,L=v+o+m,B=w-m,R=w+a+m,b=A<L&&U>N,x=_<R&&F>B;return b&&x}if(p==="circle"){const N=v+o/2,L=w+a/2,B=Math.max(o,a)/2+m,R=Math.max(A,Math.min(N,U)),b=Math.max(_,Math.min(L,F)),x=N-R,I=L-b;return x*x+I*I<B*B}return!1}shouldComponentUpdate(r){return!Xy(this.props,r)}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){var O;const{value:r,ecLevel:n,enableCORS:i,bgColor:o,fgColor:a,logoImage:s,logoOpacity:l,logoOnLoad:c,removeQrCodeBehindLogo:u,qrStyle:f,eyeRadius:h,eyeColor:p,logoPaddingStyle:y,logoPaddingRadius:m}=this.props,v=+this.props.size,w=+this.props.quietZone,A=this.props.logoWidth?+this.props.logoWidth:0,_=this.props.logoHeight?+this.props.logoHeight:0,D=this.props.logoPadding?+this.props.logoPadding:0,P=vm(0,n);P.addData(this.utf16to8(r)),P.make();const U=(O=this.canvasRef)==null?void 0:O.current,F=U.getContext("2d"),N=v+2*w,L=P.getModuleCount(),B=v/L,R=window.devicePixelRatio||1,b=A||v*.2,x=_||b,I=(v-b)/2,C=(v-x)/2;U.height=U.width=N*R,F.scale(R,R),F.fillStyle=o,F.fillRect(0,0,N,N);const T=w,j=[{row:0,col:0},{row:0,col:L-7},{row:L-7,col:0}];if(F.strokeStyle=a,f==="dots"){F.fillStyle=a;const k=B/2;for(let E=0;E<L;E++)for(let M=0;M<L;M++)P.isDark(E,M)&&!this.isInPositioninZone(E,M,j)&&!this.removeCoordinateBehindLogo(u??!1,E,M,b,x,I,C,B,T,s,D,y)&&(F.beginPath(),F.arc(Math.round(M*B)+k+T,Math.round(E*B)+k+T,k/100*75,0,2*Math.PI,!1),F.closePath(),F.fill())}else if(f==="fluid"){const k=Math.ceil(B/2);for(let E=0;E<L;E++)for(let M=0;M<L;M++)if(P.isDark(E,M)&&!this.isInPositioninZone(E,M,j)&&!this.removeCoordinateBehindLogo(u??!1,E,M,b,x,I,C,B,T,s,D,y)){let H=[!1,!1,!1,!1];E>0&&!P.isDark(E-1,M)&&M>0&&!P.isDark(E,M-1)&&(H[0]=!0),E>0&&!P.isDark(E-1,M)&&M<L-1&&!P.isDark(E,M+1)&&(H[1]=!0),E<L-1&&!P.isDark(E+1,M)&&M<L-1&&!P.isDark(E,M+1)&&(H[2]=!0),E<L-1&&!P.isDark(E+1,M)&&M>0&&!P.isDark(E,M-1)&&(H[3]=!0);const q=Math.ceil((M+1)*B)-Math.floor(M*B),W=Math.ceil((E+1)*B)-Math.floor(E*B);F.fillStyle=a,F.beginPath(),F.arc(Math.round(M*B)+k+T,Math.round(E*B)+k+T,k,0,2*Math.PI,!1),F.closePath(),F.fill(),H[0]||F.fillRect(Math.round(M*B)+T,Math.round(E*B)+T,q/2,W/2),H[1]||F.fillRect(Math.round(M*B)+T+Math.floor(q/2),Math.round(E*B)+T,q/2,W/2),H[2]||F.fillRect(Math.round(M*B)+T+Math.floor(q/2),Math.round(E*B)+T+Math.floor(W/2),q/2,W/2),H[3]||F.fillRect(Math.round(M*B)+T,Math.round(E*B)+T+Math.floor(W/2),q/2,W/2)}}else for(let k=0;k<L;k++)for(let E=0;E<L;E++)if(P.isDark(k,E)&&!this.isInPositioninZone(k,E,j)&&!this.removeCoordinateBehindLogo(u??!1,k,E,b,x,I,C,B,T,s,D,y)){F.fillStyle=a;const M=Math.ceil((E+1)*B)-Math.floor(E*B),H=Math.ceil((k+1)*B)-Math.floor(k*B);F.fillRect(Math.round(E*B)+T,Math.round(k*B)+T,M,H)}for(let k=0;k<3;k++){const{row:E,col:M}=j[k];let H=h,q;Array.isArray(H)&&(H=H[k]),typeof H=="number"&&(H=[H,H,H,H]),p?Array.isArray(p)?q=p[k]:q=p:q=a,this.drawPositioningPattern(F,B,T,E,M,q,H)}if(s){const k=new Image;i&&(k.crossOrigin="Anonymous"),k.onload=E=>{if(F.save(),D){F.beginPath(),F.strokeStyle=o,F.fillStyle=o;const M=b+2*D,H=x+2*D,q=I+T-D,W=C+T-D;if(y==="circle"){const V=q+M/2,Q=W+H/2;F.ellipse(V,Q,M/2,H/2,0,0,2*Math.PI),F.stroke(),F.fill()}else F.roundRect(q,W,M,H,m),F.stroke(),F.fill()}F.globalAlpha=l,F.drawImage(k,I+T,C+T,b,x),F.restore(),c&&c(E)},k.src=s}}render(){const r=+this.props.size+2*+this.props.quietZone;return _e.createElement("canvas",{id:this.props.id??"react-qrcode-logo",height:r,width:r,style:{height:r+"px",width:r+"px",...this.props.style},ref:this.canvasRef})}}Te(ule,"defaultProps",{value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square",logoPaddingRadius:0});function Xy(t,e,r=new WeakMap){if(Object.is(t,e))return!0;if(typeof t!=typeof e||t==null||e==null)return!1;if(typeof t=="function"||typeof e=="function")return t===e;if(typeof t=="object"&&typeof e=="object"){if(r.has(t)&&r.get(t)===e)return!0;r.set(t,e)}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Xy(t[n],e[n],r))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(![...e].some(i=>Xy(n,i,r)))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,i]of t)if(!e.has(n)||!Xy(i,e.get(n),r))return!1;return!0}if(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n)if(!i.includes(o)||!Xy(t[o],e[o],r))return!1;return!0}try{return JSON.stringify(t)===JSON.stringify(e)}catch{return!1}}function fle(t){var e,r;const[n]=ji(void 0,{i18n:cr}),{bodyState:i,setBodyState:o,setToast:a}=ye.useContext(Ib),{qrCodeValue:s,isDark:l,selectedButton:c,logoImage:u,primaryColor:f,platform:h}=t,p=ye.useMemo(()=>{var D;const P=(c==null||(D=c.walletRegistryItem)===null||D===void 0?void 0:D.app)||{};return(h==="desktop"?["browser","chrome","firefox","edge"]:["ios","android"]).some(L=>!!P[L])},[h,c==null||(e=c.walletRegistryItem)===null||e===void 0?void 0:e.app]),y=ye.useMemo(()=>typeof window>"u"?!1:iv.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),m=document.documentElement,v="#FFFFFF",w="#000000",A=((r=getComputedStyle(m))===null||r===void 0||(r=r.getPropertyValue("--app-gray-800"))===null||r===void 0?void 0:r.trim())||"#1f2a37",_=f&&f.toLowerCase()==="#ffffff"?"#000000":f;return Y.jsxs("div",{className:"w3a--contents",children:[s?Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[Y.jsx("button",{type:"button",className:"w3a--relative w3a--flex w3a--size-[300px] w3a--appearance-none w3a--items-center w3a--justify-center w3a--rounded-2xl",onClick:()=>{navigator.clipboard.writeText(s),a({message:n("modal.external.qr-code-copied-to-clipboard"),type:Fw.SUCCESS})},children:Y.jsx(ule,{size:y?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:u||VDe,value:s,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:l?v:_,bgColor:l?A:v,fgColor:l?v:w})}),Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):Y.jsx("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:Y.jsx(ta,{imageId:`login-${c.name}`,hoverImageId:`login-${c.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:c.imgExtension})}),p&&Y.jsxs("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[Y.jsxs("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",Y.jsx("span",{children:c==null?void 0:c.displayName}),"?"]}),Y.jsx("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{o(be(be({},i),{},{installLinks:{show:!0,wallet:c}}))},children:n("modal.external.get-wallet")})]})]})}function r$e(t){const{totalExternalWalletCount:e,isLoading:r,walletSearch:n,handleWalletSearch:i,buttonRadius:o}=t,[a,s]=ye.useState(!1),[l]=ji(void 0,{i18n:cr}),c=u=>{i(u),s(!0)};return Y.jsx("input",{type:"text",value:n,onInput:c,onFocus:u=>{u.target.placeholder="",s(!0)},onBlur:u=>{u.target.placeholder=l("modal.external.search-wallet",{count:e}),s(!1)},placeholder:r?l("modal.external.search-wallet-loading"):l("modal.external.search-wallet",{count:e}),disabled:r,className:lr("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&"!w3a--border-app-primary-600",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})})}function n$e(t){var e;const{isDark:r,config:n,walletConnectUri:i,metamaskConnectUri:o,walletRegistry:a,allRegistryButtons:s,customConnectorButtons:l,connectorVisibilityMap:c,deviceDetails:u,buttonRadius:f="pill",chainNamespace:h,isExternalWalletModeOnly:p,onBackClick:y,handleExternalWalletClick:m,handleWalletDetailsHeight:v,disableBackButton:w}=t,{bodyState:A,setBodyState:_}=ye.useContext(Ib),{analytics:D}=ye.useContext(dL),[P,U]=ye.useState(Ju.CONNECT_WALLET),[F,N]=ye.useState(!1),[L]=ye.useState(!1),[B,R]=ye.useState(null),[b,x]=ye.useState(""),[I,C]=ye.useState("all"),[T,j]=ye.useState(!1),O=()=>{if(!F&&P===Ju.CONNECT_WALLET&&y){y(!1);return}F&&(U(Ju.CONNECT_WALLET),N(!1),v())},k=ye.useMemo(()=>a&&(Object.keys(a.default||{}).length>0||Object.keys(a.others||{}).length>0),[a]),E=ye.useMemo(()=>{const oe=new Set;return l.concat(s).filter(fe=>oe.has(fe.name)?!1:(oe.add(fe.name),!0))},[s,l]),M=ye.useMemo(()=>new Set(Object.keys(a.default)),[a]),H=ye.useMemo(()=>{const oe=[...s.filter(pe=>pe.hasInjectedWallet&&M.has(pe.name)),...l,...s.filter(pe=>!pe.hasInjectedWallet&&M.has(pe.name))].sort((pe,xe)=>pe.name===mt.METAMASK&&xe.name===mt.METAMASK?pe.isInstalled?-1:xe.isInstalled?1:pe.hasInjectedWallet?-1:xe.hasInjectedWallet?1:0:pe.name===mt.METAMASK?-1:xe.name===mt.METAMASK?1:0),fe=new Set;return oe.filter(pe=>fe.has(pe.name)?!1:(fe.add(pe.name),!0)).filter(pe=>{var xe;return I==="all"||((xe=pe.chainNamespaces)===null||xe===void 0?void 0:xe.includes(I))})},[s,l,M,I]),q=ye.useMemo(()=>{const oe=c;return Object.keys(n).reduce((fe,pe)=>(pe!==mt.WALLET_CONNECT_V2&&oe[pe]&&fe.push({name:pe,displayName:n[pe].label||pe,hasInjectedWallet:n[pe].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),fe),[])},[c,n]),W=oe=>{const fe=oe.target.value;x(fe)},V=oe=>{C(oe)},Q=ye.useMemo(()=>k?[...E.filter(oe=>oe.hasInjectedWallet),...E.filter(oe=>!oe.hasInjectedWallet)].sort((oe,fe)=>oe.name===mt.METAMASK?-1:1).filter(oe=>I==="all"||oe.chainNamespaces.includes(I)).filter(oe=>oe.name.toLowerCase().includes(b.toLowerCase())):q,[k,q,b,E,I]),te=ye.useMemo(()=>k&&!b&&!T?H:Q,[k,b,Q,H,T]),X=ye.useMemo(()=>Q.length,[Q]),Z=ye.useMemo(()=>T?X:k?H.length:q.length,[k,H,q,T,X]);ye.useEffect(()=>{k&&X<=15?j(!0):j(!1)},[k,I,X]);const ae=oe=>{if(D==null||D.track(Cr.EXTERNAL_WALLET_SELECTED,{connector:oe.isInstalled?oe.name:oe.hasWalletConnect?mt.WALLET_CONNECT_V2:"",wallet_name:oe.displayName,is_installed:oe.isInstalled,is_injected:oe.hasInjectedWallet,chain_namespaces:oe.chainNamespaces,has_wallet_connect:oe.hasWalletConnect,has_install_links:oe.hasInstallLinks,has_wallet_registry_item:!!oe.walletRegistryItem,total_external_wallets:E.length}),st.info("handleWalletClick",oe),oe.isInstalled){var fe;if(oe.name===mt.METAMASK&&!oe.hasInjectedWallet&&u.platform==="desktop"){m({connector:oe.name}),R(oe),N(!0),U(Ju.SELECTED_WALLET),v();return}if(((fe=oe.chainNamespaces)===null||fe===void 0?void 0:fe.length)>1){_(be(be({},A),{},{multiChainSelector:{show:!0,wallet:oe}}));return}m({connector:oe.name});return}else oe.hasWalletConnect?(R(oe),N(!0),U(Ju.SELECTED_WALLET),v()):_(be(be({},A),{},{installLinks:{show:!0,wallet:oe}}))},he=()=>{j(!0)},se=ye.useMemo(()=>F?B.name===mt.METAMASK&&!B.hasInjectedWallet?o:i:null,[o,B,F,i]),ne=ye.useMemo(()=>F?!1:!!p,[F,p]);return Y.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[Y.jsx(lle,{hideBackButton:ne,disableBackButton:w,onBackClick:O,currentPage:P,selectedButton:B}),F?Y.jsx(fle,{qrCodeValue:se,isDark:r,selectedButton:B,primaryColor:(e=B.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${B.name}.${B.imgExtension}`,platform:u.platform}):Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[h.length>1&&Y.jsx(Bje,{isDark:r,isLoading:L,selectedChain:I,setSelectedChain:V,chainNamespace:h}),Y.jsx(r$e,{totalExternalWalletCount:X,isLoading:L,walletSearch:b,handleWalletSearch:W,buttonRadius:f}),Y.jsx(Vje,{externalButtons:te,isLoading:L,totalExternalWalletsCount:X,initialWalletCount:Z,handleWalletClick:ae,handleMoreWallets:he,isDark:r,deviceDetails:u,walletConnectUri:i,buttonRadius:f,isShowAllWallets:T})]})]})}const i$e=t=>{const{isDark:e,wallet:r,handleExternalWalletClick:n}=t,[i]=ji(void 0,{i18n:cr}),o=r.chainNamespaces.sort().map(a=>({chainNamespace:a,displayName:a==="eip155"?"EVM":a,imageId:`chain-${a==="eip155"?"evm":a}`}));return Y.jsxs("div",{children:[Y.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:Y.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),Y.jsx("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:Y.jsx(ta,{imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:r.imgExtension})}),Y.jsx("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:i("modal.external.select-chain-description",{wallet:r.displayName})}),Y.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:a,displayName:s,imageId:l})=>Y.jsx("li",{children:Y.jsxs("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>n({connector:r.name,chainNamespace:a}),children:[Y.jsxs("div",{className:"w3a--flex w3a--items-center",children:[Y.jsx(ta,{imageId:l,hoverImageId:l,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),Y.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm w3a--text-app-gray-900 first-letter:w3a--capitalize dark:w3a--text-app-gray-200",children:s})]}),Y.jsx("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},a))})]})};function o$e({privacyPolicy:t,termsOfService:e}){const[r]=ji(void 0,{i18n:cr});return Y.jsxs("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&Y.jsxs("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[r("modal.footer.by-signing-in")," ",e&&Y.jsxs("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[r("modal.footer.terms-of-service")," "]}),t&&Y.jsxs(Y.Fragment,{children:[r("modal.footer.and")," ",Y.jsx("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:r("modal.footer.privacy-policy")})]})]}),Y.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[Y.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),Y.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}function uQ(t,e=160){return t??e}const a$e=t=>{const{width:e,height:r,thickness:n=12,className:i="",children:o,showChildren:a=!0,trackColor:s="rgba(226, 232, 240, 1)",gradient:l,arcSizeDeg:c=36,arcColors:u}=t,f=uQ(e,160),h=uQ(r,160),p=`radial-gradient(farthest-side, transparent calc(100% - ${n}px), #000 calc(100% - ${n}px))`;function y(A,_){const D=A.replace("#",""),P=D.length===3?D.split("").map(L=>L+L).join(""):D,U=parseInt(P.substring(0,2),16),F=parseInt(P.substring(2,4),16),N=parseInt(P.substring(4,6),16);return`rgba(${U}, ${F}, ${N}, ${_})`}function m(A,_){if(!A)return A;const D=A.trim().toLowerCase();return D.startsWith("#")?y(D,_):D.startsWith("rgba(")?A:D.startsWith("rgb(")?`rgba(${D.slice(4,-1)}, ${_})`:A}const v=l||(u?`radial-gradient(210.91% 85.29% at 14.56% 18.67%, ${m(u[0],0)} 9.5%, ${u[1]} 41.82%, ${u[1]} 64.83%, ${m(u[0],.44)} 100%)`:"radial-gradient(210.91% 85.29% at 14.56% 18.67%, rgba(255, 98, 58, 0.00) 9.5%, #FF623A 41.82%, #FF623A 64.83%, rgba(255, 98, 58, 0.44) 100%)"),w=`conic-gradient(#000 0deg ${c}deg, transparent ${c}deg 360deg)`;return Y.jsxs("div",{className:lr("w3a--relative w3a--inline-flex w3a--items-center w3a--justify-center",i),style:{width:f,height:h},children:[Y.jsx("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:s,WebkitMaskImage:p,maskImage:p,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}}),Y.jsx("div",{className:"w3a--absolute w3a--inset-0 w3a--animate-spin",style:{WebkitMaskImage:w,maskImage:w,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:Y.jsx("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:v,WebkitMaskImage:p,maskImage:p,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}})}),a&&o?Y.jsx("div",{className:"w3a--relative",children:o}):null]})},hL=()=>Y.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[Y.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),Y.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),Y.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function s$e(t){const[e]=ji(void 0,{i18n:cr}),{connector:r,appLogo:n,connectorName:i}=t,o=ye.useMemo(()=>r==="twitter"?Y.jsx(ta,{imageId:"login-x-dark"}):Y.jsx(ta,{imageId:`login-${r}`,height:"40",width:"40"}),[r]);return Y.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[Y.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[Y.jsx("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:Y.jsx("img",{src:n,alt:"",className:"w3a--size-full w3a--object-contain"})}),Y.jsx(hL,{}),o]}),Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[Y.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),Y.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function l$e(t){const{message:e}=t;return Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:Y.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function c$e(t){const{message:e}=t;return Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:Y.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function u$e(t){var e,r;const[n]=ji(void 0,{i18n:cr}),{connector:i,externalWalletsConfig:o,walletRegistry:a,handleMobileVerifyConnect:s}=t,l=(a==null||(e=a.default)===null||e===void 0?void 0:e[i])||(a==null||(r=a.others)===null||r===void 0?void 0:r[i]),c=(l==null?void 0:l.primaryColor)||"",u=()=>{s({connector:i})};return Y.jsxs("div",{className:"w3a--flex w3a--size-full w3a--flex-col w3a--items-center w3a--justify-between w3a--gap-y-6",children:[Y.jsx("p",{className:"w3a--p-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:n("modal.loader.authorizing-header",{connector:o[i].label})}),Y.jsx("div",{className:"w3a--flex w3a--justify-center",children:Y.jsx(a$e,{width:95,height:95,thickness:6,arcSizeDeg:100,arcColors:c?[c,c]:void 0,children:Y.jsx(ta,{imageId:`login-${i}`,hoverImageId:`login-${i}`,height:"45",width:"45"})})}),Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:n("modal.loader.authorizing-message")}),Y.jsx("button",{onClick:u,className:"w3a--w-full w3a--rounded-xl w3a--bg-app-gray-100 w3a--p-2 w3a--py-3 w3a--text-center w3a--text-sm w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white md:w3a--hidden",children:n("modal.loader.authorizing-verify-btn")})]})}function f$e(t){const{connector:e,connectorName:r,modalStatus:n,onClose:i,appLogo:o,message:a,isConnectAndSignAuthenticationMode:s,externalWalletsConfig:l,walletRegistry:c,handleMobileVerifyConnect:u,hideSuccessScreen:f=!1}=t,h=ye.useMemo(()=>!s&&n===Kr.CONNECTED||s&&n===Kr.AUTHORIZED,[n,s]);return ye.useEffect(()=>{if(h){const y=setTimeout(()=>{i()},f?0:1e3);return()=>clearTimeout(y)}},[h,f,i]),Y.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[n===Kr.CONNECTING&&Y.jsx(s$e,{connector:e,connectorName:r,appLogo:o}),h&&!f&&Y.jsx(l$e,{message:a}),n===Kr.ERRORED&&Y.jsx(c$e,{message:a}),n===Kr.AUTHORIZING&&Y.jsx(u$e,{connector:e,externalWalletsConfig:l,walletRegistry:c,handleMobileVerifyConnect:u})]})}var d$e=Object.defineProperty,h$e=Object.defineProperties,p$e=Object.getOwnPropertyDescriptors,K3=Object.getOwnPropertySymbols,dle=Object.prototype.hasOwnProperty,hle=Object.prototype.propertyIsEnumerable,lN=(t,e,r)=>e in t?d$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jo=(t,e)=>{for(var r in e||(e={}))dle.call(e,r)&&lN(t,r,e[r]);if(K3)for(var r of K3(e))hle.call(e,r)&&lN(t,r,e[r]);return t},ple=(t,e)=>h$e(t,p$e(e)),g$e=(t,e)=>{var r={};for(var n in t)dle.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&K3)for(var n of K3(t))e.indexOf(n)<0&&hle.call(t,n)&&(r[n]=t[n]);return r},Jn=(t,e,r)=>(lN(t,typeof e!="symbol"?e+"":e,r),r),rm=(t,e,r)=>new Promise((n,i)=>{var o=l=>{try{s(r.next(l))}catch(c){i(c)}},a=l=>{try{s(r.throw(l))}catch(c){i(c)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,a);s((r=r.apply(t,e)).next())}),m$e="hCaptcha-script",K2="hCaptchaOnLoad",fQ="script-error",Qu="@hCaptcha/loader";function y$e(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,r])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`).join("&")}function gle(t){let e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function mle(t){return t||document.head}function v$e(t){var e;t.setTag("source",Qu),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",Jo({},w$e())),t.setContext("device",ple(Jo({},x$e()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function w$e(){var t,e,r,n,i,o;let a=navigator.userAgent,s,l;return a.indexOf("Firefox")!==-1?(s="Firefox",l=(t=a.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):a.indexOf("Edg")!==-1?(s="Microsoft Edge",l=(e=a.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):a.indexOf("Chrome")!==-1&&a.indexOf("Safari")!==-1?(s="Chrome",l=(r=a.match(/Chrome\/([\d.]+)/))==null?void 0:r[1]):a.indexOf("Safari")!==-1&&a.indexOf("Chrome")===-1?(s="Safari",l=(n=a.match(/Version\/([\d.]+)/))==null?void 0:n[1]):a.indexOf("Opera")!==-1||a.indexOf("OPR")!==-1?(s="Opera",l=(i=a.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):a.indexOf("MSIE")!==-1||a.indexOf("Trident")!==-1?(s="Internet Explorer",l=(o=a.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(s="Unknown",l="Unknown"),{name:s,version:l}}function b$e(t){return new Promise(e=>setTimeout(e,t))}function x$e(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let r;return/Mobile|iPhone|iPod|Android/i.test(t)?r="Mobile":/Tablet|iPad/i.test(t)?r="Tablet":r="Desktop",{model:e,family:e,device:r}}var E$e=class yle{constructor(e){Jn(this,"_parent"),Jn(this,"breadcrumbs",[]),Jn(this,"context",{}),Jn(this,"extra",{}),Jn(this,"tags",{}),Jn(this,"request"),Jn(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new yle(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,r){return this.extra[e]=r,this}removeExtra(e){return delete this.extra[e],this}setContext(e,r){return typeof r.type>"u"&&(r.type=e),this.context[e]=r,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=Jo(Jo({},this.tags),e),this}setTag(e,r){return this.tags[e]=r,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],r=this;for(;r;)e.push(r),r=r.parent;return e.reverse().reduce((n,i)=>{var o;return n.breadcrumbs=[...(o=n.breadcrumbs)!=null?o:[],...i.breadcrumbs],n.extra=Jo(Jo({},n.extra),i.extra),n.contexts=Jo(Jo({},n.contexts),i.context),n.tags=Jo(Jo({},n.tags),i.tags),i.user&&(n.user=i.user),i.request&&(n.request=i.request),n},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},S$e=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_$e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,A$e=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,C$e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,o2="?",dQ="An unknown error occurred",O$e="0.0.4";function I$e(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function Ei(t){return(t+256).toString(16).substring(1)}function P$e(){let t=I$e(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ei(t[0])+Ei(t[1])+Ei(t[2])+Ei(t[3])+"-"+Ei(t[4])+Ei(t[5])+"-"+Ei(t[6])+Ei(t[7])+"-"+Ei(t[8])+Ei(t[9])+"-"+Ei(t[10])+Ei(t[11])+Ei(t[12])+Ei(t[13])+Ei(t[14])+Ei(t[15])}var k$e=[[S$e,"chrome"],[A$e,"winjs"],[_$e,"gecko"]];function T$e(t){var e,r,n,i;if(!t.stack)return null;let o=[],a=(n=(r=(e=t.stack).split)==null?void 0:r.call(e,`
`))!=null?n:[];for(let s=0;s<a.length;++s){let l=null,c=null,u=null;for(let[f,h]of k$e)if(c=f.exec(a[s]),c){u=h;break}if(!(!c||!u)){if(u==="chrome")l={filename:(i=c[2])!=null&&i.startsWith("address at ")?c[2].substring(11):c[2],function:c[1]||o2,lineno:c[3]?+c[3]:null,colno:c[4]?+c[4]:null};else if(u==="winjs")l={filename:c[2],function:c[1]||o2,lineno:+c[3],colno:c[4]?+c[4]:null};else if(u==="gecko")s===0&&!c[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),l={filename:c[3],function:c[1]||o2,lineno:c[4]?+c[4]:null,colno:c[5]?+c[5]:null};else continue;!l.function&&l.lineno&&(l.function=o2),o.push(l)}}return o.length?o.reverse():null}function M$e(t){let e=T$e(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function N$e(t){let e=C$e.exec(t),r=e?e.slice(1):[];if(r.length!==6)throw new Error("Invalid DSN");let n=r[5].split("/"),i=n.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(i?"/"+i:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}function R$e(t,e,r){var n,i;let o=Jo({event_id:P$e().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:O$e},environment:e,release:r,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(n=t.error)==null?void 0:n.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let a=[],s=t.error;for(let l=0;l<5&&s&&(a.push(M$e(s)),!(!s.cause||!(s.cause instanceof Error)));l++)s=s.cause;o.exception={values:a.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function L$e(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let r=t,{message:n}=r,i=g$e(r,["message"]),o=new Error(typeof n=="string"?n:dQ);return Object.assign(o,i)}let e=new Error(dQ);return Object.assign(e,{cause:t})}function D$e(t,e,r){return rm(this,null,function*(){var n,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(r){let l=new AbortController;o=l.signal,setTimeout(()=>l.abort(),r)}let a=yield fetch(t,ple(Jo({},e),{signal:o})),s=yield a.text();return{status:a.status,body:s}}return yield new Promise((o,a)=>{var s,l;let c=new XMLHttpRequest;if(c.open((s=e==null?void 0:e.method)!=null?s:"GET",t),c.onload=()=>o({status:c.status,body:c.responseText}),c.onerror=()=>a(new Error("XHR Network Error")),e==null?void 0:e.headers)for(let[u,f]of Object.entries(e.headers))c.setRequestHeader(u,f);if(r){let u=setTimeout(()=>{c.abort(),a(new Error("Request timed out"))},r);c.onloadend=()=>{clearTimeout(u)}}c.send((l=e==null?void 0:e.body)==null?void 0:l.toString())})}catch(o){return{status:0,body:(i=(n=o==null?void 0:o.toString)==null?void 0:n.call(o))!=null?i:"Unknown error"}}})}var go,cN=(go=class{constructor(t){Jn(this,"apiURL"),Jn(this,"dsn"),Jn(this,"environment"),Jn(this,"release"),Jn(this,"sampleRate"),Jn(this,"debug"),Jn(this,"_scope"),Jn(this,"shouldBuffer",!1),Jn(this,"bufferlimit",20),Jn(this,"buffer",[]);var e,r,n,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(r=t.debug)!=null?r:!1,this._scope=(n=t.scope)!=null?n:new E$e,this.apiURL=N$e(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){go._instance||(go._instance=new go(t))}static get instance(){if(!go._instance)throw new Error("Sentry has not been initialized");return go._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return go.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){go.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:L$e(t),scope:e??this._scope})}static captureException(t,e){go.instance.captureException(t,e)}captureMessage(t,e="info",r){this.captureEvent({type:"message",level:e,message:t,scope:r??this._scope})}static captureMessage(t,e="info",r){go.instance.captureMessage(t,e,r)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return rm(this,null,function*(){try{this.log("Sending sentry event",t);let r=R$e(t,this.environment,this.release),n={event_id:r.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(n)+`
`+JSON.stringify(i)+`
`+JSON.stringify(r),a=yield D$e(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",a.status),a.status!==200&&(console.log(a.body),console.error("Failed to send event to Sentry",a))}catch(r){console.error("Failed to send event",r)}})}flush(t=5e3){return rm(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(r=>this.sendEvent(r,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return go.instance.flush(t)}static reset(){go._instance=void 0}},Jn(go,"_instance"),go),B$e="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",j$e="2.3.0",$$e="production";function F$e(t=!0){if(!t)return hQ();cN.init({dsn:B$e,release:j$e,environment:$$e});let e=cN.scope;return v$e(e),hQ(e)}function hQ(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&cN.captureException(e,t)}}}function U$e({scriptLocation:t,query:e,loadAsync:r=!0,crossOrigin:n="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!1,secureApi:a=!1,scriptSource:s=""}={},l){let c=mle(t),u=gle(c);return new Promise((f,h)=>{let p=u.document.createElement("script");p.id=m$e,s?p.src=`${s}?onload=${K2}`:a?p.src=`${i}/1/secure-api.js?onload=${K2}`:p.src=`${i}/1/api.js?onload=${K2}`,p.crossOrigin=n,p.async=r;let y=(m,v)=>{try{!a&&o&&c.removeChild(p),v(m)}catch(w){h(w)}};p.onload=m=>y(m,f),p.onerror=m=>{l&&l(p.src),y(m,h)},p.src+=e!==""?`&${e}`:"",c.appendChild(p)})}var a2=[];function H$e(t={cleanup:!1},e){try{e.addBreadcrumb({category:Qu,message:"hCaptcha loader params",data:t});let r=mle(t.scriptLocation),n=gle(r),i=a2.find(({scope:a})=>a===n.window);if(i)return e.addBreadcrumb({category:Qu,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((a,s)=>rm(this,null,function*(){try{n.window[K2]=()=>{e.addBreadcrumb({category:Qu,message:"hCaptcha script called onload function"}),a(n.window.hcaptcha)};let l=y$e({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl,uj:t.uj});yield U$e(Jo({query:l},t),c=>{e.captureRequest({url:c,method:"GET"})}),e.addBreadcrumb({category:Qu,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:Qu,message:"hCaptcha failed to load"});let c=a2.findIndex(u=>u.scope===n.window);c!==-1&&a2.splice(c,1),s(new Error(fQ))}}));return a2.push({promise:o,scope:n.window}),o}catch(r){return e.captureException(r),Promise.reject(new Error(fQ))}}function vle(t,e,r=0){return rm(this,null,function*(){var n,i;let o=(n=t.maxRetries)!=null?n:2,a=(i=t.retryDelay)!=null?i:1e3,s=r<o?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield H$e(t,e)}catch(l){return e.addBreadcrumb({category:Qu,message:s}),r>=o?(e.captureException(l),Promise.reject(l)):(e.addBreadcrumb({category:Qu,message:`Waiting ${a}ms before retry attempt ${r+1}`}),yield b$e(a),r+=1,vle(t,e,r))}})}function q$e(){return rm(this,arguments,function*(t={}){let e=F$e(t.sentry);return yield vle(t,e)})}function pQ(t){let e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function gQ(t){return t||document.head}var z$e=class extends ye.Component{constructor(t){super(t),this._hcaptcha=void 0,this.renderCaptcha=this.renderCaptcha.bind(this),this.resetCaptcha=this.resetCaptcha.bind(this),this.removeCaptcha=this.removeCaptcha.bind(this),this.isReady=this.isReady.bind(this),this._onReady=null,this.loadCaptcha=this.loadCaptcha.bind(this),this.handleOnLoad=this.handleOnLoad.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleExpire=this.handleExpire.bind(this),this.handleError=this.handleError.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleChallengeExpired=this.handleChallengeExpired.bind(this),this.ref=ye.createRef(),this.apiScriptRequested=!1,this.sentryHub=null,this.captchaId="",this._pendingExecute=null,this.state={isApiReady:!1,isRemoved:!1,elementId:t.id}}componentDidMount(){let t=gQ(this.props.scriptLocation),e=pQ(t);if(this._hcaptcha=e.window.hcaptcha||void 0,typeof this._hcaptcha<"u"){this.setState({isApiReady:!0},()=>{this.renderCaptcha()});return}this.loadCaptcha()}componentWillUnmount(){let t=this._hcaptcha,e=this.captchaId;if(this._cancelPendingExecute("react-component-unmounted"),!!this.isReady())try{t.reset(e),t.remove(e)}catch{}finally{this.captchaId="",this._onReady=null}}shouldComponentUpdate(t,e){return!(this.state.isApiReady!==e.isApiReady||this.state.isRemoved!==e.isRemoved)}componentDidUpdate(t){["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(e=>t[e]===this.props[e])||this.removeCaptcha(()=>{this.renderCaptcha()})}loadCaptcha(){if(this.apiScriptRequested)return;let{apihost:t,assethost:e,endpoint:r,host:n,imghost:i,languageOverride:o,reCaptchaCompat:a,reportapi:s,sentry:l,custom:c,loadAsync:u,scriptLocation:f,scriptSource:h,secureApi:p,cleanup:y=!0,userJourneys:m}=this.props;q$e({render:"explicit",apihost:t,assethost:e,endpoint:r,hl:o,host:n,imghost:i,recaptchacompat:a===!1?"off":null,reportapi:s,sentry:l,custom:c,loadAsync:u,scriptLocation:f,scriptSource:h,secureApi:p,cleanup:y,uj:m!==void 0?m:!1}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}renderCaptcha(t){let{onReady:e}=this.props,{isApiReady:r}=this.state,n=this.captchaId;if(!r||n)return;let i=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),o=this._hcaptcha.render(this.ref.current,i);this.captchaId=o,this.setState({isRemoved:!1},()=>{t&&t(),e&&e(),this._onReady&&this._onReady(o)})}resetCaptcha(){let t=this._hcaptcha,e=this.captchaId;this.isReady()&&(t.reset(e),this._cancelPendingExecute("hcaptcha-reset"))}removeCaptcha(t){let e=this._hcaptcha,r=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},()=>{this.captchaId="",e.remove(r),t&&t()})}handleOnLoad(){this.setState({isApiReady:!0},()=>{let t=gQ(this.props.scriptLocation),e=pQ(t);this._hcaptcha=e.window.hcaptcha,this.renderCaptcha(()=>{let{onLoad:r}=this.props;r&&r()})})}handleSubmit(t){let{onVerify:e}=this.props,{isRemoved:r}=this.state,n=this._hcaptcha,i=this.captchaId;if(typeof n>"u"||r)return;let o=n.getResponse(i),a=n.getRespKey(i);e&&e(o,a)}handleExpire(){let{onExpire:t}=this.props,e=this._hcaptcha,r=this.captchaId;this.isReady()&&(e.reset(r),t&&t())}handleError(t){let{onError:e}=this.props,r=this._hcaptcha,n=this.captchaId;this.isReady()&&r.reset(n),e&&e(t)}isReady(){let{isApiReady:t,isRemoved:e}=this.state;return t&&!e}_cancelPendingExecute(t){if(!this._pendingExecute)return;let e=this._pendingExecute;this._pendingExecute=null;let r=new Error(t);e.reject(r)}handleOpen(){!this.isReady()||!this.props.onOpen||this.props.onOpen()}handleClose(){!this.isReady()||!this.props.onClose||this.props.onClose()}handleChallengeExpired(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()}execute(t=null){t=typeof t=="object"?t:null;try{let e=this._hcaptcha,r=this.captchaId;if(t&&t.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return t&&t.async?new Promise((i,o)=>{this._pendingExecute={resolve:i,reject:o},this._onReady=a=>{if(this._pendingExecute)try{let s=e.execute(a,t);s&&typeof s.then=="function"?s.then(l=>{this._pendingExecute=null,i(l)}).catch(l=>{this._pendingExecute=null,o(l)}):(this._pendingExecute=null,o(new Error("hcaptcha-execute-no-promise")))}catch(s){this._pendingExecute=null,o(s)}}}):(this._onReady=i=>{e.execute(i,t)},null);let n=e.execute(r,t);return t&&t.async&&n&&typeof n.then=="function"?new Promise((i,o)=>{this._pendingExecute={resolve:i,reject:o},n.then(a=>{this._pendingExecute=null,i(a)}).catch(a=>{this._pendingExecute=null,o(a)})}):n}catch(e){return t&&t.async?Promise.reject(e):null}}close(){let t=this._hcaptcha,e=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return t.close(e)}setData(t){let e=this._hcaptcha,r=this.captchaId;this.isReady()&&(t&&typeof t!="object"&&(t=null),e.setData(r,t))}getResponse(){return this._hcaptcha.getResponse(this.captchaId)}getRespKey(){return this._hcaptcha.getRespKey(this.captchaId)}render(){let{elementId:t}=this.state;return ye.createElement("div",{ref:this.ref,id:t})}};ye.createContext();var W$e=z$e;class wle{constructor(e){if(Pe(this,"authBaseApiUrl",void 0),Pe(this,"passwordlessParams",void 0),Pe(this,"trackingIdentifier",void 0),Pe(this,"version",`web3auth-${_De.split(".")[0]}`),!e.authConnection)throw dt.invalidParams("authConnection is required");if(!e.web3authClientId)throw dt.invalidParams("web3authClientId is required");if(!e.loginHint)throw dt.invalidParams("loginHint is required");if(!e.network)throw dt.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=g0.PRODUCTION),this.authBaseApiUrl=`${HDe[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===lt.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===lt.SMS_PASSWORDLESS)return"Mobile";throw dt.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===lt.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===lt.SMS_PASSWORDLESS)return"sms";throw dt.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return p8("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:r}=this.passwordlessParams;if(!r)return{};const{appName:n,appUrl:i,defaultLanguage:o,mode:a,logoLight:s,logoDark:l,theme:c}=r,u=(e=a==="dark"?l:s)!==null&&e!==void 0?e:"";return{mode:a??"light",name:n??"",url:i??"",language:o??"en",logo:u.includes(".svg")?"":u,theme:c??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const n=await tN(`${this.authBaseApiUrl}/passwordless/start`,e);if(n&&n.success){var r;this.trackingId=(r=n.data)===null||r===void 0?void 0:r.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return n}catch(n){return this.handleError(n)}}async verify(e){try{const r=await tN(`${this.authBaseApiUrl}/passwordless/verify`,e);return r.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:r.id_token}}):{success:!1,error:r.message}}catch(r){return this.handleError(r)}}async handleError(e){let r;if(e.status===429)r="passwordless.error-too-many-requests";else try{const n=await e.json();r=n.error_code?VBe(n.error_code):n.message}catch{r="passwordless.something-wrong-error"}return{success:!1,error:r}}}class K$e extends wle{constructor(e){var r;super(e),Pe(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(r=window.sessionStorage.getItem("trackingId"))!==null&&r!==void 0?r:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:r,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n,flow_type:m8.code,captcha_token:e};return super.start(o)}async verifyCode(e){const{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:r,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:n,flow_type:m8.code};return super.verify(o)}}class V$e extends wle{constructor(e){if(super(e),this.sessionStorageAvailable){var r;this.trackingId=(r=window.sessionStorage.getItem("trackingId"))!==null&&r!==void 0?r:void 0}}async sendVerificationCode({captchaToken:e}){const{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o=be({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:r,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n},e&&{captcha_token:e});return super.start(o)}async verifyCode(e){const{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:r,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:n};return super.verify(o)}}const G$e=(t,e)=>{switch(t){case lt.EMAIL_PASSWORDLESS:return new K$e(e);case lt.SMS_PASSWORDLESS:return new V$e(e);default:throw dt.invalidParams(`Unsupported auth connection: ${t}`)}},Y$e="test_account_",J$e="@example.com",Q$e="+1-555",X$e=(t,e)=>{if(t===lt.EMAIL_PASSWORDLESS)return e.startsWith(Y$e)&&e.endsWith(J$e);if(t===lt.SMS_PASSWORDLESS)return e.startsWith(Q$e);throw dt.invalidParams(`Unsupported auth connection: ${t}`)},Z$e=({children:t,content:e,isDark:r=!1,hideHint:n=!1})=>{const[i,o]=ye.useState(!1),a=()=>{o(!0)},s=()=>{o(!1)},l=ye.useMemo(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${r?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[r]);return Y.jsxs("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s,onClick:s,children:[t,i&&!n&&Y.jsxs("div",{"data-popover":!0,role:"tooltip",className:lr("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",r?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,Y.jsx("div",{className:"w3a--absolute",style:l})]})]})};function J6(t,e,r){const n=t===lt.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===lt.APPLE||t===lt.GITHUB||t===lt.TWITTER?n:`login-${t}-active`;return Y.jsxs(Y.Fragment,{children:[Y.jsx("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${r}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),Y.jsx("img",{id:"login-img",src:`https://images.web3auth.io/${n}${r}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function eFe(t){const{visibleRow:e,otherRow:r,mainOptionsRow:n,isDark:i,canShowMore:o,handleSocialLoginClick:a,handleExpandSocialLogins:s,buttonRadius:l}=t,c=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return(e.length!==0||n.length!==0)&&(r==null?void 0:r.length)===0?Y.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[Y.jsx("div",{className:"w3a--grid w3a--w-full w3a--gap-y-2",children:n.map(u=>Y.jsx(Jy,{type:th.SOCIAL,props:{showText:!0,text:u.description,method:u.method,isDark:i,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:Y.jsx(Y.Fragment,{children:J6(u.method,i,".svg")}),onClick:()=>a({connector:u.connector,loginParams:u.loginParams}),buttonRadius:l}},u.method))}),Y.jsxs("div",{className:lr("w3a--grid w3a--w-full w3a--gap-x-2",c()),children:[e.filter((u,f)=>e.length===4?f<=3:f<3).map(u=>Y.jsx(Z$e,{content:"Last Login",isDark:i,hideHint:!0,children:Y.jsx(Jy,{type:th.SOCIAL,props:{showText:!1,method:u.method,isDark:i,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:Y.jsx(Y.Fragment,{children:J6(u.method,i,".svg")}),onClick:()=>a({connector:u.connector,loginParams:u.loginParams}),buttonRadius:l}},u.method)},u.method)),o&&e.length>4&&Y.jsx(Jy,{type:th.SOCIAL,props:{showIcon:!1,onClick:s,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:Y.jsx("img",{src:Oo(i?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:l}})]})]}):Y.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[Y.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:()=>s(),children:Y.jsx("img",{src:Oo(i?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),Y.jsx("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:r.map(u=>Y.jsx("div",{className:"w3a--h-11 w3a--w-full",children:Y.jsx(Jy,{type:th.SOCIAL,props:{method:u.method,isDark:i,isPrimaryBtn:!1,onClick:()=>a({connector:u.connector,loginParams:u.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:l,children:Y.jsxs(Y.Fragment,{children:[J6(u.method,i,".svg"),Y.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:u.name}),Y.jsx("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(i?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},u.method))})]})}const ble=ye.forwardRef(({length:t,loading:e,resendTimer:r=60,onComplete:n,onChange:i,error:o=!1,success:a=!1,disabled:s=!1,classes:l,helperText:c="",onResendTimer:u,showCta:f=!0,showTimer:h=!0,autoFocus:p=!1,placeholder:y="",autoComplete:m="one-time-code",type:v="text",resendBtnText:w=""},A)=>{const[_,D]=ye.useState(Array(t).fill("")),[P,U]=ye.useState(r??0),[F]=ji(void 0,{i18n:cr}),N=ye.useRef([]),L=T=>/^\d$/.test(T)&&T.trim().length===1,B=(T,j)=>{if(T.key==="Backspace"||T.key==="Delete"){T.preventDefault();const M=[..._];if(_[j]!=="")M[j]="";else if(j>0){var O;(O=N.current[j-1])===null||O===void 0||O.focus(),M[j-1]=""}D(M),i&&i(M.join(""))}else if(T.key==="ArrowLeft"){var k;T.preventDefault(),(k=N.current[j-1])===null||k===void 0||k.focus()}else if(T.key==="ArrowRight"){var E;T.preventDefault(),(E=N.current[j+1])===null||E===void 0||E.focus()}else(T.key===" "||T.key==="Spacebar"||T.key==="Space"||!L(T.key)&&N.current[j+1])&&(T.preventDefault(),N.current[j+1].value="")},R=(T,j)=>{T.preventDefault();const{value:O}=T.target;if(O&&O.length>1&&O.length===t){var k;const M=O.split(""),H=[..._];M.forEach((q,W)=>{H[W]=q}),D(H),(k=N.current[M.length===t?t-1:M.length])===null||k===void 0||k.focus(),n&&t===H.length&&n(H.join(""))}else if(L(O)){const M=[..._].slice(0,t);M[j]=O,D(M);const H=M.join("");if(j<t-1&&N.current[j+1]){var E;(E=N.current[j+1])===null||E===void 0||E.focus()}i&&i(O),n&&t===H.length&&n(H)}},b=T=>{T.preventDefault();const j=T.clipboardData.getData("text").slice(0,t);if(j&&/^\d+$/.test(j)){var O;const k=j.split(""),E=[..._];k.forEach((M,H)=>{E[H]=M}),D(E),(O=N.current[k.length===t?t-1:k.length])===null||O===void 0||O.focus(),n&&t===E.length&&n(E.join(""))}},x=()=>{U(r||0),u&&u()};ye.useEffect(()=>{let T=null;return f&&h&&(T=window.setInterval(()=>{P>0?U(j=>j-1):clearInterval(T)},1e3)),()=>{clearInterval(T)}},[P]),ye.useEffect(()=>{if(N&&p){var T;(T=N.current)===null||T===void 0||T[0].focus()}},[p]);const I=lr("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":a},l==null?void 0:l.helperText),C=new Date().getFullYear();return Y.jsxs("div",{className:lr("w3a--flex w3a--flex-col w3a--items-center",l==null?void 0:l.root),ref:A,children:[Y.jsx("form",{className:lr("w3a--flex w3a--space-x-2",l==null?void 0:l.inputContainer),children:_.map((T,j)=>{var O,k,E;return Y.jsx("input",{id:`${C+j}`,type:v,value:T,autoComplete:m,placeholder:Array.isArray(y)?y[j]:y,inputMode:"numeric",onInput:M=>R(M,j),onKeyUp:M=>B(M,j),onPaste:b,className:lr("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&((O=l==null?void 0:l.success)!==null&&O!==void 0?O:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&((k=l==null?void 0:l.error)!==null&&k!==void 0?k:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&((E=l==null?void 0:l.disabled)!==null&&E!==void 0?E:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),l==null?void 0:l.input),ref:M=>{N.current[j]=M},disabled:s},`${C+j}`)})}),c&&Y.jsx("p",{className:I,children:c}),e&&Y.jsx("div",{className:"w3a--mt-3",children:Y.jsx(hL,{})}),f&&!e&&Y.jsx("div",{className:lr("w3a--flex w3a--items-center w3a--mt-3",l==null?void 0:l.ctaContainer),children:P>0&&h?Y.jsx("span",{className:lr("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",l==null?void 0:l.timerText),children:F("modal.resendTimer",{timer:P})}):Y.jsx("button",{type:"button",className:lr("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",l==null?void 0:l.resendBtnText),onClick:x,disabled:P>0&&h,children:w||F("modal.resendCode")})})]})});ble.displayName="OtpInput";function tFe(t){const{setShowOtpFlow:e,handleOtpComplete:r,authConnection:n,loginHint:i="",errorMessage:o,otpLoading:a,countryFlag:s}=t,l=ye.useMemo(()=>n===lt.SMS_PASSWORDLESS,[n]),[c]=ji(void 0,{i18n:cr}),u=ye.useMemo(()=>{if(n===lt.EMAIL_PASSWORDLESS)return i;const[f,h]=i.includes("-")?i.split("-"):["",i],p=`${h}`.slice(-Math.floor(h.length/2)).padStart(`${h}`.length,"*");return`${s} ${f} ${p}`},[i,n,s]);return Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:Y.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:Y.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),Y.jsxs("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[Y.jsx("img",{src:Oo(l?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),Y.jsxs("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[Y.jsx("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:c(l?"modal.otp.mobile-title":"modal.otp.email-title")}),Y.jsxs("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c(l?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),Y.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l?u:c("modal.otp.email-subtext-example",{email:u})})]})]}),Y.jsx(ble,{length:6,onComplete:r,error:!!o,helperText:o,loading:a,disabled:a})]})]})}function rFe(t){const{otpLoading:e,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,errorMessage:a,countryFlag:s}=t;return Y.jsx("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:Y.jsx(tFe,{errorMessage:a,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,otpLoading:e,countryFlag:s})})}function nFe(t){const{isModalVisible:e,isPasswordLessCtaClicked:r,setIsPasswordLessCtaClicked:n,title:i,placeholder:o,handleFormSubmit:a,errorMessage:s,isDark:l,isPasswordLessLoading:c,buttonRadius:u}=t,[f]=ji(void 0,{i18n:cr}),h=ye.useRef(null),[p,y]=ye.useState(""),[m,v]=ye.useState(!1),w=D=>{y(D.target.value),v(!0)},A=D=>{const{key:P}=D;P==="Enter"&&(a(p),v(!1))},_=D=>{D.preventDefault(),D.stopPropagation(),a(p),v(!1)};return ye.useEffect(()=>{e||n(!1)},[e,n]),ye.useEffect(()=>{if(r){var D;(D=h.current)===null||D===void 0||D.focus()}},[r]),r?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:lr("w3a--input",m&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[Y.jsx("input",{ref:h,onInput:w,value:p,placeholder:o,onFocus:()=>{v(!0)},onBlur:D=>{D.target.placeholder=`${o}`,v(!1)},type:"text",className:lr("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:D=>A(D),disabled:c}),c&&Y.jsx(hL,{}),p&&!c&&Y.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:_,children:Y.jsx("img",{src:Oo(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!m&&r&&Y.jsx("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):Y.jsxs("button",{type:"button",className:lr("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{n(!0)},children:[Y.jsx("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f("modal.passwordless.title",{title:i})}),Y.jsx("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}const mQ=[lt.SMS_PASSWORDLESS,lt.EMAIL_PASSWORDLESS,lt.AUTHENTICATOR,lt.PASSKEYS,lt.TELEGRAM,lt.CUSTOM];function iFe(t){const{web3authClientId:e,web3authNetwork:r,authBuildEnv:n,appLogo:i,isModalVisible:o,handleSocialLoginHeight:a,socialLoginsConfig:s,installedExternalWalletConfig:l,isDark:c,handleSocialLoginClick:u,totalExternalWallets:f,remainingUndisplayedWallets:h,isEmailPasswordLessLoginVisible:p,isSmsPasswordLessLoginVisible:y,handleExternalWalletBtnClick:m,handleExternalWalletClick:v,areSocialLoginsVisible:w,showPasswordLessInput:A,showExternalWalletButton:_,showExternalWalletCount:D,showInstalledExternalWallets:P,logoAlignment:U="center",buttonRadius:F="pill",deviceDetails:N}=t,[L]=ji(void 0,{i18n:cr}),{bodyState:B,setBodyState:R}=ye.useContext(Ib),{analytics:b}=ye.useContext(dL),[x,I]=ye.useState(""),[C,T]=ye.useState(""),[j,O]=ye.useState(""),[k,E]=ye.useState(""),[M,H]=ye.useState(!1),[q,W]=ye.useState(!1),[V,Q]=ye.useState([]),[te,X]=ye.useState([]),[Z,ae]=ye.useState([]),[he,se]=ye.useState(!1),[ne,oe]=ye.useState(!1),[fe,pe]=ye.useState(void 0),[xe,Se]=ye.useState(void 0),[ce,Oe]=ye.useState(!1),[ke,ve]=ye.useState(!1),[We,Ze]=ye.useState(!1),[Ye,jt]=ye.useState(""),re=ye.useRef(null),K=()=>{H(at=>!at),se(!1),a()};ye.useEffect(()=>{const at=Object.keys(s.loginMethods).filter(Ve=>s.loginMethods[Ve].showOnModal&&!mQ.includes(Ve)),Rt=[],le=[],de=[],je=(s.loginMethodsOrder||[]).reduce((Ve,Ft,zr)=>(Ve[Ft]=zr,Ve),{}),Ke=Object.keys(s.loginMethods).filter(Ve=>!!s.loginMethods[Ve].showOnModal&&!mQ.includes(Ve)).sort((Ve,Ft)=>{var zr,Yt;const Xt=(s.loginMethodsOrder||[]).length,In=(zr=je[Ve])!==null&&zr!==void 0?zr:Xt,Ar=(Yt=je[Ft])!==null&&Yt!==void 0?Yt:Xt,{mainOption:Or}=s.loginMethods[Ve]||{},{mainOption:To}=s.loginMethods[Ft]||{};return Or&&To?In-Ar:Or?-1:To?1:In-Ar});Ke.forEach((Ve,Ft)=>{var zr;const Yt=s.loginMethods[Ve],Xt=cL(Yt.name||Ve),In=Ft+1,Ar=(s==null||(zr=s.uiConfig)===null||zr===void 0?void 0:zr.primaryButton)==="socialLogin"&&In===1,Or=Yt.mainOption,To=Ke.length,yr=To>=4?In>0&&In<=To:In>0&&In<4,no={description:Yt.description||"",method:Ve,isDark:c,isPrimaryBtn:Ar,name:Xt==="Twitter"?"X":Xt,connector:s.connector,loginParams:{authConnection:Yt.authConnection||Ve,authConnectionId:Yt.authConnectionId,groupedAuthConnectionId:Yt.groupedAuthConnectionId,extraLoginOptions:Yt.extraLoginOptions,name:Xt,login_hint:""},order:In};Or?de.push(no):yr&&Rt.push(no),le.push(no)}),Q(Rt),X(le),ae(de),W(at.length>4)},[s,c,F]);const J=async(at,Rt)=>{try{const de=G$e(at,{loginHint:Rt,web3authClientId:e,network:r,uiConfig:s.uiConfig,authConnection:at,authBuildEnv:n});let je;if(!X$e(at,Rt)){var le;const Ve=await((le=re.current)===null||le===void 0?void 0:le.execute({async:!0}));if(!Ve)throw Mt.connectionError("Captcha token is required");je=Ve.response}const Ke=await de.sendVerificationCode({captchaToken:je});if(Ke!=null&&Ke.error){O(L(Ke.error));return}pe(at),oe(!0),Se(de)}catch(de){st.error(de)}finally{Oe(!1)}},ue=async at=>{if(Oe(!0),p&&at.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const le=s.loginMethods[lt.EMAIL_PASSWORDLESS];return le.isDefault?u({connector:s.connector,loginParams:{authConnection:lt.EMAIL_PASSWORDLESS,authConnectionId:le.authConnectionId,groupedAuthConnectionId:le.groupedAuthConnectionId,extraLoginOptions:le.extraLoginOptions,loginHint:at,name:"Email"}}):J(lt.EMAIL_PASSWORDLESS,at)}if(y){const Rt=at.startsWith("+")?at:`${x}${at}`,le=await WBe(Rt);if(le.success){const de=typeof le.parsed_number=="string"?le.parsed_number:Rt,je=s.loginMethods[lt.SMS_PASSWORDLESS];return je.isDefault?u({connector:s.connector,loginParams:{authConnection:lt.SMS_PASSWORDLESS,authConnectionId:je.authConnectionId,groupedAuthConnectionId:je.groupedAuthConnectionId,extraLoginOptions:je.extraLoginOptions,loginHint:de,name:"Mobile"}}):(T(le.country_flag),J(lt.SMS_PASSWORDLESS,de))}}O(Ce),Oe(!1)},we=ye.useMemo(()=>L(p&&y?"modal.social.passwordless-title":p?"modal.social.email":"modal.social.phone"),[p,y,L]),Le=ye.useMemo(()=>p&&y?"+(00)123456/name@example.com":p?"name@example.com":"+(00)123456",[p,y]),Ce=ye.useMemo(()=>L(p&&y?"modal.errors-invalid-number-email":p?"modal.errors-invalid-email":"modal.errors-invalid-number"),[p,y,L]);ye.useEffect(()=>{y&&(async()=>{const Rt=await zBe();Rt&&Rt.dialCode&&I(Rt.dialCode)})()},[y]);const tt=async at=>{ve(!0),k&&E("");try{var Rt;const de=s.loginMethods[fe],je=await(xe==null?void 0:xe.verifyCode(at));if(je!=null&&je.error){E(L(je.error));return}if(je!=null&&(Rt=je.data)!==null&&Rt!==void 0&&Rt.id_token){var le;return u({connector:s.connector,loginParams:{authConnection:fe,authConnectionId:de.authConnectionId,groupedAuthConnectionId:de.groupedAuthConnectionId,extraLoginOptions:be(be({},de.extraLoginOptions),{},{id_token:(le=je.data)===null||le===void 0?void 0:le.id_token}),loginHint:xe.passwordlessParams.loginHint,name:xe.name}})}}catch(de){st.error(de)}finally{ve(!1)}},Ot=at=>{var Rt;if(b==null||b.track(Cr.EXTERNAL_WALLET_SELECTED,{connector:at.name,wallet_name:at.displayName,is_installed:at.isInstalled,is_injected:at.hasInjectedWallet,chain_namespaces:at.chainNamespaces,has_wallet_connect:at.hasWalletConnect,has_install_links:at.hasInstallLinks,has_wallet_registry_item:!!at.walletRegistryItem,total_external_wallets:f}),st.info("handleInstalledWalletClick",at),at.name===mt.METAMASK&&!at.hasInjectedWallet&&N.platform==="desktop"){v({connector:at.name}),R(be(be({},B),{},{metamaskQrCode:{show:!0,wallet:at}}));return}((Rt=at.chainNamespaces)===null||Rt===void 0?void 0:Rt.length)>1?R(be(be({},B),{},{multiChainSelector:{show:!0,wallet:at}})):v({connector:at.name})},ft=ye.useMemo(()=>P?l:l.filter(at=>at.name===mt.METAMASK),[l,P]),ct=ye.useCallback(at=>{b==null||b.track(Cr.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:f,installed_external_wallets:ft.length}),se(!1),at==null||at.preventDefault(),m&&m(!0)},[b,m,ft.length,f]);if(ye.useEffect(()=>{_&&!w&&!A&&ct()},[_,w,A,ct]),ne)return Y.jsx(rFe,{otpLoading:ke,loginHint:xe==null?void 0:xe.passwordlessParams.loginHint,setShowOtpFlow:oe,authConnection:fe,handleOtpComplete:tt,errorMessage:k,countryFlag:C});const It=(at=[])=>Y.jsx(eFe,{otherRow:at,isDark:c,visibleRow:V,canShowMore:q,mainOptionsRow:Z,handleSocialLoginClick:u,socialLoginsConfig:s,handleExpandSocialLogins:K,buttonRadius:F},"social-login-section"),$t=()=>Y.jsx(nFe,{isModalVisible:o,isPasswordLessCtaClicked:he,setIsPasswordLessCtaClicked:se,title:we,placeholder:Le,handleFormSubmit:ue,errorMessage:j,isDark:c,buttonRadius:F,isPasswordLessLoading:ce},"passwordless-section"),mr=()=>Y.jsxs("div",{className:lr("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[ft.length>0&&ft.map(at=>Y.jsxs("button",{type:"button",className:lr("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:()=>Ot(at),children:[Y.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:at.displayName}),Y.jsxs("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[at.hasInjectedWallet&&Y.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:L("modal.external.installed")}),Y.jsx("figure",{className:"w3a--size-5",children:Y.jsx(ta,{imageData:at.icon,imageId:`login-${at.name}`,hoverImageId:`login-${at.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:at.imgExtension||"webp"})})]}),Y.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},at.name)),h>0&&Y.jsxs("button",{type:"button",className:lr("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:ct,children:[Y.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:L("modal.external.all-wallets")}),D&&Y.jsx("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:h}),Y.jsx("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),on=[Dse,Lse].includes(i)?"":i,Gt=at=>Y.jsxs("div",{className:lr("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",on?"w3a--my-2":"w3a--my-4"),children:[Y.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),Y.jsx("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),Y.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${at}`),or=()=>{var at;const Rt={social:It,passwordless:$t,externalWallets:mr},le={social:w,passwordless:A,externalWallets:_},de=((at=s.uiConfig)===null||at===void 0?void 0:at.signInMethods)||["social","passwordless","externalWallets"];Object.entries(le).forEach(([Ke,Ve])=>{Ve&&!de.includes(Ke)&&de.push(Ke)});const je=de.map(Ke=>le[Ke]&&Rt[Ke]()).filter(Boolean);if(je.length===3){const Ke=de.findIndex(Ve=>Ve==="externalWallets");Ke===0?je.splice(1,0,Gt(1)):Ke===1?(je.splice(1,0,Gt(1)),je.splice(3,0,Gt(2))):Ke===2&&je.splice(2,0,Gt(1))}else je.length===2&&le.externalWallets&&je.splice(1,0,Gt(1));return je},qa=()=>It(te);return Y.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[Y.jsxs("div",{className:lr("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",U==="center"?"":"w3a--w-full"),children:[on&&Y.jsx("figure",{className:lr("w3a--mx-auto w3a--h-12 w3a--w-[200px]",U==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:Y.jsx("img",{src:on,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),Y.jsx("p",{className:lr("w3a--text-app-gray-900 dark:w3a--text-app-white",U==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",on?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:L("modal.social.sign-in")})]}),Y.jsx(W$e,{ref:re,sitekey:qDe,size:"invisible",languageOverride:s.uiConfig.defaultLanguage,theme:s.uiConfig.theme,onOpen:()=>Ze(!0),onClose:()=>Ze(!1),onError:()=>jt("passwordless.captcha-default-error"),onChalExpired:()=>jt("passwordless.captcha-default-error")}),Ye&&We&&Y.jsx("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:L(Ye)}),!We&&Y.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!M&&or(),M&&qa()]})]})}const oFe=()=>{const{toast:t,setToast:e}=ye.useContext(Ib);if(ye.useEffect(()=>{t.message&&setTimeout(()=>{e({message:"",type:Fw.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;const r={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},n={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return Y.jsxs("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${r[t.type]}`,children:[Y.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:Y.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:Fw.SUCCESS}),className:n[t.type],children:Y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),Y.jsx("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:Y.jsx("p",{children:t.message})})]})};function yQ(t){var e,r,n,i,o,a,s,l,c;const{setModalState:u,modalState:f,handleExternalWalletBtnClick:h,handleMobileVerifyConnect:p,chainNamespaces:y,walletRegistry:m,appLogo:v,onCloseLoader:w,handleSocialLoginClick:A,showPasswordLessInput:_,showExternalWalletButton:D,socialLoginsConfig:P,areSocialLoginsVisible:U,isEmailPrimary:F,isExternalPrimary:N,showExternalWalletPage:L,isEmailPasswordLessLoginVisible:B,isSmsPasswordLessLoginVisible:R,preHandleExternalWalletClick:b,uiConfig:x,deviceDetails:I,isConnectAndSignAuthenticationMode:C}=t,{logoAlignment:T="center",buttonRadiusType:j="pill",privacyPolicy:O="",tncLink:k="",displayInstalledExternalWallets:E=!0,displayExternalWalletsCount:M=!0,hideSuccessScreen:H=!1}=x,[q]=ji(void 0,{i18n:cr}),{isDark:W}=ye.useContext(P_),[V,Q]=ye.useState({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[te,X]=ye.useState({message:"",type:Fw.SUCCESS}),[Z,ae]=ye.useState(!1),[he,se]=ye.useState(!1),ne=Ce=>{u(be(be({},f),{},{currentPage:Yu.CONNECT_WALLET})),h&&h(Ce)},oe=Ce=>{u(be(be({},f),{},{currentPage:Yu.LOGIN})),h&&h(Ce)},fe=ye.useMemo(()=>!_&&!U,[U,_]),pe=ye.useMemo(()=>{var Ce;if(I.platform==="desktop")return[];const tt=((Ce=V.installLinks)===null||Ce===void 0||(Ce=Ce.wallet)===null||Ce===void 0||(Ce=Ce.walletRegistryItem)===null||Ce===void 0?void 0:Ce.app)||{};return Object.keys(tt).reduce((ft,ct)=>{if(!["android","ios"].includes(ct))return ft;const It=tt[ct];if(!It)return ft;const $t=UBe(ct,It);if(!$t)return ft;const mr=`${ct}-light`,on=`${ct}-dark`;return ft.push(Y.jsx("li",{className:"w3a--w-full",children:Y.jsx("a",{href:$t,rel:"noopener noreferrer",target:"_blank",children:Y.jsxs("button",{type:"button",className:lr("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":j==="pill","w3a--rounded-lg":j==="rounded","w3a--rounded-none":j==="square"}),children:[Y.jsx(ta,{imageId:mr,darkImageId:on,hoverImageId:mr,darkHoverImageId:on,height:"28",width:"28",isButton:!0}),Y.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:q("modal.external.install-mobile-app",{os:HBe(ct)})}),Y.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(W?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},$t)),ft},[])},[(e=V.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,I.platform,W,q,j]),xe=ye.useMemo(()=>{var Ce;if(I.platform!=="desktop")return[];const tt=I.browser==="brave"?"chrome":I.browser,Ot=((Ce=V.installLinks)===null||Ce===void 0||(Ce=Ce.wallet)===null||Ce===void 0||(Ce=Ce.walletRegistryItem)===null||Ce===void 0?void 0:Ce.app)||{},ft=Ot.browser&&Ot.browser.includes(tt)?Ot.browser:void 0,ct=Ot[tt]||ft,It=ct?FBe(tt,ct):null;return[It?Y.jsx("li",{children:Y.jsx("a",{href:It,rel:"noopener noreferrer",target:"_blank",children:Y.jsxs("button",{type:"button",className:lr("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":j==="pill","w3a--rounded-lg":j==="rounded","w3a--rounded-none":j==="square"}),children:[Y.jsx(ta,{imageId:I.browser,darkImageId:I.browser,hoverImageId:I.browser,darkHoverImageId:I.browser,height:"30",width:"30",isButton:!0}),Y.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:q("modal.external.install-browser-extension",{browser:qBe(I.browser)})}),Y.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Oo(W?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},It):null,...pe]},[(r=V.installLinks)===null||r===void 0||(r=r.wallet)===null||r===void 0||(r=r.walletRegistryItem)===null||r===void 0?void 0:r.app,I.browser,I.platform,W,pe,j,q]),Se=ye.useMemo(()=>f.externalWalletsConfig,[f.externalWalletsConfig]),ce=ye.useMemo(()=>{const Ce={};return Object.keys(Se).forEach(tt=>{var Ot;Ce[tt]=!!(!((Ot=Se[tt])===null||Ot===void 0)&&Ot.showOnModal)}),Ce},[Se]),Oe=ye.useMemo(()=>Object.keys((m==null?void 0:m.default)||{}).length>0||Object.keys((m==null?void 0:m.others)||{}).length>0,[m]),ke=ye.useCallback(Ce=>Object.keys(Ce).reduce((tt,Ot)=>{var ft,ct,It;if(ce[Ot]===!1)return tt;const $t=Ce[Ot];let mr="";if(I.platform!=="desktop"){var on,Gt;const je=$t==null||(on=$t.mobile)===null||on===void 0?void 0:on.universal,Ke=$t==null||(Gt=$t.mobile)===null||Gt===void 0?void 0:Gt.native;mr=je||Ke}const or=Se[Ot],qa=(or==null?void 0:or.chainNamespaces)||[],at=new Set((ft=$t.chains)===null||ft===void 0?void 0:ft.map(je=>je.split(":")[0])),Rt=new Set((ct=$t.injected)===null||ct===void 0?void 0:ct.map(je=>je.namespace)),le=y.filter(je=>at.has(je)||Rt.has(je)||qa.includes(je)),de={name:Ot,displayName:$t.name,href:mr,hasInjectedWallet:(or==null?void 0:or.isInjected)||!1,isInstalled:!!or,hasWalletConnect:Oe&&((It=$t.walletConnect)===null||It===void 0||(It=It.sdks)===null||It===void 0?void 0:It.includes("sign_v2")),hasInstallLinks:Object.keys($t.app||{}).length>0,walletRegistryItem:$t,imgExtension:$t.imgExtension||"svg",icon:or==null?void 0:or.icon,chainNamespaces:le};return!de.hasInjectedWallet&&!de.hasWalletConnect&&!de.hasInstallLinks||le.length===0||tt.push(de),tt},[]),[ce,y,Se,I.platform,Oe]),ve=ye.useMemo(()=>[...ke(m.default),...ke(m.others)],[ke,m.default,m.others]),We=ye.useMemo(()=>{const Ce=Object.keys(Se).reduce((Ot,ft)=>{if(ft===mt.WALLET_CONNECT_V2||!ce[ft])return Ot;const ct=Se[ft];return Ot.push({name:ft,displayName:(ct==null?void 0:ct.label)||ft,hasInjectedWallet:(ct==null?void 0:ct.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:ct==null?void 0:ct.icon,chainNamespaces:(ct==null?void 0:ct.chainNamespaces)||[]}),Ot},[]),tt=Ce.findIndex(Ot=>Ot.name===mt.METAMASK&&!Ot.hasInjectedWallet);if(tt!==-1){const Ot=Ce[tt];let ft=ve.find(ct=>ct.name===mt.METAMASK);ft||(ft=ke({[mt.METAMASK]:JDe})[0]),ft&&Ce.splice(tt,1,be(be({},ft),{},{chainNamespaces:Ot.chainNamespaces,isInstalled:!0}))}return Ce},[ve,Se,ce,ke]),Ze=ye.useMemo(()=>We.filter(Ce=>!Ce.hasInjectedWallet),[We]),Ye=ye.useMemo(()=>We.sort((tt,Ot)=>tt.name===mt.METAMASK?-1:1).slice(0,E?3:1),[We,E]),jt=ye.useMemo(()=>{const Ce=new Set;return We.concat(ve).filter(tt=>Ce.has(tt.name)?!1:(Ce.add(tt.name),!0))},[ve,We]),re=ye.useMemo(()=>jt.filter(Ce=>!Ye.includes(Ce)).length,[jt,Ye]),K=()=>{ae(Ce=>!Ce)},J=()=>{se(Ce=>!Ce)},ue=ye.useMemo(()=>{var Ce;const tt=O||k;if(f.status!==Kr.INITIALIZED)return"530px";if(he||(Ce=V.metamaskQrCode)!==null&&Ce!==void 0&&Ce.show)return tt?"680px":"628px";if(f.currentPage===Yu.CONNECT_WALLET)return tt?"640px":"580px";if(Z)return tt?"644px":"588px";if(Ye.length===1)return tt?"560px":"530px";if(Ye.length>1){const Ot=500+(Ye.length-1)*58;return tt?`${Ot+60}px`:`${Ot+16}px`}return"539px"},[O,k,f.status,f.currentPage,he,(n=V.metamaskQrCode)===null||n===void 0?void 0:n.show,Z,Ye.length]),we=ye.useMemo(()=>({bodyState:V,setBodyState:Q,toast:te,setToast:X}),[V,Q,te,X]),Le=ye.useMemo(()=>f.status!==Kr.INITIALIZED,[f.status]);return Y.jsx(Ib.Provider,{value:we,children:Y.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[Y.jsxs("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:ue},children:[Y.jsx("div",{className:"w3a--modal-curtain"}),Y.jsxs("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[Le?Y.jsx(f$e,{connector:f.detailedLoaderConnector,connectorName:f.detailedLoaderConnectorName,modalStatus:f.status,onClose:w,appLogo:v,isConnectAndSignAuthenticationMode:C,externalWalletsConfig:f.externalWalletsConfig,walletRegistry:m,handleMobileVerifyConnect:p,hideSuccessScreen:H}):Y.jsx(Y.Fragment,{children:(i=V.metamaskQrCode)!==null&&i!==void 0&&i.show?Y.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[Y.jsx(lle,{onBackClick:()=>Q(be(be({},V),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Ju.SELECTED_WALLET,selectedButton:V.metamaskQrCode.wallet}),Y.jsx(fle,{qrCodeValue:f.metamaskConnectUri,isDark:W,selectedButton:V.metamaskQrCode.wallet,primaryColor:(o=V.metamaskQrCode.wallet.walletRegistryItem)===null||o===void 0?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${V.metamaskQrCode.wallet.name}.${V.metamaskQrCode.wallet.imgExtension}`,platform:I.platform})]}):Y.jsxs(Y.Fragment,{children:[f.currentPage===Yu.LOGIN&&L&&f.status===Kr.INITIALIZED&&Y.jsx(iFe,{web3authClientId:f.web3authClientId,web3authNetwork:f.web3authNetwork,authBuildEnv:f.authBuildEnv,isModalVisible:f.modalVisibility,isDark:W,appLogo:v,showPasswordLessInput:_,showExternalWalletButton:D,showExternalWalletCount:M,showInstalledExternalWallets:E,socialLoginsConfig:P,areSocialLoginsVisible:U,isEmailPrimary:F,isExternalPrimary:N,installedExternalWalletConfig:Ye,isEmailPasswordLessLoginVisible:B,isSmsPasswordLessLoginVisible:R,totalExternalWallets:jt.length,remainingUndisplayedWallets:re,logoAlignment:T,buttonRadius:j,deviceDetails:I,handleSocialLoginClick:A,handleExternalWalletBtnClick:ne,handleSocialLoginHeight:K,handleExternalWalletClick:b}),f.currentPage===Yu.CONNECT_WALLET&&(!L||fe)&&f.status===Kr.INITIALIZED&&Y.jsx(n$e,{isDark:W,walletConnectUri:f.walletConnectUri,metamaskConnectUri:f.metamaskConnectUri,config:f.externalWalletsConfig,walletRegistry:m,allRegistryButtons:ve,connectorVisibilityMap:ce,customConnectorButtons:Ze,deviceDetails:I,chainNamespace:y,buttonRadius:j,handleWalletDetailsHeight:J,isExternalWalletModeOnly:fe,onBackClick:oe,handleExternalWalletClick:b,disableBackButton:((a=V.installLinks)===null||a===void 0?void 0:a.show)||((s=V.multiChainSelector)===null||s===void 0?void 0:s.show)})]})}),Y.jsx(o$e,{privacyPolicy:O,termsOfService:k}),((l=V.multiChainSelector)===null||l===void 0?void 0:l.show)&&Y.jsx(aQ,{uiConfig:x,isShown:V.multiChainSelector.show,onClose:()=>Q(be(be({},V),{},{multiChainSelector:{show:!1,wallet:null}})),children:Y.jsx(i$e,{isDark:W,wallet:V.multiChainSelector.wallet,handleExternalWalletClick:Ce=>{b(Ce),Q(be(be({},V),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((c=V.installLinks)===null||c===void 0?void 0:c.show)&&Y.jsxs(aQ,{uiConfig:x,isShown:V.installLinks.show,onClose:()=>Q(be(be({},V),{},{installLinks:{show:!1,wallet:null}})),children:[Y.jsx("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:q("modal.getWallet")}),Y.jsx("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:Y.jsx(ta,{imageId:`login-${V.installLinks.wallet.name}`,hoverImageId:`login-${V.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:V.installLinks.wallet.imgExtension})}),Y.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:I.platform==="desktop"?xe:pe})]})]})]}),Y.jsx(oFe,{})]})})}function aFe(t){const{stateListener:e,handleSocialLoginClick:r,handleExternalWalletClick:n,handleMobileVerifyConnect:i,handleShowExternalWallets:o,closeModal:a,appLogo:s,appName:l,chainNamespaces:c,walletRegistry:u,uiConfig:f,deviceDetails:h,initialAuthenticationMode:p}=t,{widgetType:y}=f,m=ye.useMemo(()=>y===n0.EMBED,[y]),[v,w]=ye.useState({externalWalletsVisibility:!1,status:Kr.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:Yu.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:NDe.SAPPHIRE_MAINNET,authBuildEnv:g0.PRODUCTION}),A=ye.useMemo(()=>p===Pf.CONNECT_AND_SIGN,[p]);ye.useEffect(()=>{w(j=>be(be({},j),{},{modalVisibility:m}))},[m]),ye.useEffect(()=>{e.on("STATE_UPDATED",j=>{st.debug("state updated",j),w(O=>Wd(Br(O,j,{arrayMerge:(E,M)=>M})))}),e.emit("MOUNTED")},[e]);const _=j=>{const{connector:O}=j;w(k=>be(be({},k),{},{detailedLoaderConnector:O,detailedLoaderConnectorName:qre[O]})),n&&n(j)},D=j=>{const{loginParams:O}=j;w(k=>be(be({},k),{},{detailedLoaderConnector:O.authConnection,detailedLoaderConnectorName:O.name})),r(j)},P=ye.useMemo(()=>{var j,O;return v.showExternalWalletsOnly||Object.keys(((j=v.socialLoginsConfig)===null||j===void 0?void 0:j.loginMethods)||{}).length===0?!1:Object.entries(((O=v.socialLoginsConfig)===null||O===void 0?void 0:O.loginMethods)||{}).some(([E,M])=>![lt.EMAIL_PASSWORDLESS,lt.SMS_PASSWORDLESS].includes(E)&&M.showOnModal!==!1)},[v]),U=ye.useMemo(()=>{var j;return(j=v.socialLoginsConfig)===null||j===void 0||(j=j.loginMethods[lt.EMAIL_PASSWORDLESS])===null||j===void 0?void 0:j.showOnModal},[v.socialLoginsConfig]),F=ye.useMemo(()=>{var j;return(j=v.socialLoginsConfig)===null||j===void 0||(j=j.loginMethods[lt.SMS_PASSWORDLESS])===null||j===void 0?void 0:j.showOnModal},[v.socialLoginsConfig]),N=ye.useMemo(()=>{var j;return((j=v.socialLoginsConfig)===null||j===void 0||(j=j.uiConfig)===null||j===void 0?void 0:j.primaryButton)==="emailLogin"},[v.socialLoginsConfig]),L=ye.useMemo(()=>{var j;return((j=v.socialLoginsConfig)===null||j===void 0||(j=j.uiConfig)===null||j===void 0?void 0:j.primaryButton)==="externalLogin"},[v.socialLoginsConfig]),B=ye.useMemo(()=>U||F,[U,F]),R=ye.useMemo(()=>v.hasExternalWallets||!!v.externalWalletsConfig[mt.METAMASK],[v]),b=ye.useMemo(()=>(P||B||!!v.externalWalletsConfig[mt.METAMASK])&&!v.externalWalletsVisibility,[P,B,v]),x=j=>{w(O=>be(be({},O),{},{externalWalletsVisibility:j})),j&&o&&o(v.externalWalletsInitialized)},I=()=>{w(j=>be(be({},j),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:Yu.LOGIN})),a()},C=()=>{!A&&v.status===Kr.CONNECTED&&w(be(be({},v),{},{modalVisibility:!1,externalWalletsVisibility:!1})),A&&v.status===Kr.AUTHORIZED&&w(be(be({},v),{},{modalVisibility:!1,externalWalletsVisibility:!1})),v.status===Kr.ERRORED&&w(be(be({},v),{},{modalVisibility:!0,status:Kr.INITIALIZED}))},T=ye.useMemo(()=>v.status===Kr.INITIALIZED||v.status===Kr.CONNECTED||v.status===Kr.ERRORED||v.status===Kr.AUTHORIZED,[v.status]);return ye.useEffect(()=>{if(v.modalVisibility&&typeof v.externalWalletsConfig=="object"){var j;(((j=v.externalWalletsConfig[mt.WALLET_CONNECT_V2])===null||j===void 0?void 0:j.showOnModal)||!1)!==!1&&!v.walletConnectUri&&typeof n=="function"&&n({connector:mt.WALLET_CONNECT_V2})}},[v,n]),y===n0.MODAL?Y.jsx(YBe,{open:v.modalVisibility,placement:"center",padding:!1,showCloseIcon:T,onClose:I,borderRadius:f.borderRadiusType,children:v.modalVisibility&&Y.jsx(yQ,{appLogo:s,appName:l,chainNamespaces:c,walletRegistry:u,showPasswordLessInput:B,showExternalWalletButton:R,handleSocialLoginClick:j=>D(j),socialLoginsConfig:v.socialLoginsConfig,areSocialLoginsVisible:P,isEmailPrimary:N,isExternalPrimary:L,showExternalWalletPage:b,handleExternalWalletBtnClick:x,modalState:v,preHandleExternalWalletClick:_,setModalState:w,onCloseLoader:C,isEmailPasswordLessLoginVisible:U,isSmsPasswordLessLoginVisible:F,uiConfig:f,deviceDetails:h,isConnectAndSignAuthenticationMode:A,handleMobileVerifyConnect:i})}):Y.jsx(GBe,{open:v.modalVisibility,padding:!1,onClose:I,borderRadius:f.borderRadiusType,children:v.modalVisibility&&Y.jsx(yQ,{chainNamespaces:c,walletRegistry:u,appLogo:s,appName:l,showPasswordLessInput:B,showExternalWalletButton:R,handleSocialLoginClick:j=>D(j),socialLoginsConfig:v.socialLoginsConfig,areSocialLoginsVisible:P,isEmailPrimary:N,isExternalPrimary:L,showExternalWalletPage:b,handleExternalWalletBtnClick:x,modalState:v,preHandleExternalWalletClick:_,setModalState:w,onCloseLoader:C,isEmailPasswordLessLoginVisible:U,isSmsPasswordLessLoginVisible:F,uiConfig:f,deviceDetails:h,isConnectAndSignAuthenticationMode:A,handleMobileVerifyConnect:i})})}function sFe(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const r=document.createElement("section");r.classList.add("w3a-parent-container"),r.setAttribute("id","w3a-parent-container"),r.style.zIndex=t,r.style.position="relative",document.body.appendChild(r)}function lFe(t){const e=document.getElementById(t);if(!e){st.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}class cFe{constructor(e,r){if(Pe(this,"uiConfig",void 0),Pe(this,"stateEmitter",void 0),Pe(this,"chainNamespaces",void 0),Pe(this,"walletRegistry",void 0),Pe(this,"callbacks",void 0),Pe(this,"externalWalletsConfig",void 0),Pe(this,"analytics",void 0),Pe(this,"initModal",async()=>{const n={isDark:this.isDark},i=this.uiConfig.defaultLanguage||xa.en;return i===xa.de?Rr(()=>import("./german.json-LvJuDU3f.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.ja?Rr(()=>import("./japanese.json-azUJac1a.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.ko?Rr(()=>import("./korean.json-Cml3-Z_Y.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.zh?Rr(()=>import("./mandarin.json-DYvMENjr.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.es?Rr(()=>import("./spanish.json-B_1oHqNf.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.fr?Rr(()=>import("./french.json-DnXizpm7.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.pt?Rr(()=>import("./portuguese.json-COHmA9QY.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.nl?Rr(()=>import("./dutch.json-COYN23kD.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.tr?Rr(()=>import("./turkish.json-BWk-YMKe.js"),[]).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}):i===xa.en&&Rr(()=>Promise.resolve().then(()=>Dje),void 0).then(o=>(cr.addResourceBundle(i,"translation",o.default),cr.changeLanguage(i))).catch(o=>{st.error(o)}),new Promise(o=>{var a,s,l;if(this.stateEmitter.once("MOUNTED",()=>(st.info("rendered"),this.setState({status:Kr.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),o())),this.uiConfig.widgetType===n0.MODAL)sFe(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===n0.EMBED)lFe(this.uiConfig.targetId);else throw dt.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);const c=document.getElementById("w3a-parent-container");n.isDark?c.classList.add("w3a--dark"):c.classList.remove("w3a--dark"),wQ.createRoot(c).render(Y.jsx(P_.Provider,{value:n,children:Y.jsx(dL.Provider,{value:{analytics:this.analytics},children:Y.jsx(aFe,{stateListener:this.stateEmitter,appLogo:n.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleMobileVerifyConnect:this.handleMobileVerifyConnect,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig,initialAuthenticationMode:this.uiConfig.initialAuthenticationMode})})}));const f=((a=this.uiConfig)===null||a===void 0||(a=a.theme)===null||a===void 0?void 0:a.primary)===GDe&&((s=this.uiConfig.theme)===null||s===void 0?void 0:s.onPrimary)===YDe;(l=this.uiConfig)!==null&&l!==void 0&&l.theme&&!f&&Rr(async()=>{const{default:h}=await import("./index-mwhQ8xOL.js");return{default:h}},[]).then(({default:h})=>{const p=document.getElementById("w3a-parent-container");$De(h,p,this.uiConfig.theme)}).catch(h=>{st.error(h)})})}),Pe(this,"addSocialLogins",(n,i,o,a)=>{this.setState({socialLoginsConfig:{connector:n,loginMethods:i,loginMethodsOrder:o,uiConfig:a}}),st.info("addSocialLogins",n,i,o,a)}),Pe(this,"addWalletLogins",(n,i)=>{this.externalWalletsConfig=n;const o=!!n[mt.METAMASK];this.setState({externalWalletsConfig:n,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:o?!1:!!i.externalWalletsVisibility})}),Pe(this,"open",()=>{var n,i,o;this.setState({modalVisibility:!0}),(n=this.analytics)===null||n===void 0||n.track(Cr.LOGIN_MODAL_OPENED,be(be({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((o=this.walletRegistry)===null||o===void 0?void 0:o.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},Fre(this.uiConfig)),KDe(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),Pe(this,"closeModal",()=>{var n;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(n=this.analytics)===null||n===void 0||n.track(Cr.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),Pe(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),Pe(this,"handleShowExternalWallets",n=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:n})}),Pe(this,"handleExternalWalletClick",n=>{st.info("external wallet clicked",n);const{connector:i,chainNamespace:o}=n;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:o}})}),Pe(this,"handleMobileVerifyConnect",n=>{st.info("mobile verify connect clicked",n);const{connector:i}=n;this.callbacks.onMobileVerifyConnect&&this.callbacks.onMobileVerifyConnect({connector:i})}),Pe(this,"handleSocialLoginClick",n=>{var i;st.info("social login clicked",n);const{connector:o,loginParams:a}=n;(i=this.analytics)===null||i===void 0||i.track(Cr.SOCIAL_LOGIN_SELECTED,{connector:o,auth_connection:a.authConnection,auth_connection_id:a.authConnectionId,group_auth_connection_id:a.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:o,loginParams:a})}),Pe(this,"setState",n=>{this.stateEmitter.emit("STATE_UPDATED",n)}),Pe(this,"handleConnectorData",n=>{if(n.connectorName===mt.WALLET_CONNECT_V2){const i=n.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(n.connectorName===mt.METAMASK){const i=n.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),Pe(this,"subscribeCoreEvents",n=>{n.on(yt.CONNECTING,i=>{var o;if(st.info("connecting with connector",i),(i==null?void 0:i.connector)===mt.WALLET_CONNECT_V2)return;const a=(o=this.externalWalletsConfig)===null||o===void 0||(o=o[mt.METAMASK])===null||o===void 0?void 0:o.isInjected;(i==null?void 0:i.connector)===mt.METAMASK&&!a&&this.deviceDetails.platform==="desktop"||this.setState({status:Kr.CONNECTING})}),n.on(yt.CONNECTED,i=>{st.debug("connected with connector",i),!i.reconnected&&i.loginMode===uw.MODAL?this.setState({status:Kr.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected",currentPage:Yu.LOGIN}):this.setState({status:Kr.CONNECTED})}),n.on(yt.ERRORED,(i,o)=>{st.error("error",i,i.message),o!==uw.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:Kr.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:Kr.INITIALIZED}))}),n.on(yt.DISCONNECTED,()=>{this.setState({status:Kr.INITIALIZED,externalWalletsVisibility:!1})}),n.on(yt.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)}),n.on(yt.AUTHORIZING,()=>{this.setState({status:Kr.AUTHORIZING})}),n.on(yt.AUTHORIZED,()=>{this.setState({status:Kr.AUTHORIZED})})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=Dse),e.logoLight||(this.uiConfig.logoLight=Lse),e.mode||(this.uiConfig.mode=LDe.light),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=Xse(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=n0.MODAL),e.initialAuthenticationMode||(this.uiConfig.initialAuthenticationMode=Pf.CONNECT_ONLY),e.widgetType===n0.EMBED&&!e.targetId)throw st.error("targetId is required for embed widget"),dt.invalidParams("targetId is required for embed widget");this.stateEmitter=new BDe,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=r,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};const e=iv.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class uFe extends HNe{constructor(e,r){super(e,r),Pe(this,"loginModal",void 0),Pe(this,"options",void 0),Pe(this,"modalConfig",Wd(ADe)),Pe(this,"onInitExternalWallets",async n=>{n.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===mt.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),Pe(this,"onSocialLogin",async n=>{try{await this.connectTo(mt.AUTH,n.loginParams,uw.MODAL)}catch(i){st.error(`Error while connecting to connector: ${n.connector}`,i)}}),Pe(this,"onExternalWalletLogin",async n=>{try{var i;const o=this.getConnector(n.connector,(i=n.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(o.name===mt.WALLET_CONNECT_V2){const s=this.getInitialChainIdForConnector(o);await o.connect({chainId:s.chainId})}else await this.connectTo(n.connector,n.loginParams,uw.MODAL)}catch(o){st.error(`Error while connecting to connector: ${n.connector}`,o)}}),Pe(this,"onModalVisibility",async n=>{st.debug("is login modal visible",n),this.emit(t2.MODAL_VISIBILITY,n);const i=this.getConnector(mt.WALLET_CONNECT_V2);if(i){const o=i==null?void 0:i.status;if(st.debug("trying refreshing wc session",n,o),n&&(o===vt.READY||o===vt.CONNECTING)){st.debug("refreshing wc session");try{const a=this.getInitialChainIdForConnector(i);i.connect({chainId:a.chainId})}catch(a){st.error("Error while disconnecting to wallet connect in core",a)}}!n&&fc.includes(this.status)&&(o===vt.READY||o===vt.CONNECTING)&&(st.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=vt.READY)}}),Pe(this,"onMobileVerifyConnect",async n=>{try{await this.getConnector(n.connector).getIdentityToken()}catch(i){st.error(`Error while connecting to connector: ${n.connector}`,i)}}),Pe(this,"getChainNamespaces",()=>{var n;return[...new Set(((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(i=>i.chainNamespace))||[])]}),this.options=be({},e),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),st.info("modalConfig",this.modalConfig)}async init(e){const r=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:jre.WEB_MODAL,sdk_version:Ure,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let n={};try{var i,o;const{signal:a}=e||{};super.checkInitRequirements();const{projectConfig:s,walletRegistry:l}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),super.initSessionTimeConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),n=this.getInitializationTrackData();const{filteredWalletRegistry:c,disabledExternalWallets:u}=this.filterWalletRegistry(l,s);this.loginModal=new cFe(be(be({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:c,analytics:this.analytics,initialAuthenticationMode:this.options.initialAuthenticationMode}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility,onMobileVerifyConnect:this.onMobileVerifyConnect}),await oc(()=>this.loginModal.initModal(),a),await oc(()=>this.setupCommonJRPCProvider(),a),this.on(yt.CONNECTORS_UPDATED,({connectors:h})=>{oc(()=>this.initConnectors({connectors:h,projectConfig:s,disabledExternalWallets:u}),a,()=>{var y;st.debug("init aborted"),((y=this.connectors)===null||y===void 0?void 0:y.length)>0&&super.cleanup()})}),await oc(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),a),await oc(()=>super.initPlugins(),a);const f=this.getConnector(mt.AUTH);n=be(be({},n),{},{connectors:this.connectors.map(h=>h.name),plugins:Object.keys(this.plugins),auth_ux_mode:(f==null||(i=f.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Cr.SDK_INITIALIZATION_COMPLETED,be(be({},n),{},{duration:Date.now()-r}))}catch(a){if(a instanceof DOMException&&a.name==="AbortError")return;throw this.analytics.track(Cr.SDK_INITIALIZATION_FAILED,be(be(be({},n),Vp(a)),{},{duration:Date.now()-r})),st.error("Failed to initialize modal",a),a}}async connect(){if(!this.loginModal)throw dt.notReady("Login modal is not initialized");return this.connectedConnectorName&&fc.includes(this.status)&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,r)=>{const n=()=>(this.removeListener(yt.ERRORED,i),this.removeListener(t2.MODAL_VISIBILITY,o),e(this.provider)),i=a=>(this.removeListener(yt.CONNECTED,n),this.removeListener(yt.AUTHORIZED,n),this.removeListener(t2.MODAL_VISIBILITY,o),r(a)),o=a=>{if(!a&&!fc.includes(this.status))return this.removeListener(yt.CONNECTED,n),this.removeListener(yt.ERRORED,i),this.removeListener(yt.AUTHORIZED,n),r(new Error("User closed the modal"))};this.coreOptions.initialAuthenticationMode===Pf.CONNECT_AND_SIGN?this.once(yt.AUTHORIZED,n):this.once(yt.CONNECTED,n),this.once(yt.ERRORED,i),this.once(t2.MODAL_VISIBILITY,o)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=Br(Wd(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=Xse(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=Br(e.loginModal||{},this.options.uiConfig,{arrayMerge:(a,s)=>s});const r=e.embeddedWalletAuth.filter(a=>a.isDefault).map(a=>a.authConnection),n=[...this.options.uiConfig.loginMethodsOrder||[],...r],i=[],o=new Set;for(const a of n)o.has(a)||(o.add(a),i.push(a));this.options.uiConfig.loginMethodsOrder=i}getInitializationTrackData(){var e,r,n,i,o,a,s,l,c,u,f,h,p,y,m,v,w;return be(be({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((r=this.modalConfig)===null||r===void 0?void 0:r.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((n=this.modalConfig)===null||n===void 0||(n=n.connectors)===null||n===void 0||(n=n[mt.AUTH])===null||n===void 0?void 0:n.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(o=this.options.uiConfig)===null||o===void 0?void 0:o.modalZIndex,ui_display_errors_on_modal:(a=this.options.uiConfig)===null||a===void 0?void 0:a.displayErrorsOnModal,ui_login_grid_col:(s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol,ui_primary_button:(l=this.options.uiConfig)===null||l===void 0?void 0:l.primaryButton,ui_modal_widget_type:(c=this.options.uiConfig)===null||c===void 0?void 0:c.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(f=this.options.uiConfig)===null||f===void 0?void 0:f.logoAlignment,ui_modal_border_radius_type:(h=this.options.uiConfig)===null||h===void 0?void 0:h.borderRadiusType,ui_modal_button_radius_type:(p=this.options.uiConfig)===null||p===void 0?void 0:p.buttonRadiusType,ui_modal_sign_in_methods:(y=this.options.uiConfig)===null||y===void 0?void 0:y.signInMethods,ui_modal_add_previous_login_hint:(m=this.options.uiConfig)===null||m===void 0?void 0:m.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(v=this.options.uiConfig)===null||v===void 0?void 0:v.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(w=this.options.uiConfig)===null||w===void 0?void 0:w.displayExternalWalletsCount})}filterWalletRegistry(e,r){const{disableAllRecommendedWallets:n,disableAllOtherWallets:i,disabledWallets:o}=r.externalWalletAuth||{},a=new Set(o||[]);n&&Object.keys(e.default).forEach(l=>a.add(l)),i&&Object.keys(e.others).forEach(l=>a.add(l)),a.delete(mt.METAMASK);const s=Wd(e);return a.forEach(l=>{delete s.default[l],delete s.others[l]}),{disabledExternalWallets:a,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,r;const[n,i]=await Promise.allSettled([$re({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),KTe(rke)]);if(n.status==="rejected"){const l=await kR(n.reason);throw st.error("Failed to fetch project configurations",l),dt.notReady("failed to fetch project configurations",l)}const o=n.value;let a={others:{},default:{}};return!!o.externalWalletAuth&&!((r=this.modalConfig)!==null&&r!==void 0&&r.hideWalletDiscovery)&&(i.status==="fulfilled"?a=i.value:st.error("Failed to fetch wallet registry",i.reason)),{projectConfig:o,walletRegistry:a}}async initConnectors({connectors:e,projectConfig:r,disabledExternalWallets:n}){const i=await this.filterConnectors({projectConfig:r,disabledExternalWallets:n}),{hasInAppConnectors:o,hasExternalConnectors:a}=await this.checkConnectorAvailability(i),s=e.filter(l=>i.includes(l.name));await this.initInAppAndCachedConnectors(s),a&&(o?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(l=>l.type===jl.EXTERNAL&&l.name!==mt.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(l=>l.type===jl.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===vt.NOT_READY&&(this.status=vt.READY,this.emit(yt.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:r}){var n;const i={},o=new Map;for(const u of e.embeddedWalletAuth||[]){const{isDefault:f,authConnection:h,groupedAuthConnectionId:p,authConnectionId:y}=u;f&&(i[h]={name:UDe[h],authConnection:h,authConnectionId:y,groupedAuthConnectionId:p,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0});const m=this.getCombinedConnectionId(y,p);o.set(m,u)}const a={[mt.AUTH]:{label:mt.AUTH,loginMethods:i}};(n=this.modalConfig)!==null&&n!==void 0&&(n=n.connectors)!==null&&n!==void 0&&n[mt.AUTH]&&(this.modalConfig.connectors[mt.AUTH].loginMethods||(this.modalConfig.connectors[mt.AUTH].loginMethods={}));const s=new Set(rN);return Object.keys(this.modalConfig.connectors[mt.AUTH].loginMethods).forEach(u=>{const f=this.modalConfig.connectors[mt.AUTH].loginMethods[u],{authConnectionId:h,groupedAuthConnectionId:p}=f;if(!s.has(u))throw dt.invalidParams(`Invalid auth connection: ${u}`);if(p||h){const y=this.getCombinedConnectionId(h,p);if(!o.has(y))throw dt.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);const m=o.get(y);this.modalConfig.connectors[mt.AUTH].loginMethods[u]=be(be({},f),{},{authConnection:m.authConnection,authConnectionId:m.authConnectionId,groupedAuthConnectionId:m.groupedAuthConnectionId,isDefault:m.isDefault||!1,extraLoginOptions:be(be({},m.jwtParameters),f.extraLoginOptions)})}}),this.modalConfig.connectors=Br(a,Wd(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var f,h,p;const y={label:qre[u]||u.split("-").map(cL).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=be(be({},y),((f=this.modalConfig)===null||f===void 0||(f=f.connectors)===null||f===void 0?void 0:f[u])||{});const m=this.getConnector(u);st.debug("connector config",u,(h=this.modalConfig.connectors)===null||h===void 0||(h=h[u])===null||h===void 0?void 0:h.showOnModal,m);const v=(p=this.modalConfig.connectors)===null||p===void 0?void 0:p[u];if(!m){if(v.showOnModal)throw dt.invalidParams(`Connector ${u} is not configured`);return}if(!v.showOnModal)return;const w=!!e.externalWalletAuth;if(!(m.type===jl.EXTERNAL&&m.name!==mt.METAMASK&&(!w||r.has(u)))){if(u===mt.WALLET_CONNECT_V2){var A;if(!w||(A=this.modalConfig)!==null&&A!==void 0&&A.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=v,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){const r=this.connectors.some(i=>{var o,a;return i.type!==jl.IN_APP||((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i.name])===null||o===void 0?void 0:o.showOnModal)!==!0?!1:!!(!((a=this.modalConfig.connectors)!==null&&a!==void 0&&(a=a[i.name])!==null&&a!==void 0&&a.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(s=>s.showOnModal))});st.debug(r,this.connectors,e,"hasInAppWallets");const n=e.some(i=>{var o,a;return i===mt.WALLET_CONNECT_V2?!0:((o=this.getConnector(i))===null||o===void 0?void 0:o.type)===jl.EXTERNAL&&((a=this.modalConfig.connectors)===null||a===void 0||(a=a[i])===null||a===void 0?void 0:a.showOnModal)});return{hasInAppConnectors:r,hasExternalConnectors:n}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async r=>{const n=r.name;try{if(r.status!==vt.NOT_READY||this.cachedConnector!==n&&r.type===jl.EXTERNAL)return;this.subscribeToConnectorEvents(r);const l=this.getInitialChainIdForConnector(r),c=super.checkIfAutoConnect(r);if(await r.init({autoConnect:c,chainId:l.chainId,getIdentityToken:this.options.initialAuthenticationMode===Pf.CONNECT_AND_SIGN}),r.type===jl.IN_APP){var i,o,a,s;st.info("connectorInitResults",n);const u=((i=this.modalConfig.connectors[n])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(n,u,((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginMethodsOrder)||rN,be(be({},this.options.uiConfig),{},{loginGridCol:((a=this.options.uiConfig)===null||a===void 0?void 0:a.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}catch(l){st.error(l,"error while initializing connector ",n)}}))}async initExternalConnectors(e,r){const n={},i={};e.forEach(async o=>{const a=o.name;if(st.debug("init external wallet",this.cachedConnector,a,o.status),i[a]||(i[a]=new Set),o.connectorNamespace===kf.MULTICHAIN?this.getChainNamespaces().forEach(s=>i[a].add(s)):i[a].add(o.connectorNamespace),o.status===vt.NOT_READY&&this.cachedConnector!==a)try{this.subscribeToConnectorEvents(o);const s=this.getInitialChainIdForConnector(o);await o.init({autoConnect:this.cachedConnector===a,chainId:s.chainId,getIdentityToken:this.options.initialAuthenticationMode===Pf.CONNECT_AND_SIGN})}catch(s){st.error(s,"error while initializing connector",a)}if([vt.NOT_READY,vt.READY,vt.CONNECTING,vt.CONNECTED,vt.AUTHORIZING,vt.AUTHORIZED].includes(o.status)){const s=this.modalConfig.connectors[a];n[a]=be(be({},s),{},{isInjected:o.isInjected,icon:o.icon,chainNamespaces:Array.from(i[a])}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!r.showExternalWalletsOnly,externalWalletsVisibility:!!r.externalWalletsVisibility,externalWalletsInitialized:!!r.externalWalletsInitialized})}})}getCombinedConnectionId(e,r){let n=e;return r&&(n=`${r}_${e}`),n}}const fFe={chainNamespace:"eip155",chainId:"0xA2D18",rpcTarget:"https://testnet-rpc.helachain.com",displayName:"HeLa Testnet",tickerName:"HLUSD",ticker:"HLUSD"},dFe=["function getTreasuryBalance() view returns (uint256)","function claimableAmount(address _employee) view returns (uint256)","function withdraw() external","event Withdrawal(address indexed employee, uint256 netAmount, uint256 taxAmount)"],hFe="YOUR_WEB3AUTH_CLIENT_ID";let Ly=null,uN=null,V3=null;async function pFe(){return Ly||(Ly=new uFe({clientId:hFe,chainConfig:fFe}),await Ly.initModal(),Ly)}async function Q6(t){const r=await(await pFe()).connect();if(!r)throw new Error("Failed to connect Web3Auth");const i=await new eN(r).getSigner();uN=new R0(t,dFe,i),V3=i;const o=await i.getAddress();return console.log("Logged in with invisible wallet:",o),{address:o,contract:uN,signer:i}}function gFe(){return!!V3&&!!uN}async function mFe(){if(!V3)return null;try{return await V3.getAddress()}catch{return null}}function yFe(){const[t,e]=ye.useState("overview"),[r,n]=ye.useState(null),[i,o]=ye.useState([]),[a,s]=ye.useState(!0),[l,c]=ye.useState(null),[u,f]=ye.useState(null),[h,p]=ye.useState(null),[y,m]=ye.useState(!1);ye.useEffect(()=>{if(!localStorage.getItem("token")){window.location.href="/employee-login";return}Promise.all([u_e(),f_e(),d_e()]).then(([N,L,B])=>{n(N),o(L||[]),B!=null&&B.contract_address&&f(B.contract_address)}).catch(()=>{}).finally(()=>s(!1)),gFe()&&mFe().then(N=>c(N))},[]),ye.useEffect(()=>{l&&u&&Q6(u).then(({contract:F})=>F.claimableAmount(l)).then(F=>p(F.toString())).catch(()=>p(null))},[l,u]);async function v(){if(u)try{const{address:F,contract:N}=await Q6(u);c(F);const L=await N.claimableAmount(F);p(L.toString())}catch(F){alert((F==null?void 0:F.message)||"Failed to connect wallet")}}async function w(){if(!(!u||!l)){m(!0);try{const{contract:F,signer:N}=await Q6(u);await(await F.withdraw()).wait(),p("0")}catch(F){alert((F==null?void 0:F.message)||"Withdraw failed")}finally{m(!1)}}}const A=(r==null?void 0:r.total_earned)??0,_={totalBalance:A,monthlyIncome:i.filter(F=>{const N=new Date(F.timestamp),L=new Date;return N.getMonth()===L.getMonth()&&N.getFullYear()===L.getFullYear()}).reduce((F,N)=>F+Number(N.amount),0),monthlyExpenses:0,nextPayrollDate:"30 March 2026",conversionAmount:(A/83).toFixed(2),availableBalance:A},D=i.slice(0,5).map(F=>({type:"income",title:F.description||"Payment",amount:Number(F.amount),time:P(F.timestamp)}));function P(F){const N=new Date(F),B=new Date().getTime()-N.getTime(),R=Math.floor(B/36e5),b=Math.floor(B/864e5);return R<1?"Just now":R<24?`${R} hours ago`:b<7?`${b} days ago`:N.toLocaleDateString()}const U=()=>{switch(t){case"overview":return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Y.jsx(R1,{icon:Y.jsx(lfe,{className:"w-6 h-6"}),title:"Total Available Balance",value:`${_.availableBalance.toLocaleString()}`,subtitle:"Current balance",iconBg:"bg-purple-500"}),Y.jsx(R1,{icon:Y.jsx(dN,{className:"w-6 h-6"}),title:"Monthly Income",value:`${_.monthlyIncome.toLocaleString()}`,subtitle:"+15% from last month",iconBg:"bg-green-500"}),Y.jsx(R1,{icon:Y.jsx(SQ,{className:"w-6 h-6"}),title:"Monthly Expenses",value:`${_.monthlyExpenses.toLocaleString()}`,subtitle:"-8% from last month",iconBg:"bg-pink-500"}),Y.jsx(R1,{icon:Y.jsx(EQ,{className:"w-6 h-6"}),title:"Next Payroll Date",value:_.nextPayrollDate,iconBg:"bg-cyan-500"})]}),u&&Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-indigo-200",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"On-Chain Earnings (HeLa Testnet)"}),l?Y.jsxs("div",{className:"space-y-3",children:[Y.jsxs("p",{className:"text-sm text-gray-600",children:["Wallet: ",l.slice(0,8),"...",l.slice(-6)]}),Y.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:["Claimable: ",h?`${hRe(h)} HLUSD`:"0 HLUSD"]}),Y.jsx("button",{onClick:w,disabled:y||!h||h==="0",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Withdrawing...":"Withdraw"})]}):Y.jsx("button",{onClick:v,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Connect Wallet (Web3Auth)"})]}),Y.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 text-white shadow-lg",children:Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{children:[Y.jsx("p",{className:"text-white/80 text-sm mb-2",children:"Conversion Amount (USD)"}),Y.jsxs("p",{className:"text-4xl font-bold mb-1",children:["$",_.conversionAmount.toLocaleString()]}),Y.jsxs("p",{className:"text-white/80 text-sm",children:[" ",_.totalBalance.toLocaleString()," INR"]})]}),Y.jsx("div",{className:"bg-white/20 p-4 rounded-xl backdrop-blur-sm",children:Y.jsx(_ue,{className:"w-8 h-8"})})]})}),Y.jsx(Dq,{}),Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),Y.jsx("button",{className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]}),Y.jsx("div",{className:"space-y-4",children:D.map((F,N)=>Y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsx("div",{className:`p-3 rounded-lg ${F.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:F.type==="income"?Y.jsx(xQ,{className:"w-5 h-5"}):Y.jsx(fN,{className:"w-5 h-5"})}),Y.jsxs("div",{children:[Y.jsx("p",{className:"font-semibold text-gray-900",children:F.title}),Y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[Y.jsx(Nue,{className:"w-3 h-3"}),Y.jsx("span",{children:F.time})]})]})]}),Y.jsxs("p",{className:`font-semibold ${F.type==="income"?"text-green-600":"text-red-600"}`,children:[F.type==="income"?"+":"-","",F.amount.toLocaleString()]})]},N))})]})]});case"personal":return Y.jsx(a_e,{});case"transactions":return Y.jsxs("div",{className:"space-y-6",children:[Y.jsx(Dq,{transactions:i}),Y.jsx(Bq,{transactions:i})]});case"history":return Y.jsx(Bq,{transactions:i});case"yield":return Y.jsx(s_e,{});case"settings":return Y.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Settings"}),Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Notifications"}),Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-purple-600"}),Y.jsx("span",{className:"text-gray-600",children:"Receive transaction alerts"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Two-Factor Authentication"}),Y.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Enable 2FA"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Password"}),Y.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Update Password"})]})]})]});default:return null}};return Y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 flex",children:[Y.jsx(cfe,{activeTab:t,onTabChange:e}),Y.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:Y.jsxs("div",{className:"max-w-7xl mx-auto",children:[Y.jsxs("div",{className:"mb-8",children:[Y.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:[t==="overview"&&"Dashboard Overview",t==="personal"&&"Personal Setup",t==="transactions"&&"Transactions",t==="history"&&"Transaction History",t==="yield"&&"Yield & Investments",t==="settings"&&"Settings"]}),Y.jsxs("p",{className:"text-white/80",children:[t==="overview"&&"Welcome back! Here's your financial overview.",t==="personal"&&"Manage your personal information and preferences.",t==="transactions"&&"View and analyze your transactions.",t==="history"&&"Complete history of all your transactions.",t==="yield"&&"Manage your yield accounts and investments.",t==="settings"&&"Configure your account settings."]})]}),a?Y.jsx("div",{className:"text-white/80",children:"Loading..."}):U()]})})]})}typeof window<"u"&&(window.Buffer=hue.Buffer);wQ.createRoot(document.getElementById("root")).render(Y.jsx(yFe,{}));export{cCe as $,ate as A,ZTe as B,i9 as C,Mh as D,XTe as E,gCe as F,ite as G,ECe as H,SCe as I,Us as J,jFe as K,MFe as L,NFe as M,RFe as N,LFe as O,PFe as P,TFe as Q,AFe as R,tUe as S,SFe as T,CFe as U,_Fe as V,Mt as W,OFe as X,IFe as Y,kFe as Z,Pe as _,OPe as a,tke as a$,DFe as a0,ZFe as a1,Fn as a2,bx as a3,fw as a4,zg as a5,Lre as a6,xd as a7,V4e as a8,lre as a9,rUe as aA,kR as aB,nUe as aC,n6e as aD,I6e as aE,k6e as aF,j8 as aG,Wu as aH,zre as aI,dt as aJ,p6e as aK,h6e as aL,XPe as aM,ZPe as aN,g6e as aO,m6e as aP,$Fe as aQ,FFe as aR,pCe as aS,UFe as aT,VE as aU,qFe as aV,fPe as aW,sue as aX,Rc as aY,hue as aZ,If as a_,KR as aa,JR as ab,D4e as ac,cv as ad,bc as ae,Lke as af,fr as ag,As as ah,lv as ai,F4 as aj,U4 as ak,L4 as al,r0 as am,FCe as an,be as ao,yf as ap,Ree as aq,Br as ar,$S as as,GFe as at,hb as au,nte as av,oUe as aw,rV as ax,nV as ay,iUe as az,kt as b,o6e as b0,i6e as b1,CW as b2,bFe as b3,bK as b4,mt as b5,i0 as b6,Cr as b7,FPe as b8,JFe as c,Tt as d,Rr as e,it as f,XFe as g,vke as h,QFe as i,G4e as j,vs as k,CT as l,jNe as m,eUe as n,kf as o,PPe as p,tr as q,jl as r,vt as s,yt as t,st as u,ws as v,IPe as w,GPe as x,BFe as y,xW as z};
